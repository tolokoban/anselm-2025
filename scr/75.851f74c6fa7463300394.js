"use strict";(self.webpackChunkansy_2025=self.webpackChunkansy_2025||[]).push([[75],{6561(t,e,r){r.d(e,{bw:()=>o,p8:()=>n,tb:()=>s});var n=1e-6,s="undefined"!=typeof Float32Array?Float32Array:Array,o=(Math.random,"zyx");Math.PI,Math.PI},2672(t,e,r){function n(t,e,r){var n=e[0],s=e[1],o=e[2],i=e[3],a=r[0],c=r[1],u=r[2],A=r[3];return t[0]=n*a+o*c,t[1]=s*a+i*c,t[2]=n*u+o*A,t[3]=s*u+i*A,t}r.d(e,{lw:()=>n})},2391(t,e,r){r.d(e,{I0:()=>i,lw:()=>o,vt:()=>s});var n=r(6561);function s(){var t=new n.tb(9);return n.tb!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e,r){var n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=r[0],l=r[1],h=r[2],d=r[3],C=r[4],g=r[5],m=r[6],b=r[7],y=r[8];return t[0]=B*n+l*i+h*u,t[1]=B*s+l*a+h*A,t[2]=B*o+l*c+h*f,t[3]=d*n+C*i+g*u,t[4]=d*s+C*a+g*A,t[5]=d*o+C*c+g*f,t[6]=m*n+b*i+y*u,t[7]=m*s+b*a+y*A,t[8]=m*o+b*c+y*f,t}function i(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=r+r,a=n+n,c=s+s,u=r*i,A=n*i,f=n*a,B=s*i,l=s*a,h=s*c,d=o*i,C=o*a,g=o*c;return t[0]=1-f-h,t[3]=A-g,t[6]=B+C,t[1]=A+g,t[4]=1-u-h,t[7]=l-d,t[2]=B-C,t[5]=l+d,t[8]=1-u-f,t}},3862(t,e,r){function n(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=e[4],a=e[5],c=e[6],u=e[7],A=e[8],f=e[9],B=e[10],l=e[11],h=e[12],d=e[13],C=e[14],g=e[15],m=r*a-n*i,b=r*c-s*i,y=r*u-o*i,p=n*c-s*a,E=n*u-o*a,F=s*u-o*c,G=A*d-f*h,I=A*C-B*h,M=A*g-l*h,D=f*C-B*d,w=f*g-l*d,J=B*g-l*C,T=m*J-b*w+y*D+p*M-E*I+F*G;return T?(T=1/T,t[0]=(a*J-c*w+u*D)*T,t[1]=(s*w-n*J-o*D)*T,t[2]=(d*F-C*E+g*p)*T,t[3]=(B*E-f*F-l*p)*T,t[4]=(c*M-i*J-u*I)*T,t[5]=(r*J-s*M+o*I)*T,t[6]=(C*y-h*F-g*b)*T,t[7]=(A*F-B*y+l*b)*T,t[8]=(i*w-a*M+u*G)*T,t[9]=(n*M-r*w-o*G)*T,t[10]=(h*E-d*y+g*m)*T,t[11]=(f*y-A*E-l*m)*T,t[12]=(a*I-i*D-c*G)*T,t[13]=(r*D-n*I+s*G)*T,t[14]=(d*b-h*p-C*m)*T,t[15]=(A*p-f*b+B*m)*T,t):null}function s(t,e,r){var n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=e[9],l=e[10],h=e[11],d=e[12],C=e[13],g=e[14],m=e[15],b=r[0],y=r[1],p=r[2],E=r[3];return t[0]=b*n+y*a+p*f+E*d,t[1]=b*s+y*c+p*B+E*C,t[2]=b*o+y*u+p*l+E*g,t[3]=b*i+y*A+p*h+E*m,b=r[4],y=r[5],p=r[6],E=r[7],t[4]=b*n+y*a+p*f+E*d,t[5]=b*s+y*c+p*B+E*C,t[6]=b*o+y*u+p*l+E*g,t[7]=b*i+y*A+p*h+E*m,b=r[8],y=r[9],p=r[10],E=r[11],t[8]=b*n+y*a+p*f+E*d,t[9]=b*s+y*c+p*B+E*C,t[10]=b*o+y*u+p*l+E*g,t[11]=b*i+y*A+p*h+E*m,b=r[12],y=r[13],p=r[14],E=r[15],t[12]=b*n+y*a+p*f+E*d,t[13]=b*s+y*c+p*B+E*C,t[14]=b*o+y*u+p*l+E*g,t[15]=b*i+y*A+p*h+E*m,t}function o(t,e,r,n){var s=e[0],o=e[1],i=e[2],a=e[3],c=s+s,u=o+o,A=i+i,f=s*c,B=s*u,l=s*A,h=o*u,d=o*A,C=i*A,g=a*c,m=a*u,b=a*A,y=n[0],p=n[1],E=n[2];return t[0]=(1-(h+C))*y,t[1]=(B+b)*y,t[2]=(l-m)*y,t[3]=0,t[4]=(B-b)*p,t[5]=(1-(f+C))*p,t[6]=(d+g)*p,t[7]=0,t[8]=(l+m)*E,t[9]=(d-g)*E,t[10]=(1-(f+h))*E,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function i(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=r+r,a=n+n,c=s+s,u=r*i,A=n*i,f=n*a,B=s*i,l=s*a,h=s*c,d=o*i,C=o*a,g=o*c;return t[0]=1-f-h,t[1]=A+g,t[2]=B-C,t[3]=0,t[4]=A-g,t[5]=1-u-h,t[6]=l+d,t[7]=0,t[8]=B+C,t[9]=l-d,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}r.d(e,{B8:()=>n,I0:()=>i,fN:()=>a,lw:()=>s,o1:()=>o});var a=function(t,e,r,n,s){var o=1/Math.tan(e/2);if(t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=s&&s!==1/0){var i=1/(n-s);t[10]=(s+n)*i,t[14]=2*s*n*i}else t[10]=-1,t[14]=-2*n;return t}},7445(t,e,r){r.d(e,{A6:()=>f,Gn:()=>A,B8:()=>u,lw:()=>c,ml:()=>l});var n,s=r(6561),o=r(2391),i=r(5935);function a(){var t=new s.tb(4);return s.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function c(t,e,r){var n=e[0],s=e[1],o=e[2],i=e[3],a=r[0],c=r[1],u=r[2],A=r[3];return t[0]=n*A+i*a+s*u-o*c,t[1]=s*A+i*c+o*a-n*u,t[2]=o*A+i*u+n*c-s*a,t[3]=i*A-n*a-s*c-o*u,t}function u(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=r*r+n*n+s*s+o*o,a=i?1/i:0;return t[0]=-r*a,t[1]=-n*a,t[2]=-s*a,t[3]=o*a,t}function A(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var s=0;e[4]>e[0]&&(s=1),e[8]>e[3*s+s]&&(s=2);var o=(s+1)%3,i=(s+2)%3;r=Math.sqrt(e[3*s+s]-e[3*o+o]-e[3*i+i]+1),t[s]=.5*r,r=.5/r,t[3]=(e[3*o+i]-e[3*i+o])*r,t[o]=(e[3*o+s]+e[3*s+o])*r,t[i]=(e[3*i+s]+e[3*s+i])*r}return t}function f(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.bw,i=Math.PI/360;e*=i,n*=i,r*=i;var a=Math.sin(e),c=Math.cos(e),u=Math.sin(r),A=Math.cos(r),f=Math.sin(n),B=Math.cos(n);switch(o){case"xyz":t[0]=a*A*B+c*u*f,t[1]=c*u*B-a*A*f,t[2]=c*A*f+a*u*B,t[3]=c*A*B-a*u*f;break;case"xzy":t[0]=a*A*B-c*u*f,t[1]=c*u*B-a*A*f,t[2]=c*A*f+a*u*B,t[3]=c*A*B+a*u*f;break;case"yxz":t[0]=a*A*B+c*u*f,t[1]=c*u*B-a*A*f,t[2]=c*A*f-a*u*B,t[3]=c*A*B+a*u*f;break;case"yzx":t[0]=a*A*B+c*u*f,t[1]=c*u*B+a*A*f,t[2]=c*A*f-a*u*B,t[3]=c*A*B-a*u*f;break;case"zxy":t[0]=a*A*B-c*u*f,t[1]=c*u*B+a*A*f,t[2]=c*A*f+a*u*B,t[3]=c*A*B-a*u*f;break;case"zyx":t[0]=a*A*B-c*u*f,t[1]=c*u*B+a*A*f,t[2]=c*A*f-a*u*B,t[3]=c*A*B+a*u*f;break;default:throw new Error("Unknown angle order "+o)}return t}n=new s.tb(4),s.tb!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0);i.vt(),i.fA(1,0,0),i.fA(0,1,0),a(),a();var B,l=(B=o.vt(),function(t,e,r,n){return B[0]=r[0],B[3]=r[1],B[6]=r[2],B[1]=n[0],B[4]=n[1],B[7]=n[2],B[2]=-e[0],B[5]=-e[1],B[8]=-e[2],function(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=r*r+n*n+s*s+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=r*i,t[1]=n*i,t[2]=s*i,t[3]=o*i,t}(t,A(t,B))})},5935(t,e,r){r.d(e,{$A:()=>c,Il:()=>A,Om:()=>a,S8:()=>i,fA:()=>o,gL:()=>u,vt:()=>s});var n=r(6561);function s(){var t=new n.tb(3);return n.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t,e,r){var s=new n.tb(3);return s[0]=t,s[1]=e,s[2]=r,s}function i(t,e){var r=e[0],n=e[1],s=e[2],o=r*r+n*n+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function a(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function c(t,e,r){var n=e[0],s=e[1],o=e[2],i=r[0],a=r[1],c=r[2];return t[0]=s*c-o*a,t[1]=o*i-n*c,t[2]=n*a-s*i,t}function u(t,e,r){var n=r[0],s=r[1],o=r[2],i=r[3],a=e[0],c=e[1],u=e[2],A=s*u-o*c,f=o*a-n*u,B=n*c-s*a;return A+=A,f+=f,B+=B,t[0]=a+i*A+s*B-o*f,t[1]=c+i*f+o*A-n*B,t[2]=u+i*B+n*f-s*A,t}var A=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)};s()},5743(t,e,r){r.d(e,{H:()=>jt});const n=t=>"function"==typeof t,s=t=>null!==t&&"object"==typeof t,o=t=>s(t)&&t.constructor==={}.constructor,i=t=>"undefined"!=typeof Response&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,a=t=>"undefined"!=typeof Blob&&t instanceof Blob,c=t=>(t=>"undefined"!=typeof ReadableStream&&t instanceof ReadableStream||s(t)&&n(t.tee)&&n(t.cancel)&&n(t.getReader))(t)||(t=>s(t)&&n(t.read)&&n(t.pipe)&&(t=>"boolean"==typeof t)(t.readable))(t);var u=r(4020);function A(t){return!!t&&(Array.isArray(t)&&(t=t[0]),Array.isArray(t?.extensions))}function f(t){let e;return(0,u.v)(t,"null loader"),(0,u.v)(A(t),"invalid loader"),Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t?.parseTextSync||t?.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}const B={};class l extends Error{constructor(t,e){super(t),this.reason=e.reason,this.url=e.url,this.response=e.response}reason;url;response}const h=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,d=/^([-\w.]+\/[-\w.+]+)/;function C(t,e){return t.toLowerCase()===e.toLowerCase()}function g(t){const e=h.exec(t);return e?e[1]:""}const m=/\?.*/;function b(t){return t.replace(m,"")}function y(t){return i(t)?t.url:a(t)?t.name||"":"string"==typeof t?t:""}function p(t){if(i(t)){const e=t,r=e.headers.get("content-type")||"",n=b(e.url);return function(t){const e=d.exec(t);return e?e[1]:t}(r)||g(n)}return a(t)?t.type||"":"string"==typeof t?g(t):""}async function E(t){if(i(t))return t;const e={},r=function(t){return i(t)?t.headers["content-length"]||-1:a(t)?t.size:"string"==typeof t?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}(t);r>=0&&(e["content-length"]=String(r));const n=y(t),s=p(t);s&&(e["content-type"]=s);const o=await async function(t){if("string"==typeof t)return`data:,${t.slice(0,5)}`;if(t instanceof Blob){const e=t.slice(0,5);return await new Promise(t=>{const r=new FileReader;r.onload=e=>t(e?.target?.result),r.readAsDataURL(e)})}return t instanceof ArrayBuffer?`data:base64,${function(t){let e="";const r=new Uint8Array(t);for(let t=0;t<r.byteLength;t++)e+=String.fromCharCode(r[t]);return btoa(e)}(t.slice(0,5))}`:null}(t);o&&(e["x-first-bytes"]=o),"string"==typeof t&&(t=(new TextEncoder).encode(t));const c=new Response(t,{headers:e});return Object.defineProperty(c,"url",{value:n}),c}async function F(t,e){if("string"==typeof t){const r=function(t){for(const e in B)if(t.startsWith(e)){const r=B[e];t=t.replace(e,r)}return t.startsWith("http://")||t.startsWith("https://")||(t=`${t}`),t}(t);return function(t){return!function(t){return t.startsWith("http:")||t.startsWith("https:")}(t)&&!function(t){return t.startsWith("data:")}(t)}(r)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(r,e):await fetch(r,e)}return await E(t)}function G(){return!("object"==typeof process&&"[object process]"===String(process)&&!process?.browser)||function(){if("undefined"!=typeof window&&"renderer"===window.process?.type)return!0;if("undefined"!=typeof process&&Boolean(process.versions?.electron))return!0;const t="undefined"!=typeof navigator&&navigator.userAgent;return Boolean(t&&t.indexOf("Electron")>=0)}()}const I="4.1.0";class M{constructor(t,e,r="sessionStorage"){this.storage=function(t){try{const e=window[t],r="__storage_test__";return e.setItem(r,r),e.removeItem(r),e}catch(t){return null}}(r),this.id=t,this.config=e,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){if(Object.assign(this.config,t),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let t={};if(this.storage){const e=this.storage.getItem(this.id);t=e?JSON.parse(e):{}}return Object.assign(this.config,t),this}}var D;function w(t){return"string"!=typeof t?t:(t=t.toUpperCase(),D[t]||D.WHITE)}function J(t,e){if(!t)throw new Error(e||"Assertion failed")}!function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(D||(D={}));const T=globalThis,O=(globalThis.document,globalThis.process||{});function R(){let t;if(G()&&T.performance)t=T?.performance?.now?.();else if("hrtime"in O){const e=O?.hrtime?.();t=1e3*e[0]+e[1]/1e6}else t=Date.now();return t}globalThis.console,globalThis.navigator;const H={debug:G()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},U={enabled:!0,level:0};function L(){}const v={},x={once:!0};class j{constructor({id:t}={id:""}){this.VERSION=I,this._startTs=R(),this._deltaTs=R(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=t,this.userData={},this._storage=new M(`__probe-${this.id}__`,U),this.timeStamp(`${this.id} started`),function(t,e=["constructor"]){const r=Object.getPrototypeOf(t),n=Object.getOwnPropertyNames(r),s=t;for(const r of n){const n=s[r];"function"==typeof n&&(e.find(t=>r===t)||(s[r]=n.bind(t)))}}(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((R()-this._startTs).toPrecision(10))}getDelta(){return Number((R()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(t=!0){return this._storage.setConfiguration({enabled:t}),this}setLevel(t){return this._storage.setConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,e){this._storage.setConfiguration({[t]:e})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,e){if(!t)throw new Error(e||"Assertion failed")}warn(t){return this._getLogFunction(0,t,H.warn,arguments,x)}error(t){return this._getLogFunction(0,t,H.error,arguments)}deprecated(t,e){return this.warn(`\`${t}\` is deprecated and will be removed in a later version. Use \`${e}\` instead`)}removed(t,e){return this.error(`\`${t}\` has been removed. Use \`${e}\` instead`)}probe(t,e){return this._getLogFunction(t,e,H.log,arguments,{time:!0,once:!0})}log(t,e){return this._getLogFunction(t,e,H.debug,arguments)}info(t,e){return this._getLogFunction(t,e,console.info,arguments)}once(t,e){return this._getLogFunction(t,e,H.debug||H.info,arguments,x)}table(t,e,r){return e?this._getLogFunction(t,e,console.table||L,r&&[r],{tag:N(e)}):L}time(t,e){return this._getLogFunction(t,e,console.time?console.time:console.info)}timeEnd(t,e){return this._getLogFunction(t,e,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,e){return this._getLogFunction(t,e,console.timeStamp||L)}group(t,e,r={collapsed:!1}){const n=S({logLevel:t,message:e,opts:r}),{collapsed:s}=r;return n.method=(s?console.groupCollapsed:console.group)||console.info,this._getLogFunction(n)}groupCollapsed(t,e,r={}){return this.group(t,e,Object.assign({},r,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||L)}withGroup(t,e,r){this.group(t,e)();try{r()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=K(t)}_getLogFunction(t,e,r,n,s){if(this._shouldLog(t)){s=S({logLevel:t,message:e,args:n,opts:s}),J(r=r||s.method),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=R();const o=s.tag||s.message;if(s.once&&o){if(v[o])return L;v[o]=R()}return e=function(t,e,r){if("string"==typeof e){const i=r.time?function(t,e=8){const r=Math.max(e-t.length,0);return`${" ".repeat(r)}${t}`}(function(t){let e;return e=t<10?`${t.toFixed(2)}ms`:t<100?`${t.toFixed(1)}ms`:t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(2)}s`,e}(r.total)):"";n=e=r.time?`${t}: ${i}  ${e}`:`${t}: ${e}`,s=r.color,o=r.background,G||"string"!=typeof n||(s&&(n=`[${w(s)}m${n}[39m`),o&&(n=`[${w(o)+10}m${n}[49m`)),e=n}var n,s,o;return e}(this.id,s.message,s),r.bind(console,e,...s.args)}return L}}function K(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return J(Number.isFinite(e)&&e>=0),e}function S(t){const{logLevel:e,message:r}=t;t.logLevel=K(e);const n=t.args?Array.from(t.args):[];for(;n.length&&n.shift()!==r;);switch(typeof e){case"string":case"function":void 0!==r&&n.unshift(r),t.message=e;break;case"object":Object.assign(t,e)}"function"==typeof t.message&&(t.message=t.message());const s=typeof t.message;return J("string"===s||"object"===s),Object.assign(t,{args:n},t.opts)}function N(t){for(const e in t)for(const r in t[e])return r||"untitled";return"empty"}j.VERSION=I;const _=new j({id:"loaders.gl"});class Q{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var P=r(7976);const k={fetch:null,mimeType:void 0,nothrow:!1,log:new class{console;constructor(){this.console=console}log(...t){return this.console.log.bind(this.console,...t)}info(...t){return this.console.info.bind(this.console,...t)}warn(...t){return this.console.warn.bind(this.console,...t)}error(...t){return this.console.error.bind(this.console,...t)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:P.Bd,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},X={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function Y(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function W(){const t=Y();return t.globalOptions=t.globalOptions||{...k},t.globalOptions}function V(t,e,r,n){return r=r||[],function(t,e){Z(t,null,k,X,e);for(const r of e){const n=t&&t[r.id]||{},s=r.options&&r.options[r.id]||{},o=r.deprecatedOptions&&r.deprecatedOptions[r.id]||{};Z(n,r.id,s,o,e)}}(t,r=Array.isArray(r)?r:[r]),function(t,e,r){const n={...t.options||{}};return function(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}(n,r),null===n.log&&(n.log=new Q),$(n,W()),$(n,e),n}(e,t,n)}function Z(t,e,r,n,o){const i=e||"Top level",a=e?`${e}.`:"";for(const c in t){const u=!e&&s(t[c]);if(!(c in r)&&("baseUri"!==c||e)&&("workerUrl"!==c||!e))if(c in n)_.warn(`${i} loader option '${a}${c}' no longer supported, use '${n[c]}'`)();else if(!u){const t=q(c,o);_.warn(`${i} loader option '${a}${c}' not recognized. ${t}`)()}}}function q(t,e){const r=t.toLowerCase();let n="";for(const s of e)for(const e in s.options){if(t===e)return`Did you mean '${s.id}.${e}'?`;const o=e.toLowerCase();(r.startsWith(o)||o.startsWith(r))&&(n=n||`Did you mean '${s.id}.${e}'?`)}return n}function $(t,e){for(const r in e)if(r in e){const n=e[r];o(n)&&o(t[r])?t[r]={...t[r],...e[r]}:t[r]=e[r]}}function z(t,e){const r=W(),n=t||r;return"function"==typeof n.fetch?n.fetch:s(n.fetch)?t=>F(t,n.fetch):e?.fetch?e?.fetch:F}function tt(t,e){return et(t||{},e)}function et(t,e,r=0){if(r>3)return e;const n={...t};for(const[t,s]of Object.entries(e))s&&"object"==typeof s&&!Array.isArray(s)?n[t]=et(n[t]||{},e[t],r+1):n[t]=e[t];return n}var rt=r(4971);class nt{terminate(){}}var st=r(3605);const ot=new Map;function it(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function at(t,e=!0,r){const n=r||new Set;if(t)if(ct(t))n.add(t);else if(ct(t.buffer))n.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"==typeof t)for(const r in t)at(t[r],e,n);return void 0===r?Array.from(n):[]}function ct(t){return!!t&&(t instanceof ArrayBuffer||"undefined"!=typeof MessagePort&&t instanceof MessagePort||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas)}const ut=()=>{};class At{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return"undefined"!=typeof Worker&&rt.Bd||void 0!==nt&&!rt.Bd}constructor(t){const{name:e,source:r,url:n}=t;(0,st.v)(r||n),this.name=e,this.source=r,this.url=n,this.onMessage=ut,this.onError=t=>console.log(t),this.worker=rt.Bd?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=ut,this.onError=ut,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(t,e){e=e||at(t),this.worker.postMessage(t,e)}_getErrorFromErrorEvent(t){let e="Failed to load ";return e+=`worker ${this.name} from ${this.url}. `,t.message&&(e+=`${t.message} in `),t.lineno&&(e+=`:${t.lineno}:${t.colno}`),new Error(e)}_createBrowserWorker(){this._loadableURL=function(t){(0,st.v)(t.source&&!t.url||!t.source&&t.url);let e=ot.get(t.source||t.url);return e||(t.url&&(e=(r=t.url).startsWith("http")?it(`try {\n  importScripts('${r}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`):r,ot.set(t.url,e)),t.source&&(e=it(t.source),ot.set(t.source,e))),(0,st.v)(e),e;var r}({source:this.source,url:this.url});const t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},t.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},t.onmessageerror=t=>console.error(t),t}_createNodeWorker(){let t;if(this.url){const e=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;t=new nt(e,{eval:!1})}else{if(!this.source)throw new Error("no worker");t=new nt(this.source,{eval:!0})}return t.on("message",t=>{this.onMessage(t)}),t.on("error",t=>{this.onError(t)}),t.on("exit",t=>{}),t}}class ft{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(t,e){this.name=t,this.workerThread=e,this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e})}postMessage(t,e){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:e})}done(t){(0,st.v)(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){(0,st.v)(this.isRunning),this.isRunning=!1,this._reject(t)}}class Bt{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return At.isSupported()}constructor(t){this.source=t.source,this.url=t.url,this.setProps(t)}destroy(){this.idleQueue.forEach(t=>t.destroy()),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},void 0!==t.name&&(this.name=t.name),void 0!==t.maxConcurrency&&(this.maxConcurrency=t.maxConcurrency),void 0!==t.maxMobileConcurrency&&(this.maxMobileConcurrency=t.maxMobileConcurrency),void 0!==t.reuseWorkers&&(this.reuseWorkers=t.reuseWorkers),void 0!==t.onDebug&&(this.onDebug=t.onDebug)}async startJob(t,e=(t,e,r)=>t.done(r),r=(t,e)=>t.error(e)){const n=new Promise(n=>(this.jobQueue.push({name:t,onMessage:e,onError:r,onStart:n}),this));return this._startQueuedJob(),await n}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const e=this.jobQueue.shift();if(e){this.onDebug({message:"Starting job",name:e.name,workerThread:t,backlog:this.jobQueue.length});const r=new ft(e.name,t);t.onMessage=t=>e.onMessage(r,t.type,t.payload),t.onError=t=>e.onError(r,t),e.onStart(r);try{await r.result}catch(t){console.error(`Worker exception: ${t}`)}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){!rt.Bd||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new At({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return rt.Fr?this.maxMobileConcurrency:this.maxConcurrency}}const lt={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class ht{props;workerPools=new Map;static _workerFarm;static isSupported(){return At.isSupported()}static getWorkerFarm(t={}){return ht._workerFarm=ht._workerFarm||new ht({}),ht._workerFarm.setProps(t),ht._workerFarm}constructor(t){this.props={...lt},this.setProps(t),this.workerPools=new Map}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:e,source:r,url:n}=t;let s=this.workerPools.get(e);return s||(s=new Bt({name:e,source:r,url:n}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(e,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}var dt=r(9099);async function Ct(t,e,r,n,s){const o=t.id,i=function(t,e={}){const r=e[t.id]||{},n=rt.Bd?`${t.id}-worker.js`:`${t.id}-worker-node.js`;let s=r.workerUrl;if(s||"compression"!==t.id||(s=e.workerUrl),"test"===e._workerType&&(s=rt.Bd?`modules/${t.module}/dist/${n}`:`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!s){let e=t.version;"latest"===e&&(e=dt.x);const r=e?`@${e}`:"";s=`https://unpkg.com/@loaders.gl/${t.module}${r}/dist/${n}`}return(0,st.v)(s),s}(t,r),a=ht.getWorkerFarm(r).getWorkerPool({name:o,url:i});r=JSON.parse(JSON.stringify(r)),n=JSON.parse(JSON.stringify(n||{}));const c=await a.startJob("process-on-worker",gt.bind(null,s));c.postMessage("process",{input:e,options:r,context:n});const u=await c.result;return await u.result}async function gt(t,e,r,n){switch(r){case"done":e.done(n);break;case"error":e.error(new Error(n.error));break;case"process":const{id:s,input:o,options:i}=n;try{const r=await t(o,i);e.postMessage("done",{id:s,result:r})}catch(t){const r=t instanceof Error?t.message:"unknown error";e.postMessage("error",{id:s,error:r})}break;default:console.warn(`parse-with-worker unknown message ${r}`)}}var mt=r(1556);const bt=262144;function yt(t){if((e=t)&&"object"==typeof e&&e.isBuffer)return t;var e;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return 0===t.byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if("string"==typeof t){const e=t;return(new TextEncoder).encode(e).buffer}if(t&&"object"==typeof t&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function pt(t,e){return P.Bd?async function*(t,e){const r=t.getReader();let n;try{for(;;){const t=n||r.read();e?._streamReadAhead&&(n=r.read());const{done:s,value:o}=await t;if(s)return;yield yt(o)}}catch(t){r.releaseLock()}}(t,e):async function*(t){for await(const e of t)yield yt(e)}(t)}const Et="Cannot convert supplied data type";async function Ft(t,e,r){const n=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if("string"==typeof t||n)return function(t,e){if(e.text&&"string"==typeof t)return t;var r;if((r=t)&&"object"==typeof r&&r.isBuffer&&(t=t.buffer),t instanceof ArrayBuffer){const r=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let r=t.buffer;const n=t.byteLength||t.length;return 0===t.byteOffset&&n===r.byteLength||(r=r.slice(t.byteOffset,t.byteOffset+n)),r}throw new Error(Et)}(t,e);if(a(t)&&(t=await E(t)),i(t)){const r=t;return await async function(t){if(!t.ok){const e=await async function(t){const e=function(t){if(t.length<50)return t;const e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}(t.url);let r=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;r=r.length>100?`${r.slice(0,100)}...`:r;const n={reason:t.statusText,url:t.url,response:t};try{const e=t.headers.get("Content-Type");n.reason=!t.bodyUsed&&e?.includes("application/json")?await t.json():await t.text()}catch(t){}return new l(r,n)}(t);throw e}}(r),e.binary?await r.arrayBuffer():await r.text()}if(c(t)&&(t=function(t,e){if("string"==typeof t)return function*(t,e){const r=e?.chunkSize||262144;let n=0;const s=new TextEncoder;for(;n<t.length;){const e=Math.min(t.length-n,r),o=t.slice(n,n+e);n+=e,yield s.encode(o)}}(t,e);if(t instanceof ArrayBuffer)return function*(t,e={}){const{chunkSize:r=bt}=e;let n=0;for(;n<t.byteLength;){const e=Math.min(t.byteLength-n,r),s=new ArrayBuffer(e),o=new Uint8Array(t,n,e);new Uint8Array(s).set(o),n+=e,yield s}}(t,e);if(a(t))return async function*(t,e){const r=e?.chunkSize||1048576;let n=0;for(;n<t.size;){const e=n+r,s=await t.slice(n,e).arrayBuffer();n=e,yield s}}(t,e);if(c(t))return pt(t,e);if(i(t))return pt(t.body,e);throw new Error("makeIterator")}(t,r)),s=t,Boolean(s)&&"function"==typeof s[Symbol.iterator]||(t=>t&&"function"==typeof t[Symbol.asyncIterator])(t))return async function(t){const e=[];for await(const r of t)e.push(r);return(0,mt.AQ)(...e)}(t);var s;throw new Error(Et)}function Gt(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}const It="4.3.3",Mt=It[0]>="0"&&It[0]<="9"?`v${It}`:"",Dt=function(){const t=new j({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=Mt,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}(),wt=/\.([^.]+)$/;function Jt(t,e=[],r,n){if(!Tt(t))return null;if(e&&!Array.isArray(e))return f(e);let s=[];e&&(s=s.concat(e)),r?.ignoreRegisteredLoaders||s.push(...(()=>{const t=Y();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry})()),function(t){for(const e of t)f(e)}(s);const o=function(t,e,r,n){const s=y(t),o=p(t),i=b(s)||n?.url;let a=null,c="";return r?.mimeType&&(a=Rt(e,r?.mimeType),c=`match forced by supplied MIME type ${r?.mimeType}`),a=a||function(t,e){const r=e&&wt.exec(e),n=r&&r[1];return n?function(t,e){e=e.toLowerCase();for(const r of t)for(const t of r.extensions)if(t.toLowerCase()===e)return r;return null}(t,n):null}(e,i),c=c||(a?`matched url ${i}`:""),a=a||Rt(e,o),c=c||(a?`matched MIME type ${o}`:""),a=a||function(t,e){if(!e)return null;for(const r of t)if("string"==typeof e){if(Ht(e,r))return r}else if(ArrayBuffer.isView(e)){if(Ut(e.buffer,e.byteOffset,r))return r}else if(e instanceof ArrayBuffer&&Ut(e,0,r))return r;return null}(e,t),c=c||(a?`matched initial data ${Lt(t)}`:""),r?.fallbackMimeType&&(a=a||Rt(e,r?.fallbackMimeType),c=c||(a?`matched fallback MIME type ${o}`:"")),c&&Dt.log(1,`selectLoader selected ${a?.name}: ${c}.`),a}(t,s,r,n);if(!o&&!r?.nothrow)throw new Error(Ot(t));return o}function Tt(t){return!(t instanceof Response&&204===t.status)}function Ot(t){const e=y(t),r=p(t);let n="No valid loader found (";n+=e?`${Gt(e)}, `:"no url provided, ",n+=`MIME type: ${r?`"${r}"`:"not provided"}, `;const s=t?Lt(t):"";return n+=s?` first bytes: "${s}"`:"first bytes: not available",n+=")",n}function Rt(t,e){for(const r of t){if(r.mimeTypes?.some(t=>C(e,t)))return r;if(C(e,`application/x.${r.id}`))return r}return null}function Ht(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(e=>t.startsWith(e))}function Ut(t,e,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some(r=>function(t,e,r,n){if(n instanceof ArrayBuffer)return(0,mt.YV)(n,t,n.byteLength);switch(typeof n){case"function":return n(t);case"string":return n===vt(t,e,n.length);default:return!1}}(t,e,0,r))}function Lt(t,e=5){return"string"==typeof t?t.slice(0,e):ArrayBuffer.isView(t)?vt(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?vt(t,0,e):""}function vt(t,e,r){if(t.byteLength<e+r)return"";const n=new DataView(t);let s="";for(let t=0;t<r;t++)s+=String.fromCharCode(n.getUint8(e+t));return s}async function xt(t,e,r,n){!e||Array.isArray(e)||A(e)||(n=void 0,r=e,e=void 0),r=r||{};const s=y(t=await t),o=function(t,e){if(t&&!Array.isArray(t))return t;let r;if(t&&(r=Array.isArray(t)?t:[t]),e&&e.loaders){const t=Array.isArray(e.loaders)?e.loaders:[e.loaders];r=r?[...r,...t]:t}return r&&r.length?r:void 0}(e,n),c=await async function(t,e=[],r,n){if(!Tt(t))return null;let s=Jt(t,e,{...r,nothrow:!0},n);if(s)return s;if(a(t)&&(s=Jt(t=await t.slice(0,10).arrayBuffer(),e,r,n)),!s&&!r?.nothrow)throw new Error(Ot(t));return s}(t,o,r);return c?(n=function(t,e,r){if(r)return r;const n={fetch:z(e,t),...t};if(n.url){const t=b(n.url);n.baseUrl=t,n.queryString=function(t){const e=t.match(m);return e&&e[0]}(n.url),n.filename=Gt(t),n.baseUrl=function(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}(t)}return Array.isArray(n.loaders)||(n.loaders=null),n}({url:s,_parse:xt,loaders:o},r=V(r,c,o,s),n||null),await async function(t,e,r,n){if(function(t){(0,st.v)(t,"no worker provided");t.version}(t),r=tt(t.options,r),i(e)){const t=e,{ok:r,redirected:s,status:o,statusText:i,type:a,url:c}=t,u=Object.fromEntries(t.headers.entries());n.response={headers:u,ok:r,redirected:s,status:o,statusText:i,type:a,url:c}}e=await Ft(e,t,r);const s=t;if(s.parseTextSync&&"string"==typeof e)return s.parseTextSync(e,r,n);if(function(t,e){return!!ht.isSupported()&&!(!rt.Bd&&!e?._nodeWorkers)&&t.worker&&e?.worker}(t,r))return await Ct(t,e,r,n,xt);if(s.parseText&&"string"==typeof e)return await s.parseText(e,r,n);if(s.parse)return await s.parse(e,r,n);throw(0,st.v)(!s.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}(c,t,r,n)):null}async function jt(t,e,r,n){let s,o;Array.isArray(e)||A(e)?(s=e,o=r):(s=[],o=e);const i=z(o);let c=t;return"string"==typeof t&&(c=await i(t)),a(t)&&(c=await i(t)),Array.isArray(s),await xt(c,s,o)}},9679(t,e,r){r.d(e,{Vl:()=>m});const n={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:"4.3.3",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function s(t,e,r){const n=function(t){switch(t.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}(e.value),s=r||function(t){const e={};return"byteOffset"in t&&(e.byteOffset=t.byteOffset.toString(10)),"byteStride"in t&&(e.byteStride=t.byteStride.toString(10)),"normalized"in t&&(e.normalized=t.normalized.toString()),e}(e);return{name:t,type:{type:"fixed-size-list",listSize:e.size,children:[{name:"value",type:n}]},nullable:!1,metadata:s}}function o(t,e,r){return s(t,e,r?i(r.metadata):void 0)}function i(t){Object.entries(t);const e={};for(const r in t)e[`${r}.string`]=JSON.stringify(t[r]);return e}const a={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},c={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class u{draco;decoder;metadataQuerier;constructor(t){this.draco=t,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(t,e={}){const r=new this.draco.DecoderBuffer;r.Init(new Int8Array(t),t.byteLength),this._disableAttributeTransforms(e);const n=this.decoder.GetEncodedGeometryType(r),s=n===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let t;switch(n){case this.draco.TRIANGULAR_MESH:t=this.decoder.DecodeBufferToMesh(r,s);break;case this.draco.POINT_CLOUD:t=this.decoder.DecodeBufferToPointCloud(r,s);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!t.ok()||!s.ptr){const e=`DRACO decompression failed: ${t.error_msg()}`;throw new Error(e)}const a=this._getDracoLoaderData(s,n,e),c=this._getMeshData(s,a,e),u=function(t){let e=1/0,r=1/0,n=1/0,s=-1/0,o=-1/0,i=-1/0;const a=t.POSITION?t.POSITION.value:[],c=a&&a.length;for(let t=0;t<c;t+=3){const c=a[t],u=a[t+1],A=a[t+2];e=c<e?c:e,r=u<r?u:r,n=A<n?A:n,s=c>s?c:s,o=u>o?u:o,i=A>i?A:i}return[[e,r,n],[s,o,i]]}(c.attributes),A=function(t,e,r){const n=i(e.metadata),s=[],a=function(t){const e={};for(const r in t){const n=t[r];e[n.name||"undefined"]=n}return e}(e.attributes);for(const e in t){const r=o(e,t[e],a[e]);s.push(r)}if(r){const t=o("indices",r);s.push(t)}return{fields:s,metadata:n}}(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:s.num_points(),boundingBox:u},...c,schema:A}}finally{this.draco.destroy(r),s&&this.draco.destroy(s)}}_getDracoLoaderData(t,e,r){const n=this._getTopLevelMetadata(t),s=this._getDracoAttributes(t,r);return{geometry_type:e,num_attributes:t.num_attributes(),num_points:t.num_points(),num_faces:t instanceof this.draco.Mesh?t.num_faces():0,metadata:n,attributes:s}}_getDracoAttributes(t,e){const r={};for(let n=0;n<t.num_attributes();n++){const s=this.decoder.GetAttribute(t,n),o=this._getAttributeMetadata(t,n);r[s.unique_id()]={unique_id:s.unique_id(),attribute_type:s.attribute_type(),data_type:s.data_type(),num_components:s.num_components(),byte_offset:s.byte_offset(),byte_stride:s.byte_stride(),normalized:s.normalized(),attribute_index:n,metadata:o};const i=this._getQuantizationTransform(s,e);i&&(r[s.unique_id()].quantization_transform=i);const a=this._getOctahedronTransform(s,e);a&&(r[s.unique_id()].octahedron_transform=a)}return r}_getMeshData(t,e,r){const n=this._getMeshAttributes(e,t,r);if(!n.POSITION)throw new Error("DRACO: No position attribute found.");return t instanceof this.draco.Mesh?"triangle-strip"===r.topology?{topology:"triangle-strip",mode:4,attributes:n,indices:{value:this._getTriangleStripIndices(t),size:1}}:{topology:"triangle-list",mode:5,attributes:n,indices:{value:this._getTriangleListIndices(t),size:1}}:{topology:"point-list",mode:0,attributes:n}}_getMeshAttributes(t,e,r){const n={};for(const s of Object.values(t.attributes)){const t=this._deduceAttributeName(s,r);s.name=t;const o=this._getAttributeValues(e,s);if(o){const{value:e,size:r}=o;n[t]={value:e,size:r,byteOffset:s.byte_offset,byteStride:s.byte_stride,normalized:s.normalized}}}return n}_getTriangleListIndices(t){const e=3*t.num_faces(),r=4*e,n=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(t,r,n),new Uint32Array(this.draco.HEAPF32.buffer,n,e).slice()}finally{this.draco._free(n)}}_getTriangleStripIndices(t){const e=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(t,e),function(t){const e=t.size(),r=new Int32Array(e);for(let n=0;n<e;n++)r[n]=t.GetValue(n);return r}(e)}finally{this.draco.destroy(e)}}_getAttributeValues(t,e){const r=c[e.data_type];if(!r)return console.warn(`DRACO: Unsupported attribute type ${e.data_type}`),null;const n=e.num_components,s=t.num_points()*n,o=s*r.BYTES_PER_ELEMENT,i=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32;default:return t.DT_INVALID}}(this.draco,r);let a;const u=this.draco._malloc(o);try{const n=this.decoder.GetAttribute(t,e.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(t,n,i,o,u),a=new r(this.draco.HEAPF32.buffer,u,s).slice()}finally{this.draco._free(u)}return{value:a,size:n}}_deduceAttributeName(t,e){const r=t.unique_id;for(const[t,n]of Object.entries(e.extraAttributes||{}))if(n===r)return t;const n=t.attribute_type;for(const t in a)if(this.draco[t]===n)return a[t];const s=e.attributeNameEntry||"name";return t.metadata[s]?t.metadata[s].string:`CUSTOM_ATTRIBUTE_${r}`}_getTopLevelMetadata(t){const e=this.decoder.GetMetadata(t);return this._getDracoMetadata(e)}_getAttributeMetadata(t,e){const r=this.decoder.GetAttributeMetadata(t,e);return this._getDracoMetadata(r)}_getDracoMetadata(t){if(!t||!t.ptr)return{};const e={},r=this.metadataQuerier.NumEntries(t);for(let n=0;n<r;n++){const r=this.metadataQuerier.GetEntryName(t,n);e[r]=this._getDracoMetadataField(t,r)}return e}_getDracoMetadataField(t,e){const r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(t,e,r);const n=function(t){const e=t.size(),r=new Int32Array(e);for(let n=0;n<e;n++)r[n]=t.GetValue(n);return r}(r);return{int:this.metadataQuerier.GetIntEntry(t,e),string:this.metadataQuerier.GetStringEntry(t,e),double:this.metadataQuerier.GetDoubleEntry(t,e),intArray:n}}finally{this.draco.destroy(r)}}_disableAttributeTransforms(t){const{quantizedAttributes:e=[],octahedronAttributes:r=[]}=t,n=[...e,...r];for(const t of n)this.decoder.SkipAttributeTransform(this.draco[t])}_getQuantizationTransform(t,e){const{quantizedAttributes:r=[]}=e,n=t.attribute_type();if(r.map(t=>this.decoder[t]).includes(n)){const e=new this.draco.AttributeQuantizationTransform;try{if(e.InitFromAttribute(t))return{quantization_bits:e.quantization_bits(),range:e.range(),min_values:new Float32Array([1,2,3]).map(t=>e.min_value(t))}}finally{this.draco.destroy(e)}}return null}_getOctahedronTransform(t,e){const{octahedronAttributes:r=[]}=e,n=t.attribute_type();if(r.map(t=>this.decoder[t]).includes(n)){const e=new this.draco.AttributeQuantizationTransform;try{if(e.InitFromAttribute(t))return{quantization_bits:e.quantization_bits()}}finally{this.draco.destroy(e)}}return null}}var A=r(8016);const f="https://www.gstatic.com/draco/versioned/decoders/1.5.6",B="draco_wasm_wrapper.js",l="draco_decoder.wasm",h="draco_decoder.js",d="draco_encoder.js",C={[B]:`${f}/${B}`,[l]:`${f}/${l}`,[h]:`${f}/${h}`,[d]:`https://raw.githubusercontent.com/google/draco/1.4.1/javascript/${d}`};let g;const m={...n,parse:async function(t,e){const{draco:r}=await async function(t){const e=t.modules||{};return e.draco3d?g||=e.draco3d.createDecoderModule({}).then(t=>({draco:t})):g||=async function(t){let e,r;return"js"===(t.draco&&t.draco.decoderType)?e=await(0,A._)(C[h],"draco",t,h):[e,r]=await Promise.all([await(0,A._)(C[B],"draco",t,B),await(0,A._)(C[l],"draco",t,l)]),e=e||globalThis.DracoDecoderModule,await function(t,e){const r={};return e&&(r.wasmBinary=e),new Promise(e=>{t({...r,onModuleLoaded:t=>e({draco:t})})})}(e,r)}(t),await g}(e),n=new u(r);try{return n.parseSync(t,e?.draco)}finally{n.destroy()}}}},1609(t,e,r){r.d(e,{B:()=>xr});var n={};r.r(n),r.d(n,{createExtMeshFeatures:()=>Kt,decode:()=>vt,encode:()=>xt,name:()=>Lt});var s={};r.r(s),r.d(s,{createExtStructuralMetadata:()=>zt,decode:()=>Qt,encode:()=>Pt,name:()=>_t});var o={};r.r(o),r.d(o,{decode:()=>Ae,name:()=>ue});var i={};r.r(i),r.d(i,{name:()=>de,preprocess:()=>Ce});var a={};r.r(a),r.d(a,{name:()=>me,preprocess:()=>be});var c={};r.r(c),r.d(c,{decode:()=>Ie,encode:()=>Me,name:()=>Fe,preprocess:()=>Ge});var u={};r.r(u),r.d(u,{decode:()=>rr,name:()=>$e});var A={};r.r(A),r.d(A,{decode:()=>cr,encode:()=>ur,name:()=>ar});var f={};r.r(f),r.d(f,{decode:()=>Br,encode:()=>lr,name:()=>fr});var B={};r.r(B),r.d(B,{decode:()=>Cr,encode:()=>gr,name:()=>dr});var l={};function h(t,e,r){if(t.byteLength<=e+r)return"";const n=new DataView(t);let s="";for(let t=0;t<r;t++)s+=String.fromCharCode(n.getUint8(e+t));return s}r.r(l),r.d(l,{decode:()=>pr,name:()=>yr});var d=r(1556);async function C(t,e,r,n){return n._parse(t,e,r,n)}var g=r(4020),m=r(7976);const b=globalThis.loaders?.parseImageNode,y="undefined"!=typeof Image,p="undefined"!=typeof ImageBitmap,E=Boolean(b),F=!!m.Bd||E;function G(t){const e=function(t){return"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&t instanceof Image?"image":t&&"object"==typeof t&&t.data&&t.width&&t.height?"data":null}(t);if(!e)throw new Error("Not an image");return e}function I(t){switch(G(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),r=e.getContext("2d");if(!r)throw new Error("getImageData");return e.width=t.width,e.height=t.height,r.drawImage(t,0,0),r.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}const M=/^data:image\/svg\+xml/,D=/\.svg((\?|#).*)?$/;function w(t){return t&&(M.test(t)||D.test(t))}function J(t,e){if(w(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function T(t,e,r){const n=function(t,e){if(w(e)){let e=(new TextDecoder).decode(t);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(e=unescape(encodeURIComponent(e)))}catch(t){throw new Error(t.message)}return`data:image/svg+xml;base64,${btoa(e)}`}return J(t,e)}(t,r),s=self.URL||self.webkitURL,o="string"!=typeof n&&s.createObjectURL(n);try{return await async function(t,e){const r=new Image;return r.src=t,e.image&&e.image.decode&&r.decode?(await r.decode(),r):await new Promise((t,e)=>{try{r.onload=()=>t(r),r.onerror=t=>{const r=t instanceof Error?t.message:"error";e(new Error(r))}}catch(t){e(t)}})}(o||n,e)}finally{o&&s.revokeObjectURL(o)}}const O={};let R=!0;const H=!1,U=!0;function L(t){const e=v(t);return function(t){const e=v(t);return e.byteLength>=24&&2303741511===e.getUint32(0,H)?{mimeType:"image/png",width:e.getUint32(16,H),height:e.getUint32(20,H)}:null}(e)||function(t){const e=v(t);if(!(e.byteLength>=3&&65496===e.getUint16(0,H)&&255===e.getUint8(2)))return null;const{tableMarkers:r,sofMarkers:n}=function(){const t=new Set([65499,65476,65484,65501,65534]);for(let e=65504;e<65520;++e)t.add(e);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let s=2;for(;s+9<e.byteLength;){const t=e.getUint16(s,H);if(n.has(t))return{mimeType:"image/jpeg",height:e.getUint16(s+5,H),width:e.getUint16(s+7,H)};if(!r.has(t))return null;s+=2,s+=e.getUint16(s,H)}return null}(e)||function(t){const e=v(t);return e.byteLength>=10&&1195984440===e.getUint32(0,H)?{mimeType:"image/gif",width:e.getUint16(6,U),height:e.getUint16(8,U)}:null}(e)||function(t){const e=v(t);return e.byteLength>=14&&16973===e.getUint16(0,H)&&e.getUint32(2,U)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,U),height:e.getUint32(22,U)}:null}(e)||function(t){const e=function(t){return function(t,e,r=0){const n=(s="ftyp",[...s].map(t=>t.charCodeAt(0)));var s;for(let e=0;e<n.length;++e)if(n[e]!==t[e+r])return!1;return!0}(t,0,4)&&96&t[8]?function(t){switch((e=t,String.fromCharCode(...e.slice(8,12))).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}var e}(t):null}(new Uint8Array(t instanceof DataView?t.buffer:t));return e?{mimeType:e.mimeType,width:0,height:0}:null}(e)}function v(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}const x={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:"4.3.3",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(t,e,r){const n=((e=e||{}).image||{}).type||"auto",{url:s}=r||{};let o;switch(function(t){switch(t){case"auto":case"data":return function(){if(p)return"imagebitmap";if(y)return"image";if(F)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(t){switch(t){case"auto":return p||y||F;case"imagebitmap":return p;case"image":return y;case"data":return F;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}(t),t}}(n)){case"imagebitmap":o=await async function(t,e,r){let n;n=w(r)?await T(t,e,r):J(t,r);const s=e&&e.imagebitmap;return await async function(t,e=null){if(!function(t){for(const e in t||O)return!1;return!0}(e)&&R||(e=null),e)try{return await createImageBitmap(t,e)}catch(t){console.warn(t),R=!1}return await createImageBitmap(t)}(n,s)}(t,e,s);break;case"image":o=await T(t,e,s);break;case"data":o=await async function(t){const{mimeType:e}=L(t)||{},r=globalThis.loaders?.parseImageNode;return(0,g.v)(r),await r(t,e)}(t);break;default:(0,g.v)(!1)}return"data"===n&&(o=I(o)),o},tests:[t=>Boolean(L(new DataView(t)))],options:{image:{type:"auto",decode:!0}}};var j=r(8016);let K,S;async function N(t){var e;e=t.modules,globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,e);return function(){const t=globalThis.loaders?.modules?.basis;return t||null}()||(K||=async function(t){let e=null,r=null;return[e,r]=await Promise.all([await(0,j._)("basis_transcoder.js","textures",t),await(0,j._)("basis_transcoder.wasm","textures",t)]),e=e||globalThis.BASIS,await function(t,e){const r={};return e&&(r.wasmBinary=e),new Promise(e=>{t(r).then(t=>{const{BasisFile:r,initializeBasis:n}=t;n(),e({BasisFile:r})})})}(e,r)}(t),await K)}async function _(t){const e=t.modules||{};return e.basisEncoder?e.basisEncoder:(S=S||async function(t){let e=null,r=null;return[e,r]=await Promise.all([await(0,j._)("basis_encoder.js","textures",t),await(0,j._)("basis_encoder.wasm","textures",t)]),e=e||globalThis.BASIS,await function(t,e){const r={};return e&&(r.wasmBinary=e),new Promise(e=>{t(r).then(t=>{const{BasisFile:r,KTX2File:n,initializeBasis:s,BasisEncoder:o}=t;s(),e({BasisFile:r,KTX2File:n,BasisEncoder:o})})})}(e,r)}(t),await S)}const Q=["","WEBKIT_","MOZ_"],P={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let k=null;const X=[171,75,84,88,32,50,48,187,13,10,26,10],Y={etc1:{basisFormat:0,compressed:!0,format:36196},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:33776},bc3:{basisFormat:3,compressed:!0,format:33779},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:35840},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:35842},"astc-4x4":{basisFormat:10,compressed:!0,format:37808},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function W(t,e,r){const n=new t(new Uint8Array(e));try{if(!n.startTranscoding())throw new Error("Failed to start basis transcoding");const t=n.getNumImages(),e=[];for(let s=0;s<t;s++){const t=n.getNumLevels(s),o=[];for(let e=0;e<t;e++)o.push(V(n,s,e,r));e.push(o)}return e}finally{n.close(),n.delete()}}function V(t,e,r,n){const s=t.getImageWidth(e,r),o=t.getImageHeight(e,r),i=t.getHasAlpha(),{compressed:a,format:c,basisFormat:u}=$(n,i),A=t.getImageTranscodedSizeInBytes(e,r,u),f=new Uint8Array(A);if(!t.transcodeImage(f,e,r,u,0,0))throw new Error("failed to start Basis transcoding");return{width:s,height:o,data:f,compressed:a,format:c,hasAlpha:i}}function Z(t,e,r){const n=new t(new Uint8Array(e));try{if(!n.startTranscoding())throw new Error("failed to start KTX2 transcoding");const t=n.getLevels(),e=[];for(let s=0;s<t;s++)e.push(q(n,s,r));return[e]}finally{n.close(),n.delete()}}function q(t,e,r){const{alphaFlag:n,height:s,width:o}=t.getImageLevelInfo(e,0,0),{compressed:i,format:a,basisFormat:c}=$(r,n),u=t.getImageTranscodedSizeInBytes(e,0,0,c),A=new Uint8Array(u);if(!t.transcodeImage(A,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:s,data:A,compressed:i,levelSize:u,hasAlpha:n,format:a}}function $(t,e){let r=t&&t.basis&&t.basis.format;return"auto"===r&&(r=z()),"object"==typeof r&&(r=e?r.alpha:r.noAlpha),r=r.toLowerCase(),Y[r]}function z(){const t=function(t){if(!k){t=t||function(){try{return document.createElement("canvas").getContext("webgl")}catch(t){return null}}()||void 0,k=new Set;for(const e of Q)for(const r in P)if(t&&t.getExtension(`${e}${r}`)){const t=P[r];k.add(t)}}return k}();return t.has("astc")?"astc-4x4":t.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:t.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:t.has("etc1")?"etc1":t.has("etc2")?"etc2":"rgb565"}const tt={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:"4.3.3",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}},parse:async function(t,e){if("auto"===e.basis.containerFormat){if(function(t){const e=new Uint8Array(t);return!(e.byteLength<X.length||e[0]!==X[0]||e[1]!==X[1]||e[2]!==X[2]||e[3]!==X[3]||e[4]!==X[4]||e[5]!==X[5]||e[6]!==X[6]||e[7]!==X[7]||e[8]!==X[8]||e[9]!==X[9]||e[10]!==X[10]||e[11]!==X[11])}(t))return Z((await _(e)).KTX2File,t,e);const{BasisFile:r}=await N(e);return W(r,t,e)}if("encoder"===e.basis.module){const r=await _(e);return"ktx2"===e.basis.containerFormat?Z(r.KTX2File,t,e):W(r.BasisFile,t,e)}{const{BasisFile:r}=await N(e);return W(r,t,e)}}};function et(t,e){if(!t)throw new Error(e||"assert failed: gltf")}function rt(t,e){return(0,g.v)(t>=0),(0,g.v)(e>0),t+(e-1)&~(e-1)}function nt(t,e,r){let n;if(t instanceof ArrayBuffer)n=new Uint8Array(t);else{const e=t.byteOffset,r=t.byteLength;n=new Uint8Array(t.buffer||t.arrayBuffer,e,r)}return e.set(n,r),r+rt(n.byteLength,4)}const st=!0,ot=1735152710;function it(t,e,r,n){const s=new Uint8Array(e.buffer,r,n),o=new TextDecoder("utf8").decode(s);return t.json=JSON.parse(o),rt(n,4)}function at(t,e,r,n){return t.header.hasBinChunk=!0,t.binChunks.push({byteOffset:r,byteLength:n,arrayBuffer:e.buffer}),rt(n,4)}function ct(t,e){if(t.startsWith("data:")||t.startsWith("http:")||t.startsWith("https:"))return t;const r=e.baseUri||e.uri;if(!r)throw new Error(`'baseUri' must be provided to resolve relative url ${t}`);return r.substr(0,r.lastIndexOf("/")+1)+t}const ut={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},At={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ft=["SCALAR","VEC2","VEC3","VEC4"],Bt=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],lt=new Map(Bt),ht={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},dt={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Ct={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function gt(t){return ft[t-1]||ft[0]}function mt(t){const e=lt.get(t.constructor);if(!e)throw new Error("Illegal typed array");return e}function bt(t,e){const r=Ct[t.componentType],n=ht[t.type],s=dt[t.componentType],o=t.count*n,i=t.count*n*s;return et(i>=0&&i<=e.byteLength),{ArrayType:r,length:o,byteLength:i,componentByteSize:At[t.componentType],numberOfComponentsInElement:ut[t.type]}}class yt{gltf;sourceBuffers;byteLength;constructor(t){this.gltf={json:t?.json||{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]},buffers:t?.buffers||[],images:t?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(t){return this.json[t]}getExtraData(t){return(this.json.extras||{})[t]}hasExtension(t){const e=this.getUsedExtensions().find(e=>e===t),r=this.getRequiredExtensions().find(e=>e===t);return"string"==typeof e||"string"==typeof r}getExtension(t){const e=this.getUsedExtensions().find(e=>e===t),r=this.json.extensions||{};return e?r[t]:null}getRequiredExtension(t){return this.getRequiredExtensions().find(e=>e===t)?this.getExtension(t):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(t,e){return(t.extensions||{})[e]}getScene(t){return this.getObject("scenes",t)}getNode(t){return this.getObject("nodes",t)}getSkin(t){return this.getObject("skins",t)}getMesh(t){return this.getObject("meshes",t)}getMaterial(t){return this.getObject("materials",t)}getAccessor(t){return this.getObject("accessors",t)}getTexture(t){return this.getObject("textures",t)}getSampler(t){return this.getObject("samplers",t)}getImage(t){return this.getObject("images",t)}getBufferView(t){return this.getObject("bufferViews",t)}getBuffer(t){return this.getObject("buffers",t)}getObject(t,e){if("object"==typeof e)return e;const r=this.json[t]&&this.json[t][e];if(!r)throw new Error(`glTF file error: Could not find ${t}[${e}]`);return r}getTypedArrayForBufferView(t){const e=(t=this.getBufferView(t)).buffer,r=this.gltf.buffers[e];et(r);const n=(t.byteOffset||0)+r.byteOffset;return new Uint8Array(r.arrayBuffer,n,t.byteLength)}getTypedArrayForAccessor(t){const e=this.getAccessor(t);return function(t,e,r){const n="number"==typeof r?t.accessors?.[r]:r;if(!n)throw new Error(`No gltf accessor ${JSON.stringify(r)}`);const s=t.bufferViews?.[n.bufferView||0];if(!s)throw new Error(`No gltf buffer view for accessor ${s}`);const{arrayBuffer:o,byteOffset:i}=e[s.buffer],a=(i||0)+(n.byteOffset||0)+(s.byteOffset||0),{ArrayType:c,length:u,componentByteSize:A,numberOfComponentsInElement:f}=bt(n,s),B=A*f,l=s.byteStride||B;if(void 0===s.byteStride||s.byteStride===B)return new c(o,a,u);const h=new c(u);for(let t=0;t<n.count;t++){const e=new c(o,a+t*l,f);h.set(e,t*f)}return h}(this.gltf.json,this.gltf.buffers,e)}getTypedArrayForImageData(t){t=this.getAccessor(t);const e=this.getBufferView(t.bufferView),r=this.getBuffer(e.buffer).data,n=e.byteOffset||0;return new Uint8Array(r,n,e.byteLength)}addApplicationData(t,e){return this.json[t]=e,this}addExtraData(t,e){return this.json.extras=this.json.extras||{},this.json.extras[t]=e,this}addObjectExtension(t,e,r){return t.extensions=t.extensions||{},t.extensions[e]=r,this.registerUsedExtension(e),this}setObjectExtension(t,e,r){(t.extensions||{})[e]=r}removeObjectExtension(t,e){const r=t?.extensions||{};if(r[e]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const t=this.json.extensionsRemoved;t.includes(e)||t.push(e)}delete r[e]}addExtension(t,e={}){return et(e),this.json.extensions=this.json.extensions||{},this.json.extensions[t]=e,this.registerUsedExtension(t),e}addRequiredExtension(t,e={}){return et(e),this.addExtension(t,e),this.registerRequiredExtension(t),e}registerUsedExtension(t){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(e=>e===t)||this.json.extensionsUsed.push(t)}registerRequiredExtension(t){this.registerUsedExtension(t),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(e=>e===t)||this.json.extensionsRequired.push(t)}removeExtension(t){if(this.json.extensions?.[t]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const e=this.json.extensionsRemoved;e.includes(t)||e.push(t)}this.json.extensions&&delete this.json.extensions[t],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,t),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,t)}setDefaultScene(t){this.json.scene=t}addScene(t){const{nodeIndices:e}=t;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:e}),this.json.scenes.length-1}addNode(t){const{meshIndex:e,matrix:r}=t;this.json.nodes=this.json.nodes||[];const n={mesh:e};return r&&(n.matrix=r),this.json.nodes.push(n),this.json.nodes.length-1}addMesh(t){const{attributes:e,indices:r,material:n,mode:s=4}=t,o={primitives:[{attributes:this._addAttributes(e),mode:s}]};if(r){const t=this._addIndices(r);o.primitives[0].indices=t}return Number.isFinite(n)&&(o.primitives[0].material=n),this.json.meshes=this.json.meshes||[],this.json.meshes.push(o),this.json.meshes.length-1}addPointCloud(t){const e={primitives:[{attributes:this._addAttributes(t),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(e),this.json.meshes.length-1}addImage(t,e){const r=L(t),n=e||r?.mimeType,s={bufferView:this.addBufferView(t),mimeType:n};return this.json.images=this.json.images||[],this.json.images.push(s),this.json.images.length-1}addBufferView(t,e=0,r=this.byteLength){const n=t.byteLength;et(Number.isFinite(n)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(t);const s={buffer:e,byteOffset:r,byteLength:n};return this.byteLength+=rt(n,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(s),this.json.bufferViews.length-1}addAccessor(t,e){const r={bufferView:t,type:gt(e.size),componentType:e.componentType,count:e.count,max:e.max,min:e.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1}addBinaryBuffer(t,e={size:3}){const r=this.addBufferView(t);let n={min:e.min,max:e.max};n.min&&n.max||(n=this._getAccessorMinMax(t,e.size));const s={size:e.size,componentType:mt(t),count:Math.round(t.length/e.size),min:n.min,max:n.max};return this.addAccessor(r,Object.assign(s,e))}addTexture(t){const{imageIndex:e}=t,r={source:e};return this.json.textures=this.json.textures||[],this.json.textures.push(r),this.json.textures.length-1}addMaterial(t){return this.json.materials=this.json.materials||[],this.json.materials.push(t),this.json.materials.length-1}createBinaryChunk(){const t=this.byteLength,e=new ArrayBuffer(t),r=new Uint8Array(e);let n=0;for(const t of this.sourceBuffers||[])n=nt(t,r,n);this.json?.buffers?.[0]?this.json.buffers[0].byteLength=t:this.json.buffers=[{byteLength:t}],this.gltf.binary=e,this.sourceBuffers=[e],this.gltf.buffers=[{arrayBuffer:e,byteOffset:0,byteLength:e.byteLength}]}_removeStringFromArray(t,e){let r=!0;for(;r;){const n=t.indexOf(e);n>-1?t.splice(n,1):r=!1}}_addAttributes(t={}){const e={};for(const r in t){const n=t[r],s=this._getGltfAttributeName(r),o=this.addBinaryBuffer(n.value,n);e[s]=o}return e}_addIndices(t){return this.addBinaryBuffer(t,{size:1})}_getGltfAttributeName(t){switch(t.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return t}}_getAccessorMinMax(t,e){const r={min:null,max:null};if(t.length<e)return r;r.min=[],r.max=[];const n=t.subarray(0,e);for(const t of n)r.min.push(t),r.max.push(t);for(let n=e;n<t.length;n+=e)for(let s=0;s<e;s++)r.min[0+s]=Math.min(r.min[0+s],t[n+s]),r.max[0+s]=Math.max(r.max[0+s],t[n+s]);return r}}function pt(t){return(t%1+1)%1}const Et={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},Ft={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},Gt={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function It(t,e){return Gt[e]*Et[t]}function Mt(t,e,r,n){if("UINT8"!==r&&"UINT16"!==r&&"UINT32"!==r&&"UINT64"!==r)return null;const s=Dt(t.getTypedArrayForBufferView(e),"SCALAR",r,n+1);return s instanceof BigInt64Array||s instanceof BigUint64Array?null:s}function Dt(t,e,r,n=1){const s=Ft[r],o=Gt[r],i=n*Et[e],a=i*o;let c=t.buffer,u=t.byteOffset;return u%o!==0&&(c=new Uint8Array(c).slice(u,u+a).buffer,u=0),new s(c,u,i)}function wt(t,e,r){const n=`TEXCOORD_${e.texCoord||0}`,s=r.attributes[n],o=t.getTypedArrayForAccessor(s),i=t.gltf.json,a=e.index,c=i.textures?.[a]?.source;if(void 0!==c){const r=i.images?.[c]?.mimeType,n=t.gltf.images?.[c];if(n&&void 0!==n.width){const t=[];for(let s=0;s<o.length;s+=2){const i=Tt(n,r,o,s,e.channels);t.push(i)}return t}}return[]}function Jt(t,e,r,n,s){if(!r?.length)return;const o=[];for(const t of r){let e=n.findIndex(e=>e===t);-1===e&&(e=n.push(t)-1),o.push(e)}const i=new Uint32Array(o),a=t.gltf.buffers.push({arrayBuffer:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength})-1,c=t.addBufferView(i,a,0),u=t.addAccessor(c,{size:1,componentType:mt(i),count:i.length});s.attributes[e]=u}function Tt(t,e,r,n,s=[0]){const o={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},i=r[n],a=r[n+1];let c=1;!e||-1===e.indexOf("image/jpeg")&&-1===e.indexOf("image/png")||(c=4);const u=function(t,e,r,n=1){const s=r.width,o=pt(t)*(s-1),i=Math.round(o),a=r.height,c=pt(e)*(a-1);return(Math.round(c)*s+i)*(r.components?r.components:n)}(i,a,t,c);let A=0;for(const e of s){const r="number"==typeof e?Object.values(o)[e]:o[e],n=u+r.offset,s=I(t);if(s.data.length<=n)throw new Error(`${s.data.length} <= ${n}`);A|=s.data[n]<<r.shift}return A}function Ot(t,e,r,n,s){const o=[];for(let i=0;i<e;i++){const e=r[i],a=r[i+1]-r[i];if(a+e>n)break;const c=e/s,u=a/s;o.push(t.slice(c,c+u))}return o}function Rt(t,e,r){const n=[];for(let s=0;s<e;s++){const e=s*r;n.push(t.slice(e,e+r))}return n}function Ht(t,e,r,n){if(r)throw new Error("Not implemented - arrayOffsets for strings is specified");if(n){const r=[],s=new TextDecoder("utf8");let o=0;for(let i=0;i<t;i++){const t=n[i+1]-n[i];if(t+o<=e.length){const n=e.subarray(o,t+o),i=s.decode(n);r.push(i),o+=t}}return r}return[]}const Ut="EXT_mesh_features",Lt=Ut;async function vt(t,e){!function(t,e){const r=t.gltf.json;if(r.meshes)for(const n of r.meshes)for(const r of n.primitives)jt(t,r,e)}(new yt(t),e)}function xt(t,e){const r=new yt(t);return function(t){const e=t.gltf.json.meshes;if(e)for(const r of e)for(const e of r.primitives)St(t,e)}(r),r.createBinaryChunk(),r.gltf}function jt(t,e,r){if(!r?.gltf?.loadBuffers)return;const n=e.extensions?.[Ut],s=n?.featureIds;if(s)for(const n of s){let s;if(void 0!==n.attribute){const r=`_FEATURE_ID_${n.attribute}`,o=e.attributes[r];s=t.getTypedArrayForAccessor(o)}else s=void 0!==n.texture&&r?.gltf?.loadImages?wt(t,n.texture,e):[];n.data=s}}function Kt(t,e,r,n){e.extensions||(e.extensions={});let s=e.extensions[Ut];s||(s={featureIds:[]},e.extensions[Ut]=s);const{featureIds:o}=s,i={featureCount:r.length,propertyTable:n,data:r};o.push(i),t.addObjectExtension(e,Ut,s)}function St(t,e){const r=e.extensions?.[Ut];if(!r)return;const n=r.featureIds;n.forEach((r,s)=>{if(r.data){const{accessorKey:o,index:i}=function(t){const e="_FEATURE_ID_",r=Object.keys(t).filter(t=>0===t.indexOf(e));let n=-1;for(const t of r){const e=Number(t.substring(12));e>n&&(n=e)}n++;return{accessorKey:`${e}${n}`,index:n}}(e.attributes),a=new Uint32Array(r.data);n[s]={featureCount:a.length,propertyTable:r.propertyTable,attribute:i},t.gltf.buffers.push({arrayBuffer:a.buffer,byteOffset:a.byteOffset,byteLength:a.byteLength});const c=t.addBufferView(a),u=t.addAccessor(c,{size:1,componentType:mt(a),count:a.length});e.attributes[o]=u}})}const Nt="EXT_structural_metadata",_t=Nt;async function Qt(t,e){!function(t,e){if(!e.gltf?.loadBuffers)return;const r=t.getExtension(Nt);r&&(e.gltf?.loadImages&&function(t,e){const r=e.propertyTextures,n=t.gltf.json;if(r&&n.meshes)for(const s of n.meshes)for(const n of s.primitives)Xt(t,r,n,e)}(t,r),function(t,e){const r=e.schema;if(!r)return;const n=r.classes,s=e.propertyTables;if(n&&s)for(const e in n){const n=kt(s,e);n&&Wt(t,r,n)}}(t,r))}(new yt(t),e)}function Pt(t,e){const r=new yt(t);return function(t){const e=t.getExtension(Nt);if(e&&e.propertyTables)for(const r of e.propertyTables){const n=r.class,s=e.schema?.classes?.[n];r.properties&&s&&$t(r,s,t)}}(r),r.createBinaryChunk(),r.gltf}function kt(t,e){for(const r of t)if(r.class===e)return r;return null}function Xt(t,e,r,n){if(!e)return;const s=r.extensions?.[Nt],o=s?.propertyTextures;if(o)for(const s of o)Yt(t,e[s],r,n)}function Yt(t,e,r,n){if(!e.properties)return;n.dataAttributeNames||(n.dataAttributeNames=[]);const s=e.class;for(const o in e.properties){const i=`${s}_${o}`,a=e.properties?.[o];if(!a)continue;a.data||(a.data=[]);const c=a.data,u=wt(t,a,r);null!==u&&(Jt(t,i,u,c,r),a.data=c,n.dataAttributeNames.push(i))}}function Wt(t,e,r){const n=e.classes?.[r.class];if(!n)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${r.class}`);const s=r.count;for(const o in n.properties){const i=n.properties[o],a=r.properties?.[o];if(a){const r=Vt(t,e,i,s,a);a.data=r}}}function Vt(t,e,r,n,s){let o=[];const i=s.values,a=t.getTypedArrayForBufferView(i),c=function(t,e,r,n){return e.array&&void 0===e.count&&void 0!==r.arrayOffsets?Mt(t,r.arrayOffsets,r.arrayOffsetType||"UINT32",n):null}(t,r,s,n),u=function(t,e,r){return void 0!==e.stringOffsets?Mt(t,e.stringOffsets,e.stringOffsetType||"UINT32",r):null}(t,s,n);switch(r.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":o=function(t,e,r,n){const s=t.array,o=t.count,i=It(t.type,t.componentType),a=r.byteLength/i;let c;return c=t.componentType?Dt(r,t.type,t.componentType,a):r,s?n?Ot(c,e,n,r.length,i):o?Rt(c,e,o):[]:c}(r,n,a,c);break;case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${r.type}`);case"STRING":o=Ht(n,a,c,u);break;case"ENUM":o=function(t,e,r,n,s){const o=e.enumType;if(!o)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const i=t.enums?.[o];if(!i)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${o}`);const a=i.valueType||"UINT16",c=It(e.type,a),u=n.byteLength/c;let A=Dt(n,e.type,a,u);if(A||(A=n),e.array){if(s)return function(t){const{valuesData:e,numberOfElements:r,arrayOffsets:n,valuesDataBytesLength:s,elementSize:o,enumEntry:i}=t,a=[];for(let t=0;t<r;t++){const r=n[t],c=n[t+1]-n[t];if(c+r>s)break;const u=Zt(e,r/o,c/o,i);a.push(u)}return a}({valuesData:A,numberOfElements:r,arrayOffsets:s,valuesDataBytesLength:n.length,elementSize:c,enumEntry:i});const t=e.count;return t?function(t,e,r,n){const s=[];for(let o=0;o<e;o++){const e=Zt(t,r*o,r,n);s.push(e)}return s}(A,r,t,i):[]}return Zt(A,0,r,i)}(e,r,n,a,c);break;default:throw new Error(`Unknown classProperty type ${r.type}`)}return o}function Zt(t,e,r,n){const s=[];for(let o=0;o<r;o++)if(t instanceof BigInt64Array||t instanceof BigUint64Array)s.push("");else{const r=qt(n,t[e+o]);r?s.push(r.name):s.push("")}return s}function qt(t,e){for(const r of t.values)if(r.value===e)return r;return null}function $t(t,e,r){for(const n in t.properties){const s=t.properties[n].data;if(s){const o=e.properties[n];if(o){const e=te(s,o,r);t.properties[n]=e}}}}function zt(t,e,r="schemaClassId"){let n=t.getExtension(Nt);n||(n=t.addExtension(Nt)),n.schema=function(t,e,r){const n=r??{id:"schema_id"},s={properties:{}};for(const e of t){const t={type:e.elementType,componentType:e.componentType};s.properties[e.name]=t}return n.classes={},n.classes[e]=s,n}(e,r,n.schema);const s=function(t,e,r){const n={class:e,count:0};let s=0;const o=r.classes?.[e];for(const e of t){if(0===s&&(s=e.values.length),s!==e.values.length&&e.values.length)throw new Error("Illegal values in attributes");const t=o?.properties[e.name];t&&(n.properties||(n.properties={}),n.properties[e.name]={values:0,data:e.values})}return n.count=s,n}(e,r,n.schema);return n.propertyTables||(n.propertyTables=[]),n.propertyTables.push(s)-1}function te(t,e,r){const n={values:0};if("STRING"===e.type){const{stringData:e,stringOffsets:s}=function(t){const e=new TextEncoder,r=[];let n=0;for(const s of t){const t=e.encode(s);n+=t.length,r.push(t)}const s=new Uint8Array(n),o=[];let i=0;for(const t of r)s.set(t,i),o.push(i),i+=t.length;o.push(i);return{stringData:s,stringOffsets:new Uint32Array(o)}}(t);n.stringOffsets=re(s,r),n.values=re(e,r)}else if("SCALAR"===e.type&&e.componentType){const s=function(t,e){const r=[];for(const e of t)r.push(Number(e));const n=ee[e];if(!n)throw new Error("Illegal component type");return new n(r)}(t,e.componentType);n.values=re(s,r)}return n}const ee={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:Int32Array,UINT64:Uint32Array,FLOAT32:Float32Array,FLOAT64:Float64Array};function re(t,e){return e.gltf.buffers.push({arrayBuffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}),e.addBufferView(t)}const ne=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),se=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),oe={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ie={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};let ae;const ce="EXT_meshopt_compression",ue=ce;async function Ae(t,e){const r=new yt(t);if(!e?.gltf?.decompressMeshes||!e.gltf?.loadBuffers)return;const n=[];for(const e of t.json.bufferViews||[])n.push(fe(r,e));await Promise.all(n),r.removeExtension(ce)}async function fe(t,e){const r=t.getObjectExtension(e,ce);if(r){const{byteOffset:n=0,byteLength:s=0,byteStride:o,count:i,mode:a,filter:c="NONE",buffer:u}=r,A=t.gltf.buffers[u],f=new Uint8Array(A.arrayBuffer,A.byteOffset+n,s),B=new Uint8Array(t.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);await async function(t,e,r,n,s,o="NONE"){const i=await async function(){return ae||(ae=async function(){let t="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";WebAssembly.validate(ne)&&(t="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",console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=await WebAssembly.instantiate(function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);e[r]=n>96?n-71:n>64?n-65:n>47?n+4:n>46?63:62}let r=0;for(let n=0;n<t.length;++n)e[r++]=e[n]<60?se[e[n]]:64*(e[n]-60)+e[++n];return e.buffer.slice(0,r)}(t),{});return await e.instance.exports.__wasm_call_ctors(),e.instance}()),ae}();!function(t,e,r,n,s,o,i){const a=t.exports.sbrk,c=n+3&-4,u=a(c*s),A=a(o.length),f=new Uint8Array(t.exports.memory.buffer);f.set(o,A);const B=e(u,n,s,A,o.length);if(0===B&&i&&i(u,c,s),r.set(f.subarray(u,u+n*s)),a(u-a(0)),0!==B)throw new Error(`Malformed buffer data: ${B}`)}(i,i.exports[ie[s]],t,e,r,n,i.exports[oe[o||"NONE"]])}(B,i,o,f,a,c),t.removeObjectExtension(e,ce)}}const Be={};function le(t){if(void 0===Be[t]){const e=m.Bd?function(t){switch(t){case"image/avif":case"image/webp":return function(t){try{return 0===document.createElement("canvas").toDataURL(t).indexOf(`data:${t}`)}catch{return!1}}(t);default:return!0}}(t):function(t){const e=globalThis.loaders?.imageFormatsNode||["image/png","image/jpeg","image/gif"],r=globalThis.loaders?.parseImageNode;return Boolean(r)&&e.includes(t)}(t);Be[t]=e}return Be[t]}const he="EXT_texture_webp",de=he;function Ce(t,e){const r=new yt(t);if(!le("image/webp")){if(r.getRequiredExtensions().includes(he))throw new Error(`gltf: Required extension ${he} not supported by browser`);return}const{json:n}=r;for(const t of n.textures||[]){const e=r.getObjectExtension(t,he);e&&(t.source=e.source),r.removeObjectExtension(t,he)}r.removeExtension(he)}const ge="KHR_texture_basisu",me=ge;function be(t,e){const r=new yt(t),{json:n}=r;for(const t of n.textures||[]){const e=r.getObjectExtension(t,ge);e&&(t.source=e.source,r.removeObjectExtension(t,ge))}r.removeExtension(ge)}var ye=r(9679);function pe(t){const{buffer:e,size:r,count:n}=function(t){let e=t,r=1,n=0;return t&&t.value&&(e=t.value,r=t.size||1),e&&(ArrayBuffer.isView(e)||(e=function(t,e,r=!1){return t?Array.isArray(t)?new e(t):!r||t instanceof e?t:new e(t):null}(e,Float32Array)),n=e.length/r),{buffer:e,size:r,count:n}}(t);return{value:e,size:r,byteOffset:0,count:n,type:gt(r),componentType:mt(e)}}const Ee="KHR_draco_mesh_compression",Fe=Ee;function Ge(t,e,r){const n=new yt(t);for(const t of Je(n))n.getObjectExtension(t,Ee)}async function Ie(t,e,r){if(!e?.gltf?.decompressMeshes)return;const n=new yt(t),s=[];for(const t of Je(n))n.getObjectExtension(t,Ee)&&s.push(De(n,t,e,r));await Promise.all(s),n.removeExtension(Ee)}function Me(t,e={}){const r=new yt(t);for(const t of r.json.meshes||[])we(t),r.addRequiredExtension(Ee)}async function De(t,e,r,n){const s=t.getObjectExtension(e,Ee);if(!s)return;const o=t.getTypedArrayForBufferView(s.bufferView),i=(0,d._m)(o.buffer,o.byteOffset),a={...r};delete a["3d-tiles"];const c=await C(i,ye.Vl,a,n),u=function(t){const e={};for(const r in t){const n=t[r];if("indices"!==r){const t=pe(n);e[r]=t}}return e}(c.attributes);for(const[r,n]of Object.entries(u))if(r in e.attributes){const s=e.attributes[r],o=t.getAccessor(s);o?.min&&o?.max&&(n.min=o.min,n.max=o.max)}e.attributes=u,c.indices&&(e.indices=pe(c.indices)),t.removeObjectExtension(e,Ee),function(t){if(!t.attributes&&Object.keys(t.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(e)}function we(t,e,r=4,n,s){if(!n.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const o=n.DracoWriter.encodeSync({attributes:t}),i=s?.parseSync?.({attributes:t}),a=n._addFauxAttributes(i.attributes),c=n.addBufferView(o);return{primitives:[{attributes:a,mode:r,extensions:{[Ee]:{bufferView:c,attributes:a}}}]}}function*Je(t){for(const e of t.json.meshes||[])for(const t of e.primitives)yield t}Math.PI,Math.PI,globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};const Te=globalThis.mathgl.config;function Oe(t,{precision:e=Te.precision}={}){return t=function(t){return Math.round(t/Te.EPSILON)*Te.EPSILON}(t),`${parseFloat(t.toPrecision(e))}`}function Re(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function He(t,e,r){const n=Te.EPSILON;r&&(Te.EPSILON=r);try{if(t===e)return!0;if(Re(t)&&Re(e)){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!He(t[r],e[r]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):"number"==typeof t&&"number"==typeof e&&Math.abs(t-e)<=Te.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{Te.EPSILON=n}}class Ue extends Array{clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}toArray(t=[],e=0){for(let r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}toObject(t){return t}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}to(t){return t===this?this:Re(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Te)}formatString(t){let e="";for(let r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+Oe(this[r],t);return`${t.printTypes?this.constructor.name:""}[${e}]`}equals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(!He(this[e],t[e]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,e,r){if(void 0===r)return this.lerp(this,t,e);for(let n=0;n<this.ELEMENTS;++n){const s=t[n],o="number"==typeof e?e:e[n];this[n]=s+r*(o-s)}return this.check()}min(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}max(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}clamp(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}add(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=e[t];return this.check()}subtract(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=e[t];return this.check()}scale(t){if("number"==typeof t)for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;else for(let e=0;e<this.ELEMENTS&&e<t.length;++e)this[e]*=t[e];return this.check()}multiplyByScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}check(){if(Te.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let t=this.length===this.ELEMENTS;for(let e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}sub(t){return this.subtract(t)}setScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}addScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}divideScalar(t){return this.multiplyByScalar(1/t)}clampScalar(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}get elements(){return this}}function Le(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function ve(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}class xe extends Ue{get x(){return this[0]}set x(t){this[0]=Le(t)}get y(){return this[1]}set y(t){this[1]=Le(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let e=0;for(let r=0;r<this.ELEMENTS;++r){const n=this[r]-t[r];e+=n*n}return Le(e)}dot(t){let e=0;for(let r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return Le(e)}normalize(){const t=this.magnitude();if(0!==t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}multiply(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e[t];return this.check()}divide(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return ve(t>=0&&t<this.ELEMENTS,"index is out of range"),Le(this[t])}setComponent(t,e){return ve(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}addVectors(t,e){return this.copy(t).add(e)}subVectors(t,e){return this.copy(t).subtract(e)}multiplyVectors(t,e){return this.copy(t).multiply(e)}addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}let je="undefined"!=typeof Float32Array?Float32Array:Array;function Ke(t,e,r){const n=e[0],s=e[1],o=e[2];return t[0]=n*r[0]+s*r[3]+o*r[6],t[1]=n*r[1]+s*r[4]+o*r[7],t[2]=n*r[2]+s*r[5]+o*r[8],t}Math.random,Math.PI,function(){const t=new je(3);je!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0)}();const Se=[0,0,0];let Ne;class _e extends xe{static get ZERO(){return Ne||(Ne=new _e(0,0,0),Object.freeze(Ne)),Ne}constructor(t=0,e=0,r=0){super(-0,-0,-0),1===arguments.length&&Re(t)?this.copy(t):(Te.debug&&(Le(t),Le(e),Le(r)),this[0]=t,this[1]=e,this[2]=r)}set(t,e,r){return this[0]=t,this[1]=e,this[2]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return Te.debug&&(Le(t.x),Le(t.y),Le(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=Le(t)}angle(t){return function(t,e){const r=t[0],n=t[1],s=t[2],o=e[0],i=e[1],a=e[2],c=Math.sqrt((r*r+n*n+s*s)*(o*o+i*i+a*a)),u=c&&function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}(t,e)/c;return Math.acos(Math.min(Math.max(u,-1),1))}(this,t)}cross(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2],i=r[0],a=r[1],c=r[2];t[0]=s*c-o*a,t[1]=o*i-n*c,t[2]=n*a-s*i}(this,this,t),this.check()}rotateX({radians:t,origin:e=Se}){return function(t,e,r,n){const s=[],o=[];s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],o[0]=s[0],o[1]=s[1]*Math.cos(n)-s[2]*Math.sin(n),o[2]=s[1]*Math.sin(n)+s[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2]}(this,this,e,t),this.check()}rotateY({radians:t,origin:e=Se}){return function(t,e,r,n){const s=[],o=[];s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],o[0]=s[2]*Math.sin(n)+s[0]*Math.cos(n),o[1]=s[1],o[2]=s[2]*Math.cos(n)-s[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2]}(this,this,e,t),this.check()}rotateZ({radians:t,origin:e=Se}){return function(t,e,r,n){const s=[],o=[];s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],o[0]=s[0]*Math.cos(n)-s[1]*Math.sin(n),o[1]=s[0]*Math.sin(n)+s[1]*Math.cos(n),o[2]=s[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2]}(this,this,e,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2];let i=r[3]*n+r[7]*s+r[11]*o+r[15];i=i||1,t[0]=(r[0]*n+r[4]*s+r[8]*o+r[12])/i,t[1]=(r[1]*n+r[5]*s+r[9]*o+r[13])/i,t[2]=(r[2]*n+r[6]*s+r[10]*o+r[14])/i}(this,this,t),this.check()}transformAsVector(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2],i=r[3]*n+r[7]*s+r[11]*o||1;t[0]=(r[0]*n+r[4]*s+r[8]*o)/i,t[1]=(r[1]*n+r[5]*s+r[9]*o)/i,t[2]=(r[2]*n+r[6]*s+r[10]*o)/i}(this,this,t),this.check()}transformByMatrix3(t){return Ke(this,this,t),this.check()}transformByMatrix2(t){return function(t,e,r){const n=e[0],s=e[1];t[0]=r[0]*n+r[2]*s,t[1]=r[1]*n+r[3]*s,t[2]=e[2]}(this,this,t),this.check()}transformByQuaternion(t){return function(t,e,r){const n=r[0],s=r[1],o=r[2],i=r[3],a=e[0],c=e[1],u=e[2];let A=s*u-o*c,f=o*a-n*u,B=n*c-s*a,l=s*B-o*f,h=o*A-n*B,d=n*f-s*A;const C=2*i;A*=C,f*=C,B*=C,l*=2,h*=2,d*=2,t[0]=a+A+l,t[1]=c+f+h,t[2]=u+B+d}(this,this,t),this.check()}}class Qe extends Ue{toString(){let t="[";if(Te.printRowMajor){t+="row-major:";for(let e=0;e<this.RANK;++e)for(let r=0;r<this.RANK;++r)t+=` ${this[r*this.RANK+e]}`}else{t+="column-major:";for(let e=0;e<this.ELEMENTS;++e)t+=` ${this[e]}`}return t+="]",t}getElementIndex(t,e){return e*this.RANK+t}getElement(t,e){return this[e*this.RANK+t]}setElement(t,e,r){return this[e*this.RANK+t]=Le(r),this}getColumn(t,e=new Array(this.RANK).fill(-0)){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)e[t]=this[r+t];return e}setColumn(t,e){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)this[r+t]=e[t];return this}}function Pe(t,e,r){const n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=r[0],l=r[1],h=r[2],d=r[3],C=r[4],g=r[5],m=r[6],b=r[7],y=r[8];return t[0]=B*n+l*i+h*u,t[1]=B*s+l*a+h*A,t[2]=B*o+l*c+h*f,t[3]=d*n+C*i+g*u,t[4]=d*s+C*a+g*A,t[5]=d*o+C*c+g*f,t[6]=m*n+b*i+y*u,t[7]=m*s+b*a+y*A,t[8]=m*o+b*c+y*f,t}function ke(t,e,r){const n=r[0],s=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}var Xe;!function(){const t=new je(2);je!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL1ROW0=3]="COL1ROW0",t[t.COL1ROW1=4]="COL1ROW1",t[t.COL1ROW2=5]="COL1ROW2",t[t.COL2ROW0=6]="COL2ROW0",t[t.COL2ROW1=7]="COL2ROW1",t[t.COL2ROW2=8]="COL2ROW2"}(Xe||(Xe={}));const Ye=Object.freeze([1,0,0,0,1,0,0,0,1]);class We extends Qe{static get IDENTITY(){return Ze||(Ze=new We,Object.freeze(Ze)),Ze}static get ZERO(){return Ve||(Ve=new We([0,0,0,0,0,0,0,0,0]),Object.freeze(Ve)),Ve}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return Xe}constructor(t,...e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):e.length>0?this.copy([t,...e]):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}identity(){return this.copy(Ye)}fromObject(t){return this.check()}fromQuaternion(t){return function(t,e){const r=e[0],n=e[1],s=e[2],o=e[3],i=r+r,a=n+n,c=s+s,u=r*i,A=n*i,f=n*a,B=s*i,l=s*a,h=s*c,d=o*i,C=o*a,g=o*c;t[0]=1-f-h,t[3]=A-g,t[6]=B+C,t[1]=A+g,t[4]=1-u-h,t[7]=l-d,t[2]=B-C,t[5]=l+d,t[8]=1-u-f}(this,t),this.check()}set(t,e,r,n,s,o,i,a,c){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=s,this[5]=o,this[6]=i,this[7]=a,this[8]=c,this.check()}setRowMajor(t,e,r,n,s,o,i,a,c){return this[0]=t,this[1]=n,this[2]=i,this[3]=e,this[4]=s,this[5]=a,this[6]=r,this[7]=o,this[8]=c,this.check()}determinant(){return function(t){const e=t[0],r=t[1],n=t[2],s=t[3],o=t[4],i=t[5],a=t[6],c=t[7],u=t[8];return e*(u*o-i*c)+r*(-u*s+i*a)+n*(c*s-o*a)}(this)}transpose(){return function(t,e){if(t===e){const r=e[1],n=e[2],s=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=s}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]}(this,this),this.check()}invert(){return function(t,e){const r=e[0],n=e[1],s=e[2],o=e[3],i=e[4],a=e[5],c=e[6],u=e[7],A=e[8],f=A*i-a*u,B=-A*o+a*c,l=u*o-i*c;let h=r*f+n*B+s*l;h&&(h=1/h,t[0]=f*h,t[1]=(-A*n+s*u)*h,t[2]=(a*n-s*i)*h,t[3]=B*h,t[4]=(A*r-s*c)*h,t[5]=(-a*r+s*o)*h,t[6]=l*h,t[7]=(-u*r+n*c)*h,t[8]=(i*r-n*o)*h)}(this,this),this.check()}multiplyLeft(t){return Pe(this,t,this),this.check()}multiplyRight(t){return Pe(this,this,t),this.check()}rotate(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=Math.sin(r),l=Math.cos(r);t[0]=l*n+B*i,t[1]=l*s+B*a,t[2]=l*o+B*c,t[3]=l*i-B*n,t[4]=l*a-B*s,t[5]=l*c-B*o,t[6]=u,t[7]=A,t[8]=f}(this,this,t),this.check()}scale(t){return Array.isArray(t)?ke(this,this,t):ke(this,this,[t,t]),this.check()}translate(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=r[0],l=r[1];t[0]=n,t[1]=s,t[2]=o,t[3]=i,t[4]=a,t[5]=c,t[6]=B*n+l*i+u,t[7]=B*s+l*a+A,t[8]=B*o+l*c+f}(this,this,t),this.check()}transform(t,e){let r;switch(t.length){case 2:r=function(t,e,r){const n=e[0],s=e[1];return t[0]=r[0]*n+r[3]*s+r[6],t[1]=r[1]*n+r[4]*s+r[7],t}(e||[-0,-0],t,this);break;case 3:r=Ke(e||[-0,-0,-0],t,this);break;case 4:r=function(t,e,r){const n=e[0],s=e[1],o=e[2];return t[0]=r[0]*n+r[3]*s+r[6]*o,t[1]=r[1]*n+r[4]*s+r[7]*o,t[2]=r[2]*n+r[5]*s+r[8]*o,t[3]=e[3],t}(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return function(t,e,r=""){if(Te.debug&&!function(t,e){if(t.length!==e)return!1;for(let e=0;e<t.length;++e)if(!Number.isFinite(t[e]))return!1;return!0}(t,e))throw new Error(`math.gl: ${r} some fields set to invalid numbers'`)}(r,t.length),r}transformVector(t,e){return this.transform(t,e)}transformVector2(t,e){return this.transform(t,e)}transformVector3(t,e){return this.transform(t,e)}}let Ve,Ze=null;const qe="KHR_texture_transform",$e=qe,ze=new _e,tr=new We,er=new We;async function rr(t,e){if(!new yt(t).hasExtension(qe)||!e.gltf?.loadBuffers)return;const r=t.json.materials||[];for(let e=0;e<r.length;e++)nr(e,t)}function nr(t,e){const r=e.json.materials?.[t],n=[r?.pbrMetallicRoughness?.baseColorTexture,r?.emissiveTexture,r?.normalTexture,r?.occlusionTexture,r?.pbrMetallicRoughness?.metallicRoughnessTexture],s=[];for(const r of n)r&&r?.extensions?.[qe]&&sr(e,t,r,s)}function sr(t,e,r,n){const s=function(t,e){const r=t.extensions?.[qe],{texCoord:n=0}=t,{texCoord:s=n}=r;if(!(-1!==e.findIndex(([t,e])=>t===n&&e===s))){const o=function(t){const{offset:e=[0,0],rotation:r=0,scale:n=[1,1]}=t,s=(new We).set(1,0,0,0,1,0,e[0],e[1],1),o=tr.set(Math.cos(r),Math.sin(r),0,-Math.sin(r),Math.cos(r),0,0,0,1),i=er.set(n[0],0,0,0,n[1],0,0,0,1);return s.multiplyRight(o).multiplyRight(i)}(r);return n!==s&&(t.texCoord=s),e.push([n,s]),{originalTexCoord:n,texCoord:s,matrix:o}}return null}(r,n);if(!s)return;const o=t.json.meshes||[];for(const r of o)for(const n of r.primitives){const r=n.material;Number.isFinite(r)&&e===r&&or(t,n,s)}}function or(t,e,r){const{originalTexCoord:n,texCoord:s,matrix:o}=r,i=e.attributes[`TEXCOORD_${n}`];if(Number.isFinite(i)){const r=t.json.accessors?.[i];if(r&&r.bufferView){const i=t.json.bufferViews?.[r.bufferView];if(i){const{arrayBuffer:a,byteOffset:c}=t.buffers[i.buffer],u=(c||0)+(r.byteOffset||0)+(i.byteOffset||0),{ArrayType:A,length:f}=bt(r,i),B=At[r.componentType],l=ut[r.type],h=i.byteStride||B*l,d=new Float32Array(f);for(let t=0;t<r.count;t++){const e=new A(a,u+t*h,2);ze.set(e[0],e[1],1),ze.transformByMatrix3(o),d.set([ze[0],ze[1]],t*l)}n===s?function(t,e,r,n){t.componentType=5126,r.push({arrayBuffer:n.buffer,byteOffset:0,byteLength:n.buffer.byteLength}),e.buffer=r.length-1,e.byteLength=n.buffer.byteLength,e.byteOffset=0,delete e.byteStride}(r,i,t.buffers,d):function(t,e,r,n,s){n.buffers.push({arrayBuffer:s.buffer,byteOffset:0,byteLength:s.buffer.byteLength});const o=n.json.bufferViews;if(!o)return;o.push({buffer:n.buffers.length-1,byteLength:s.buffer.byteLength,byteOffset:0});const i=n.json.accessors;i&&(i.push({bufferView:o?.length-1,byteOffset:0,componentType:5126,count:e.count,type:"VEC2"}),r.attributes[`TEXCOORD_${t}`]=i.length-1)}(s,r,e,t,d)}}}}const ir="KHR_lights_punctual",ar=ir;async function cr(t){const e=new yt(t),{json:r}=e,n=e.getExtension(ir);n&&(e.json.lights=n.lights,e.removeExtension(ir));for(const t of r.nodes||[]){const r=e.getObjectExtension(t,ir);r&&(t.light=r.light),e.removeObjectExtension(t,ir)}}async function ur(t){const e=new yt(t),{json:r}=e;if(r.lights){const t=e.addExtension(ir);et(!t.lights),t.lights=r.lights,delete r.lights}if(e.json.lights){for(const t of e.json.lights){const r=t.node;e.addObjectExtension(r,ir,t)}delete e.json.lights}}const Ar="KHR_materials_unlit",fr=Ar;async function Br(t){const e=new yt(t),{json:r}=e;for(const t of r.materials||[])t.extensions&&t.extensions.KHR_materials_unlit&&(t.unlit=!0),e.removeObjectExtension(t,Ar);e.removeExtension(Ar)}function lr(t){const e=new yt(t),{json:r}=e;if(e.materials)for(const t of r.materials||[])t.unlit&&(delete t.unlit,e.addObjectExtension(t,Ar,{}),e.addExtension(Ar))}const hr="KHR_techniques_webgl",dr=hr;async function Cr(t){const e=new yt(t),{json:r}=e,n=e.getExtension(hr);if(n){const t=function(t,e){const{programs:r=[],shaders:n=[],techniques:s=[]}=t,o=new TextDecoder;return n.forEach(t=>{if(!Number.isFinite(t.bufferView))throw new Error("KHR_techniques_webgl: no shader code");t.code=o.decode(e.getTypedArrayForBufferView(t.bufferView))}),r.forEach(t=>{t.fragmentShader=n[t.fragmentShader],t.vertexShader=n[t.vertexShader]}),s.forEach(t=>{t.program=r[t.program]}),s}(n,e);for(const n of r.materials||[]){const r=e.getObjectExtension(n,hr);r&&(n.technique=Object.assign({},r,t[r.technique]),n.technique.values=mr(n.technique,e)),e.removeObjectExtension(n,hr)}e.removeExtension(hr)}}async function gr(t,e){}function mr(t,e){const r=Object.assign({},t.values);return Object.keys(t.uniforms||{}).forEach(e=>{t.uniforms[e].value&&!(e in r)&&(r[e]=t.uniforms[e].value)}),Object.keys(r).forEach(t=>{"object"==typeof r[t]&&void 0!==r[t].index&&(r[t].texture=e.getTexture(r[t].index))}),r}const br="EXT_feature_metadata",yr=br;async function pr(t,e){!function(t,e){if(!e.gltf?.loadBuffers)return;const r=t.getExtension(br);r&&(e.gltf?.loadImages&&function(t,e){const r=e.schema;if(!r)return;const n=r.classes,{featureTextures:s}=e;if(n&&s)for(const e in n){const r=n[e],o=Fr(s,e);o&&Ir(t,o,r)}}(t,r),function(t,e){const r=e.schema;if(!r)return;const n=r.classes,s=e.featureTables;if(n&&s)for(const e in n){const n=Er(s,e);n&&Gr(t,r,n)}}(t,r))}(new yt(t),e)}function Er(t,e){for(const r in t){const n=t[r];if(n.class===e)return n}return null}function Fr(t,e){for(const r in t){const n=t[r];if(n.class===e)return n}return null}function Gr(t,e,r){if(!r.class)return;const n=e.classes?.[r.class];if(!n)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${r.class}`);const s=r.count;for(const e in n.properties){const o=n.properties[e],i=r.properties?.[e];if(i){const e=Mr(t,0,o,s,i);i.data=e}}}function Ir(t,e,r){const n=e.class;for(const s in r.properties){const r=e?.properties?.[s];if(r){const e=Dr(t,r,n);r.data=e}}}function Mr(t,e,r,n,s){let o=[];const i=s.bufferView,a=t.getTypedArrayForBufferView(i),c=function(t,e,r,n){return"ARRAY"===e.type&&void 0===e.componentCount&&void 0!==r.arrayOffsetBufferView?Mt(t,r.arrayOffsetBufferView,r.offsetType||"UINT32",n):null}(t,r,s,n),u=function(t,e,r,n){return void 0!==r.stringOffsetBufferView?Mt(t,r.stringOffsetBufferView,r.offsetType||"UINT32",n):null}(t,0,s,n);return"STRING"===r.type||"STRING"===r.componentType?o=Ht(n,a,c,u):function(t){const e=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return e.includes(t.type)||void 0!==t.componentType&&e.includes(t.componentType)}(r)&&(o=function(t,e,r,n){const s="ARRAY"===t.type,o=t.componentCount,i="SCALAR",a=t.componentType||t.type,c=It(i,a),u=Dt(r,i,a,r.byteLength/c);return s?n?Ot(u,e,n,r.length,c):o?Rt(u,e,o):[]:u}(r,n,a,c)),o}function Dr(t,e,r){const n=t.gltf.json;if(!n.meshes)return[];const s=[];for(const o of n.meshes)for(const n of o.primitives)wr(t,r,e,s,n);return s}function wr(t,e,r,n,s){const o=wt(t,{channels:r.channels,...r.texture},s);o&&Jt(t,e,o,n,s)}const Jr=[s,n,o,i,a,c,A,f,B,u,l];function Tr(t,e){const r=e?.gltf?.excludeExtensions||{};return!(t in r&&!r[t])}const Or="KHR_binary_glTF",Rr={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},Hr={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class Ur{idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}};json;normalize(t,e){this.json=t.json;const r=t.json;switch(r.asset&&r.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn(`glTF: Unknown version ${r.asset.version}`)}if(!e.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(r),this._convertTopLevelObjectsToArrays(r),function(t){const e=new yt(t),{json:r}=e;for(const t of r.images||[]){const r=e.getObjectExtension(t,Or);r&&Object.assign(t,r),e.removeObjectExtension(t,Or)}r.buffers&&r.buffers[0]&&delete r.buffers[0].uri,e.removeExtension(Or)}(t),this._convertObjectIdsToArrayIndices(r),this._updateObjects(r),this._updateMaterial(r)}_addAsset(t){t.asset=t.asset||{},t.asset.version="2.0",t.asset.generator=t.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(t){for(const e in Rr)this._convertTopLevelObjectToArray(t,e)}_convertTopLevelObjectToArray(t,e){const r=t[e];if(r&&!Array.isArray(r)){t[e]=[];for(const n in r){const s=r[n];s.id=s.id||n;const o=t[e].length;t[e].push(s),this.idToIndexMap[e][n]=o}}}_convertObjectIdsToArrayIndices(t){for(const e in Rr)this._convertIdsToIndices(t,e);"scene"in t&&(t.scene=this._convertIdToIndex(t.scene,"scene"));for(const e of t.textures)this._convertTextureIds(e);for(const e of t.meshes)this._convertMeshIds(e);for(const e of t.nodes)this._convertNodeIds(e);for(const e of t.scenes)this._convertSceneIds(e)}_convertTextureIds(t){t.source&&(t.source=this._convertIdToIndex(t.source,"image"))}_convertMeshIds(t){for(const e of t.primitives){const{attributes:t,indices:r,material:n}=e;for(const e in t)t[e]=this._convertIdToIndex(t[e],"accessor");r&&(e.indices=this._convertIdToIndex(r,"accessor")),n&&(e.material=this._convertIdToIndex(n,"material"))}}_convertNodeIds(t){t.children&&(t.children=t.children.map(t=>this._convertIdToIndex(t,"node"))),t.meshes&&(t.meshes=t.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(t){t.nodes&&(t.nodes=t.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(t,e){t[e]||(console.warn(`gltf v1: json doesn't contain attribute ${e}`),t[e]=[]);for(const r of t[e])for(const t in r){const e=r[t],n=this._convertIdToIndex(e,t);r[t]=n}}_convertIdToIndex(t,e){const r=Hr[e];if(r in this.idToIndexMap){const n=this.idToIndexMap[r][t];if(!Number.isFinite(n))throw new Error(`gltf v1: failed to resolve ${e} with id ${t}`);return n}return t}_updateObjects(t){for(const t of this.json.buffers)delete t.type}_updateMaterial(t){for(const e of t.materials){e.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const r=e.values?.tex||e.values?.texture2d_0||e.values?.diffuseTex,n=t.textures.findIndex(t=>t.id===r);-1!==n&&(e.pbrMetallicRoughness.baseColorTexture={index:n})}}}async function Lr(t,e,r=0,n,s){return function(t,e,r,n){if(n.uri&&(t.baseUri=n.uri),e instanceof ArrayBuffer&&!function(t,e=0,r={}){const n=new DataView(t),{magic:s=ot}=r,o=n.getUint32(e,!1);return o===s||o===ot}(e,r,n)&&(e=(new TextDecoder).decode(e)),"string"==typeof e)t.json=function(t){try{return JSON.parse(t)}catch(e){throw new Error(`Failed to parse JSON from data starting with "${function(t,e=5){return"string"==typeof t?t.slice(0,e):ArrayBuffer.isView(t)?h(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?h(t,0,e):""}(t)}"`)}}(e);else if(e instanceof ArrayBuffer){const s={};r=function(t,e,r=0){const n=new DataView(e),s=function(t,e=0){return`${String.fromCharCode(t.getUint8(e+0))}${String.fromCharCode(t.getUint8(e+1))}${String.fromCharCode(t.getUint8(e+2))}${String.fromCharCode(t.getUint8(e+3))}`}(n,r+0),o=n.getUint32(r+4,st),i=n.getUint32(r+8,st);switch(Object.assign(t,{header:{byteOffset:r,byteLength:i,hasBinChunk:!1},type:s,version:o,json:{},binChunks:[]}),r+=12,t.version){case 1:return function(t,e,r){(0,g.v)(t.header.byteLength>20);const n=e.getUint32(r+0,st),s=e.getUint32(r+4,st);return r+=8,(0,g.v)(0===s),it(t,e,r,n),(r+=n)+at(t,e,r,t.header.byteLength)}(t,n,r);case 2:return function(t,e,r){return(0,g.v)(t.header.byteLength>20),function(t,e,r,n){for(;r+8<=t.header.byteLength;){const s=e.getUint32(r+0,st),o=e.getUint32(r+4,st);switch(r+=8,o){case 1313821514:it(t,e,r,s);break;case 5130562:at(t,e,r,s);break;case 0:n.strict||it(t,e,r,s);break;case 1:n.strict||at(t,e,r,s)}r+=rt(s,4)}}(t,e,r,{}),r+t.header.byteLength}(t,n,r);default:throw new Error(`Invalid GLB version ${t.version}. Only supports version 1 and 2.`)}}(s,e,r,n.glb),et("glTF"===s.type,`Invalid GLB magic string ${s.type}`),t._glb=s,t.json=s.json}else et(!1,"GLTF: must be ArrayBuffer or string");const s=t.json.buffers||[];if(t.buffers=new Array(s.length).fill(null),t._glb&&t._glb.header.hasBinChunk){const{binChunks:e}=t._glb;t.buffers[0]={arrayBuffer:e[0].arrayBuffer,byteOffset:e[0].byteOffset,byteLength:e[0].byteLength}}const o=t.json.images||[];t.images=new Array(o.length).fill({})}(t,e,r,n),function(t,e={}){(new Ur).normalize(t,e)}(t,{normalize:n?.gltf?.normalize}),function(t,e={},r){const n=Jr.filter(t=>Tr(t.name,e));for(const s of n)s.preprocess?.(t,e,r)}(t,n,s),n?.gltf?.loadBuffers&&t.json.buffers&&await async function(t,e,r){const n=t.json.buffers||[];for(let s=0;s<n.length;++s){const o=n[s];if(o.uri){const{fetch:n}=r;et(n);const i=ct(o.uri,e),a=await(r?.fetch?.(i)),c=await(a?.arrayBuffer?.());t.buffers[s]={arrayBuffer:c,byteOffset:0,byteLength:c.byteLength},delete o.uri}else null===t.buffers[s]&&(t.buffers[s]={arrayBuffer:new ArrayBuffer(o.byteLength),byteOffset:0,byteLength:o.byteLength})}}(t,n,s),n?.gltf?.loadImages&&await async function(t,e,r){const n=function(t){const e=new Set,r=t.json.textures||[];for(const t of r)void 0!==t.source&&e.add(t.source);return Array.from(e).sort()}(t),s=t.json.images||[],o=[];for(const i of n)o.push(vr(t,s[i],i,e,r));return await Promise.all(o)}(t,n,s),await async function(t,e={},r){const n=Jr.filter(t=>Tr(t.name,e));for(const s of n)await(s.decode?.(t,e,r))}(t,n,s),t}async function vr(t,e,r,n,s){let o;if(e.uri&&!e.hasOwnProperty("bufferView")){const t=ct(e.uri,n),{fetch:r}=s,i=await r(t);o=await i.arrayBuffer(),e.bufferView={data:o}}if(Number.isFinite(e.bufferView)){const r=function(t,e,r){const n=t.bufferViews[r];et(n);const s=e[n.buffer];et(s);const o=(n.byteOffset||0)+s.byteOffset;return new Uint8Array(s.arrayBuffer,o,n.byteLength)}(t.json,t.buffers,e.bufferView);o=(0,d._m)(r.buffer,r.byteOffset,r.byteLength)}et(o,"glTF image has no data");let i=await C(o,[x,tt],{...n,mimeType:e.mimeType,basis:n.basis||{format:z()}},s);i&&i[0]&&(i={compressed:!0,mipmaps:!1,width:i[0].width,height:i[0].height,data:i[0]}),t.images=t.images||[],t.images[r]=i}const xr={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:"4.3.3",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:async function(t,e={},r){(e={...xr.options,...e}).gltf={...xr.options.gltf,...e.gltf};const{byteOffset:n=0}=e;return await Lr({},t,n,e,r)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}}},1556(t,e,r){function n(t,e,r){if(r=r||t.byteLength,t.byteLength<r||e.byteLength<r)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let t=0;t<n.length;++t)if(n[t]!==s[t])return!1;return!0}function s(...t){return function(t){const e=t.map(t=>t instanceof ArrayBuffer?new Uint8Array(t):t),r=e.reduce((t,e)=>t+e.byteLength,0),n=new Uint8Array(r);let s=0;for(const t of e)n.set(t,s),s+=t.byteLength;return n.buffer}(t)}function o(t,e,r){const n=void 0!==r?new Uint8Array(t).subarray(e,e+r):new Uint8Array(t).subarray(e);return new Uint8Array(n).buffer}r.d(e,{AQ:()=>s,YV:()=>n,_m:()=>o})},4020(t,e,r){function n(t,e){if(!t)throw new Error(e||"loader assertion failed.")}r.d(e,{v:()=>n})},7976(t,e,r){r.d(e,{Bd:()=>n}),"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==r.g&&r.g,"undefined"!=typeof document&&document;const n=Boolean("object"!=typeof process||"[object process]"!==String(process)||process.browser),s="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);s&&parseFloat(s[1])},3605(t,e,r){function n(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}r.d(e,{v:()=>n})},4971(t,e,r){r.d(e,{Bd:()=>n,Fr:()=>o,xD:()=>s}),"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==r.g&&r.g,"undefined"!=typeof document&&document;const n="object"!=typeof process||"[object process]"!==String(process)||process.browser,s="function"==typeof importScripts,o="undefined"!=typeof window&&void 0!==window.orientation,i="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);i&&parseFloat(i[1])},9099(t,e,r){r.d(e,{Q:()=>s,x:()=>n});const n="latest",s=(globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version)},8016(t,e,r){r.d(e,{_:()=>a});var n=r(4971),s=r(3605),o=r(9099);const i={};async function a(t,e=null,r={},a=null){return e&&(t=function(t,e,r={},i=null){if(!r.useLocalLibraries&&t.startsWith("http"))return t;i=i||t;const a=r.modules||{};return a[i]?a[i]:n.Bd?r.CDN?((0,s.v)(r.CDN.startsWith("http")),`${r.CDN}/${e}@${o.Q}/dist/libs/${i}`):n.xD?`../src/libs/${i}`:`modules/${e}/src/libs/${i}`:`modules/${e}/dist/libs/${i}`}(t,e,r,a)),i[t]=i[t]||async function(t){if(t.endsWith("wasm"))return await async function(t){const{readFileAsArrayBuffer:e}=globalThis.loaders||{};if(n.Bd||!e||t.startsWith("http")){const e=await fetch(t);return await e.arrayBuffer()}return await e(t)}(t);if(!n.Bd)try{const{requireFromFile:e}=globalThis.loaders||{};return await(e?.(t))}catch(t){return console.error(t),null}if(n.xD)return importScripts(t);return function(t,e){if(!n.Bd){const{requireFromString:r}=globalThis.loaders||{};return r?.(t,e)}if(n.xD)return eval.call(globalThis,t),null;const r=document.createElement("script");r.id=e;try{r.appendChild(document.createTextNode(t))}catch(e){r.text=t}return document.body.appendChild(r),null}(await async function(t){const{readFileAsText:e}=globalThis.loaders||{};if(n.Bd||!e||t.startsWith("http")){const e=await fetch(t);return await e.text()}return await e(t)}(t),t)}(t),await i[t]}},8401(t,e,r){function n(t,e,r,n){return new(r||(r=Promise))(function(s,o){function i(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,a)}c((n=n.apply(t,e||[])).next())})}r.d(e,{sH:()=>n}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUtDLEVBQUt4QyxFQUFLQyxFQUFLQyxFQUNsQyxNQUNGLElBQUssTUFDSHhFLEVBQUksR0FBS3NFLEVBQUt1QyxFQUFLQyxFQUFLSCxFQUFLcEMsRUFBS0MsRUFDbEN4RSxFQUFJLEdBQUsyRyxFQUFLcEMsRUFBS3VDLEVBQUt4QyxFQUFLdUMsRUFBS3JDLEVBQ2xDeEUsRUFBSSxHQUFLMkcsRUFBS0UsRUFBS3JDLEVBQUtGLEVBQUtDLEVBQUt1QyxFQUNsQzlHLEVBQUksR0FBSzJHLEVBQUtFLEVBQUtDLEVBQUt4QyxFQUFLQyxFQUFLQyxFQUNsQyxNQUNGLElBQUssTUFDSHhFLEVBQUksR0FBS3NFLEVBQUt1QyxFQUFLQyxFQUFLSCxFQUFLcEMsRUFBS0MsRUFDbEN4RSxFQUFJLEdBQUsyRyxFQUFLcEMsRUFBS3VDLEVBQUt4QyxFQUFLdUMsRUFBS3JDLEVBQ2xDeEUsRUFBSSxHQUFLMkcsRUFBS0UsRUFBS3JDLEVBQUtGLEVBQUtDLEVBQUt1QyxFQUNsQzlHLEVBQUksR0FBSzJHLEVBQUtFLEVBQUtDLEVBQUt4QyxFQUFLQyxFQUFLQyxFQUNsQyxNQUNGLElBQUssTUFDSHhFLEVBQUksR0FBS3NFLEVBQUt1QyxFQUFLQyxFQUFLSCxFQUFLcEMsRUFBS0MsRUFDbEN4RSxFQUFJLEdBQUsyRyxFQUFLcEMsRUFBS3VDLEVBQUt4QyxFQUFLdUMsRUFBS3JDLEVBQ2xDeEUsRUFBSSxHQUFLMkcsRUFBS0UsRUFBS3JDLEVBQUtGLEVBQUtDLEVBQUt1QyxFQUNsQzlHLEVBQUksR0FBSzJHLEVBQUtFLEVBQUtDLEVBQUt4QyxFQUFLQyxFQUFLQyxFQUNsQyxNQUNGLElBQUssTUFDSHhFLEVBQUksR0FBS3NFLEVBQUt1QyxFQUFLQyxFQUFLSCxFQUFLcEMsRUFBS0MsRUFDbEN4RSxFQUFJLEdBQUsyRyxFQUFLcEMsRUFBS3VDLEVBQUt4QyxFQUFLdUMsRUFBS3JDLEVBQ2xDeEUsRUFBSSxHQUFLMkcsRUFBS0UsRUFBS3JDLEVBQUtGLEVBQUtDLEVBQUt1QyxFQUNsQzlHLEVBQUksR0FBSzJHLEVBQUtF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R0FDS0EsRUFDL0MsQ0E3RDJDa0IsQ0FBb0JsQixTQUM5Q0YsRUFBb0JFLEVBQ3JDLEMsY0NrRk8sU0FBU21CLEVBQVVDLEVBQVNDLEVBQVlDLEVBQUdqckIsR0FFaEQsT0FBTyxJQUFLaXJCLElBQU1BLEVBQUluL0MsVUFBVSxTQUFVQyxFQUFTdVMsR0FDL0MsU0FBUzRzQyxFQUFVaCtDLEdBQVMsSUFBTWkrQyxFQUFLbnJCLEVBQVVvckIsS0FBS2wrQyxHQUFTLENBQUUsTUFBT2tDLEdBQUtrUCxFQUFPbFAsRUFBSSxDQUFFLENBQzFGLFNBQVNpOEMsRUFBU24rQyxHQUFTLElBQU1pK0MsRUFBS25yQixFQUFpQixNQUFFOXlCLEdBQVMsQ0FBRSxNQUFPa0MsR0FBS2tQLEVBQU9sUCxFQUFJLENBQUUsQ0FDN0YsU0FBUys3QyxFQUFLOStDLEdBSmxCLElBQWVhLEVBSWFiLEVBQU9tUyxLQUFPelMsRUFBUU0sRUFBT2EsUUFKMUNBLEVBSXlEYixFQUFPYSxNQUpoREEsYUFBaUIrOUMsRUFBSS85QyxFQUFRLElBQUkrOUMsRUFBRSxTQUFVbC9DLEdBQVdBLEVBQVFtQixFQUFRLElBSWpCd2xCLEtBQUt3NEIsRUFBV0csRUFBVyxDQUM3R0YsR0FBTW5yQixFQUFZQSxFQUFVc3JCLE1BQU1QLEVBQVNDLEdBQWMsS0FBS0ksT0FDbEUsRUFDRixDLGtCQThCNkJwK0MsT0FBT3pOLE9BMkdYeU4sT0FBT3pOLE9Bb0VrQixtQkFBcEJnc0QsaUJBQWlDQSxlIiwic291cmNlcyI6WyIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQyLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0My5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDQuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWM0LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vcXVhdC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2phdmFzY3JpcHQtdXRpbHMvaXMtdHlwZS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2xvYWRlci11dGlscy9ub3JtYWxpemUtbG9hZGVyLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xpYi9wYXRoLXV0aWxzL2ZpbGUtYWxpYXNlcy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2ZldGNoL2ZldGNoLWVycm9yLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9saWIvdXRpbHMvbWltZS10eXBlLXV0aWxzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9saWIvdXRpbHMvdXJsLXV0aWxzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9saWIvdXRpbHMvcmVzb3VyY2UtdXRpbHMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi91dGlscy9yZXNwb25zZS11dGlscy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2ZldGNoL2ZldGNoLWZpbGUuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQHByb2JlLmdsL2Vudi9kaXN0L2xpYi9pcy1icm93c2VyLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bwcm9iZS5nbC9lbnYvZGlzdC9saWIvaXMtZWxlY3Ryb24uanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQHByb2JlLmdsL2Vudi9kaXN0L2luZGV4LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bwcm9iZS5nbC9sb2cvZGlzdC91dGlscy9sb2NhbC1zdG9yYWdlLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bwcm9iZS5nbC9sb2cvZGlzdC91dGlscy9jb2xvci5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AcHJvYmUuZ2wvbG9nL2Rpc3QvdXRpbHMvYXNzZXJ0LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bwcm9iZS5nbC9lbnYvZGlzdC9saWIvZ2xvYmFscy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AcHJvYmUuZ2wvbG9nL2Rpc3QvdXRpbHMvaGktcmVzLXRpbWVzdGFtcC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AcHJvYmUuZ2wvbG9nL2Rpc3QvbG9nLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bwcm9iZS5nbC9sb2cvZGlzdC91dGlscy9hdXRvYmluZC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AcHJvYmUuZ2wvbG9nL2Rpc3QvdXRpbHMvZm9ybWF0dGVycy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2xvYWRlci11dGlscy9sb2dnZXJzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9saWIvbG9hZGVyLXV0aWxzL29wdGlvbi1kZWZhdWx0cy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2xvYWRlci11dGlscy9vcHRpb24tdXRpbHMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi9sb2FkZXItdXRpbHMvZ2V0LWZldGNoLWZ1bmN0aW9uLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xpYi9vcHRpb24tdXRpbHMvbWVyZ2UtbG9hZGVyLW9wdGlvbnMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzL2Rpc3QvbGliL25vZGUvd29ya2VyX3RocmVhZHMtYnJvd3Nlci5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvd29ya2VyLXV0aWxzL2dldC1sb2FkYWJsZS13b3JrZXItdXJsLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3dvcmtlci11dGlscy9kaXN0L2xpYi93b3JrZXItdXRpbHMvZ2V0LXRyYW5zZmVyLWxpc3QuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzL2Rpc3QvbGliL3dvcmtlci1mYXJtL3dvcmtlci10aHJlYWQuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzL2Rpc3QvbGliL3dvcmtlci1mYXJtL3dvcmtlci1qb2IuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzL2Rpc3QvbGliL3dvcmtlci1mYXJtL3dvcmtlci1wb29sLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3dvcmtlci11dGlscy9kaXN0L2xpYi93b3JrZXItZmFybS93b3JrZXItZmFybS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9sb2FkZXItdXRpbHMvZGlzdC9saWIvd29ya2VyLWxvYWRlci11dGlscy9wYXJzZS13aXRoLXdvcmtlci5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvd29ya2VyLWFwaS9nZXQtd29ya2VyLXVybC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvaXRlcmF0b3JzL21ha2UtaXRlcmF0b3IvbWFrZS1hcnJheS1idWZmZXItaXRlcmF0b3IuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL2JpbmFyeS11dGlscy9tZW1vcnktY29udmVyc2lvbi11dGlscy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvaXRlcmF0b3JzL21ha2UtaXRlcmF0b3IvbWFrZS1zdHJlYW0taXRlcmF0b3IuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi9sb2FkZXItdXRpbHMvZ2V0LWRhdGEuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2l0ZXJhdG9ycy9tYWtlLWl0ZXJhdG9yL21ha2UtaXRlcmF0b3IuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2l0ZXJhdG9ycy9tYWtlLWl0ZXJhdG9yL21ha2Utc3RyaW5nLWl0ZXJhdG9yLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9pdGVyYXRvcnMvbWFrZS1pdGVyYXRvci9tYWtlLWJsb2ItaXRlcmF0b3IuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL2l0ZXJhdG9ycy9hc3luYy1pdGVyYXRpb24uanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL3BhdGgtdXRpbHMvcGF0aC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9sb2FkZXItdXRpbHMvZGlzdC9saWIvbG9nLXV0aWxzL2xvZy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2FwaS9zZWxlY3QtbG9hZGVyLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9saWIvYXBpL3JlZ2lzdGVyLWxvYWRlcnMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi9hcGkvcGFyc2UuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi9sb2FkZXItdXRpbHMvbG9hZGVyLWNvbnRleHQuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzL2Rpc3QvbGliL3dvcmtlci1hcGkvdmFsaWRhdGUtd29ya2VyLXZlcnNpb24uanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi9hcGkvbG9hZC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9kcmFjby9kaXN0L2xpYi91dGlscy92ZXJzaW9uLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2RyYWNvL2Rpc3QvZHJhY28tbG9hZGVyLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3NjaGVtYS9kaXN0L2xpYi9tZXNoL2RlZHVjZS1tZXNoLXNjaGVtYS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9zY2hlbWEvZGlzdC9saWIvdGFibGUvc2ltcGxlLXRhYmxlL2RhdGEtdHlwZS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9kcmFjby9kaXN0L2xpYi91dGlscy9nZXQtZHJhY28tc2NoZW1hLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2RyYWNvL2Rpc3QvbGliL2RyYWNvLXBhcnNlci5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9zY2hlbWEvZGlzdC9saWIvbWVzaC9tZXNoLXV0aWxzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2RyYWNvL2Rpc3QvbGliL2RyYWNvLW1vZHVsZS1sb2FkZXIuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZHJhY28vZGlzdC9pbmRleC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9sb2FkZXItdXRpbHMvZGlzdC9saWIvYmluYXJ5LXV0aWxzL2dldC1maXJzdC1jaGFyYWN0ZXJzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xvYWRlci10eXBlcy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9pbWFnZXMvZGlzdC9saWIvY2F0ZWdvcnktYXBpL2ltYWdlLXR5cGUuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvaW1hZ2VzL2Rpc3QvbGliL2NhdGVnb3J5LWFwaS9wYXJzZWQtaW1hZ2UtYXBpLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi9wYXJzZXJzL3N2Zy11dGlscy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9pbWFnZXMvZGlzdC9saWIvcGFyc2Vycy9wYXJzZS10by1pbWFnZS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9pbWFnZXMvZGlzdC9saWIvcGFyc2Vycy9wYXJzZS10by1pbWFnZS1iaXRtYXAuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvaW1hZ2VzL2Rpc3QvbGliL2NhdGVnb3J5LWFwaS9iaW5hcnktaW1hZ2UtYXBpLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi9jYXRlZ29yeS1hcGkvcGFyc2UtaXNvYm1mZi1iaW5hcnkuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvaW1hZ2VzL2Rpc3QvaW1hZ2UtbG9hZGVyLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi91dGlscy92ZXJzaW9uLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi9wYXJzZXJzL3BhcnNlLWltYWdlLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi9wYXJzZXJzL3BhcnNlLXRvLW5vZGUtaW1hZ2UuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvdGV4dHVyZXMvZGlzdC9saWIvcGFyc2Vycy9iYXNpcy1tb2R1bGUtbG9hZGVyLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xpYi9tb2R1bGUtdXRpbHMvanMtbW9kdWxlLXV0aWxzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3RleHR1cmVzL2Rpc3QvbGliL2dsLWV4dGVuc2lvbnMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvdGV4dHVyZXMvZGlzdC9saWIvdXRpbHMvdGV4dHVyZS1mb3JtYXRzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3RleHR1cmVzL2Rpc3QvbGliL3BhcnNlcnMvcGFyc2Uta3R4LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3RleHR1cmVzL2Rpc3QvbGliL3BhcnNlcnMvcGFyc2UtYmFzaXMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvdGV4dHVyZXMvZGlzdC9iYXNpcy1sb2FkZXIuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvdGV4dHVyZXMvZGlzdC9saWIvdXRpbHMvdmVyc2lvbi5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL3V0aWxzL2Fzc2VydC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9sb2FkZXItdXRpbHMvZGlzdC9saWIvYmluYXJ5LXV0aWxzL21lbW9yeS1jb3B5LXV0aWxzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvcGFyc2Vycy9wYXJzZS1nbGIuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9nbHRmLXV0aWxzL3Jlc29sdmUtdXJsLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZ2x0Zi11dGlscy9nbHRmLWNvbnN0YW50cy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2dsdGYtdXRpbHMvZ2x0Zi11dGlscy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2FwaS9nbHRmLXNjZW5lZ3JhcGguanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9nbHRmLXV0aWxzL2dldC10eXBlZC1hcnJheS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2V4dGVuc2lvbnMvdXRpbHMvM2QtdGlsZXMtdXRpbHMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL0VYVF9tZXNoX2ZlYXR1cmVzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZXh0ZW5zaW9ucy9FWFRfc3RydWN0dXJhbF9tZXRhZGF0YS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbWVzaG9wdC9tZXNob3B0LWRlY29kZXIuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL0VYVF9tZXNob3B0X2NvbXByZXNzaW9uLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi9jYXRlZ29yeS1hcGkvaW1hZ2UtZm9ybWF0LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZXh0ZW5zaW9ucy9FWFRfdGV4dHVyZV93ZWJwLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZXh0ZW5zaW9ucy9LSFJfdGV4dHVyZV9iYXNpc3UuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9nbHRmLXV0aWxzL2dsdGYtYXR0cmlidXRlLXV0aWxzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZXh0ZW5zaW9ucy9LSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbi5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvbGliL2NvbW1vbi5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvY2xhc3Nlcy9iYXNlL21hdGgtYXJyYXkuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvY29yZS9kaXN0L2xpYi92YWxpZGF0b3JzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9saWIvYXNzZXJ0LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9jbGFzc2VzL2Jhc2UvdmVjdG9yLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9nbC1tYXRyaXgvY29tbW9uLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9nbC1tYXRyaXgvdmVjMy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvY2xhc3Nlcy92ZWN0b3IzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9saWIvZ2wtbWF0cml4LWV4dHJhcy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvY2xhc3Nlcy9iYXNlL21hdHJpeC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvZ2wtbWF0cml4L21hdDMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvY29yZS9kaXN0L2NsYXNzZXMvbWF0cml4My5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvZ2wtbWF0cml4L3ZlYzIuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL0tIUl90ZXh0dXJlX3RyYW5zZm9ybS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2V4dGVuc2lvbnMvZGVwcmVjYXRlZC9LSFJfbGlnaHRzX3B1bmN0dWFsLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZXh0ZW5zaW9ucy9kZXByZWNhdGVkL0tIUl9tYXRlcmlhbHNfdW5saXQuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvS0hSX3RlY2huaXF1ZXNfd2ViZ2wuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvRVhUX2ZlYXR1cmVfbWV0YWRhdGEuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9hcGkvZ2x0Zi1leHRlbnNpb25zLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZXh0ZW5zaW9ucy9LSFJfYmluYXJ5X2dsdGYuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9hcGkvbm9ybWFsaXplLWdsdGYtdjEuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9wYXJzZXJzL3BhcnNlLWdsdGYuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL3BhcnNlci11dGlscy9wYXJzZS1qc29uLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9nbHRmLWxvYWRlci5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL3V0aWxzL3ZlcnNpb24uanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL2JpbmFyeS11dGlscy9hcnJheS1idWZmZXItdXRpbHMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL2Vudi11dGlscy9hc3NlcnQuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL2Vudi11dGlscy9nbG9iYWxzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3dvcmtlci11dGlscy9kaXN0L2xpYi9lbnYtdXRpbHMvYXNzZXJ0LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3dvcmtlci11dGlscy9kaXN0L2xpYi9lbnYtdXRpbHMvZ2xvYmFscy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvZW52LXV0aWxzL3ZlcnNpb24uanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzL2Rpc3QvbGliL2xpYnJhcnktdXRpbHMvbGlicmFyeS11dGlscy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29tbW9uIHV0aWxpdGllc1xuICogQG1vZHVsZSBnbE1hdHJpeFxuICovXG5cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09IFwidW5kZWZpbmVkXCIgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcbmV4cG9ydCB2YXIgUkFORE9NID0gTWF0aC5yYW5kb207XG5leHBvcnQgdmFyIEFOR0xFX09SREVSID0gXCJ6eXhcIjtcblxuLyoqXG4gKiBTeW1tZXRyaWMgcm91bmRcbiAqIHNlZSBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yb3VuZC1oYWxmLXVwLXN5bW1ldHJpYyN1c2VyLWNvbnRlbnQtZGV0YWlsZWQtYmFja2dyb3VuZFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIHZhbHVlIHRvIHJvdW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChhKSB7XG4gIGlmIChhID49IDApIHJldHVybiBNYXRoLnJvdW5kKGEpO1xuICByZXR1cm4gYSAlIDAuNSA9PT0gMCA/IE1hdGguZmxvb3IoYSkgOiBNYXRoLnJvdW5kKGEpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5Q29uc3RydWN0b3IgfCBBcnJheUNvbnN0cnVjdG9yfSB0eXBlIEFycmF5IHR5cGUsIHN1Y2ggYXMgRmxvYXQzMkFycmF5IG9yIEFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRyaXhBcnJheVR5cGUodHlwZSkge1xuICBBUlJBWV9UWVBFID0gdHlwZTtcbn1cbnZhciBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xudmFyIHJhZGlhbiA9IDE4MCAvIE1hdGguUEk7XG5cbi8qKlxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgQW5nbGUgaW4gRGVncmVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW4oYSkge1xuICByZXR1cm4gYSAqIGRlZ3JlZTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IFJhZGlhbiBUbyBEZWdyZWVcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBSYWRpYW5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZShhKSB7XG4gIHJldHVybiBhICogcmFkaWFuO1xufVxuXG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSAgICAgICAgICBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcGFyYW0ge051bWJlcn0gYiAgICAgICAgICBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxuICogQHBhcmFtIHtOdW1iZXJ9IHRvbGVyYW5jZSAgQWJzb2x1dGUgb3IgcmVsYXRpdmUgdG9sZXJhbmNlIChkZWZhdWx0IGdsTWF0cml4LkVQU0lMT04pXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIHRvbGVyYW5jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogRVBTSUxPTjtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSB0b2xlcmFuY2UgKiBNYXRoLm1heCgxLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xufSIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIDJ4MiBNYXRyaXhcbiAqIEBtb2R1bGUgbWF0MlxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQyXG4gKlxuICogQHJldHVybnMge21hdDJ9IGEgbmV3IDJ4MiBtYXRyaXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gIH1cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDIgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQyfSBhIG5ldyAyeDIgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0MiB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCBhIG1hdDIgdG8gdGhlIGlkZW50aXR5IG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0MiB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0IEEgbmV3IDJ4MiBtYXRyaXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0xMCwgbTExKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0xMDtcbiAgb3V0WzNdID0gbTExO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDIgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTEwLCBtMTEpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0xMDtcbiAgb3V0WzNdID0gbTExO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlXG4gIC8vIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTEgPSBhWzFdO1xuICAgIG91dFsxXSA9IGFbMl07XG4gICAgb3V0WzJdID0gYTE7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzJdO1xuICAgIG91dFsyXSA9IGFbMV07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEludmVydHMgYSBtYXQyXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0MiB8IG51bGx9IG91dCwgb3IgbnVsbCBpZiBzb3VyY2UgbWF0cml4IGlzIG5vdCBpbnZlcnRpYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgYTEgPSBhWzFdLFxuICAgIGEyID0gYVsyXSxcbiAgICBhMyA9IGFbM107XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuICB2YXIgZGV0ID0gYTAgKiBhMyAtIGEyICogYTE7XG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSBhMyAqIGRldDtcbiAgb3V0WzFdID0gLWExICogZGV0O1xuICBvdXRbMl0gPSAtYTIgKiBkZXQ7XG4gIG91dFszXSA9IGEwICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgLy8gQ2FjaGluZyB0aGlzIHZhbHVlIGlzIG5lY2Vzc2FyeSBpZiBvdXQgPT0gYVxuICB2YXIgYTAgPSBhWzBdO1xuICBvdXRbMF0gPSBhWzNdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IGEwO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHJldHVybiBhWzBdICogYVszXSAtIGFbMl0gKiBhWzFdO1xufVxuXG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDInc1xuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICBhMSA9IGFbMV0sXG4gICAgYTIgPSBhWzJdLFxuICAgIGEzID0gYVszXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICBiMSA9IGJbMV0sXG4gICAgYjIgPSBiWzJdLFxuICAgIGIzID0gYlszXTtcbiAgb3V0WzBdID0gYTAgKiBiMCArIGEyICogYjE7XG4gIG91dFsxXSA9IGExICogYjAgKyBhMyAqIGIxO1xuICBvdXRbMl0gPSBhMCAqIGIyICsgYTIgKiBiMztcbiAgb3V0WzNdID0gYTEgKiBiMiArIGEzICogYjM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIG1hdDIgYnkgdGhlIGdpdmVuIGFuZ2xlXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgYTEgPSBhWzFdLFxuICAgIGEyID0gYVsyXSxcbiAgICBhMyA9IGFbM107XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBhMCAqIGMgKyBhMiAqIHM7XG4gIG91dFsxXSA9IGExICogYyArIGEzICogcztcbiAgb3V0WzJdID0gYTAgKiAtcyArIGEyICogYztcbiAgb3V0WzNdID0gYTEgKiAtcyArIGEzICogYztcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTY2FsZXMgdGhlIG1hdDIgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzJcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IHRoZSB2ZWMyIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICBhMSA9IGFbMV0sXG4gICAgYTIgPSBhWzJdLFxuICAgIGEzID0gYVszXTtcbiAgdmFyIHYwID0gdlswXSxcbiAgICB2MSA9IHZbMV07XG4gIG91dFswXSA9IGEwICogdjA7XG4gIG91dFsxXSA9IGExICogdjA7XG4gIG91dFsyXSA9IGEyICogdjE7XG4gIG91dFszXSA9IGEzICogdjE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGVcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQyLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDIucm90YXRlKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgbWF0MiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gLXM7XG4gIG91dFszXSA9IGM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQyLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDIuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCBtYXQyIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gIG91dFswXSA9IHZbMF07XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IHZbMV07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0MihcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoYVswXSAqIGFbMF0gKyBhWzFdICogYVsxXSArIGFbMl0gKiBhWzJdICsgYVszXSAqIGFbM10pO1xufVxuXG4vKipcbiAqIFJldHVybnMgTCwgRCBhbmQgVSBtYXRyaWNlcyAoTG93ZXIgdHJpYW5ndWxhciwgRGlhZ29uYWwgYW5kIFVwcGVyIHRyaWFuZ3VsYXIpIGJ5IGZhY3Rvcml6aW5nIHRoZSBpbnB1dCBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBMIHRoZSBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IEQgdGhlIGRpYWdvbmFsIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IFUgdGhlIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgaW5wdXQgbWF0cml4IHRvIGZhY3Rvcml6ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBMRFUoTCwgRCwgVSwgYSkge1xuICBMWzJdID0gYVsyXSAvIGFbMF07XG4gIFVbMF0gPSBhWzBdO1xuICBVWzFdID0gYVsxXTtcbiAgVVszXSA9IGFbM10gLSBMWzJdICogVVsxXTtcbiAgcmV0dXJuIFtMLCBELCBVXTtcbn1cblxuLyoqXG4gKiBBZGRzIHR3byBtYXQyJ3NcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgYTEgPSBhWzFdLFxuICAgIGEyID0gYVsyXSxcbiAgICBhMyA9IGFbM107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgYjEgPSBiWzFdLFxuICAgIGIyID0gYlsyXSxcbiAgICBiMyA9IGJbM107XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSk7XG59XG5cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBBZGRzIHR3byBtYXQyJ3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDIubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDIuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcblxuLyoqXG4gKiAzeDMgTWF0cml4XG4gKiBAbW9kdWxlIG1hdDNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0M1xuICpcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzVdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gIH1cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHVwcGVyLWxlZnQgM3gzIHZhbHVlcyBpbnRvIHRoZSBnaXZlbiBtYXQzLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgM3gzIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgICB0aGUgc291cmNlIDR4NCBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQ0KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzRdO1xuICBvdXRbNF0gPSBhWzVdO1xuICBvdXRbNV0gPSBhWzZdO1xuICBvdXRbNl0gPSBhWzhdO1xuICBvdXRbN10gPSBhWzldO1xuICBvdXRbOF0gPSBhWzEwXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0MyB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQzIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEByZXR1cm5zIHttYXQzfSBBIG5ldyBtYXQzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMTA7XG4gIG91dFs0XSA9IG0xMTtcbiAgb3V0WzVdID0gbTEyO1xuICBvdXRbNl0gPSBtMjA7XG4gIG91dFs3XSA9IG0yMTtcbiAgb3V0WzhdID0gbTIyO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDMgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0xMDtcbiAgb3V0WzRdID0gbTExO1xuICBvdXRbNV0gPSBtMTI7XG4gIG91dFs2XSA9IG0yMDtcbiAgb3V0WzddID0gbTIxO1xuICBvdXRbOF0gPSBtMjI7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2V0IGEgbWF0MyB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMTIgPSBhWzVdO1xuICAgIG91dFsxXSA9IGFbM107XG4gICAgb3V0WzJdID0gYVs2XTtcbiAgICBvdXRbM10gPSBhMDE7XG4gICAgb3V0WzVdID0gYVs3XTtcbiAgICBvdXRbNl0gPSBhMDI7XG4gICAgb3V0WzddID0gYTEyO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVszXTtcbiAgICBvdXRbMl0gPSBhWzZdO1xuICAgIG91dFszXSA9IGFbMV07XG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzddO1xuICAgIG91dFs2XSA9IGFbMl07XG4gICAgb3V0WzddID0gYVs1XTtcbiAgICBvdXRbOF0gPSBhWzhdO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzIHwgbnVsbH0gb3V0LCBvciBudWxsIGlmIHNvdXJjZSBtYXRyaXggaXMgbm90IGludmVydGlibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgYTAxID0gYVsxXSxcbiAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICBhMTEgPSBhWzRdLFxuICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgIGEyMSA9IGFbN10sXG4gICAgYTIyID0gYVs4XTtcbiAgdmFyIGIwMSA9IGEyMiAqIGExMSAtIGExMiAqIGEyMTtcbiAgdmFyIGIxMSA9IC1hMjIgKiBhMTAgKyBhMTIgKiBhMjA7XG4gIHZhciBiMjEgPSBhMjEgKiBhMTAgLSBhMTEgKiBhMjA7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuICB2YXIgZGV0ID0gYTAwICogYjAxICsgYTAxICogYjExICsgYTAyICogYjIxO1xuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gYjAxICogZGV0O1xuICBvdXRbMV0gPSAoLWEyMiAqIGEwMSArIGEwMiAqIGEyMSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMTIgKiBhMDEgLSBhMDIgKiBhMTEpICogZGV0O1xuICBvdXRbM10gPSBiMTEgKiBkZXQ7XG4gIG91dFs0XSA9IChhMjIgKiBhMDAgLSBhMDIgKiBhMjApICogZGV0O1xuICBvdXRbNV0gPSAoLWExMiAqIGEwMCArIGEwMiAqIGExMCkgKiBkZXQ7XG4gIG91dFs2XSA9IGIyMSAqIGRldDtcbiAgb3V0WzddID0gKC1hMjEgKiBhMDAgKyBhMDEgKiBhMjApICogZGV0O1xuICBvdXRbOF0gPSAoYTExICogYTAwIC0gYTAxICogYTEwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXTtcbiAgdmFyIGExMCA9IGFbM10sXG4gICAgYTExID0gYVs0XSxcbiAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICBhMjEgPSBhWzddLFxuICAgIGEyMiA9IGFbOF07XG4gIG91dFswXSA9IGExMSAqIGEyMiAtIGExMiAqIGEyMTtcbiAgb3V0WzFdID0gYTAyICogYTIxIC0gYTAxICogYTIyO1xuICBvdXRbMl0gPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIG91dFszXSA9IGExMiAqIGEyMCAtIGExMCAqIGEyMjtcbiAgb3V0WzRdID0gYTAwICogYTIyIC0gYTAyICogYTIwO1xuICBvdXRbNV0gPSBhMDIgKiBhMTAgLSBhMDAgKiBhMTI7XG4gIG91dFs2XSA9IGExMCAqIGEyMSAtIGExMSAqIGEyMDtcbiAgb3V0WzddID0gYTAxICogYTIwIC0gYTAwICogYTIxO1xuICBvdXRbOF0gPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgYTAxID0gYVsxXSxcbiAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICBhMTEgPSBhWzRdLFxuICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgIGEyMSA9IGFbN10sXG4gICAgYTIyID0gYVs4XTtcbiAgcmV0dXJuIGEwMCAqIChhMjIgKiBhMTEgLSBhMTIgKiBhMjEpICsgYTAxICogKC1hMjIgKiBhMTAgKyBhMTIgKiBhMjApICsgYTAyICogKGEyMSAqIGExMCAtIGExMSAqIGEyMCk7XG59XG5cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0MydzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICBhMDEgPSBhWzFdLFxuICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgIGExMSA9IGFbNF0sXG4gICAgYTEyID0gYVs1XTtcbiAgdmFyIGEyMCA9IGFbNl0sXG4gICAgYTIxID0gYVs3XSxcbiAgICBhMjIgPSBhWzhdO1xuICB2YXIgYjAwID0gYlswXSxcbiAgICBiMDEgPSBiWzFdLFxuICAgIGIwMiA9IGJbMl07XG4gIHZhciBiMTAgPSBiWzNdLFxuICAgIGIxMSA9IGJbNF0sXG4gICAgYjEyID0gYls1XTtcbiAgdmFyIGIyMCA9IGJbNl0sXG4gICAgYjIxID0gYls3XSxcbiAgICBiMjIgPSBiWzhdO1xuICBvdXRbMF0gPSBiMDAgKiBhMDAgKyBiMDEgKiBhMTAgKyBiMDIgKiBhMjA7XG4gIG91dFsxXSA9IGIwMCAqIGEwMSArIGIwMSAqIGExMSArIGIwMiAqIGEyMTtcbiAgb3V0WzJdID0gYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyO1xuICBvdXRbM10gPSBiMTAgKiBhMDAgKyBiMTEgKiBhMTAgKyBiMTIgKiBhMjA7XG4gIG91dFs0XSA9IGIxMCAqIGEwMSArIGIxMSAqIGExMSArIGIxMiAqIGEyMTtcbiAgb3V0WzVdID0gYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyO1xuICBvdXRbNl0gPSBiMjAgKiBhMDAgKyBiMjEgKiBhMTAgKyBiMjIgKiBhMjA7XG4gIG91dFs3XSA9IGIyMCAqIGEwMSArIGIyMSAqIGExMSArIGIyMiAqIGEyMTtcbiAgb3V0WzhdID0gYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDMgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICBhMDEgPSBhWzFdLFxuICAgIGEwMiA9IGFbMl0sXG4gICAgYTEwID0gYVszXSxcbiAgICBhMTEgPSBhWzRdLFxuICAgIGExMiA9IGFbNV0sXG4gICAgYTIwID0gYVs2XSxcbiAgICBhMjEgPSBhWzddLFxuICAgIGEyMiA9IGFbOF0sXG4gICAgeCA9IHZbMF0sXG4gICAgeSA9IHZbMV07XG4gIG91dFswXSA9IGEwMDtcbiAgb3V0WzFdID0gYTAxO1xuICBvdXRbMl0gPSBhMDI7XG4gIG91dFszXSA9IGExMDtcbiAgb3V0WzRdID0gYTExO1xuICBvdXRbNV0gPSBhMTI7XG4gIG91dFs2XSA9IHggKiBhMDAgKyB5ICogYTEwICsgYTIwO1xuICBvdXRbN10gPSB4ICogYTAxICsgeSAqIGExMSArIGEyMTtcbiAgb3V0WzhdID0geCAqIGEwMiArIHkgKiBhMTIgKyBhMjI7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIG1hdDMgYnkgdGhlIGdpdmVuIGFuZ2xlXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXSxcbiAgICBhMTAgPSBhWzNdLFxuICAgIGExMSA9IGFbNF0sXG4gICAgYTEyID0gYVs1XSxcbiAgICBhMjAgPSBhWzZdLFxuICAgIGEyMSA9IGFbN10sXG4gICAgYTIyID0gYVs4XSxcbiAgICBzID0gTWF0aC5zaW4ocmFkKSxcbiAgICBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYyAqIGEwMCArIHMgKiBhMTA7XG4gIG91dFsxXSA9IGMgKiBhMDEgKyBzICogYTExO1xuICBvdXRbMl0gPSBjICogYTAyICsgcyAqIGExMjtcbiAgb3V0WzNdID0gYyAqIGExMCAtIHMgKiBhMDA7XG4gIG91dFs0XSA9IGMgKiBhMTEgLSBzICogYTAxO1xuICBvdXRbNV0gPSBjICogYTEyIC0gcyAqIGEwMjtcbiAgb3V0WzZdID0gYTIwO1xuICBvdXRbN10gPSBhMjE7XG4gIG91dFs4XSA9IGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTY2FsZXMgdGhlIG1hdDMgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzJcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdGhlIHZlYzIgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgeSA9IHZbMV07XG4gIG91dFswXSA9IHggKiBhWzBdO1xuICBvdXRbMV0gPSB4ICogYVsxXTtcbiAgb3V0WzJdID0geCAqIGFbMl07XG4gIG91dFszXSA9IHkgKiBhWzNdO1xuICBvdXRbNF0gPSB5ICogYVs0XTtcbiAgb3V0WzVdID0geSAqIGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQzLnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSB2WzBdO1xuICBvdXRbN10gPSB2WzFdO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQzLnJvdGF0ZShkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpLFxuICAgIGMgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAtcztcbiAgb3V0WzRdID0gYztcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gdlsxXTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBmcm9tIGEgbWF0MmQgaW50byBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBtYXRyaXggdG8gY29weVxuICogQHJldHVybnMge21hdDN9IG91dFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQyZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gYVsyXTtcbiAgb3V0WzRdID0gYVszXTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gYVs0XTtcbiAgb3V0WzddID0gYVs1XTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgIHkgPSBxWzFdLFxuICAgIHogPSBxWzJdLFxuICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzNdID0geXggLSB3ejtcbiAgb3V0WzZdID0genggKyB3eTtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzRdID0gMSAtIHh4IC0geno7XG4gIG91dFs3XSA9IHp5IC0gd3g7XG4gIG91dFsyXSA9IHp4IC0gd3k7XG4gIG91dFs1XSA9IHp5ICsgd3g7XG4gIG91dFs4XSA9IDEgLSB4eCAtIHl5O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgYSAzeDMgbm9ybWFsIG1hdHJpeCAodHJhbnNwb3NlIGludmVyc2UpIGZyb20gdGhlIDR4NCBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBNYXQ0IHRvIGRlcml2ZSB0aGUgbm9ybWFsIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsRnJvbU1hdDQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXSxcbiAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICBhMTEgPSBhWzVdLFxuICAgIGExMiA9IGFbNl0sXG4gICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgYTIxID0gYVs5XSxcbiAgICBhMjIgPSBhWzEwXSxcbiAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgIGEzMSA9IGFbMTNdLFxuICAgIGEzMiA9IGFbMTRdLFxuICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzJdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFszXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbNF0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbN10gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgMkQgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHlvdXIgZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgZ2wgY29udGV4dFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbihvdXQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgb3V0WzBdID0gMiAvIHdpZHRoO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtMiAvIGhlaWdodDtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gLTE7XG4gIG91dFs3XSA9IDE7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0MyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiKVwiO1xufVxuXG4vKipcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byBjYWxjdWxhdGUgRnJvYmVuaXVzIG5vcm0gb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguc3FydChhWzBdICogYVswXSArIGFbMV0gKiBhWzFdICsgYVsyXSAqIGFbMl0gKyBhWzNdICogYVszXSArIGFbNF0gKiBhWzRdICsgYVs1XSAqIGFbNV0gKyBhWzZdICogYVs2XSArIGFbN10gKiBhWzddICsgYVs4XSAqIGFbOF0pO1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIG1hdDMnc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgb3V0WzRdID0gYVs0XSAqIGI7XG4gIG91dFs1XSA9IGFbNV0gKiBiO1xuICBvdXRbNl0gPSBhWzZdICogYjtcbiAgb3V0WzddID0gYVs3XSAqIGI7XG4gIG91dFs4XSA9IGFbOF0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIG1hdDMncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICBhMSA9IGFbMV0sXG4gICAgYTIgPSBhWzJdLFxuICAgIGEzID0gYVszXSxcbiAgICBhNCA9IGFbNF0sXG4gICAgYTUgPSBhWzVdLFxuICAgIGE2ID0gYVs2XSxcbiAgICBhNyA9IGFbN10sXG4gICAgYTggPSBhWzhdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdLFxuICAgIGI0ID0gYls0XSxcbiAgICBiNSA9IGJbNV0sXG4gICAgYjYgPSBiWzZdLFxuICAgIGI3ID0gYls3XSxcbiAgICBiOCA9IGJbOF07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKTtcbn1cblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcblxuLyoqXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cbiAqIEBtb2R1bGUgbWF0NFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQ0XG4gKlxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gICAgb3V0WzhdID0gMDtcbiAgICBvdXRbOV0gPSAwO1xuICAgIG91dFsxMV0gPSAwO1xuICAgIG91dFsxMl0gPSAwO1xuICAgIG91dFsxM10gPSAwO1xuICAgIG91dFsxNF0gPSAwO1xuICB9XG4gIG91dFswXSA9IDE7XG4gIG91dFs1XSA9IDE7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0NCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXG4gKiBAcmV0dXJucyB7bWF0NH0gQSBuZXcgbWF0NFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCBhIG1hdDQgdG8gdGhlIGlkZW50aXR5IG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgICB2YXIgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gICAgdmFyIGEyMyA9IGFbMTFdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhMDE7XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhMDI7XG4gICAgb3V0WzldID0gYTEyO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYTAzO1xuICAgIG91dFsxM10gPSBhMTM7XG4gICAgb3V0WzE0XSA9IGEyMztcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhWzFdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhWzJdO1xuICAgIG91dFs5XSA9IGFbNl07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYVszXTtcbiAgICBvdXRbMTNdID0gYVs3XTtcbiAgICBvdXRbMTRdID0gYVsxMV07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0IHwgbnVsbH0gb3V0LCBvciBudWxsIGlmIHNvdXJjZSBtYXRyaXggaXMgbm90IGludmVydGlibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgYTAxID0gYVsxXSxcbiAgICBhMDIgPSBhWzJdLFxuICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgIGExMSA9IGFbNV0sXG4gICAgYTEyID0gYVs2XSxcbiAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICBhMjEgPSBhWzldLFxuICAgIGEyMiA9IGFbMTBdLFxuICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgYTMxID0gYVsxM10sXG4gICAgYTMyID0gYVsxNF0sXG4gICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzNdID0gKGEyMiAqIGIwNCAtIGEyMSAqIGIwNSAtIGEyMyAqIGIwMykgKiBkZXQ7XG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xuICBvdXRbNV0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzZdID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xuICBvdXRbOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcbiAgb3V0WzldID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcbiAgb3V0WzExXSA9IChhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDApICogZGV0O1xuICBvdXRbMTJdID0gKGExMSAqIGIwNyAtIGExMCAqIGIwOSAtIGExMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcbiAgb3V0WzE0XSA9IChhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDApICogZGV0O1xuICBvdXRbMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICBhMDEgPSBhWzFdLFxuICAgIGEwMiA9IGFbMl0sXG4gICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgYTExID0gYVs1XSxcbiAgICBhMTIgPSBhWzZdLFxuICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgIGEyMSA9IGFbOV0sXG4gICAgYTIyID0gYVsxMF0sXG4gICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICBhMzEgPSBhWzEzXSxcbiAgICBhMzIgPSBhWzE0XSxcbiAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjtcbiAgb3V0WzBdID0gYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5O1xuICBvdXRbMV0gPSBhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDk7XG4gIG91dFsyXSA9IGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMztcbiAgb3V0WzNdID0gYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzO1xuICBvdXRbNF0gPSBhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDc7XG4gIG91dFs1XSA9IGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNztcbiAgb3V0WzZdID0gYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxO1xuICBvdXRbN10gPSBhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDE7XG4gIG91dFs4XSA9IGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNjtcbiAgb3V0WzldID0gYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2O1xuICBvdXRbMTBdID0gYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwO1xuICBvdXRbMTFdID0gYTIxICogYjAyIC0gYTIwICogYjA0IC0gYTIzICogYjAwO1xuICBvdXRbMTJdID0gYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2O1xuICBvdXRbMTNdID0gYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2O1xuICBvdXRbMTRdID0gYTMxICogYjAxIC0gYTMwICogYjAzIC0gYTMyICogYjAwO1xuICBvdXRbMTVdID0gYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXSxcbiAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICBhMTEgPSBhWzVdLFxuICAgIGExMiA9IGFbNl0sXG4gICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgYTIxID0gYVs5XSxcbiAgICBhMjIgPSBhWzEwXSxcbiAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgIGEzMSA9IGFbMTNdLFxuICAgIGEzMiA9IGFbMTRdLFxuICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIyID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjMgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiNCA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGI1ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjYgPSBhMDAgKiBiNSAtIGEwMSAqIGI0ICsgYTAyICogYjM7XG4gIHZhciBiNyA9IGExMCAqIGI1IC0gYTExICogYjQgKyBhMTIgKiBiMztcbiAgdmFyIGI4ID0gYTIwICogYjIgLSBhMjEgKiBiMSArIGEyMiAqIGIwO1xuICB2YXIgYjkgPSBhMzAgKiBiMiAtIGEzMSAqIGIxICsgYTMyICogYjA7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuICByZXR1cm4gYTEzICogYjYgLSBhMDMgKiBiNyArIGEzMyAqIGI4IC0gYTIzICogYjk7XG59XG5cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0NHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXSxcbiAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICBhMTEgPSBhWzVdLFxuICAgIGExMiA9IGFbNl0sXG4gICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgYTIxID0gYVs5XSxcbiAgICBhMjIgPSBhWzEwXSxcbiAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgIGEzMSA9IGFbMTNdLFxuICAgIGEzMiA9IGFbMTRdLFxuICAgIGEzMyA9IGFbMTVdO1xuXG4gIC8vIENhY2hlIG9ubHkgdGhlIGN1cnJlbnQgbGluZSBvZiB0aGUgc2Vjb25kIG1hdHJpeFxuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdO1xuICBvdXRbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsyXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzRdO1xuICBiMSA9IGJbNV07XG4gIGIyID0gYls2XTtcbiAgYjMgPSBiWzddO1xuICBvdXRbNF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzVdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbN10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzhdO1xuICBiMSA9IGJbOV07XG4gIGIyID0gYlsxMF07XG4gIGIzID0gYlsxMV07XG4gIG91dFs4XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzEwXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTFdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYlsxMl07XG4gIGIxID0gYlsxM107XG4gIGIyID0gYlsxNF07XG4gIGIzID0gYlsxNV07XG4gIG91dFsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzEzXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTRdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2xhdGUgYSBtYXQ0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgIHkgPSB2WzFdLFxuICAgIHogPSB2WzJdO1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0NCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMyBub3QgdXNpbmcgdmVjdG9yaXphdGlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB0aGUgdmVjMyB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gIHZhciB4ID0gdlswXSxcbiAgICB5ID0gdlsxXSxcbiAgICB6ID0gdlsyXTtcbiAgb3V0WzBdID0gYVswXSAqIHg7XG4gIG91dFsxXSA9IGFbMV0gKiB4O1xuICBvdXRbMl0gPSBhWzJdICogeDtcbiAgb3V0WzNdID0gYVszXSAqIHg7XG4gIG91dFs0XSA9IGFbNF0gKiB5O1xuICBvdXRbNV0gPSBhWzVdICogeTtcbiAgb3V0WzZdID0gYVs2XSAqIHk7XG4gIG91dFs3XSA9IGFbN10gKiB5O1xuICBvdXRbOF0gPSBhWzhdICogejtcbiAgb3V0WzldID0gYVs5XSAqIHo7XG4gIG91dFsxMF0gPSBhWzEwXSAqIHo7XG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0NCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICB5ID0gYXhpc1sxXSxcbiAgICB6ID0gYXhpc1syXTtcbiAgdmFyIGxlbiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZW4gPSAxIC8gbGVuO1xuICB4ICo9IGxlbjtcbiAgeSAqPSBsZW47XG4gIHogKj0gbGVuO1xuICBzID0gTWF0aC5zaW4ocmFkKTtcbiAgYyA9IE1hdGguY29zKHJhZCk7XG4gIHQgPSAxIC0gYztcbiAgYTAwID0gYVswXTtcbiAgYTAxID0gYVsxXTtcbiAgYTAyID0gYVsyXTtcbiAgYTAzID0gYVszXTtcbiAgYTEwID0gYVs0XTtcbiAgYTExID0gYVs1XTtcbiAgYTEyID0gYVs2XTtcbiAgYTEzID0gYVs3XTtcbiAgYTIwID0gYVs4XTtcbiAgYTIxID0gYVs5XTtcbiAgYTIyID0gYVsxMF07XG4gIGEyMyA9IGFbMTFdO1xuXG4gIC8vIENvbnN0cnVjdCB0aGUgZWxlbWVudHMgb2YgdGhlIHJvdGF0aW9uIG1hdHJpeFxuICBiMDAgPSB4ICogeCAqIHQgKyBjO1xuICBiMDEgPSB5ICogeCAqIHQgKyB6ICogcztcbiAgYjAyID0geiAqIHggKiB0IC0geSAqIHM7XG4gIGIxMCA9IHggKiB5ICogdCAtIHogKiBzO1xuICBiMTEgPSB5ICogeSAqIHQgKyBjO1xuICBiMTIgPSB6ICogeSAqIHQgKyB4ICogcztcbiAgYjIwID0geCAqIHogKiB0ICsgeSAqIHM7XG4gIGIyMSA9IHkgKiB6ICogdCAtIHggKiBzO1xuICBiMjIgPSB6ICogeiAqIHQgKyBjO1xuXG4gIC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG4gIG91dFswXSA9IGEwMCAqIGIwMCArIGExMCAqIGIwMSArIGEyMCAqIGIwMjtcbiAgb3V0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyO1xuICBvdXRbMl0gPSBhMDIgKiBiMDAgKyBhMTIgKiBiMDEgKyBhMjIgKiBiMDI7XG4gIG91dFszXSA9IGEwMyAqIGIwMCArIGExMyAqIGIwMSArIGEyMyAqIGIwMjtcbiAgb3V0WzRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyO1xuICBvdXRbNV0gPSBhMDEgKiBiMTAgKyBhMTEgKiBiMTEgKyBhMjEgKiBiMTI7XG4gIG91dFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcbiAgb3V0WzddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyO1xuICBvdXRbOF0gPSBhMDAgKiBiMjAgKyBhMTAgKiBiMjEgKyBhMjAgKiBiMjI7XG4gIG91dFs5XSA9IGEwMSAqIGIyMCArIGExMSAqIGIyMSArIGEyMSAqIGIyMjtcbiAgb3V0WzEwXSA9IGEwMiAqIGIyMCArIGExMiAqIGIyMSArIGEyMiAqIGIyMjtcbiAgb3V0WzExXSA9IGEwMyAqIGIyMCArIGExMyAqIGIyMSArIGEyMyAqIGIyMjtcbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTEwID0gYVs0XTtcbiAgdmFyIGExMSA9IGFbNV07XG4gIHZhciBhMTIgPSBhWzZdO1xuICB2YXIgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzRdID0gYTEwICogYyArIGEyMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgKyBhMjEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcbiAgb3V0WzddID0gYTEzICogYyArIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEyMCAqIGMgLSBhMTAgKiBzO1xuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcbiAgb3V0WzEwXSA9IGEyMiAqIGMgLSBhMTIgKiBzO1xuICBvdXRbMTFdID0gYTIzICogYyAtIGExMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzBdID0gYTAwICogYyAtIGEyMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjIC0gYTIyICogcztcbiAgb3V0WzNdID0gYTAzICogYyAtIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xuICBvdXRbOV0gPSBhMDEgKiBzICsgYTIxICogYztcbiAgb3V0WzEwXSA9IGEwMiAqIHMgKyBhMjIgKiBjO1xuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzBdID0gYTAwICogYyArIGExMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgKyBhMTEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjICsgYTEyICogcztcbiAgb3V0WzNdID0gYTAzICogYyArIGExMyAqIHM7XG4gIG91dFs0XSA9IGExMCAqIGMgLSBhMDAgKiBzO1xuICBvdXRbNV0gPSBhMTEgKiBjIC0gYTAxICogcztcbiAgb3V0WzZdID0gYTEyICogYyAtIGEwMiAqIHM7XG4gIG91dFs3XSA9IGExMyAqIGMgLSBhMDMgKiBzO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gdlsxXTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IHZbMl07XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZShkZXN0LCBkZXN0LCByYWQsIGF4aXMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgIHkgPSBheGlzWzFdLFxuICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gIHZhciBzLCBjLCB0O1xuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjO1xuXG4gIC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG4gIG91dFswXSA9IHggKiB4ICogdCArIGM7XG4gIG91dFsxXSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XG4gIG91dFs2XSA9IHogKiB5ICogdCArIHggKiBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcbiAgb3V0WzldID0geSAqIHogKiB0IC0geCAqIHM7XG4gIG91dFsxMF0gPSB6ICogeiAqIHQgKyBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVYKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21YUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG5cbiAgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBjO1xuICBvdXRbNl0gPSBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAtcztcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcblxuICAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWihkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuXG4gIC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLXM7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBtYXQ0LmZyb21RdWF0KHF1YXRNYXQsIHF1YXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgZGVzdCwgcXVhdE1hdCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgeSA9IHFbMV0sXG4gICAgeiA9IHFbMl0sXG4gICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgTWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgYnkgPSAtYVsxXSxcbiAgICBieiA9IC1hWzJdLFxuICAgIGJ3ID0gYVszXSxcbiAgICBheCA9IGFbNF0sXG4gICAgYXkgPSBhWzVdLFxuICAgIGF6ID0gYVs2XSxcbiAgICBhdyA9IGFbN107XG4gIHZhciBtYWduaXR1ZGUgPSBieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnogKyBidyAqIGJ3O1xuICAvL09ubHkgc2NhbGUgaWYgaXQgbWFrZXMgc2Vuc2VcbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMiAvIG1hZ25pdHVkZTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcbiAgfVxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXG4gKiAgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIG1hdCkge1xuICBvdXRbMF0gPSBtYXRbMTJdO1xuICBvdXRbMV0gPSBtYXRbMTNdO1xuICBvdXRbMl0gPSBtYXRbMTRdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcbiAqICB3aXRoIGEgbm9ybWFsaXplZCBRdWF0ZXJuaW9uIHBhcmFtZXRlciwgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0WzBdID0gTWF0aC5zcXJ0KG0xMSAqIG0xMSArIG0xMiAqIG0xMiArIG0xMyAqIG0xMyk7XG4gIG91dFsxXSA9IE1hdGguc3FydChtMjEgKiBtMjEgKyBtMjIgKiBtMjIgKyBtMjMgKiBtMjMpO1xuICBvdXRbMl0gPSBNYXRoLnNxcnQobTMxICogbTMxICsgbTMyICogbTMyICsgbTMzICogbTMzKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XG4gKiAgb2YgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGhcbiAqICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbiwgdGhlIHJldHVybmVkIHF1YXRlcm5pb24gd2lsbCBiZSB0aGVcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBRdWF0ZXJuaW9uIHRvIHJlY2VpdmUgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0aW9uKG91dCwgbWF0KSB7XG4gIHZhciBzY2FsaW5nID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIGdldFNjYWxpbmcoc2NhbGluZywgbWF0KTtcbiAgdmFyIGlzMSA9IDEgLyBzY2FsaW5nWzBdO1xuICB2YXIgaXMyID0gMSAvIHNjYWxpbmdbMV07XG4gIHZhciBpczMgPSAxIC8gc2NhbGluZ1syXTtcbiAgdmFyIHNtMTEgPSBtYXRbMF0gKiBpczE7XG4gIHZhciBzbTEyID0gbWF0WzFdICogaXMyO1xuICB2YXIgc20xMyA9IG1hdFsyXSAqIGlzMztcbiAgdmFyIHNtMjEgPSBtYXRbNF0gKiBpczE7XG4gIHZhciBzbTIyID0gbWF0WzVdICogaXMyO1xuICB2YXIgc20yMyA9IG1hdFs2XSAqIGlzMztcbiAgdmFyIHNtMzEgPSBtYXRbOF0gKiBpczE7XG4gIHZhciBzbTMyID0gbWF0WzldICogaXMyO1xuICB2YXIgc20zMyA9IG1hdFsxMF0gKiBpczM7XG4gIHZhciB0cmFjZSA9IHNtMTEgKyBzbTIyICsgc20zMztcbiAgdmFyIFMgPSAwO1xuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIERlY29tcG9zZXMgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggaW50byBpdHMgcm90YXRpb24sIHRyYW5zbGF0aW9uXG4gKiBhbmQgc2NhbGUgY29tcG9uZW50cy4gUmV0dXJucyBvbmx5IHRoZSByb3RhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSAge3F1YXR9IG91dF9yIFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXRfdCBWZWN0b3IgdG8gcmVjZWl2ZSB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXRfcyBWZWN0b3IgdG8gcmVjZWl2ZSB0aGUgc2NhbGluZyBmYWN0b3JcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRfclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb21wb3NlKG91dF9yLCBvdXRfdCwgb3V0X3MsIG1hdCkge1xuICBvdXRfdFswXSA9IG1hdFsxMl07XG4gIG91dF90WzFdID0gbWF0WzEzXTtcbiAgb3V0X3RbMl0gPSBtYXRbMTRdO1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0X3NbMF0gPSBNYXRoLnNxcnQobTExICogbTExICsgbTEyICogbTEyICsgbTEzICogbTEzKTtcbiAgb3V0X3NbMV0gPSBNYXRoLnNxcnQobTIxICogbTIxICsgbTIyICogbTIyICsgbTIzICogbTIzKTtcbiAgb3V0X3NbMl0gPSBNYXRoLnNxcnQobTMxICogbTMxICsgbTMyICogbTMyICsgbTMzICogbTMzKTtcbiAgdmFyIGlzMSA9IDEgLyBvdXRfc1swXTtcbiAgdmFyIGlzMiA9IDEgLyBvdXRfc1sxXTtcbiAgdmFyIGlzMyA9IDEgLyBvdXRfc1syXTtcbiAgdmFyIHNtMTEgPSBtMTEgKiBpczE7XG4gIHZhciBzbTEyID0gbTEyICogaXMyO1xuICB2YXIgc20xMyA9IG0xMyAqIGlzMztcbiAgdmFyIHNtMjEgPSBtMjEgKiBpczE7XG4gIHZhciBzbTIyID0gbTIyICogaXMyO1xuICB2YXIgc20yMyA9IG0yMyAqIGlzMztcbiAgdmFyIHNtMzEgPSBtMzEgKiBpczE7XG4gIHZhciBzbTMyID0gbTMyICogaXMyO1xuICB2YXIgc20zMyA9IG0zMyAqIGlzMztcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xuICB2YXIgUyA9IDA7XG4gIGlmICh0cmFjZSA+IDApIHtcbiAgICBTID0gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKSAqIDI7XG4gICAgb3V0X3JbM10gPSAwLjI1ICogUztcbiAgICBvdXRfclswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dF9yWzFdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0X3JbMl0gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20xMSAtIHNtMjIgLSBzbTMzKSAqIDI7XG4gICAgb3V0X3JbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRfclswXSA9IDAuMjUgKiBTO1xuICAgIG91dF9yWzFdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0X3JbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0X3JbM10gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRfclswXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dF9yWzFdID0gMC4yNSAqIFM7XG4gICAgb3V0X3JbMl0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgfSBlbHNlIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMzMgLSBzbTExIC0gc20yMikgKiAyO1xuICAgIG91dF9yWzNdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gICAgb3V0X3JbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRfclsxXSA9IChzbTIzICsgc20zMikgLyBTO1xuICAgIG91dF9yWzJdID0gMC4yNSAqIFM7XG4gIH1cbiAgcmV0dXJuIG91dF9yO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBtYXQ0LmZyb21RdWF0KHF1YXRNYXQsIHF1YXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCBzY2FsZSlcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShvdXQsIHEsIHYsIHMpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICB5ID0gcVsxXSxcbiAgICB6ID0gcVsyXSxcbiAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIG91dFsxXSA9ICh4eSArIHd6KSAqIHN4O1xuICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gKHh5IC0gd3opICogc3k7XG4gIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICBvdXRbNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XG4gIG91dFs5XSA9ICh5eiAtIHd4KSAqIHN6O1xuICBvdXRbMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZSwgcm90YXRpbmcgYW5kIHNjYWxpbmcgYXJvdW5kIHRoZSBnaXZlbiBvcmlnaW5cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgb3JpZ2luKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgbWF0NC5mcm9tUXVhdChxdWF0TWF0LCBxdWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIGRlc3QsIHF1YXRNYXQpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgZGVzdCwgc2NhbGUpXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICB5ID0gcVsxXSxcbiAgICB6ID0gcVsyXSxcbiAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgIHkgPSBxWzFdLFxuICAgIHogPSBxWzJdLFxuICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geXggLSB3ejtcbiAgb3V0WzVdID0gMSAtIHh4IC0geno7XG4gIG91dFs2XSA9IHp5ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHp4ICsgd3k7XG4gIG91dFs5XSA9IHp5IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0geHggLSB5eTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlTk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKTtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICAgIG91dFsxNF0gPSAyICogZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLTIgKiBuZWFyO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnBlcnNwZWN0aXZlTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBwZXJzcGVjdGl2ZSA9IHBlcnNwZWN0aXZlTk87XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggc3VpdGFibGUgZm9yIFdlYkdQVSB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZVpPKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMik7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSBmYXIgKiBuZjtcbiAgICBvdXRbMTRdID0gZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLW5lYXI7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBmaWVsZCBvZiB2aWV3LlxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBnZW5lcmF0aW5nIHByb2plY3Rpb24gbWF0cmljZXMgdG8gYmUgdXNlZFxuICogd2l0aCB0aGUgc3RpbGwgZXhwZXJpZW1lbnRhbCBXZWJWUiBBUEkuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtPYmplY3R9IGZvdiBPYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHZhbHVlczogdXBEZWdyZWVzLCBkb3duRGVncmVlcywgbGVmdERlZ3JlZXMsIHJpZ2h0RGVncmVlc1xuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9OTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMiAqIG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5vcnRob05PfVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgb3J0aG8gPSBvcnRob05PO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHUFUvVnVsa2FuL0RpcmVjdFgvTWV0YWwncyBjbGlwIHZvbHVtZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvWk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gbmVhciAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBsb29rLWF0IG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBleWUgcG9zaXRpb24sIGZvY2FsIHBvaW50LCBhbmQgdXAgYXhpcy5cbiAqIElmIHlvdSB3YW50IGEgbWF0cml4IHRoYXQgYWN0dWFsbHkgbWFrZXMgYW4gb2JqZWN0IGxvb2sgYXQgYW5vdGhlciBvYmplY3QsIHlvdSBzaG91bGQgdXNlIHRhcmdldFRvIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBdChvdXQsIGV5ZSwgY2VudGVyLCB1cCkge1xuICB2YXIgeDAsIHgxLCB4MiwgeTAsIHkxLCB5MiwgejAsIHoxLCB6MiwgbGVuO1xuICB2YXIgZXlleCA9IGV5ZVswXTtcbiAgdmFyIGV5ZXkgPSBleWVbMV07XG4gIHZhciBleWV6ID0gZXllWzJdO1xuICB2YXIgdXB4ID0gdXBbMF07XG4gIHZhciB1cHkgPSB1cFsxXTtcbiAgdmFyIHVweiA9IHVwWzJdO1xuICB2YXIgY2VudGVyeCA9IGNlbnRlclswXTtcbiAgdmFyIGNlbnRlcnkgPSBjZW50ZXJbMV07XG4gIHZhciBjZW50ZXJ6ID0gY2VudGVyWzJdO1xuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuICB6MCA9IGV5ZXggLSBjZW50ZXJ4O1xuICB6MSA9IGV5ZXkgLSBjZW50ZXJ5O1xuICB6MiA9IGV5ZXogLSBjZW50ZXJ6O1xuICBsZW4gPSAxIC8gTWF0aC5zcXJ0KHowICogejAgKyB6MSAqIHoxICsgejIgKiB6Mik7XG4gIHowICo9IGxlbjtcbiAgejEgKj0gbGVuO1xuICB6MiAqPSBsZW47XG4gIHgwID0gdXB5ICogejIgLSB1cHogKiB6MTtcbiAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyO1xuICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IE1hdGguc3FydCh4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDIpO1xuICBpZiAoIWxlbikge1xuICAgIHgwID0gMDtcbiAgICB4MSA9IDA7XG4gICAgeDIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cbiAgeTAgPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgeTIgPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgbGVuID0gTWF0aC5zcXJ0KHkwICogeTAgKyB5MSAqIHkxICsgeTIgKiB5Mik7XG4gIGlmICghbGVuKSB7XG4gICAgeTAgPSAwO1xuICAgIHkxID0gMDtcbiAgICB5MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB5MCAqPSBsZW47XG4gICAgeTEgKj0gbGVuO1xuICAgIHkyICo9IGxlbjtcbiAgfVxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geTA7XG4gIG91dFsyXSA9IHowO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4MTtcbiAgb3V0WzVdID0geTE7XG4gIG91dFs2XSA9IHoxO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4MjtcbiAgb3V0WzldID0geTI7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XG4gIG91dFsxM10gPSAtKHkwICogZXlleCArIHkxICogZXlleSArIHkyICogZXlleik7XG4gIG91dFsxNF0gPSAtKHowICogZXlleCArIHoxICogZXlleSArIHoyICogZXlleik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIG1hdHJpeCB0aGF0IG1ha2VzIHNvbWV0aGluZyBsb29rIGF0IHNvbWV0aGluZyBlbHNlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHRhcmdldCBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YXJnZXRUbyhvdXQsIGV5ZSwgdGFyZ2V0LCB1cCkge1xuICB2YXIgZXlleCA9IGV5ZVswXSxcbiAgICBleWV5ID0gZXllWzFdLFxuICAgIGV5ZXogPSBleWVbMl0sXG4gICAgdXB4ID0gdXBbMF0sXG4gICAgdXB5ID0gdXBbMV0sXG4gICAgdXB6ID0gdXBbMl07XG4gIHZhciB6MCA9IGV5ZXggLSB0YXJnZXRbMF0sXG4gICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxuICAgIHoyID0gZXlleiAtIHRhcmdldFsyXTtcbiAgdmFyIGxlbiA9IHowICogejAgKyB6MSAqIHoxICsgejIgKiB6MjtcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgejAgKj0gbGVuO1xuICAgIHoxICo9IGxlbjtcbiAgICB6MiAqPSBsZW47XG4gIH1cbiAgdmFyIHgwID0gdXB5ICogejIgLSB1cHogKiB6MSxcbiAgICB4MSA9IHVweiAqIHowIC0gdXB4ICogejIsXG4gICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSB4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDI7XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB4MTtcbiAgb3V0WzJdID0geDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHoxICogeDIgLSB6MiAqIHgxO1xuICBvdXRbNV0gPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgb3V0WzZdID0gejAgKiB4MSAtIHoxICogeDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHowO1xuICBvdXRbOV0gPSB6MTtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IGV5ZXg7XG4gIG91dFsxM10gPSBleWV5O1xuICBvdXRbMTRdID0gZXllejtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0NChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiLCBcIiArIGFbOV0gKyBcIiwgXCIgKyBhWzEwXSArIFwiLCBcIiArIGFbMTFdICsgXCIsIFwiICsgYVsxMl0gKyBcIiwgXCIgKyBhWzEzXSArIFwiLCBcIiArIGFbMTRdICsgXCIsIFwiICsgYVsxNV0gKyBcIilcIjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoYVswXSAqIGFbMF0gKyBhWzFdICogYVsxXSArIGFbMl0gKiBhWzJdICsgYVszXSAqIGFbM10gKyBhWzRdICogYVs0XSArIGFbNV0gKiBhWzVdICsgYVs2XSAqIGFbNl0gKyBhWzddICogYVs3XSArIGFbOF0gKiBhWzhdICsgYVs5XSAqIGFbOV0gKyBhWzEwXSAqIGFbMTBdICsgYVsxMV0gKiBhWzExXSArIGFbMTJdICogYVsxMl0gKyBhWzEzXSAqIGFbMTNdICsgYVsxNF0gKiBhWzE0XSArIGFbMTVdICogYVsxNV0pO1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIG1hdDQnc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICBvdXRbOV0gPSBhWzldIC0gYls5XTtcbiAgb3V0WzEwXSA9IGFbMTBdIC0gYlsxMF07XG4gIG91dFsxMV0gPSBhWzExXSAtIGJbMTFdO1xuICBvdXRbMTJdID0gYVsxMl0gLSBiWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdIC0gYlsxM107XG4gIG91dFsxNF0gPSBhWzE0XSAtIGJbMTRdO1xuICBvdXRbMTVdID0gYVsxNV0gLSBiWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICBvdXRbOV0gPSBhWzldICsgYls5XSAqIHNjYWxlO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXSAqIHNjYWxlO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXSAqIHNjYWxlO1xuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXSAqIHNjYWxlO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXSAqIHNjYWxlO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XSAqIHNjYWxlO1xuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XSAmJiBhWzldID09PSBiWzldICYmIGFbMTBdID09PSBiWzEwXSAmJiBhWzExXSA9PT0gYlsxMV0gJiYgYVsxMl0gPT09IGJbMTJdICYmIGFbMTNdID09PSBiWzEzXSAmJiBhWzE0XSA9PT0gYlsxNF0gJiYgYVsxNV0gPT09IGJbMTVdO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgIGExID0gYVsxXSxcbiAgICBhMiA9IGFbMl0sXG4gICAgYTMgPSBhWzNdO1xuICB2YXIgYTQgPSBhWzRdLFxuICAgIGE1ID0gYVs1XSxcbiAgICBhNiA9IGFbNl0sXG4gICAgYTcgPSBhWzddO1xuICB2YXIgYTggPSBhWzhdLFxuICAgIGE5ID0gYVs5XSxcbiAgICBhMTAgPSBhWzEwXSxcbiAgICBhMTEgPSBhWzExXTtcbiAgdmFyIGExMiA9IGFbMTJdLFxuICAgIGExMyA9IGFbMTNdLFxuICAgIGExNCA9IGFbMTRdLFxuICAgIGExNSA9IGFbMTVdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdO1xuICB2YXIgYjQgPSBiWzRdLFxuICAgIGI1ID0gYls1XSxcbiAgICBiNiA9IGJbNl0sXG4gICAgYjcgPSBiWzddO1xuICB2YXIgYjggPSBiWzhdLFxuICAgIGI5ID0gYls5XSxcbiAgICBiMTAgPSBiWzEwXSxcbiAgICBiMTEgPSBiWzExXTtcbiAgdmFyIGIxMiA9IGJbMTJdLFxuICAgIGIxMyA9IGJbMTNdLFxuICAgIGIxNCA9IGJbMTRdLFxuICAgIGIxNSA9IGJbMTVdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSkgJiYgTWF0aC5hYnMoYTkgLSBiOSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTkpLCBNYXRoLmFicyhiOSkpICYmIE1hdGguYWJzKGExMCAtIGIxMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEwKSwgTWF0aC5hYnMoYjEwKSkgJiYgTWF0aC5hYnMoYTExIC0gYjExKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTEpLCBNYXRoLmFicyhiMTEpKSAmJiBNYXRoLmFicyhhMTIgLSBiMTIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMiksIE1hdGguYWJzKGIxMikpICYmIE1hdGguYWJzKGExMyAtIGIxMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEzKSwgTWF0aC5hYnMoYjEzKSkgJiYgTWF0aC5hYnMoYTE0IC0gYjE0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTQpLCBNYXRoLmFicyhiMTQpKSAmJiBNYXRoLmFicyhhMTUgLSBiMTUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNSksIE1hdGguYWJzKGIxNSkpO1xufVxuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIDQgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzRcbiAqXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHosIHcpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSB3O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWM0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6LCB3KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgb3V0WzNdID0gYVszXSAqIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAvIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5jZWlsKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIG91dFszXSA9IE1hdGguZmxvb3IoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5taW4oYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5tYXgoYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogc3ltbWV0cmljIHJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBnbE1hdHJpeC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gZ2xNYXRyaXgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IGdsTWF0cml4LnJvdW5kKGFbMl0pO1xuICBvdXRbM10gPSBnbE1hdHJpeC5yb3VuZChhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTY2FsZXMgYSB2ZWM0IGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIHZlYzQncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG5cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSAtYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICBvdXRbM10gPSAxLjAgLyBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cbiAgb3V0WzBdID0geCAqIGxlbjtcbiAgb3V0WzFdID0geSAqIGxlbjtcbiAgb3V0WzJdID0geiAqIGxlbjtcbiAgb3V0WzNdID0gdyAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXSArIGFbM10gKiBiWzNdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNyb3NzLXByb2R1Y3Qgb2YgdGhyZWUgdmVjdG9ycyBpbiBhIDQtZGltZW5zaW9uYWwgc3BhY2VcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gdSB0aGUgZmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gdiB0aGUgc2Vjb25kIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IHcgdGhlIHRoaXJkIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IHJlc3VsdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCB1LCB2LCB3KSB7XG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcbiAgICBCID0gdlswXSAqIHdbMl0gLSB2WzJdICogd1swXSxcbiAgICBDID0gdlswXSAqIHdbM10gLSB2WzNdICogd1swXSxcbiAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcbiAgICBFID0gdlsxXSAqIHdbM10gLSB2WzNdICogd1sxXSxcbiAgICBGID0gdlsyXSAqIHdbM10gLSB2WzNdICogd1syXTtcbiAgdmFyIEcgPSB1WzBdO1xuICB2YXIgSCA9IHVbMV07XG4gIHZhciBJID0gdVsyXTtcbiAgdmFyIEogPSB1WzNdO1xuICBvdXRbMF0gPSBIICogRiAtIEkgKiBFICsgSiAqIEQ7XG4gIG91dFsxXSA9IC0oRyAqIEYpICsgSSAqIEMgLSBKICogQjtcbiAgb3V0WzJdID0gRyAqIEUgLSBIICogQyArIEogKiBBO1xuICBvdXRbM10gPSAtKEcgKiBEKSArIEggKiBCIC0gSSAqIEE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgdmFyIGF3ID0gYVszXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgb3V0WzNdID0gYXcgKyB0ICogKGJbM10gLSBhdyk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSA9PT0gdW5kZWZpbmVkID8gMS4wIDogc2NhbGU7XG5cbiAgLy8gTWFyc2FnbGlhLCBHZW9yZ2UuIENob29zaW5nIGEgUG9pbnQgZnJvbSB0aGUgU3VyZmFjZSBvZiBhXG4gIC8vIFNwaGVyZS4gQW5uLiBNYXRoLiBTdGF0aXN0LiA0MyAoMTk3MiksIG5vLiAyLCA2NDUtLTY0Ni5cbiAgLy8gaHR0cDovL3Byb2plY3RldWNsaWQub3JnL2V1Y2xpZC5hb21zLzExNzc2OTI2NDQ7XG4gIHZhciB2MSwgdjIsIHYzLCB2NDtcbiAgdmFyIHMxLCBzMjtcbiAgdmFyIHJhbmQ7XG4gIHJhbmQgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdjEgPSByYW5kICogMiAtIDE7XG4gIHYyID0gKDQgKiBnbE1hdHJpeC5SQU5ET00oKSAtIDIpICogTWF0aC5zcXJ0KHJhbmQgKiAtcmFuZCArIHJhbmQpO1xuICBzMSA9IHYxICogdjEgKyB2MiAqIHYyO1xuICByYW5kID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHYzID0gcmFuZCAqIDIgLSAxO1xuICB2NCA9ICg0ICogZ2xNYXRyaXguUkFORE9NKCkgLSAyKSAqIE1hdGguc3FydChyYW5kICogLXJhbmQgKyByYW5kKTtcbiAgczIgPSB2MyAqIHYzICsgdjQgKiB2NDtcbiAgdmFyIGQgPSBNYXRoLnNxcnQoKDEgLSBzMSkgLyBzMik7XG4gIG91dFswXSA9IHNjYWxlICogdjE7XG4gIG91dFsxXSA9IHNjYWxlICogdjI7XG4gIG91dFsyXSA9IHNjYWxlICogdjMgKiBkO1xuICBvdXRbM10gPSBzY2FsZSAqIHY0ICogZDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBtYXQ0LlxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgeSA9IGFbMV0sXG4gICAgeiA9IGFbMl0sXG4gICAgdyA9IGFbM107XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdICogdztcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10gKiB3O1xuICBvdXRbMl0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0gKiB3O1xuICBvdXRbM10gPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV0gKiB3O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIG5vcm1hbGl6ZWQgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gRmFzdCBWZWN0b3IgUm90YXRpb24gdXNpbmcgUXVhdGVybmlvbnMgYnkgUm9iZXJ0IEVpc2VsZVxuICAvLyBodHRwczovL3Jhdy5vcmcvcHJvb2YvdmVjdG9yLXJvdGF0aW9uLXVzaW5nLXF1YXRlcm5pb25zL1xuXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgcXkgPSBxWzFdLFxuICAgIHF6ID0gcVsyXSxcbiAgICBxdyA9IHFbM107XG4gIHZhciB2eCA9IGFbMF0sXG4gICAgdnkgPSBhWzFdLFxuICAgIHZ6ID0gYVsyXTtcblxuICAvLyB0ID0gcSB4IHZcbiAgdmFyIHR4ID0gcXkgKiB2eiAtIHF6ICogdnk7XG4gIHZhciB0eSA9IHF6ICogdnggLSBxeCAqIHZ6O1xuICB2YXIgdHogPSBxeCAqIHZ5IC0gcXkgKiB2eDtcblxuICAvLyB0ID0gMnRcbiAgdHggPSB0eCArIHR4O1xuICB0eSA9IHR5ICsgdHk7XG4gIHR6ID0gdHogKyB0ejtcblxuICAvLyB2ICsgdyB0ICsgcSB4IHRcbiAgb3V0WzBdID0gdnggKyBxdyAqIHR4ICsgcXkgKiB0eiAtIHF6ICogdHk7XG4gIG91dFsxXSA9IHZ5ICsgcXcgKiB0eSArIHF6ICogdHggLSBxeCAqIHR6O1xuICBvdXRbMl0gPSB2eiArIHF3ICogdHogKyBxeCAqIHR5IC0gcXkgKiB0eDtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgb3V0WzNdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjNChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgIGExID0gYVsxXSxcbiAgICBhMiA9IGFbMl0sXG4gICAgYTMgPSBhWzNdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpO1xufVxuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuXG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWM0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWM0LiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjNHMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSA0O1xuICAgIH1cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICB2ZWNbM10gPSBhW2kgKyAzXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgICBhW2kgKyAzXSA9IHZlY1szXTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG5pbXBvcnQgKiBhcyBtYXQzIGZyb20gXCIuL21hdDMuanNcIjtcbmltcG9ydCAqIGFzIHZlYzMgZnJvbSBcIi4vdmVjMy5qc1wiO1xuaW1wb3J0ICogYXMgdmVjNCBmcm9tIFwiLi92ZWM0LmpzXCI7XG5cbi8qKlxuICogUXVhdGVybmlvbiBpbiB0aGUgZm9ybWF0IFhZWldcbiAqIEBtb2R1bGUgcXVhdFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBxdWF0XG4gKlxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuICBvdXRbM10gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCBhIHF1YXQgdG8gdGhlIGlkZW50aXR5IHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAwO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldHMgYSBxdWF0IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFuZCByb3RhdGlvbiBheGlzLFxuICogdGhlbiByZXR1cm5zIGl0LlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgYXJvdW5kIHdoaWNoIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybnMge3F1YXR9IG91dFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEF4aXNBbmdsZShvdXQsIGF4aXMsIHJhZCkge1xuICByYWQgPSByYWQgKiAwLjU7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgb3V0WzBdID0gcyAqIGF4aXNbMF07XG4gIG91dFsxXSA9IHMgKiBheGlzWzFdO1xuICBvdXRbMl0gPSBzICogYXhpc1syXTtcbiAgb3V0WzNdID0gTWF0aC5jb3MocmFkKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSByb3RhdGlvbiBheGlzIGFuZCBhbmdsZSBmb3IgYSBnaXZlblxuICogIHF1YXRlcm5pb24uIElmIGEgcXVhdGVybmlvbiBpcyBjcmVhdGVkIHdpdGhcbiAqICBzZXRBeGlzQW5nbGUsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzYW1lXG4gKiAgdmFsdWVzIGFzIHByb3ZpZGllZCBpbiB0aGUgb3JpZ2luYWwgcGFyYW1ldGVyIGxpc3RcbiAqICBPUiBmdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB2YWx1ZXMuXG4gKiBFeGFtcGxlOiBUaGUgcXVhdGVybmlvbiBmb3JtZWQgYnkgYXhpcyBbMCwgMCwgMV0gYW5kXG4gKiAgYW5nbGUgLTkwIGlzIHRoZSBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIGZvcm1lZCBieVxuICogIFswLCAwLCAxXSBhbmQgMjcwLiBUaGlzIG1ldGhvZCBmYXZvcnMgdGhlIGxhdHRlci5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dF9heGlzICBWZWN0b3IgcmVjZWl2aW5nIHRoZSBheGlzIG9mIHJvdGF0aW9uXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IHEgICAgIFF1YXRlcm5pb24gdG8gYmUgZGVjb21wb3NlZFxuICogQHJldHVybiB7TnVtYmVyfSAgICAgQW5nbGUsIGluIHJhZGlhbnMsIG9mIHRoZSByb3RhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXhpc0FuZ2xlKG91dF9heGlzLCBxKSB7XG4gIHZhciByYWQgPSBNYXRoLmFjb3MocVszXSkgKiAyLjA7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkIC8gMi4wKTtcbiAgaWYgKHMgPiBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgb3V0X2F4aXNbMF0gPSBxWzBdIC8gcztcbiAgICBvdXRfYXhpc1sxXSA9IHFbMV0gLyBzO1xuICAgIG91dF9heGlzWzJdID0gcVsyXSAvIHM7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgcyBpcyB6ZXJvLCByZXR1cm4gYW55IGF4aXMgKG5vIHJvdGF0aW9uIC0gYXhpcyBkb2VzIG5vdCBtYXR0ZXIpXG4gICAgb3V0X2F4aXNbMF0gPSAxO1xuICAgIG91dF9heGlzWzFdID0gMDtcbiAgICBvdXRfYXhpc1syXSA9IDA7XG4gIH1cbiAgcmV0dXJuIHJhZDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gdHdvIHVuaXQgcXVhdGVybmlvbnNcbiAqXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGEgICAgIE9yaWdpbiB1bml0IHF1YXRlcm5pb25cbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gYiAgICAgRGVzdGluYXRpb24gdW5pdCBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgYmV0d2VlbiB0aGUgdHdvIHF1YXRlcm5pb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmdsZShhLCBiKSB7XG4gIHZhciBkb3Rwcm9kdWN0ID0gZG90KGEsIGIpO1xuICByZXR1cm4gTWF0aC5hY29zKDIgKiBkb3Rwcm9kdWN0ICogZG90cHJvZHVjdCAtIDEpO1xufVxuXG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgYXkgPSBhWzFdLFxuICAgIGF6ID0gYVsyXSxcbiAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IGJbMF0sXG4gICAgYnkgPSBiWzFdLFxuICAgIGJ6ID0gYlsyXSxcbiAgICBidyA9IGJbM107XG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XG4gIHJhZCAqPSAwLjU7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgYXkgPSBhWzFdLFxuICAgIGF6ID0gYVsyXSxcbiAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IE1hdGguc2luKHJhZCksXG4gICAgYncgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXcgKiBieDtcbiAgb3V0WzFdID0gYXkgKiBidyArIGF6ICogYng7XG4gIG91dFsyXSA9IGF6ICogYncgLSBheSAqIGJ4O1xuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXggKiBieDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFkgYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICBheSA9IGFbMV0sXG4gICAgYXogPSBhWzJdLFxuICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ5ID0gTWF0aC5zaW4ocmFkKSxcbiAgICBidyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGF4ICogYncgLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXcgKiBieTtcbiAgb3V0WzJdID0gYXogKiBidyArIGF4ICogYnk7XG4gIG91dFszXSA9IGF3ICogYncgLSBheSAqIGJ5O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICByYWQgKj0gMC41O1xuICB2YXIgYXggPSBhWzBdLFxuICAgIGF5ID0gYVsxXSxcbiAgICBheiA9IGFbMl0sXG4gICAgYXcgPSBhWzNdO1xuICB2YXIgYnogPSBNYXRoLnNpbihyYWQpLFxuICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF5ICogYno7XG4gIG91dFsxXSA9IGF5ICogYncgLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBiejtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgVyBjb21wb25lbnQgb2YgYSBxdWF0IGZyb20gdGhlIFgsIFksIGFuZCBaIGNvbXBvbmVudHMuXG4gKiBBc3N1bWVzIHRoYXQgcXVhdGVybmlvbiBpcyAxIHVuaXQgaW4gbGVuZ3RoLlxuICogQW55IGV4aXN0aW5nIFcgY29tcG9uZW50IHdpbGwgYmUgaWdub3JlZC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIFcgY29tcG9uZW50IG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVXKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgeSA9IGFbMV0sXG4gICAgeiA9IGFbMl07XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IE1hdGguc3FydChNYXRoLmFicygxLjAgLSB4ICogeCAtIHkgKiB5IC0geiAqIHopKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHAob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICB5ID0gYVsxXSxcbiAgICB6ID0gYVsyXSxcbiAgICB3ID0gYVszXTtcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgdmFyIGV0ID0gTWF0aC5leHAodyk7XG4gIHZhciBzID0gciA+IDAgPyBldCAqIE1hdGguc2luKHIpIC8gciA6IDA7XG4gIG91dFswXSA9IHggKiBzO1xuICBvdXRbMV0gPSB5ICogcztcbiAgb3V0WzJdID0geiAqIHM7XG4gIG91dFszXSA9IGV0ICogTWF0aC5jb3Mocik7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIHVuaXQgcXVhdGVybmlvbi5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbG4ob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICB5ID0gYVsxXSxcbiAgICB6ID0gYVsyXSxcbiAgICB3ID0gYVszXTtcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgdmFyIHQgPSByID4gMCA/IE1hdGguYXRhbjIociwgdykgLyByIDogMDtcbiAgb3V0WzBdID0geCAqIHQ7XG4gIG91dFsxXSA9IHkgKiB0O1xuICBvdXRbMl0gPSB6ICogdDtcbiAgb3V0WzNdID0gMC41ICogTWF0aC5sb2coeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc2NhbGFyIHBvd2VyIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHF1YXRlcm5pb24gYnlcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvdyhvdXQsIGEsIGIpIHtcbiAgbG4ob3V0LCBhKTtcbiAgc2NhbGUob3V0LCBvdXQsIGIpO1xuICBleHAob3V0LCBvdXQpO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNsZXJwKG91dCwgYSwgYiwgdCkge1xuICAvLyBiZW5jaG1hcmtzOlxuICAvLyAgICBodHRwOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXNsZXJwLWltcGxlbWVudGF0aW9uc1xuICB2YXIgYXggPSBhWzBdLFxuICAgIGF5ID0gYVsxXSxcbiAgICBheiA9IGFbMl0sXG4gICAgYXcgPSBhWzNdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgIGJ5ID0gYlsxXSxcbiAgICBieiA9IGJbMl0sXG4gICAgYncgPSBiWzNdO1xuICB2YXIgb21lZ2EsIGNvc29tLCBzaW5vbSwgc2NhbGUwLCBzY2FsZTE7XG5cbiAgLy8gY2FsYyBjb3NpbmVcbiAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3O1xuICAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSlcbiAgaWYgKGNvc29tIDwgMC4wKSB7XG4gICAgY29zb20gPSAtY29zb207XG4gICAgYnggPSAtYng7XG4gICAgYnkgPSAtYnk7XG4gICAgYnogPSAtYno7XG4gICAgYncgPSAtYnc7XG4gIH1cbiAgLy8gY2FsY3VsYXRlIGNvZWZmaWNpZW50c1xuICBpZiAoMS4wIC0gY29zb20gPiBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgLy8gc3RhbmRhcmQgY2FzZSAoc2xlcnApXG4gICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pO1xuICAgIHNpbm9tID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgIHNjYWxlMCA9IE1hdGguc2luKCgxLjAgLSB0KSAqIG9tZWdhKSAvIHNpbm9tO1xuICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTtcbiAgfSBlbHNlIHtcbiAgICAvLyBcImZyb21cIiBhbmQgXCJ0b1wiIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlXG4gICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvblxuICAgIHNjYWxlMCA9IDEuMCAtIHQ7XG4gICAgc2NhbGUxID0gdDtcbiAgfVxuICAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzXG4gIG91dFswXSA9IHNjYWxlMCAqIGF4ICsgc2NhbGUxICogYng7XG4gIG91dFsxXSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7XG4gIG91dFsyXSA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7XG4gIG91dFszXSA9IHNjYWxlMCAqIGF3ICsgc2NhbGUxICogYnc7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHVuaXQgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCkge1xuICAvLyBJbXBsZW1lbnRhdGlvbiBvZiBodHRwOi8vcGxhbm5pbmcuY3MudWl1Yy5lZHUvbm9kZTE5OC5odG1sXG4gIC8vIFRPRE86IENhbGxpbmcgcmFuZG9tIDMgdGltZXMgaXMgcHJvYmFibHkgbm90IHRoZSBmYXN0ZXN0IHNvbHV0aW9uXG4gIHZhciB1MSA9IGdsTWF0cml4LlJBTkRPTSgpO1xuICB2YXIgdTIgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdmFyIHUzID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHZhciBzcXJ0MU1pbnVzVTEgPSBNYXRoLnNxcnQoMSAtIHUxKTtcbiAgdmFyIHNxcnRVMSA9IE1hdGguc3FydCh1MSk7XG4gIG91dFswXSA9IHNxcnQxTWludXNVMSAqIE1hdGguc2luKDIuMCAqIE1hdGguUEkgKiB1Mik7XG4gIG91dFsxXSA9IHNxcnQxTWludXNVMSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB1Mik7XG4gIG91dFsyXSA9IHNxcnRVMSAqIE1hdGguc2luKDIuMCAqIE1hdGguUEkgKiB1Myk7XG4gIG91dFszXSA9IHNxcnRVMSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB1Myk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgaW52ZXJzZSBvZiBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGludmVyc2Ugb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICBhMSA9IGFbMV0sXG4gICAgYTIgPSBhWzJdLFxuICAgIGEzID0gYVszXTtcbiAgdmFyIGRvdCA9IGEwICogYTAgKyBhMSAqIGExICsgYTIgKiBhMiArIGEzICogYTM7XG4gIHZhciBpbnZEb3QgPSBkb3QgPyAxLjAgLyBkb3QgOiAwO1xuXG4gIC8vIFRPRE86IFdvdWxkIGJlIGZhc3RlciB0byByZXR1cm4gWzAsMCwwLDBdIGltbWVkaWF0ZWx5IGlmIGRvdCA9PSAwXG5cbiAgb3V0WzBdID0gLWEwICogaW52RG90O1xuICBvdXRbMV0gPSAtYTEgKiBpbnZEb3Q7XG4gIG91dFsyXSA9IC1hMiAqIGludkRvdDtcbiAgb3V0WzNdID0gYTMgKiBpbnZEb3Q7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgY29uanVnYXRlIG9mIGEgcXVhdFxuICogSWYgdGhlIHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBmdW5jdGlvbiBpcyBmYXN0ZXIgdGhhbiBxdWF0LmludmVyc2UgYW5kIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGNvbmp1Z2F0ZSBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uanVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIDN4MyByb3RhdGlvbiBtYXRyaXguXG4gKlxuICogTk9URTogVGhlIHJlc3VsdGFudCBxdWF0ZXJuaW9uIGlzIG5vdCBub3JtYWxpemVkLCBzbyB5b3Ugc2hvdWxkIGJlIHN1cmVcbiAqIHRvIHJlbm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uIHlvdXJzZWxmIHdoZXJlIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHJvdGF0aW9uIG1hdHJpeFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MyhvdXQsIG0pIHtcbiAgLy8gQWxnb3JpdGhtIGluIEtlbiBTaG9lbWFrZSdzIGFydGljbGUgaW4gMTk4NyBTSUdHUkFQSCBjb3Vyc2Ugbm90ZXNcbiAgLy8gYXJ0aWNsZSBcIlF1YXRlcm5pb24gQ2FsY3VsdXMgYW5kIEZhc3QgQW5pbWF0aW9uXCIuXG4gIHZhciBmVHJhY2UgPSBtWzBdICsgbVs0XSArIG1bOF07XG4gIHZhciBmUm9vdDtcbiAgaWYgKGZUcmFjZSA+IDAuMCkge1xuICAgIC8vIHx3fCA+IDEvMiwgbWF5IGFzIHdlbGwgY2hvb3NlIHcgPiAxLzJcbiAgICBmUm9vdCA9IE1hdGguc3FydChmVHJhY2UgKyAxLjApOyAvLyAyd1xuICAgIG91dFszXSA9IDAuNSAqIGZSb290O1xuICAgIGZSb290ID0gMC41IC8gZlJvb3Q7IC8vIDEvKDR3KVxuICAgIG91dFswXSA9IChtWzVdIC0gbVs3XSkgKiBmUm9vdDtcbiAgICBvdXRbMV0gPSAobVs2XSAtIG1bMl0pICogZlJvb3Q7XG4gICAgb3V0WzJdID0gKG1bMV0gLSBtWzNdKSAqIGZSb290O1xuICB9IGVsc2Uge1xuICAgIC8vIHx3fCA8PSAxLzJcbiAgICB2YXIgaSA9IDA7XG4gICAgaWYgKG1bNF0gPiBtWzBdKSBpID0gMTtcbiAgICBpZiAobVs4XSA+IG1baSAqIDMgKyBpXSkgaSA9IDI7XG4gICAgdmFyIGogPSAoaSArIDEpICUgMztcbiAgICB2YXIgayA9IChpICsgMikgJSAzO1xuICAgIGZSb290ID0gTWF0aC5zcXJ0KG1baSAqIDMgKyBpXSAtIG1baiAqIDMgKyBqXSAtIG1bayAqIDMgKyBrXSArIDEuMCk7XG4gICAgb3V0W2ldID0gMC41ICogZlJvb3Q7XG4gICAgZlJvb3QgPSAwLjUgLyBmUm9vdDtcbiAgICBvdXRbM10gPSAobVtqICogMyArIGtdIC0gbVtrICogMyArIGpdKSAqIGZSb290O1xuICAgIG91dFtqXSA9IChtW2ogKiAzICsgaV0gKyBtW2kgKiAzICsgal0pICogZlJvb3Q7XG4gICAgb3V0W2tdID0gKG1bayAqIDMgKyBpXSArIG1baSAqIDMgKyBrXSkgKiBmUm9vdDtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIGV1bGVyIGFuZ2xlIHgsIHksIHogdXNpbmcgdGhlIHByb3ZpZGVkIGludHJpbnNpYyBvcmRlciBmb3IgdGhlIGNvbnZlcnNpb24uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge051bWJlcn0geCBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFggYXhpcyBpbiBkZWdyZWVzLlxuICogQHBhcmFtIHtOdW1iZXJ9IHkgQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBZIGF4aXMgaW4gZGVncmVlcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSB6IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWiBheGlzIGluIGRlZ3JlZXMuXG4gKiBAcGFyYW0geyd4eXonfCd4enknfCd5eHonfCd5engnfCd6eHknfCd6eXgnfSBvcmRlciBJbnRyaW5zaWMgb3JkZXIgZm9yIGNvbnZlcnNpb24sIGRlZmF1bHQgaXMgenl4LlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXVsZXIob3V0LCB4LCB5LCB6KSB7XG4gIHZhciBvcmRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogZ2xNYXRyaXguQU5HTEVfT1JERVI7XG4gIHZhciBoYWxmVG9SYWQgPSBNYXRoLlBJIC8gMzYwO1xuICB4ICo9IGhhbGZUb1JhZDtcbiAgeiAqPSBoYWxmVG9SYWQ7XG4gIHkgKj0gaGFsZlRvUmFkO1xuICB2YXIgc3ggPSBNYXRoLnNpbih4KTtcbiAgdmFyIGN4ID0gTWF0aC5jb3MoeCk7XG4gIHZhciBzeSA9IE1hdGguc2luKHkpO1xuICB2YXIgY3kgPSBNYXRoLmNvcyh5KTtcbiAgdmFyIHN6ID0gTWF0aC5zaW4oeik7XG4gIHZhciBjeiA9IE1hdGguY29zKHopO1xuICBzd2l0Y2ggKG9yZGVyKSB7XG4gICAgY2FzZSBcInh5elwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6ICsgY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6IC0gc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6ICsgc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6IC0gc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInh6eVwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6IC0gY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6IC0gc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6ICsgc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6ICsgc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInl4elwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6ICsgY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6IC0gc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6ICsgc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInl6eFwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6ICsgY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6IC0gc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInp4eVwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6IC0gY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6ICsgc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6IC0gc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInp5eFwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6IC0gY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6ICsgc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBhbmdsZSBvcmRlciAnICsgb3JkZXIpO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwicXVhdChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdGVybmlvbiB0byBjbG9uZVxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGNsb25lID0gdmVjNC5jbG9uZTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBmcm9tVmFsdWVzID0gdmVjNC5mcm9tVmFsdWVzO1xuXG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBxdWF0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBzb3VyY2UgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgY29weSA9IHZlYzQuY29weTtcblxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBxdWF0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzZXQgPSB2ZWM0LnNldDtcblxuLyoqXG4gKiBBZGRzIHR3byBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGFkZCA9IHZlYzQuYWRkO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuXG4vKipcbiAqIFNjYWxlcyBhIHF1YXQgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzY2FsZSA9IHZlYzQuc2NhbGU7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGRvdCA9IHZlYzQuZG90O1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBsZXJwID0gdmVjNC5sZXJwO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuZXhwb3J0IHZhciBsZW5ndGggPSB2ZWM0Lmxlbmd0aDtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHNxdWFyZWRMZW5ndGggPSB2ZWM0LnNxdWFyZWRMZW5ndGg7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBub3JtYWxpemUgPSB2ZWM0Lm5vcm1hbGl6ZTtcblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHF1YXRlcm5pb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiBUaGUgc2Vjb25kIHF1YXRlcm5pb24uXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IHZhciBleGFjdEVxdWFscyA9IHZlYzQuZXhhY3RFcXVhbHM7XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcXVhdGVybmlvbnMgcG9pbnQgYXBwcm94aW1hdGVseSB0byB0aGUgc2FtZSBkaXJlY3Rpb24uXG4gKlxuICogQm90aCBxdWF0ZXJuaW9ucyBhcmUgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aC5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBUaGUgZmlyc3QgdW5pdCBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgVGhlIHNlY29uZCB1bml0IHF1YXRlcm5pb24uXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcXVhdGVybmlvbnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnModmVjNC5kb3QoYSwgYikpID49IDEgLSBnbE1hdHJpeC5FUFNJTE9OO1xufVxuXG4vKipcbiAqIFNldHMgYSBxdWF0ZXJuaW9uIHRvIHJlcHJlc2VudCB0aGUgc2hvcnRlc3Qgcm90YXRpb24gZnJvbSBvbmVcbiAqIHZlY3RvciB0byBhbm90aGVyLlxuICpcbiAqIEJvdGggdmVjdG9ycyBhcmUgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgaW5pdGlhbCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBkZXN0aW5hdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IHZhciByb3RhdGlvblRvID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdG1wdmVjMyA9IHZlYzMuY3JlYXRlKCk7XG4gIHZhciB4VW5pdFZlYzMgPSB2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCk7XG4gIHZhciB5VW5pdFZlYzMgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCBhLCBiKSB7XG4gICAgdmFyIGRvdCA9IHZlYzMuZG90KGEsIGIpO1xuICAgIGlmIChkb3QgPCAtMC45OTk5OTkpIHtcbiAgICAgIHZlYzMuY3Jvc3ModG1wdmVjMywgeFVuaXRWZWMzLCBhKTtcbiAgICAgIGlmICh2ZWMzLmxlbih0bXB2ZWMzKSA8IDAuMDAwMDAxKSB2ZWMzLmNyb3NzKHRtcHZlYzMsIHlVbml0VmVjMywgYSk7XG4gICAgICB2ZWMzLm5vcm1hbGl6ZSh0bXB2ZWMzLCB0bXB2ZWMzKTtcbiAgICAgIHNldEF4aXNBbmdsZShvdXQsIHRtcHZlYzMsIE1hdGguUEkpO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2UgaWYgKGRvdCA+IDAuOTk5OTk5KSB7XG4gICAgICBvdXRbMF0gPSAwO1xuICAgICAgb3V0WzFdID0gMDtcbiAgICAgIG91dFsyXSA9IDA7XG4gICAgICBvdXRbM10gPSAxO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmVjMy5jcm9zcyh0bXB2ZWMzLCBhLCBiKTtcbiAgICAgIG91dFswXSA9IHRtcHZlYzNbMF07XG4gICAgICBvdXRbMV0gPSB0bXB2ZWMzWzFdO1xuICAgICAgb3V0WzJdID0gdG1wdmVjM1syXTtcbiAgICAgIG91dFszXSA9IDEgKyBkb3Q7XG4gICAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgb3V0KTtcbiAgICB9XG4gIH07XG59KCk7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IHZhciBzcWxlcnAgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZW1wMSA9IGNyZWF0ZSgpO1xuICB2YXIgdGVtcDIgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgICBzbGVycCh0ZW1wMSwgYSwgZCwgdCk7XG4gICAgc2xlcnAodGVtcDIsIGIsIGMsIHQpO1xuICAgIHNsZXJwKG91dCwgdGVtcDEsIHRlbXAyLCAyICogdCAqICgxIC0gdCkpO1xuICAgIHJldHVybiBvdXQ7XG4gIH07XG59KCk7XG5cbi8qKlxuICogU2V0cyB0aGUgc3BlY2lmaWVkIHF1YXRlcm5pb24gd2l0aCB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW5cbiAqIGF4ZXMuIEVhY2ggYXhpcyBpcyBhIHZlYzMgYW5kIGlzIGV4cGVjdGVkIHRvIGJlIHVuaXQgbGVuZ3RoIGFuZFxuICogcGVycGVuZGljdWxhciB0byBhbGwgb3RoZXIgc3BlY2lmaWVkIGF4ZXMuXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHZpZXcgIHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSB2aWV3aW5nIGRpcmVjdGlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHJpZ2h0IHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBsb2NhbCBcInJpZ2h0XCIgZGlyZWN0aW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgICAgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGxvY2FsIFwidXBcIiBkaXJlY3Rpb25cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IHZhciBzZXRBeGVzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbWF0ciA9IG1hdDMuY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCB2aWV3LCByaWdodCwgdXApIHtcbiAgICBtYXRyWzBdID0gcmlnaHRbMF07XG4gICAgbWF0clszXSA9IHJpZ2h0WzFdO1xuICAgIG1hdHJbNl0gPSByaWdodFsyXTtcbiAgICBtYXRyWzFdID0gdXBbMF07XG4gICAgbWF0cls0XSA9IHVwWzFdO1xuICAgIG1hdHJbN10gPSB1cFsyXTtcbiAgICBtYXRyWzJdID0gLXZpZXdbMF07XG4gICAgbWF0cls1XSA9IC12aWV3WzFdO1xuICAgIG1hdHJbOF0gPSAtdmlld1syXTtcbiAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgZnJvbU1hdDMob3V0LCBtYXRyKSk7XG4gIH07XG59KCk7IiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG5cbi8qKlxuICogMyBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjM1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjM1xuICpcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHopIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWMzIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHopIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBEaXZpZGVzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNlaWxcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmNlaWwoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGZsb29yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogc3ltbWV0cmljIHJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBnbE1hdHJpeC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gZ2xNYXRyaXgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IGdsTWF0cml4LnJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG5cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cbiAgb3V0WzBdID0gYVswXSAqIGxlbjtcbiAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgb3V0WzJdID0gYVsyXSAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgIGF5ID0gYVsxXSxcbiAgICBheiA9IGFbMl07XG4gIHZhciBieCA9IGJbMF0sXG4gICAgYnkgPSBiWzFdLFxuICAgIGJ6ID0gYlsyXTtcbiAgb3V0WzBdID0gYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF6ICogYnggLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheCAqIGJ5IC0gYXkgKiBieDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGFuZ2xlID0gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGRvdChhLCBiKSwgLTEpLCAxKSk7XG4gIHZhciBzaW5Ub3RhbCA9IE1hdGguc2luKGFuZ2xlKTtcbiAgdmFyIHJhdGlvQSA9IE1hdGguc2luKCgxIC0gdCkgKiBhbmdsZSkgLyBzaW5Ub3RhbDtcbiAgdmFyIHJhdGlvQiA9IE1hdGguc2luKHQgKiBhbmdsZSkgLyBzaW5Ub3RhbDtcbiAgb3V0WzBdID0gcmF0aW9BICogYVswXSArIHJhdGlvQiAqIGJbMF07XG4gIG91dFsxXSA9IHJhdGlvQSAqIGFbMV0gKyByYXRpb0IgKiBiWzFdO1xuICBvdXRbMl0gPSByYXRpb0EgKiBhWzJdICsgcmF0aW9CICogYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhIGhlcm1pdGUgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXJtaXRlKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gIHZhciBmYWN0b3IxID0gZmFjdG9yVGltZXMyICogKDIgKiB0IC0gMykgKyAxO1xuICB2YXIgZmFjdG9yMiA9IGZhY3RvclRpbWVzMiAqICh0IC0gMikgKyB0O1xuICB2YXIgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogKDMgLSAyICogdCk7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBiZXppZXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xuICBzY2FsZSA9IHNjYWxlID09PSB1bmRlZmluZWQgPyAxLjAgOiBzY2FsZTtcbiAgdmFyIHIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAqIE1hdGguUEk7XG4gIHZhciB6ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgLSAxLjA7XG4gIHZhciB6U2NhbGUgPSBNYXRoLnNxcnQoMS4wIC0geiAqIHopICogc2NhbGU7XG4gIG91dFswXSA9IE1hdGguY29zKHIpICogelNjYWxlO1xuICBvdXRbMV0gPSBNYXRoLnNpbihyKSAqIHpTY2FsZTtcbiAgb3V0WzJdID0geiAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDQuXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgeSA9IGFbMV0sXG4gICAgeiA9IGFbMl07XG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICB3ID0gdyB8fCAxLjA7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgIHkgPSBhWzFdLFxuICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIHF1YXRcbiAqIENhbiBhbHNvIGJlIHVzZWQgZm9yIGR1YWwgcXVhdGVybmlvbnMuIChNdWx0aXBseSBpdCB3aXRoIHRoZSByZWFsIHBhcnQpXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBub3JtYWxpemVkIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XG4gIC8vIEZhc3QgVmVjdG9yIFJvdGF0aW9uIHVzaW5nIFF1YXRlcm5pb25zIGJ5IFJvYmVydCBFaXNlbGVcbiAgLy8gaHR0cHM6Ly9yYXcub3JnL3Byb29mL3ZlY3Rvci1yb3RhdGlvbi11c2luZy1xdWF0ZXJuaW9ucy9cblxuICB2YXIgcXggPSBxWzBdLFxuICAgIHF5ID0gcVsxXSxcbiAgICBxeiA9IHFbMl0sXG4gICAgcXcgPSBxWzNdO1xuICB2YXIgdnggPSBhWzBdLFxuICAgIHZ5ID0gYVsxXSxcbiAgICB2eiA9IGFbMl07XG5cbiAgLy8gdCA9IHEgeCB2XG4gIHZhciB0eCA9IHF5ICogdnogLSBxeiAqIHZ5O1xuICB2YXIgdHkgPSBxeiAqIHZ4IC0gcXggKiB2ejtcbiAgdmFyIHR6ID0gcXggKiB2eSAtIHF5ICogdng7XG5cbiAgLy8gdCA9IDJ0XG4gIHR4ID0gdHggKyB0eDtcbiAgdHkgPSB0eSArIHR5O1xuICB0eiA9IHR6ICsgdHo7XG5cbiAgLy8gdiArIHcgdCArIHEgeCB0XG4gIG91dFswXSA9IHZ4ICsgcXcgKiB0eCArIHF5ICogdHogLSBxeiAqIHR5O1xuICBvdXRbMV0gPSB2eSArIHF3ICogdHkgKyBxeiAqIHR4IC0gcXggKiB0ejtcbiAgb3V0WzJdID0gdnogKyBxdyAqIHR6ICsgcXggKiB0eSAtIHF5ICogdHg7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeC1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICByID0gW107XG4gIC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTtcblxuICAvL3BlcmZvcm0gcm90YXRpb25cbiAgclswXSA9IHBbMF07XG4gIHJbMV0gPSBwWzFdICogTWF0aC5jb3MocmFkKSAtIHBbMl0gKiBNYXRoLnNpbihyYWQpO1xuICByWzJdID0gcFsxXSAqIE1hdGguc2luKHJhZCkgKyBwWzJdICogTWF0aC5jb3MocmFkKTtcblxuICAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeS1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICByID0gW107XG4gIC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTtcblxuICAvL3BlcmZvcm0gcm90YXRpb25cbiAgclswXSA9IHBbMl0gKiBNYXRoLnNpbihyYWQpICsgcFswXSAqIE1hdGguY29zKHJhZCk7XG4gIHJbMV0gPSBwWzFdO1xuICByWzJdID0gcFsyXSAqIE1hdGguY29zKHJhZCkgLSBwWzBdICogTWF0aC5zaW4ocmFkKTtcblxuICAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgei1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICByID0gW107XG4gIC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTtcblxuICAvL3BlcmZvcm0gcm90YXRpb25cbiAgclswXSA9IHBbMF0gKiBNYXRoLmNvcyhyYWQpIC0gcFsxXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMV0gPSBwWzBdICogTWF0aC5zaW4ocmFkKSArIHBbMV0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzJdID0gcFsyXTtcblxuICAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHR3byAzRCB2ZWN0b3JzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgIGF5ID0gYVsxXSxcbiAgICBheiA9IGFbMl0sXG4gICAgYnggPSBiWzBdLFxuICAgIGJ5ID0gYlsxXSxcbiAgICBieiA9IGJbMl0sXG4gICAgbWFnID0gTWF0aC5zcXJ0KChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopICogKGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieikpLFxuICAgIGNvc2luZSA9IG1hZyAmJiBkb3QoYSwgYikgLyBtYWc7XG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIilcIjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICBhMSA9IGFbMV0sXG4gICAgYTIgPSBhWzJdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKTtcbn1cblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGl2aWRlfVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZERpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcblxuLyoqXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjM3MuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjMy4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzNzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gMztcbiAgICB9XG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XG4gICAgICBhW2ldID0gdmVjWzBdO1xuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5jb25zdCBpc0Jvb2xlYW4gPSAoeCkgPT4gdHlwZW9mIHggPT09ICdib29sZWFuJztcbmNvbnN0IGlzRnVuY3Rpb24gPSAoeCkgPT4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAoeCkgPT4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7XG5leHBvcnQgY29uc3QgaXNQdXJlT2JqZWN0ID0gKHgpID0+IGlzT2JqZWN0KHgpICYmIHguY29uc3RydWN0b3IgPT09IHt9LmNvbnN0cnVjdG9yO1xuZXhwb3J0IGNvbnN0IGlzUHJvbWlzZSA9ICh4KSA9PiBpc09iamVjdCh4KSAmJiBpc0Z1bmN0aW9uKHgudGhlbik7XG5leHBvcnQgY29uc3QgaXNJdGVyYWJsZSA9ICh4KSA9PiBCb29sZWFuKHgpICYmIHR5cGVvZiB4W1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5leHBvcnQgY29uc3QgaXNBc3luY0l0ZXJhYmxlID0gKHgpID0+IHggJiYgdHlwZW9mIHhbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGlzSXRlcmF0b3IgPSAoeCkgPT4geCAmJiBpc0Z1bmN0aW9uKHgubmV4dCk7XG5leHBvcnQgY29uc3QgaXNSZXNwb25zZSA9ICh4KSA9PiAodHlwZW9mIFJlc3BvbnNlICE9PSAndW5kZWZpbmVkJyAmJiB4IGluc3RhbmNlb2YgUmVzcG9uc2UpIHx8XG4gICAgKHggJiYgeC5hcnJheUJ1ZmZlciAmJiB4LnRleHQgJiYgeC5qc29uKTtcbmV4cG9ydCBjb25zdCBpc0ZpbGUgPSAoeCkgPT4gdHlwZW9mIEZpbGUgIT09ICd1bmRlZmluZWQnICYmIHggaW5zdGFuY2VvZiBGaWxlO1xuZXhwb3J0IGNvbnN0IGlzQmxvYiA9ICh4KSA9PiB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIEJsb2I7XG4vKiogQ2hlY2sgZm9yIE5vZGUuanMgYEJ1ZmZlcmAgd2l0aG91dCB0cmlnZ2VyaW5nIGJ1bmRsZXIgdG8gaW5jbHVkZSBidWZmZXIgcG9seWZpbGwgKi9cbmV4cG9ydCBjb25zdCBpc0J1ZmZlciA9ICh4KSA9PiB4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4LmlzQnVmZmVyO1xuZXhwb3J0IGNvbnN0IGlzV3JpdGFibGVET01TdHJlYW0gPSAoeCkgPT4gaXNPYmplY3QoeCkgJiYgaXNGdW5jdGlvbih4LmFib3J0KSAmJiBpc0Z1bmN0aW9uKHguZ2V0V3JpdGVyKTtcbmV4cG9ydCBjb25zdCBpc1JlYWRhYmxlRE9NU3RyZWFtID0gKHgpID0+ICh0eXBlb2YgUmVhZGFibGVTdHJlYW0gIT09ICd1bmRlZmluZWQnICYmIHggaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbSkgfHxcbiAgICAoaXNPYmplY3QoeCkgJiYgaXNGdW5jdGlvbih4LnRlZSkgJiYgaXNGdW5jdGlvbih4LmNhbmNlbCkgJiYgaXNGdW5jdGlvbih4LmdldFJlYWRlcikpO1xuLy8gTm90IGltcGxlbWVudGVkIGluIEZpcmVmb3g6ICYmIGlzRnVuY3Rpb24oeC5waXBlVG8pXG5leHBvcnQgY29uc3QgaXNXcml0YWJsZU5vZGVTdHJlYW0gPSAoeCkgPT4gaXNPYmplY3QoeCkgJiYgaXNGdW5jdGlvbih4LmVuZCkgJiYgaXNGdW5jdGlvbih4LndyaXRlKSAmJiBpc0Jvb2xlYW4oeC53cml0YWJsZSk7XG5leHBvcnQgY29uc3QgaXNSZWFkYWJsZU5vZGVTdHJlYW0gPSAoeCkgPT4gaXNPYmplY3QoeCkgJiYgaXNGdW5jdGlvbih4LnJlYWQpICYmIGlzRnVuY3Rpb24oeC5waXBlKSAmJiBpc0Jvb2xlYW4oeC5yZWFkYWJsZSk7XG5leHBvcnQgY29uc3QgaXNSZWFkYWJsZVN0cmVhbSA9ICh4KSA9PiBpc1JlYWRhYmxlRE9NU3RyZWFtKHgpIHx8IGlzUmVhZGFibGVOb2RlU3RyZWFtKHgpO1xuZXhwb3J0IGNvbnN0IGlzV3JpdGFibGVTdHJlYW0gPSAoeCkgPT4gaXNXcml0YWJsZURPTVN0cmVhbSh4KSB8fCBpc1dyaXRhYmxlTm9kZVN0cmVhbSh4KTtcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmV4cG9ydCBmdW5jdGlvbiBpc0xvYWRlck9iamVjdChsb2FkZXIpIHtcbiAgICBpZiAoIWxvYWRlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGxvYWRlcikpIHtcbiAgICAgICAgbG9hZGVyID0gbG9hZGVyWzBdO1xuICAgIH1cbiAgICBjb25zdCBoYXNFeHRlbnNpb25zID0gQXJyYXkuaXNBcnJheShsb2FkZXI/LmV4dGVuc2lvbnMpO1xuICAgIC8qIE5vdyBoYW5kbGVkIGJ5IHR5cGVzIGFuZCB3b3JrZXIgbG9hZGVycyBkbyBub3QgaGF2ZSB0aGVzZVxuICAgIGxldCBoYXNQYXJzZXIgPVxuICAgICAgbG9hZGVyLnBhcnNlVGV4dFN5bmMgfHxcbiAgICAgIGxvYWRlci5wYXJzZVN5bmMgfHxcbiAgICAgIGxvYWRlci5wYXJzZSB8fFxuICAgICAgbG9hZGVyLnBhcnNlU3RyZWFtIHx8IC8vIFRPRE8gUmVtb3ZlLCBSZXBsYWNlIHdpdGggcGFyc2VJbkJhdGNoZXNcbiAgICAgIGxvYWRlci5wYXJzZUluQmF0Y2hlcztcbiAgICAqL1xuICAgIHJldHVybiBoYXNFeHRlbnNpb25zO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUxvYWRlcihsb2FkZXIpIHtcbiAgICAvLyBUaGlzIGVycm9yIGlzIGZhaXJseSBlYXN5IHRvIHRyaWdnZXIgYnkgbWl4aW5nIHVwIGltcG9ydCBzdGF0ZW1lbnRzIGV0Y1xuICAgIC8vIFNvIHdlIG1ha2UgYW4gZXhjZXB0aW9uIGFuZCBhZGQgYSBkZXZlbG9wZXIgZXJyb3IgbWVzc2FnZSBmb3IgdGhpcyBjYXNlXG4gICAgLy8gVG8gaGVscCBuZXcgdXNlcnMgZnJvbSBnZXR0aW5nIHN0dWNrIGhlcmVcbiAgICBhc3NlcnQobG9hZGVyLCAnbnVsbCBsb2FkZXInKTtcbiAgICBhc3NlcnQoaXNMb2FkZXJPYmplY3QobG9hZGVyKSwgJ2ludmFsaWQgbG9hZGVyJyk7XG4gICAgLy8gTk9STUFMSVpFIFtMT0FERVIsIE9QVElPTlNdID0+IExPQURFUlxuICAgIC8vIElmIFtsb2FkZXIsIG9wdGlvbnNdLCBjcmVhdGUgYSBuZXcgbG9hZGVycyBvYmplY3Qgd2l0aCBvcHRpb25zIG1lcmdlZCBpblxuICAgIGxldCBvcHRpb25zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGxvYWRlcikpIHtcbiAgICAgICAgb3B0aW9ucyA9IGxvYWRlclsxXTtcbiAgICAgICAgbG9hZGVyID0gbG9hZGVyWzBdO1xuICAgICAgICBsb2FkZXIgPSB7XG4gICAgICAgICAgICAuLi5sb2FkZXIsXG4gICAgICAgICAgICBvcHRpb25zOiB7IC4uLmxvYWRlci5vcHRpb25zLCAuLi5vcHRpb25zIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gTk9STUFMSVpFIHRleHQgYW5kIGJpbmFyeSBmbGFnc1xuICAgIC8vIEVuc3VyZSBhdCBsZWFzdCBvbmUgb2YgdGV4dC9iaW5hcnkgZmxhZ3MgYXJlIHByb3Blcmx5IHNldFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBpZiAobG9hZGVyPy5wYXJzZVRleHRTeW5jIHx8IGxvYWRlcj8ucGFyc2VUZXh0KSB7XG4gICAgICAgIGxvYWRlci50ZXh0ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFsb2FkZXIudGV4dCkge1xuICAgICAgICBsb2FkZXIuYmluYXJ5ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGxvYWRlcjtcbn1cbiIsIi8vIFNpbXBsZSBmaWxlIGFsaWFzIG1lY2hhbmlzbXMgZm9yIHRlc3RzLlxubGV0IHBhdGhQcmVmaXggPSAnJztcbmNvbnN0IGZpbGVBbGlhc2VzID0ge307XG4vKlxuICogU2V0IGEgcmVsYXRpdmUgcGF0aCBwcmVmaXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFBhdGhQcmVmaXgocHJlZml4KSB7XG4gICAgcGF0aFByZWZpeCA9IHByZWZpeDtcbn1cbi8qXG4gKiBHZXQgdGhlIHJlbGF0aXZlIHBhdGggcHJlZml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoUHJlZml4KCkge1xuICAgIHJldHVybiBwYXRoUHJlZml4O1xufVxuLyoqXG4gKlxuICogQHBhcmFtIGFsaWFzZXNcbiAqXG4gKiBOb3RlOiBhZGRBbGlhc2VzIGFyZSBhbiBleHBlcmltZW50YWwgZXhwb3J0LCB0aGV5IGFyZSBvbmx5IGZvciB0ZXN0aW5nIG9mIGxvYWRlcnMuZ2wgbG9hZGVyc1xuICogbm90IGludGVuZGVkIGFzIGEgZ2VuZXJpYyBhbGlhc2luZyBtZWNoYW5pc21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEFsaWFzZXMoYWxpYXNlcykge1xuICAgIE9iamVjdC5hc3NpZ24oZmlsZUFsaWFzZXMsIGFsaWFzZXMpO1xufVxuLyoqXG4gKiBSZXNvbHZlcyBhbGlhc2VzIGFuZCBhZGRzIHBhdGgtcHJlZml4IHRvIHBhdGhzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUGF0aChmaWxlbmFtZSkge1xuICAgIGZvciAoY29uc3QgYWxpYXMgaW4gZmlsZUFsaWFzZXMpIHtcbiAgICAgICAgaWYgKGZpbGVuYW1lLnN0YXJ0c1dpdGgoYWxpYXMpKSB7XG4gICAgICAgICAgICBjb25zdCByZXBsYWNlbWVudCA9IGZpbGVBbGlhc2VzW2FsaWFzXTtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZShhbGlhcywgcmVwbGFjZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghZmlsZW5hbWUuc3RhcnRzV2l0aCgnaHR0cDovLycpICYmICFmaWxlbmFtZS5zdGFydHNXaXRoKCdodHRwczovLycpKSB7XG4gICAgICAgIGZpbGVuYW1lID0gYCR7cGF0aFByZWZpeH0ke2ZpbGVuYW1lfWA7XG4gICAgfVxuICAgIHJldHVybiBmaWxlbmFtZTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuZXhwb3J0IGNsYXNzIEZldGNoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgaW5mbykge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5yZWFzb24gPSBpbmZvLnJlYXNvbjtcbiAgICAgICAgdGhpcy51cmwgPSBpbmZvLnVybDtcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IGluZm8ucmVzcG9uc2U7XG4gICAgfVxuICAgIC8qKiBBIGJlc3QgZWZmb3J0IHJlYXNvbiBmb3Igd2h5IHRoZSBmZXRjaCBmYWlsZWQgKi9cbiAgICByZWFzb247XG4gICAgLyoqIFRoZSBVUkwgdGhhdCBmYWlsZWQgdG8gbG9hZC4gRW1wdHkgc3RyaW5nIGlmIG5vdCBhdmFpbGFibGUuICovXG4gICAgdXJsO1xuICAgIC8qKiBUaGUgUmVzcG9uc2Ugb2JqZWN0LCBpZiBhbnkuICovXG4gICAgcmVzcG9uc2U7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbi8vIFRPRE8gLSBidWlsZC9pbnRlZ3JhdGUgcHJvcGVyIE1JTUUgdHlwZSBwYXJzaW5nXG4vLyBodHRwczovL21pbWVzbmlmZi5zcGVjLndoYXR3Zy5vcmcvXG5jb25zdCBEQVRBX1VSTF9QQVRURVJOID0gL15kYXRhOihbLVxcdy5dK1xcL1stXFx3LitdKykoO3wsKS87XG5jb25zdCBNSU1FX1RZUEVfUEFUVEVSTiA9IC9eKFstXFx3Ll0rXFwvWy1cXHcuK10rKS87XG4vKipcbiAqIENvbXBhcmUgdHdvIE1JTUUgdHlwZXMsIGNhc2UgaW5zZW5zaXRpdmVseSBldGMuXG4gKiBAcGFyYW0gbWltZVR5cGUxXG4gKiBAcGFyYW0gbWltZVR5cGUyXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBNSU1FIHR5cGVzIGFyZSBlcXVpdmFsZW50XG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQmFzaWNzX29mX0hUVFAvTUlNRV90eXBlcyNzdHJ1Y3R1cmVfb2ZfYV9taW1lX3R5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVNSU1FVHlwZXMobWltZVR5cGUxLCBtaW1lVHlwZTIpIHtcbiAgICBpZiAobWltZVR5cGUxLnRvTG93ZXJDYXNlKCkgPT09IG1pbWVUeXBlMi50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFJlbW92ZSBleHRyYSBkYXRhIGxpa2UgYGNoYXJzZXRgIGZyb20gTUlNRSB0eXBlc1xuICogQHBhcmFtIG1pbWVTdHJpbmdcbiAqIEByZXR1cm5zIEEgY2xlYW4gTUlNRSB0eXBlLCBvciBhbiBlbXB0eSBzdHJpbmdcbiAqXG4gKiBAdG9kbyAtIGhhbmRsZSBtb3JlIGFkdmFuY2VkIE1JTUVUWXBlcywgbXVsdGlwbGUgdHlwZXNcbiAqIEB0b2RvIC0gZXh0cmFjdCBjaGFyc2V0IGV0Y1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNSU1FVHlwZShtaW1lU3RyaW5nKSB7XG4gICAgLy8gSWYgcmVzb3VyY2UgaXMgYSBkYXRhIHVybCwgZXh0cmFjdCBhbnkgZW1iZWRkZWQgbWltZSB0eXBlXG4gICAgY29uc3QgbWF0Y2hlcyA9IE1JTUVfVFlQRV9QQVRURVJOLmV4ZWMobWltZVN0cmluZyk7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNbMV07XG4gICAgfVxuICAgIHJldHVybiBtaW1lU3RyaW5nO1xufVxuLyoqXG4gKiBFeHRyYWN0IE1JTUUgdHlwZSBmcm9tIGRhdGEgVVJMXG4gKlxuICogQHBhcmFtIG1pbWVTdHJpbmdcbiAqIEByZXR1cm5zIEEgY2xlYW4gTUlNRSB0eXBlLCBvciBhbiBlbXB0eSBzdHJpbmdcbiAqXG4gKiBAdG9kbyAtIGhhbmRsZSBtb3JlIGFkdmFuY2VkIE1JTUVUWXBlcywgbXVsdGlwbGUgdHlwZXNcbiAqIEB0b2RvIC0gZXh0cmFjdCBjaGFyc2V0IGV0Y1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNSU1FVHlwZUZyb21VUkwodXJsKSB7XG4gICAgLy8gSWYgcmVzb3VyY2UgaXMgYSBkYXRhIFVSTCwgZXh0cmFjdCBhbnkgZW1iZWRkZWQgbWltZSB0eXBlXG4gICAgY29uc3QgbWF0Y2hlcyA9IERBVEFfVVJMX1BBVFRFUk4uZXhlYyh1cmwpO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzWzFdO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmNvbnN0IFFVRVJZX1NUUklOR19QQVRURVJOID0gL1xcPy4qLztcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UXVlcnlTdHJpbmcodXJsKSB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IHVybC5tYXRjaChRVUVSWV9TVFJJTkdfUEFUVEVSTik7XG4gICAgcmV0dXJuIG1hdGNoZXMgJiYgbWF0Y2hlc1swXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcFF1ZXJ5U3RyaW5nKHVybCkge1xuICAgIHJldHVybiB1cmwucmVwbGFjZShRVUVSWV9TVFJJTkdfUEFUVEVSTiwgJycpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3J0ZW5VcmxGb3JEaXNwbGF5KHVybCkge1xuICAgIGlmICh1cmwubGVuZ3RoIDwgNTApIHtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gICAgY29uc3QgdXJsRW5kID0gdXJsLnNsaWNlKHVybC5sZW5ndGggLSAxNSk7XG4gICAgY29uc3QgdXJsU3RhcnQgPSB1cmwuc3Vic3RyKDAsIDMyKTtcbiAgICByZXR1cm4gYCR7dXJsU3RhcnR9Li4uJHt1cmxFbmR9YDtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgaXNSZXNwb25zZSwgaXNCbG9iIH0gZnJvbSBcIi4uLy4uL2phdmFzY3JpcHQtdXRpbHMvaXMtdHlwZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VNSU1FVHlwZSwgcGFyc2VNSU1FVHlwZUZyb21VUkwgfSBmcm9tIFwiLi9taW1lLXR5cGUtdXRpbHMuanNcIjtcbmltcG9ydCB7IHN0cmlwUXVlcnlTdHJpbmcgfSBmcm9tIFwiLi91cmwtdXRpbHMuanNcIjtcbi8qKlxuICogUmV0dXJucyB0aGUgVVJMIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJlc291cmNlLlxuICogVGhlIHJldHVybmVkIHZhbHVlIG1heSBpbmNsdWRlIGEgcXVlcnkgc3RyaW5nIGFuZCBuZWVkIGZ1cnRoZXIgcHJvY2Vzc2luZy5cbiAqIElmIGl0IGNhbm5vdCBkZXRlcm1pbmUgdXJsLCB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZSB3aWxsIGJlIGFuIGVtcHR5IHN0cmluZ1xuICpcbiAqIEB0b2RvIHN0cmluZyBwYXJhbWV0ZXJzIGFyZSBhc3N1bWVkIHRvIGJlIFVSTHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc291cmNlVXJsKHJlc291cmNlKSB7XG4gICAgLy8gSWYgcmVzb3VyY2UgaXMgYSBgUmVzcG9uc2VgLCBpdCBjb250YWlucyB0aGUgaW5mb3JtYXRpb24gZGlyZWN0bHkgYXMgYSBmaWVsZFxuICAgIGlmIChpc1Jlc3BvbnNlKHJlc291cmNlKSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHJlc291cmNlO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UudXJsO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgcmVzb3VyY2UgaXMgYSBCbG9iIG9yIGEgRmlsZSAoc3ViY2xhc3Mgb2YgQmxvYilcbiAgICBpZiAoaXNCbG9iKHJlc291cmNlKSkge1xuICAgICAgICBjb25zdCBibG9iID0gcmVzb3VyY2U7XG4gICAgICAgIC8vIEZpbGUgb2JqZWN0cyBoYXZlIGEgXCJuYW1lXCIgcHJvcGVydHkuIEJsb2Igb2JqZWN0cyBkb24ndCBoYXZlIGFueVxuICAgICAgICAvLyB1cmwgKG5hbWUpIGluZm9ybWF0aW9uXG4gICAgICAgIHJldHVybiBibG9iLm5hbWUgfHwgJyc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiByZXNvdXJjZTtcbiAgICB9XG4gICAgLy8gVW5rbm93blxuICAgIHJldHVybiAnJztcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgVVJMIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJlc291cmNlLlxuICogVGhlIHJldHVybmVkIHZhbHVlIG1heSBpbmNsdWRlIGEgcXVlcnkgc3RyaW5nIGFuZCBuZWVkIGZ1cnRoZXIgcHJvY2Vzc2luZy5cbiAqIElmIGl0IGNhbm5vdCBkZXRlcm1pbmUgdXJsLCB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZSB3aWxsIGJlIGFuIGVtcHR5IHN0cmluZ1xuICpcbiAqIEB0b2RvIHN0cmluZyBwYXJhbWV0ZXJzIGFyZSBhc3N1bWVkIHRvIGJlIFVSTHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc291cmNlTUlNRVR5cGUocmVzb3VyY2UpIHtcbiAgICAvLyBJZiByZXNvdXJjZSBpcyBhIHJlc3BvbnNlLCBpdCBjb250YWlucyB0aGUgaW5mb3JtYXRpb24gZGlyZWN0bHlcbiAgICBpZiAoaXNSZXNwb25zZShyZXNvdXJjZSkpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXNvdXJjZTtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGVIZWFkZXIgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IG5vUXVlcnlVcmwgPSBzdHJpcFF1ZXJ5U3RyaW5nKHJlc3BvbnNlLnVybCk7XG4gICAgICAgIHJldHVybiBwYXJzZU1JTUVUeXBlKGNvbnRlbnRUeXBlSGVhZGVyKSB8fCBwYXJzZU1JTUVUeXBlRnJvbVVSTChub1F1ZXJ5VXJsKTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIHJlc291cmNlIGlzIGEgQmxvYiBvciBhIEZpbGUgKHN1YmNsYXNzIG9mIEJsb2IpXG4gICAgaWYgKGlzQmxvYihyZXNvdXJjZSkpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IHJlc291cmNlO1xuICAgICAgICByZXR1cm4gYmxvYi50eXBlIHx8ICcnO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gcGFyc2VNSU1FVHlwZUZyb21VUkwocmVzb3VyY2UpO1xuICAgIH1cbiAgICAvLyBVbmtub3duXG4gICAgcmV0dXJuICcnO1xufVxuLyoqXG4gICogUmV0dXJucyAoYXBwcm94aW1hdGUpIGNvbnRlbnQgbGVuZ3RoIGZvciBhIHJlc291cmNlIGlmIGl0IGNhbiBiZSBkZXRlcm1pbmVkLlxuICAqIFJldHVybnMgLTEgaWYgY29udGVudCBsZW5ndGggY2Fubm90IGJlIGRldGVybWluZWQuXG4gICogQHBhcmFtIHJlc291cmNlXG5cbiAgKiBAbm90ZSBzdHJpbmcgcGFyYW1ldGVycyBhcmUgTk9UIGFzc3VtZWQgdG8gYmUgVVJMc1xuICAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc291cmNlQ29udGVudExlbmd0aChyZXNvdXJjZSkge1xuICAgIGlmIChpc1Jlc3BvbnNlKHJlc291cmNlKSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHJlc291cmNlO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSB8fCAtMTtcbiAgICB9XG4gICAgaWYgKGlzQmxvYihyZXNvdXJjZSkpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IHJlc291cmNlO1xuICAgICAgICByZXR1cm4gYmxvYi5zaXplO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBUT0RPIC0gaGFuZGxlIGRhdGEgVVJMP1xuICAgICAgICByZXR1cm4gcmVzb3VyY2UubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAocmVzb3VyY2UgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gcmVzb3VyY2UuYnl0ZUxlbmd0aDtcbiAgICB9XG4gICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhyZXNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmJ5dGVMZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgaXNSZXNwb25zZSB9IGZyb20gXCIuLi8uLi9qYXZhc2NyaXB0LXV0aWxzL2lzLXR5cGUuanNcIjtcbmltcG9ydCB7IEZldGNoRXJyb3IgfSBmcm9tIFwiLi4vZmV0Y2gvZmV0Y2gtZXJyb3IuanNcIjtcbmltcG9ydCB7IGdldFJlc291cmNlQ29udGVudExlbmd0aCwgZ2V0UmVzb3VyY2VVcmwsIGdldFJlc291cmNlTUlNRVR5cGUgfSBmcm9tIFwiLi9yZXNvdXJjZS11dGlscy5qc1wiO1xuaW1wb3J0IHsgc2hvcnRlblVybEZvckRpc3BsYXkgfSBmcm9tIFwiLi91cmwtdXRpbHMuanNcIjtcbi8qKlxuICogUmV0dXJucyBhIFJlc3BvbnNlIG9iamVjdFxuICogQWRkcyBjb250ZW50LWxlbmd0aCBoZWFkZXIgd2hlbiBwb3NzaWJsZVxuICpcbiAqIEBwYXJhbSByZXNvdXJjZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFrZVJlc3BvbnNlKHJlc291cmNlKSB7XG4gICAgaWYgKGlzUmVzcG9uc2UocmVzb3VyY2UpKSB7XG4gICAgICAgIHJldHVybiByZXNvdXJjZTtcbiAgICB9XG4gICAgLy8gQWRkIGNvbnRlbnQtbGVuZ3RoIGhlYWRlciBpZiBwb3NzaWJsZVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gZ2V0UmVzb3VyY2VDb250ZW50TGVuZ3RoKHJlc291cmNlKTtcbiAgICBpZiAoY29udGVudExlbmd0aCA+PSAwKSB7XG4gICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gPSBTdHJpbmcoY29udGVudExlbmd0aCk7XG4gICAgfVxuICAgIC8vIGBuZXcgUmVzcG9uc2UoRmlsZSlgIGRvZXMgbm90IHByZXNlcnZlIGNvbnRlbnQtdHlwZSBhbmQgVVJMXG4gICAgLy8gc28gd2UgYWRkIHRoZW0gaGVyZVxuICAgIGNvbnN0IHVybCA9IGdldFJlc291cmNlVXJsKHJlc291cmNlKTtcbiAgICBjb25zdCB0eXBlID0gZ2V0UmVzb3VyY2VNSU1FVHlwZShyZXNvdXJjZSk7XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSB0eXBlO1xuICAgIH1cbiAgICAvLyBBZGQgYSBjdXN0b20gaGVhZGVyIHdpdGggaW5pdGlhbCBieXRlcyBpZiBhdmFpbGFibGVcbiAgICBjb25zdCBpbml0aWFsRGF0YVVybCA9IGF3YWl0IGdldEluaXRpYWxEYXRhVXJsKHJlc291cmNlKTtcbiAgICBpZiAoaW5pdGlhbERhdGFVcmwpIHtcbiAgICAgICAgaGVhZGVyc1sneC1maXJzdC1ieXRlcyddID0gaW5pdGlhbERhdGFVcmw7XG4gICAgfVxuICAgIC8vIFRPRE8gLSBpcyB0aGlzIHRoZSBiZXN0IHdheSBvZiBoYW5kbGluZyBzdHJpbmdzP1xuICAgIC8vIE1heWJlIHBhY2thZ2UgYXMgZGF0YSBVUkwgaW5zdGVhZD9cbiAgICBpZiAodHlwZW9mIHJlc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBDb252ZXJ0IHRvIEFycmF5QnVmZmVyIHRvIGF2b2lkIFJlc3BvbnNlIHRyZWF0aW5nIGl0IGFzIGEgVVJMXG4gICAgICAgIHJlc291cmNlID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHJlc291cmNlKTtcbiAgICB9XG4gICAgLy8gQXR0ZW1wdCB0byBjcmVhdGUgYSBSZXNwb25zZSBmcm9tIHRoZSByZXNvdXJjZSwgYWRkaW5nIGhlYWRlcnMgYW5kIHNldHRpbmcgdXJsXG4gICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocmVzb3VyY2UsIHsgaGVhZGVycyB9KTtcbiAgICAvLyBXZSBjYW4ndCBjb250cm9sIGBSZXNwb25zZS51cmxgIHZpYSBjb25zdHJ1Y3RvciwgdXNlIGEgcHJvcGVydHkgb3ZlcnJpZGUgdG8gcmVjb3JkIFVSTC5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzcG9uc2UsICd1cmwnLCB7IHZhbHVlOiB1cmwgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuLyoqXG4gKiBDaGVja3MgcmVzcG9uc2Ugc3RhdHVzIChhc3luYykgYW5kIHRocm93cyBhIGhlbHBmdWwgZXJyb3IgbWVzc2FnZSBpZiBzdGF0dXMgaXMgbm90IE9LLlxuICogQHBhcmFtIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja1Jlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IGdldFJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG4vKipcbiAqIENoZWNrcyByZXNwb25zZSBzdGF0dXMgKHN5bmMpIGFuZCB0aHJvd3MgYSBoZWxwZnVsIGVycm9yIG1lc3NhZ2UgaWYgc3RhdHVzIGlzIG5vdCBPSy5cbiAqIEBwYXJhbSByZXNwb25zZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tSZXNwb25zZVN5bmMocmVzcG9uc2UpIHtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gYCR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDtcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UubGVuZ3RoID4gNjAgPyBgJHttZXNzYWdlLnNsaWNlKDAsIDYwKX0uLi5gIDogbWVzc2FnZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbn1cbi8vIEhFTFBFUlNcbmFzeW5jIGZ1bmN0aW9uIGdldFJlc3BvbnNlRXJyb3IocmVzcG9uc2UpIHtcbiAgICBjb25zdCBzaG9ydFVybCA9IHNob3J0ZW5VcmxGb3JEaXNwbGF5KHJlc3BvbnNlLnVybCk7XG4gICAgbGV0IG1lc3NhZ2UgPSBgRmFpbGVkIHRvIGZldGNoIHJlc291cmNlICgke3Jlc3BvbnNlLnN0YXR1c30pICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH06ICR7c2hvcnRVcmx9YDtcbiAgICBtZXNzYWdlID0gbWVzc2FnZS5sZW5ndGggPiAxMDAgPyBgJHttZXNzYWdlLnNsaWNlKDAsIDEwMCl9Li4uYCA6IG1lc3NhZ2U7XG4gICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgcmVhc29uOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICB1cmw6IHJlc3BvbnNlLnVybCxcbiAgICAgICAgcmVzcG9uc2VcbiAgICB9O1xuICAgIC8vIFNlZSBpZiB3ZSBnb3QgYW4gZXJyb3IgbWVzc2FnZSBpbiB0aGUgYm9keVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICBpbmZvLnJlYXNvbiA9XG4gICAgICAgICAgICAhcmVzcG9uc2UuYm9keVVzZWQgJiYgY29udGVudFR5cGU/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgICAgICAgICAgIDogYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gZXNsaW50IGZvcmJpZHMgcmV0dXJuIGluIGEgZmluYWxseSBzdGF0ZW1lbnQsIHNvIHdlIGp1c3QgY2F0Y2ggaGVyZVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEZldGNoRXJyb3IobWVzc2FnZSwgaW5mbyk7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRJbml0aWFsRGF0YVVybChyZXNvdXJjZSkge1xuICAgIGNvbnN0IElOSVRJQUxfREFUQV9MRU5HVEggPSA1O1xuICAgIGlmICh0eXBlb2YgcmVzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBgZGF0YTosJHtyZXNvdXJjZS5zbGljZSgwLCBJTklUSUFMX0RBVEFfTEVOR1RIKX1gO1xuICAgIH1cbiAgICBpZiAocmVzb3VyY2UgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgIGNvbnN0IGJsb2JTbGljZSA9IHJlc291cmNlLnNsaWNlKDAsIDUpO1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiByZXNvbHZlKGV2ZW50Py50YXJnZXQ/LnJlc3VsdCk7XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iU2xpY2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJlc291cmNlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgY29uc3Qgc2xpY2UgPSByZXNvdXJjZS5zbGljZSgwLCBJTklUSUFMX0RBVEFfTEVOR1RIKTtcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gYXJyYXlCdWZmZXJUb0Jhc2U2NChzbGljZSk7XG4gICAgICAgIHJldHVybiBgZGF0YTpiYXNlNjQsJHtiYXNlNjR9YDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85MjY3ODk5L2FycmF5YnVmZmVyLXRvLWJhc2U2NC1lbmNvZGVkLXN0cmluZ1xuZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0Jhc2U2NChidWZmZXIpIHtcbiAgICBsZXQgYmluYXJ5ID0gJyc7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMuYnl0ZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ0b2EoYmluYXJ5KTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgcmVzb2x2ZVBhdGggfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuaW1wb3J0IHsgbWFrZVJlc3BvbnNlIH0gZnJvbSBcIi4uL3V0aWxzL3Jlc3BvbnNlLXV0aWxzLmpzXCI7XG4vLyBpbXBvcnQge0ZldGNoRXJyb3J9IGZyb20gJy4vZmV0Y2gtZXJyb3InO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZVBhdGgodXJsKSB7XG4gICAgcmV0dXJuICFpc1JlcXVlc3RVUkwodXJsKSAmJiAhaXNEYXRhVVJMKHVybCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZXF1ZXN0VVJMKHVybCkge1xuICAgIHJldHVybiB1cmwuc3RhcnRzV2l0aCgnaHR0cDonKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Jyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEYXRhVVJMKHVybCkge1xuICAgIHJldHVybiB1cmwuc3RhcnRzV2l0aCgnZGF0YTonKTtcbn1cbi8qKlxuICogZmV0Y2ggQVBJIGNvbXBhdGlibGUgZnVuY3Rpb25cbiAqIC0gU3VwcG9ydHMgZmV0Y2hpbmcgZnJvbSBOb2RlLmpzIGxvY2FsIGZpbGUgc3lzdGVtIHBhdGhzXG4gKiAtIFJlc3BlY3RzIHBhdGhQcmVmaXggYW5kIGZpbGUgYWxpYXNlc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hGaWxlKHVybE9yRGF0YSwgZmV0Y2hPcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiB1cmxPckRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHJlc29sdmVQYXRoKHVybE9yRGF0YSk7XG4gICAgICAgIC8vIFN1cHBvcnQgZmV0Y2hpbmcgZnJvbSBsb2NhbCBmaWxlIHN5c3RlbVxuICAgICAgICBpZiAoaXNOb2RlUGF0aCh1cmwpKSB7XG4gICAgICAgICAgICBpZiAoZ2xvYmFsVGhpcy5sb2FkZXJzPy5mZXRjaE5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcy5sb2FkZXJzPy5mZXRjaE5vZGUodXJsLCBmZXRjaE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgLy8gICAnZmV0Y2hGaWxlOiBnbG9iYWxUaGlzLmxvYWRlcnMuZmV0Y2hOb2RlIG5vdCBkZWZpbmVkLiBJbnN0YWxsIEBsb2FkZXJzLmdsL3BvbHlmaWxscydcbiAgICAgICAgICAgIC8vICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsbCBnbG9iYWwgZmV0Y2hcbiAgICAgICAgcmV0dXJuIGF3YWl0IGZldGNoKHVybCwgZmV0Y2hPcHRpb25zKTtcbiAgICB9XG4gICAgLy8gVE9ETyAtIHNob3VsZCB3ZSBzdGlsbCBjYWxsIGZldGNoIG9uIG5vbi1VUkwgaW5wdXRzP1xuICAgIHJldHVybiBhd2FpdCBtYWtlUmVzcG9uc2UodXJsT3JEYXRhKTtcbn1cbiIsIi8vIFRoaXMgZnVuY3Rpb24gaXMgbmVlZGVkIGluIGluaXRpYWxpemF0aW9uIHN0YWdlcyxcbi8vIG1ha2Ugc3VyZSBpdCBjYW4gYmUgaW1wb3J0ZWQgaW4gaXNvbGF0aW9uXG5pbXBvcnQgeyBpc0VsZWN0cm9uIH0gZnJvbSBcIi4vaXMtZWxlY3Ryb24uanNcIjtcbi8qKiBDaGVjayBpZiBpbiBicm93c2VyIGJ5IGR1Y2stdHlwaW5nIE5vZGUgY29udGV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQnJvd3NlcigpIHtcbiAgICBjb25zdCBpc05vZGUgPSBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIFN0cmluZyhwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nICYmICFwcm9jZXNzPy5icm93c2VyO1xuICAgIHJldHVybiAhaXNOb2RlIHx8IGlzRWxlY3Ryb24oKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWJyb3dzZXIuanMubWFwIiwiLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2NoZXRvbi9pcy1lbGVjdHJvblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2VsZWN0cm9uL2VsZWN0cm9uL2lzc3Vlcy8yMjg4XG4vKiBlc2xpbnQtZGlzYWJsZSBjb21wbGV4aXR5ICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVjdHJvbihtb2NrVXNlckFnZW50KSB7XG4gICAgLy8gUmVuZGVyZXIgcHJvY2Vzc1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3M/LnR5cGUgPT09ICdyZW5kZXJlcicpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIE1haW4gcHJvY2Vzc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgQm9vbGVhbihwcm9jZXNzLnZlcnNpb25zPy5bJ2VsZWN0cm9uJ10pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgdGhlIHVzZXIgYWdlbnQgd2hlbiB0aGUgYG5vZGVJbnRlZ3JhdGlvbmAgb3B0aW9uIGlzIHNldCB0byB0cnVlXG4gICAgY29uc3QgcmVhbFVzZXJBZ2VudCA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgY29uc3QgdXNlckFnZW50ID0gbW9ja1VzZXJBZ2VudCB8fCByZWFsVXNlckFnZW50O1xuICAgIHJldHVybiBCb29sZWFuKHVzZXJBZ2VudCAmJiB1c2VyQWdlbnQuaW5kZXhPZignRWxlY3Ryb24nKSA+PSAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWVsZWN0cm9uLmpzLm1hcCIsIi8vIEV4dHJhY3QgaW5qZWN0ZWQgdmVyc2lvbiBmcm9tIHBhY2thZ2UuanNvbiAoaW5qZWN0ZWQgYnkgYmFiZWwgcGx1Z2luKVxuLy8gQHRzLWV4cGVjdC1lcnJvclxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSB0eXBlb2YgXCI0LjEuMFwiICE9PSAndW5kZWZpbmVkJyA/IFwiNC4xLjBcIiA6ICd1bnRyYW5zcGlsZWQgc291cmNlJztcbi8vIEVOVklST05NRU5UXG5leHBvcnQgeyBzZWxmLCB3aW5kb3csIGdsb2JhbCwgZG9jdW1lbnQsIHByb2Nlc3MsIGNvbnNvbGUgfSBmcm9tIFwiLi9saWIvZ2xvYmFscy5qc1wiO1xuZXhwb3J0IHsgaXNCcm93c2VyIH0gZnJvbSBcIi4vbGliL2lzLWJyb3dzZXIuanNcIjtcbmV4cG9ydCB7IGdldEJyb3dzZXIsIGlzTW9iaWxlIH0gZnJvbSBcIi4vbGliL2dldC1icm93c2VyLmpzXCI7XG5leHBvcnQgeyBpc0VsZWN0cm9uIH0gZnJvbSBcIi4vbGliL2lzLWVsZWN0cm9uLmpzXCI7XG4vLyBFTlZJUk9OTUVOVCdTIEFTU0VSVCBJUyA1LTE1S0IsIFNPIFdFIFBST1ZJREUgT1VSIE9XTlxuZXhwb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG4vLyBUT0RPIC0gd2lzaCB3ZSBjb3VsZCBqdXN0IGV4cG9ydCBhIGNvbnN0YW50XG4vLyBleHBvcnQgY29uc3QgaXNCcm93c2VyID0gY2hlY2tJZkJyb3dzZXIoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8vIHByb2JlLmdsLCBNSVQgbGljZW5zZVxuZnVuY3Rpb24gZ2V0U3RvcmFnZSh0eXBlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmFnZSA9IHdpbmRvd1t0eXBlXTtcbiAgICAgICAgY29uc3QgeCA9ICdfX3N0b3JhZ2VfdGVzdF9fJztcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xuICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XG4gICAgICAgIHJldHVybiBzdG9yYWdlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vLyBTdG9yZSBrZXlzIGluIGxvY2FsIHN0b3JhZ2UgdmlhIHNpbXBsZSBpbnRlcmZhY2VcbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGlkLCBkZWZhdWx0Q29uZmlnLCB0eXBlID0gJ3Nlc3Npb25TdG9yYWdlJykge1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBnZXRTdG9yYWdlKHR5cGUpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gZGVmYXVsdENvbmZpZztcbiAgICAgICAgdGhpcy5fbG9hZENvbmZpZ3VyYXRpb24oKTtcbiAgICB9XG4gICAgZ2V0Q29uZmlndXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICAgIH1cbiAgICBzZXRDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZywgY29uZmlndXJhdGlvbik7XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLCBzZXJpYWxpemVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBHZXQgY29uZmlnIGZyb20gcGVyc2lzdGVudCBzdG9yZSwgaWYgYXZhaWxhYmxlXG4gICAgX2xvYWRDb25maWd1cmF0aW9uKCkge1xuICAgICAgICBsZXQgY29uZmlndXJhdGlvbiA9IHt9O1xuICAgICAgICBpZiAodGhpcy5zdG9yYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkQ29uZmlndXJhdGlvbiA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKHRoaXMuaWQpO1xuICAgICAgICAgICAgY29uZmlndXJhdGlvbiA9IHNlcmlhbGl6ZWRDb25maWd1cmF0aW9uID8gSlNPTi5wYXJzZShzZXJpYWxpemVkQ29uZmlndXJhdGlvbikgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYWwtc3RvcmFnZS5qcy5tYXAiLCJpbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tICdAcHJvYmUuZ2wvZW52JztcbmV4cG9ydCB2YXIgQ09MT1I7XG4oZnVuY3Rpb24gKENPTE9SKSB7XG4gICAgQ09MT1JbQ09MT1JbXCJCTEFDS1wiXSA9IDMwXSA9IFwiQkxBQ0tcIjtcbiAgICBDT0xPUltDT0xPUltcIlJFRFwiXSA9IDMxXSA9IFwiUkVEXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJHUkVFTlwiXSA9IDMyXSA9IFwiR1JFRU5cIjtcbiAgICBDT0xPUltDT0xPUltcIllFTExPV1wiXSA9IDMzXSA9IFwiWUVMTE9XXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJCTFVFXCJdID0gMzRdID0gXCJCTFVFXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJNQUdFTlRBXCJdID0gMzVdID0gXCJNQUdFTlRBXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJDWUFOXCJdID0gMzZdID0gXCJDWUFOXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJXSElURVwiXSA9IDM3XSA9IFwiV0hJVEVcIjtcbiAgICBDT0xPUltDT0xPUltcIkJSSUdIVF9CTEFDS1wiXSA9IDkwXSA9IFwiQlJJR0hUX0JMQUNLXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJCUklHSFRfUkVEXCJdID0gOTFdID0gXCJCUklHSFRfUkVEXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJCUklHSFRfR1JFRU5cIl0gPSA5Ml0gPSBcIkJSSUdIVF9HUkVFTlwiO1xuICAgIENPTE9SW0NPTE9SW1wiQlJJR0hUX1lFTExPV1wiXSA9IDkzXSA9IFwiQlJJR0hUX1lFTExPV1wiO1xuICAgIENPTE9SW0NPTE9SW1wiQlJJR0hUX0JMVUVcIl0gPSA5NF0gPSBcIkJSSUdIVF9CTFVFXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJCUklHSFRfTUFHRU5UQVwiXSA9IDk1XSA9IFwiQlJJR0hUX01BR0VOVEFcIjtcbiAgICBDT0xPUltDT0xPUltcIkJSSUdIVF9DWUFOXCJdID0gOTZdID0gXCJCUklHSFRfQ1lBTlwiO1xuICAgIENPTE9SW0NPTE9SW1wiQlJJR0hUX1dISVRFXCJdID0gOTddID0gXCJCUklHSFRfV0hJVEVcIjtcbn0pKENPTE9SIHx8IChDT0xPUiA9IHt9KSk7XG5jb25zdCBCQUNLR1JPVU5EX0lOQ1JFTUVOVCA9IDEwO1xuZnVuY3Rpb24gZ2V0Q29sb3IoY29sb3IpIHtcbiAgICBpZiAodHlwZW9mIGNvbG9yICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuICAgIGNvbG9yID0gY29sb3IudG9VcHBlckNhc2UoKTtcbiAgICByZXR1cm4gQ09MT1JbY29sb3JdIHx8IENPTE9SLldISVRFO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbG9yKHN0cmluZywgY29sb3IsIGJhY2tncm91bmQpIHtcbiAgICBpZiAoIWlzQnJvd3NlciAmJiB0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yQ29kZSA9IGdldENvbG9yKGNvbG9yKTtcbiAgICAgICAgICAgIHN0cmluZyA9IGBcXHUwMDFiWyR7Y29sb3JDb2RlfW0ke3N0cmluZ31cXHUwMDFiWzM5bWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhY2tncm91bmQpIHtcbiAgICAgICAgICAgIC8vIGJhY2tncm91bmQgY29sb3JzIHZhbHVlcyBhcmUgKzEwXG4gICAgICAgICAgICBjb25zdCBjb2xvckNvZGUgPSBnZXRDb2xvcihiYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgIHN0cmluZyA9IGBcXHUwMDFiWyR7Y29sb3JDb2RlICsgQkFDS0dST1VORF9JTkNSRU1FTlR9bSR7c3RyaW5nfVxcdTAwMWJbNDltYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3IuanMubWFwIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlIHx8ICdBc3NlcnRpb24gZmFpbGVkJyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0LmpzLm1hcCIsIi8vIERvIG5vdCBuYW1lIHRoZXNlIHZhcmlhYmxlcyB0aGUgc2FtZSBhcyB0aGUgZ2xvYmFsIG9iamVjdHMgLSB3aWxsIGJyZWFrIGJ1bmRsaW5nXG5jb25zdCBnbG9iYWxfID0gZ2xvYmFsVGhpcztcbmNvbnN0IHdpbmRvd18gPSBnbG9iYWxUaGlzO1xuY29uc3QgZG9jdW1lbnRfID0gZ2xvYmFsVGhpcy5kb2N1bWVudCB8fCB7fTtcbmNvbnN0IHByb2Nlc3NfID0gZ2xvYmFsVGhpcy5wcm9jZXNzIHx8IHt9O1xuY29uc3QgY29uc29sZV8gPSBnbG9iYWxUaGlzLmNvbnNvbGU7XG5jb25zdCBuYXZpZ2F0b3JfID0gZ2xvYmFsVGhpcy5uYXZpZ2F0b3IgfHwge307XG5leHBvcnQgeyBnbG9iYWxfIGFzIGdsb2JhbCwgZ2xvYmFsXyBhcyBzZWxmLCB3aW5kb3dfIGFzIHdpbmRvdywgZG9jdW1lbnRfIGFzIGRvY3VtZW50LCBwcm9jZXNzXyBhcyBwcm9jZXNzLCBjb25zb2xlXyBhcyBjb25zb2xlLCBuYXZpZ2F0b3JfIGFzIG5hdmlnYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2xvYmFscy5qcy5tYXAiLCIvLyBwcm9iZS5nbCwgTUlUIGxpY2Vuc2VcbmltcG9ydCB7IHdpbmRvdywgcHJvY2VzcywgaXNCcm93c2VyIH0gZnJvbSAnQHByb2JlLmdsL2Vudic7XG4vKiogR2V0IGJlc3QgdGltZXIgYXZhaWxhYmxlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhpUmVzVGltZXN0YW1wKCkge1xuICAgIGxldCB0aW1lc3RhbXA7XG4gICAgaWYgKGlzQnJvd3NlcigpICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgICAgICB0aW1lc3RhbXAgPSB3aW5kb3c/LnBlcmZvcm1hbmNlPy5ub3c/LigpO1xuICAgIH1cbiAgICBlbHNlIGlmICgnaHJ0aW1lJyBpbiBwcm9jZXNzKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgdGltZVBhcnRzID0gcHJvY2Vzcz8uaHJ0aW1lPy4oKTtcbiAgICAgICAgdGltZXN0YW1wID0gdGltZVBhcnRzWzBdICogMTAwMCArIHRpbWVQYXJ0c1sxXSAvIDFlNjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgfVxuICAgIHJldHVybiB0aW1lc3RhbXA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oaS1yZXMtdGltZXN0YW1wLmpzLm1hcCIsIi8vIHByb2JlLmdsLCBNSVQgbGljZW5zZVxuLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSxwcmVmZXItcmVzdC1wYXJhbXMgKi9cbmltcG9ydCB7IFZFUlNJT04sIGlzQnJvd3NlciB9IGZyb20gJ0Bwcm9iZS5nbC9lbnYnO1xuaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4vdXRpbHMvbG9jYWwtc3RvcmFnZS5qc1wiO1xuaW1wb3J0IHsgZm9ybWF0VGltZSwgbGVmdFBhZCB9IGZyb20gXCIuL3V0aWxzL2Zvcm1hdHRlcnMuanNcIjtcbmltcG9ydCB7IGFkZENvbG9yIH0gZnJvbSBcIi4vdXRpbHMvY29sb3IuanNcIjtcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSBcIi4vdXRpbHMvYXV0b2JpbmQuanNcIjtcbmltcG9ydCBhc3NlcnQgZnJvbSBcIi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBnZXRIaVJlc1RpbWVzdGFtcCB9IGZyb20gXCIuL3V0aWxzL2hpLXJlcy10aW1lc3RhbXAuanNcIjtcbi8vIEluc3RydW1lbnRhdGlvbiBpbiBvdGhlciBwYWNrYWdlcyBtYXkgb3ZlcnJpZGUgY29uc29sZSBtZXRob2RzLCBzbyBwcmVzZXJ2ZSB0aGVtIGhlcmVcbmNvbnN0IG9yaWdpbmFsQ29uc29sZSA9IHtcbiAgICBkZWJ1ZzogaXNCcm93c2VyKCkgPyBjb25zb2xlLmRlYnVnIHx8IGNvbnNvbGUubG9nIDogY29uc29sZS5sb2csXG4gICAgbG9nOiBjb25zb2xlLmxvZyxcbiAgICBpbmZvOiBjb25zb2xlLmluZm8sXG4gICAgd2FybjogY29uc29sZS53YXJuLFxuICAgIGVycm9yOiBjb25zb2xlLmVycm9yXG59O1xuY29uc3QgREVGQVVMVF9MT0dfQ09ORklHVVJBVElPTiA9IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGxldmVsOiAwXG59O1xuZnVuY3Rpb24gbm9vcCgpIHsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuY29uc3QgY2FjaGUgPSB7fTtcbmNvbnN0IE9OQ0UgPSB7IG9uY2U6IHRydWUgfTtcbi8qKiBBIGNvbnNvbGUgd3JhcHBlciAqL1xuZXhwb3J0IGNsYXNzIExvZyB7XG4gICAgY29uc3RydWN0b3IoeyBpZCB9ID0geyBpZDogJycgfSkge1xuICAgICAgICB0aGlzLlZFUlNJT04gPSBWRVJTSU9OO1xuICAgICAgICB0aGlzLl9zdGFydFRzID0gZ2V0SGlSZXNUaW1lc3RhbXAoKTtcbiAgICAgICAgdGhpcy5fZGVsdGFUcyA9IGdldEhpUmVzVGltZXN0YW1wKCk7XG4gICAgICAgIHRoaXMudXNlckRhdGEgPSB7fTtcbiAgICAgICAgLy8gVE9ETyAtIGZpeCBzdXBwb3J0IGZyb20gdGhyb3R0bGluZyBncm91cHNcbiAgICAgICAgdGhpcy5MT0dfVEhST1RUTEVfVElNRU9VVCA9IDA7IC8vIFRpbWUgYmVmb3JlIHRocm90dGxlZCBtZXNzYWdlcyBhcmUgbG9nZ2VkIGFnYWluXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy51c2VyRGF0YSA9IHt9O1xuICAgICAgICB0aGlzLl9zdG9yYWdlID0gbmV3IExvY2FsU3RvcmFnZShgX19wcm9iZS0ke3RoaXMuaWR9X19gLCBERUZBVUxUX0xPR19DT05GSUdVUkFUSU9OKTtcbiAgICAgICAgdGhpcy50aW1lU3RhbXAoYCR7dGhpcy5pZH0gc3RhcnRlZGApO1xuICAgICAgICBhdXRvYmluZCh0aGlzKTtcbiAgICAgICAgT2JqZWN0LnNlYWwodGhpcyk7XG4gICAgfVxuICAgIHNldCBsZXZlbChuZXdMZXZlbCkge1xuICAgICAgICB0aGlzLnNldExldmVsKG5ld0xldmVsKTtcbiAgICB9XG4gICAgZ2V0IGxldmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMZXZlbCgpO1xuICAgIH1cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdG9yYWdlLmNvbmZpZy5lbmFibGVkO1xuICAgIH1cbiAgICBnZXRMZXZlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2UuY29uZmlnLmxldmVsO1xuICAgIH1cbiAgICAvKiogQHJldHVybiBtaWxsaXNlY29uZHMsIHdpdGggZnJhY3Rpb25zICovXG4gICAgZ2V0VG90YWwoKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIoKGdldEhpUmVzVGltZXN0YW1wKCkgLSB0aGlzLl9zdGFydFRzKS50b1ByZWNpc2lvbigxMCkpO1xuICAgIH1cbiAgICAvKiogQHJldHVybiBtaWxsaXNlY29uZHMsIHdpdGggZnJhY3Rpb25zICovXG4gICAgZ2V0RGVsdGEoKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIoKGdldEhpUmVzVGltZXN0YW1wKCkgLSB0aGlzLl9kZWx0YVRzKS50b1ByZWNpc2lvbigxMCkpO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIGxvZ0xldmVsICovXG4gICAgc2V0IHByaW9yaXR5KG5ld1ByaW9yaXR5KSB7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBuZXdQcmlvcml0eTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIHVzZSBsb2dMZXZlbCAqL1xuICAgIGdldCBwcmlvcml0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWw7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgbG9nTGV2ZWwgKi9cbiAgICBnZXRQcmlvcml0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWw7XG4gICAgfVxuICAgIC8vIENvbmZpZ3VyZVxuICAgIGVuYWJsZShlbmFibGVkID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9zdG9yYWdlLnNldENvbmZpZ3VyYXRpb24oeyBlbmFibGVkIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0TGV2ZWwobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXRDb25maWd1cmF0aW9uKHsgbGV2ZWwgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogcmV0dXJuIHRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgc2V0dGluZyAqL1xuICAgIGdldChzZXR0aW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdG9yYWdlLmNvbmZpZ1tzZXR0aW5nXTtcbiAgICB9XG4gICAgLy8gdXBkYXRlIHRoZSBzdGF0dXMgb2YgdGhlIHNldHRpbmdcbiAgICBzZXQoc2V0dGluZywgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXRDb25maWd1cmF0aW9uKHsgW3NldHRpbmddOiB2YWx1ZSB9KTtcbiAgICB9XG4gICAgLyoqIExvZ3MgdGhlIGN1cnJlbnQgc2V0dGluZ3MgYXMgYSB0YWJsZSAqL1xuICAgIHNldHRpbmdzKCkge1xuICAgICAgICBpZiAoY29uc29sZS50YWJsZSkge1xuICAgICAgICAgICAgY29uc29sZS50YWJsZSh0aGlzLl9zdG9yYWdlLmNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9zdG9yYWdlLmNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVW5jb25kaXRpb25hbCBsb2dnaW5nXG4gICAgYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UgfHwgJ0Fzc2VydGlvbiBmYWlsZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3YXJuKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKDAsIG1lc3NhZ2UsIG9yaWdpbmFsQ29uc29sZS53YXJuLCBhcmd1bWVudHMsIE9OQ0UpO1xuICAgIH1cbiAgICBlcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbigwLCBtZXNzYWdlLCBvcmlnaW5hbENvbnNvbGUuZXJyb3IsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIC8qKiBQcmludCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgKi9cbiAgICBkZXByZWNhdGVkKG9sZFVzYWdlLCBuZXdVc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy53YXJuKGBcXGAke29sZFVzYWdlfVxcYCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgXFxcbmluIGEgbGF0ZXIgdmVyc2lvbi4gVXNlIFxcYCR7bmV3VXNhZ2V9XFxgIGluc3RlYWRgKTtcbiAgICB9XG4gICAgLyoqIFByaW50IGEgcmVtb3ZhbCB3YXJuaW5nICovXG4gICAgcmVtb3ZlZChvbGRVc2FnZSwgbmV3VXNhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoYFxcYCR7b2xkVXNhZ2V9XFxgIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBcXGAke25ld1VzYWdlfVxcYCBpbnN0ZWFkYCk7XG4gICAgfVxuICAgIHByb2JlKGxvZ0xldmVsLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihsb2dMZXZlbCwgbWVzc2FnZSwgb3JpZ2luYWxDb25zb2xlLmxvZywgYXJndW1lbnRzLCB7XG4gICAgICAgICAgICB0aW1lOiB0cnVlLFxuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbG9nKGxvZ0xldmVsLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihsb2dMZXZlbCwgbWVzc2FnZSwgb3JpZ2luYWxDb25zb2xlLmRlYnVnLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBpbmZvKGxvZ0xldmVsLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihsb2dMZXZlbCwgbWVzc2FnZSwgY29uc29sZS5pbmZvLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBvbmNlKGxvZ0xldmVsLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihsb2dMZXZlbCwgbWVzc2FnZSwgb3JpZ2luYWxDb25zb2xlLmRlYnVnIHx8IG9yaWdpbmFsQ29uc29sZS5pbmZvLCBhcmd1bWVudHMsIE9OQ0UpO1xuICAgIH1cbiAgICAvKiogTG9ncyBhbiBvYmplY3QgYXMgYSB0YWJsZSAqL1xuICAgIHRhYmxlKGxvZ0xldmVsLCB0YWJsZSwgY29sdW1ucykge1xuICAgICAgICBpZiAodGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihsb2dMZXZlbCwgdGFibGUsIGNvbnNvbGUudGFibGUgfHwgbm9vcCwgKGNvbHVtbnMgJiYgW2NvbHVtbnNdKSwge1xuICAgICAgICAgICAgICAgIHRhZzogZ2V0VGFibGVIZWFkZXIodGFibGUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgdGltZShsb2dMZXZlbCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24obG9nTGV2ZWwsIG1lc3NhZ2UsIGNvbnNvbGUudGltZSA/IGNvbnNvbGUudGltZSA6IGNvbnNvbGUuaW5mbyk7XG4gICAgfVxuICAgIHRpbWVFbmQobG9nTGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKGxvZ0xldmVsLCBtZXNzYWdlLCBjb25zb2xlLnRpbWVFbmQgPyBjb25zb2xlLnRpbWVFbmQgOiBjb25zb2xlLmluZm8pO1xuICAgIH1cbiAgICB0aW1lU3RhbXAobG9nTGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKGxvZ0xldmVsLCBtZXNzYWdlLCBjb25zb2xlLnRpbWVTdGFtcCB8fCBub29wKTtcbiAgICB9XG4gICAgZ3JvdXAobG9nTGV2ZWwsIG1lc3NhZ2UsIG9wdHMgPSB7IGNvbGxhcHNlZDogZmFsc2UgfSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gbm9ybWFsaXplQXJndW1lbnRzKHsgbG9nTGV2ZWwsIG1lc3NhZ2UsIG9wdHMgfSk7XG4gICAgICAgIGNvbnN0IHsgY29sbGFwc2VkIH0gPSBvcHRzO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIG9wdGlvbnMubWV0aG9kID0gKGNvbGxhcHNlZCA/IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQgOiBjb25zb2xlLmdyb3VwKSB8fCBjb25zb2xlLmluZm87XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihvcHRpb25zKTtcbiAgICB9XG4gICAgZ3JvdXBDb2xsYXBzZWQobG9nTGV2ZWwsIG1lc3NhZ2UsIG9wdHMgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncm91cChsb2dMZXZlbCwgbWVzc2FnZSwgT2JqZWN0LmFzc2lnbih7fSwgb3B0cywgeyBjb2xsYXBzZWQ6IHRydWUgfSkpO1xuICAgIH1cbiAgICBncm91cEVuZChsb2dMZXZlbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24obG9nTGV2ZWwsICcnLCBjb25zb2xlLmdyb3VwRW5kIHx8IG5vb3ApO1xuICAgIH1cbiAgICAvLyBFWFBFUklNRU5UQUxcbiAgICB3aXRoR3JvdXAobG9nTGV2ZWwsIG1lc3NhZ2UsIGZ1bmMpIHtcbiAgICAgICAgdGhpcy5ncm91cChsb2dMZXZlbCwgbWVzc2FnZSkoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZ1bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBFbmQobG9nTGV2ZWwpKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJhY2UoKSB7XG4gICAgICAgIGlmIChjb25zb2xlLnRyYWNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUFJJVkFURSBNRVRIT0RTXG4gICAgLyoqIERlZHVjZXMgbG9nIGxldmVsIGZyb20gYSB2YXJpZXR5IG9mIGFyZ3VtZW50cyAqL1xuICAgIF9zaG91bGRMb2cobG9nTGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFbmFibGVkKCkgJiYgdGhpcy5nZXRMZXZlbCgpID49IG5vcm1hbGl6ZUxvZ0xldmVsKGxvZ0xldmVsKTtcbiAgICB9XG4gICAgX2dldExvZ0Z1bmN0aW9uKGxvZ0xldmVsLCBtZXNzYWdlLCBtZXRob2QsIGFyZ3MsIG9wdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZExvZyhsb2dMZXZlbCkpIHtcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZWQgb3B0cyArIHRpbWluZ3NcbiAgICAgICAgICAgIG9wdHMgPSBub3JtYWxpemVBcmd1bWVudHMoeyBsb2dMZXZlbCwgbWVzc2FnZSwgYXJncywgb3B0cyB9KTtcbiAgICAgICAgICAgIG1ldGhvZCA9IG1ldGhvZCB8fCBvcHRzLm1ldGhvZDtcbiAgICAgICAgICAgIGFzc2VydChtZXRob2QpO1xuICAgICAgICAgICAgb3B0cy50b3RhbCA9IHRoaXMuZ2V0VG90YWwoKTtcbiAgICAgICAgICAgIG9wdHMuZGVsdGEgPSB0aGlzLmdldERlbHRhKCk7XG4gICAgICAgICAgICAvLyByZXNldCBkZWx0YSB0aW1lclxuICAgICAgICAgICAgdGhpcy5fZGVsdGFUcyA9IGdldEhpUmVzVGltZXN0YW1wKCk7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSBvcHRzLnRhZyB8fCBvcHRzLm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAob3B0cy5vbmNlICYmIHRhZykge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVbdGFnXSkge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZVt0YWddID0gZ2V0SGlSZXNUaW1lc3RhbXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub29wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE8gLSBNYWtlIHRocm90dGxpbmcgd29yayB3aXRoIGdyb3Vwc1xuICAgICAgICAgICAgLy8gaWYgKG9wdHMubm90aHJvdHRsZSB8fCAhdGhyb3R0bGUodGFnLCB0aGlzLkxPR19USFJPVFRMRV9USU1FT1VUKSkge1xuICAgICAgICAgICAgLy8gICByZXR1cm4gbm9vcDtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIG1lc3NhZ2UgPSBkZWNvcmF0ZU1lc3NhZ2UodGhpcy5pZCwgb3B0cy5tZXNzYWdlLCBvcHRzKTtcbiAgICAgICAgICAgIC8vIEJpbmQgY29uc29sZSBmdW5jdGlvbiBzbyB0aGF0IGl0IGNhbiBiZSBjYWxsZWQgYWZ0ZXIgYmVpbmcgcmV0dXJuZWRcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuYmluZChjb25zb2xlLCBtZXNzYWdlLCAuLi5vcHRzLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbn1cbkxvZy5WRVJTSU9OID0gVkVSU0lPTjtcbi8qKlxuICogR2V0IGxvZ0xldmVsIGZyb20gZmlyc3QgYXJndW1lbnQ6XG4gKiAtIGxvZyhsb2dMZXZlbCwgbWVzc2FnZSwgYXJncykgPT4gbG9nTGV2ZWxcbiAqIC0gbG9nKG1lc3NhZ2UsIGFyZ3MpID0+IDBcbiAqIC0gbG9nKHtsb2dMZXZlbCwgLi4ufSwgbWVzc2FnZSwgYXJncykgPT4gbG9nTGV2ZWxcbiAqIC0gbG9nKHtsb2dMZXZlbCwgbWVzc2FnZSwgYXJnc30pID0+IGxvZ0xldmVsXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUxvZ0xldmVsKGxvZ0xldmVsKSB7XG4gICAgaWYgKCFsb2dMZXZlbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgbGV0IHJlc29sdmVkTGV2ZWw7XG4gICAgc3dpdGNoICh0eXBlb2YgbG9nTGV2ZWwpIHtcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIHJlc29sdmVkTGV2ZWwgPSBsb2dMZXZlbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgLy8gVE9ETyAtIGRlcHJlY2F0ZSBgcHJpb3JpdHlgXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZXNvbHZlZExldmVsID0gbG9nTGV2ZWwubG9nTGV2ZWwgfHwgbG9nTGV2ZWwucHJpb3JpdHkgfHwgMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8vICdsb2cgbGV2ZWwgbXVzdCBiZSBhIG51bWJlcidcbiAgICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKHJlc29sdmVkTGV2ZWwpICYmIHJlc29sdmVkTGV2ZWwgPj0gMCk7XG4gICAgcmV0dXJuIHJlc29sdmVkTGV2ZWw7XG59XG4vKipcbiAqIFwiTm9ybWFsaXplc1wiIHRoZSB2YXJpb3VzIGFyZ3VtZW50IHBhdHRlcm5zIGludG8gYW4gb2JqZWN0IHdpdGgga25vd24gdHlwZXNcbiAqIC0gbG9nKGxvZ0xldmVsLCBtZXNzYWdlLCBhcmdzKSA9PiB7bG9nTGV2ZWwsIG1lc3NhZ2UsIGFyZ3N9XG4gKiAtIGxvZyhtZXNzYWdlLCBhcmdzKSA9PiB7bG9nTGV2ZWw6IDAsIG1lc3NhZ2UsIGFyZ3N9XG4gKiAtIGxvZyh7bG9nTGV2ZWwsIC4uLn0sIG1lc3NhZ2UsIGFyZ3MpID0+IHtsb2dMZXZlbCwgbWVzc2FnZSwgYXJnc31cbiAqIC0gbG9nKHtsb2dMZXZlbCwgbWVzc2FnZSwgYXJnc30pID0+IHtsb2dMZXZlbCwgbWVzc2FnZSwgYXJnc31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUFyZ3VtZW50cyhvcHRzKSB7XG4gICAgY29uc3QgeyBsb2dMZXZlbCwgbWVzc2FnZSB9ID0gb3B0cztcbiAgICBvcHRzLmxvZ0xldmVsID0gbm9ybWFsaXplTG9nTGV2ZWwobG9nTGV2ZWwpO1xuICAgIC8vIFdlIHVzZSBgYXJndW1lbnRzYCBpbnN0ZWFkIG9mIHJlc3QgcGFyYW1ldGVycyAoLi4uYXJncykgYmVjYXVzZSBJRVxuICAgIC8vIGRvZXMgbm90IHN1cHBvcnQgdGhlIHN5bnRheC4gUmVzdCBwYXJhbWV0ZXJzIGlzIHRyYW5zcGlsZWQgdG8gY29kZSB3aXRoXG4gICAgLy8gcGVyZiBpbXBhY3QuIERvaW5nIGl0IGhlcmUgaW5zdGVhZCBhdm9pZHMgY29uc3RydWN0aW5nIGFyZ3Mgd2hlbiBsb2dnaW5nIGlzXG4gICAgLy8gZGlzYWJsZWQuXG4gICAgLy8gVE9ETyAtIHJlbW92ZSB3aGVuL2lmIElFIHN1cHBvcnQgaXMgZHJvcHBlZFxuICAgIGNvbnN0IGFyZ3MgPSBvcHRzLmFyZ3MgPyBBcnJheS5mcm9tKG9wdHMuYXJncykgOiBbXTtcbiAgICAvLyBhcmdzIHNob3VsZCBvbmx5IGNvbnRhaW4gYXJndW1lbnRzIHRoYXQgYXBwZWFyIGFmdGVyIGBtZXNzYWdlYFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIHdoaWxlIChhcmdzLmxlbmd0aCAmJiBhcmdzLnNoaWZ0KCkgIT09IG1lc3NhZ2UpIHsgfVxuICAgIHN3aXRjaCAodHlwZW9mIGxvZ0xldmVsKSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgIGlmIChtZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnVuc2hpZnQobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRzLm1lc3NhZ2UgPSBsb2dMZXZlbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLCBsb2dMZXZlbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICB9XG4gICAgLy8gUmVzb2x2ZSBmdW5jdGlvbnMgaW50byBzdHJpbmdzIGJ5IGNhbGxpbmcgdGhlbVxuICAgIGlmICh0eXBlb2Ygb3B0cy5tZXNzYWdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9wdHMubWVzc2FnZSA9IG9wdHMubWVzc2FnZSgpO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlVHlwZSA9IHR5cGVvZiBvcHRzLm1lc3NhZ2U7XG4gICAgLy8gJ2xvZyBtZXNzYWdlIG11c3QgYmUgYSBzdHJpbmcnIG9yIG9iamVjdFxuICAgIGFzc2VydChtZXNzYWdlVHlwZSA9PT0gJ3N0cmluZycgfHwgbWVzc2FnZVR5cGUgPT09ICdvYmplY3QnKTtcbiAgICAvLyBvcmlnaW5hbCBvcHRzICsgbm9ybWFsaXplZCBvcHRzICsgb3B0cyBhcmcgKyBmaXhlZCB1cCBtZXNzYWdlXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob3B0cywgeyBhcmdzIH0sIG9wdHMub3B0cyk7XG59XG5mdW5jdGlvbiBkZWNvcmF0ZU1lc3NhZ2UoaWQsIG1lc3NhZ2UsIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHRpbWUgPSBvcHRzLnRpbWUgPyBsZWZ0UGFkKGZvcm1hdFRpbWUob3B0cy50b3RhbCkpIDogJyc7XG4gICAgICAgIG1lc3NhZ2UgPSBvcHRzLnRpbWUgPyBgJHtpZH06ICR7dGltZX0gICR7bWVzc2FnZX1gIDogYCR7aWR9OiAke21lc3NhZ2V9YDtcbiAgICAgICAgbWVzc2FnZSA9IGFkZENvbG9yKG1lc3NhZ2UsIG9wdHMuY29sb3IsIG9wdHMuYmFja2dyb3VuZCk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xufVxuZnVuY3Rpb24gZ2V0VGFibGVIZWFkZXIodGFibGUpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0YWJsZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHRpdGxlIGluIHRhYmxlW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aXRsZSB8fCAndW50aXRsZWQnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnZW1wdHknO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgMjAxNSAtIDIwMTcgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuLyoqXG4gKiBCaW5kcyB0aGUgXCJ0aGlzXCIgYXJndW1lbnQgb2YgYWxsIGZ1bmN0aW9ucyBvbiBhIGNsYXNzIGluc3RhbmNlIHRvIHRoZSBpbnN0YW5jZVxuICogQHBhcmFtIG9iaiAtIGNsYXNzIGluc3RhbmNlICh0eXBpY2FsbHkgYSByZWFjdCBjb21wb25lbnQpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvYmluZChvYmosIHByZWRlZmluZWQgPSBbJ2NvbnN0cnVjdG9yJ10pIHtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICAgIGNvbnN0IHByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3RvKTtcbiAgICBjb25zdCBvYmplY3QgPSBvYmo7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgcHJvcE5hbWVzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmICghcHJlZGVmaW5lZC5maW5kKChuYW1lKSA9PiBrZXkgPT09IG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZS5iaW5kKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRvYmluZC5qcy5tYXAiLCIvLyBwcm9iZS5nbCwgTUlUIGxpY2Vuc2Vcbi8qKlxuICogRm9ybWF0IHRpbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRpbWUobXMpIHtcbiAgICBsZXQgZm9ybWF0dGVkO1xuICAgIGlmIChtcyA8IDEwKSB7XG4gICAgICAgIGZvcm1hdHRlZCA9IGAke21zLnRvRml4ZWQoMil9bXNgO1xuICAgIH1cbiAgICBlbHNlIGlmIChtcyA8IDEwMCkge1xuICAgICAgICBmb3JtYXR0ZWQgPSBgJHttcy50b0ZpeGVkKDEpfW1zYDtcbiAgICB9XG4gICAgZWxzZSBpZiAobXMgPCAxMDAwKSB7XG4gICAgICAgIGZvcm1hdHRlZCA9IGAke21zLnRvRml4ZWQoMCl9bXNgO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9ybWF0dGVkID0gYCR7KG1zIC8gMTAwMCkudG9GaXhlZCgyKX1zYDtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdHRlZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZWZ0UGFkKHN0cmluZywgbGVuZ3RoID0gOCkge1xuICAgIGNvbnN0IHBhZExlbmd0aCA9IE1hdGgubWF4KGxlbmd0aCAtIHN0cmluZy5sZW5ndGgsIDApO1xuICAgIHJldHVybiBgJHsnICcucmVwZWF0KHBhZExlbmd0aCl9JHtzdHJpbmd9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByaWdodFBhZChzdHJpbmcsIGxlbmd0aCA9IDgpIHtcbiAgICBjb25zdCBwYWRMZW5ndGggPSBNYXRoLm1heChsZW5ndGggLSBzdHJpbmcubGVuZ3RoLCAwKTtcbiAgICByZXR1cm4gYCR7c3RyaW5nfSR7JyAnLnJlcGVhdChwYWRMZW5ndGgpfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VmFsdWUodiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgRVBTSUxPTiA9IDFlLTE2O1xuICAgIGNvbnN0IHsgaXNJbnRlZ2VyID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodikgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KHYpKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRBcnJheVZhbHVlKHYsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHYpO1xuICAgIH1cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgaWYgKE1hdGguYWJzKHYpIDwgRVBTSUxPTikge1xuICAgICAgICByZXR1cm4gaXNJbnRlZ2VyID8gJzAnIDogJzAuJztcbiAgICB9XG4gICAgaWYgKGlzSW50ZWdlcikge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIHJldHVybiB2LnRvRml4ZWQoMCk7XG4gICAgfVxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBpZiAoTWF0aC5hYnModikgPiAxMDAgJiYgTWF0aC5hYnModikgPCAxMDAwMCkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIHJldHVybiB2LnRvRml4ZWQoMCk7XG4gICAgfVxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBjb25zdCBzdHJpbmcgPSB2LnRvUHJlY2lzaW9uKDIpO1xuICAgIGNvbnN0IGRlY2ltYWwgPSBzdHJpbmcuaW5kZXhPZignLjAnKTtcbiAgICByZXR1cm4gZGVjaW1hbCA9PT0gc3RyaW5nLmxlbmd0aCAtIDIgPyBzdHJpbmcuc2xpY2UoMCwgLTEpIDogc3RyaW5nO1xufVxuLyoqIEhlbHBlciB0byBmb3JtYXRWYWx1ZSAqL1xuZnVuY3Rpb24gZm9ybWF0QXJyYXlWYWx1ZSh2LCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBtYXhFbHRzID0gMTYsIHNpemUgPSAxIH0gPSBvcHRpb25zO1xuICAgIGxldCBzdHJpbmcgPSAnWyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2Lmxlbmd0aCAmJiBpIDwgbWF4RWx0czsgKytpKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3RyaW5nICs9IGAsJHtpICUgc2l6ZSA9PT0gMCA/ICcgJyA6ICcnfWA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5nICs9IGZvcm1hdFZhbHVlKHZbaV0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjb25zdCB0ZXJtaW5hdG9yID0gdi5sZW5ndGggPiBtYXhFbHRzID8gJy4uLicgOiAnXSc7XG4gICAgcmV0dXJuIGAke3N0cmluZ30ke3Rlcm1pbmF0b3J9YDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcm1hdHRlcnMuanMubWFwIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBwcm9iZS5nbCBMb2cgY29tcGF0aWJsZSBsb2dnZXJzXG5pbXBvcnQgeyBMb2cgfSBmcm9tICdAcHJvYmUuZ2wvbG9nJztcbmV4cG9ydCBjb25zdCBwcm9iZUxvZyA9IG5ldyBMb2coeyBpZDogJ2xvYWRlcnMuZ2wnIH0pO1xuLy8gTG9ncyBub3RoaW5nXG5leHBvcnQgY2xhc3MgTnVsbExvZyB7XG4gICAgbG9nKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH1cbiAgICBpbmZvKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH1cbiAgICB3YXJuKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH1cbiAgICBlcnJvcigpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcbiAgICB9XG59XG4vLyBMb2dzIHRvIGNvbnNvbGVcbmV4cG9ydCBjbGFzcyBDb25zb2xlTG9nIHtcbiAgICBjb25zb2xlO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbnNvbGUgPSBjb25zb2xlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgfVxuICAgIGxvZyguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnNvbGUubG9nLmJpbmQodGhpcy5jb25zb2xlLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgaW5mbyguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnNvbGUuaW5mby5iaW5kKHRoaXMuY29uc29sZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIHdhcm4oLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zb2xlLndhcm4uYmluZCh0aGlzLmNvbnNvbGUsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBlcnJvciguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnNvbGUuZXJyb3IuYmluZCh0aGlzLmNvbnNvbGUsIC4uLmFyZ3MpO1xuICAgIH1cbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IENvbnNvbGVMb2cgfSBmcm9tIFwiLi9sb2dnZXJzLmpzXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9MT0FERVJfT1BUSU9OUyA9IHtcbiAgICAvLyBiYXNlVXJpXG4gICAgZmV0Y2g6IG51bGwsXG4gICAgbWltZVR5cGU6IHVuZGVmaW5lZCxcbiAgICBub3Rocm93OiBmYWxzZSxcbiAgICBsb2c6IG5ldyBDb25zb2xlTG9nKCksIC8vIEEgcHJvYmUuZ2wgY29tcGF0aWJsZSAoYGxvZy5sb2coKSgpYCBzeW50YXgpIHRoYXQganVzdCBsb2dzIHRvIGNvbnNvbGVcbiAgICB1c2VMb2NhbExpYnJhcmllczogZmFsc2UsXG4gICAgQ0ROOiAnaHR0cHM6Ly91bnBrZy5jb20vQGxvYWRlcnMuZ2wnLFxuICAgIHdvcmtlcjogdHJ1ZSwgLy8gQnkgZGVmYXVsdCwgdXNlIHdvcmtlciBpZiBwcm92aWRlZCBieSBsb2FkZXIuXG4gICAgbWF4Q29uY3VycmVuY3k6IDMsIC8vIEhvdyBtYW55IHdvcmtlciBpbnN0YW5jZXMgc2hvdWxkIGJlIGNyZWF0ZWQgZm9yIGVhY2ggbG9hZGVyLlxuICAgIG1heE1vYmlsZUNvbmN1cnJlbmN5OiAxLCAvLyBIb3cgbWFueSB3b3JrZXIgaW5zdGFuY2VzIHNob3VsZCBiZSBjcmVhdGVkIGZvciBlYWNoIGxvYWRlciBvbiBtb2JpbGUgZGV2aWNlcy5cbiAgICByZXVzZVdvcmtlcnM6IGlzQnJvd3NlciwgLy8gQnkgZGVmYXVsdCByZXVzZSB3b3JrZXJzIGluIGJyb3dzZXIgKE5vZGUuanMgcmVmdXNlcyB0byB0ZXJtaW5hdGUgaWYgYnJvd3NlcnMgYXJlIHJ1bm5pbmcpXG4gICAgX25vZGVXb3JrZXJzOiBmYWxzZSwgLy8gQnkgZGVmYXVsdCBkbyBub3Qgc3VwcG9ydCBub2RlIHdvcmtlcnNcbiAgICBfd29ya2VyVHlwZTogJycsIC8vICd0ZXN0JyB0byB1c2UgbG9jYWxseSBnZW5lcmF0ZWQgd29ya2Vyc1xuICAgIGxpbWl0OiAwLFxuICAgIF9saW1pdE1COiAwLFxuICAgIGJhdGNoU2l6ZTogJ2F1dG8nLFxuICAgIGJhdGNoRGVib3VuY2VNczogMCxcbiAgICBtZXRhZGF0YTogZmFsc2UsIC8vIFRPRE8gLSBjdXJyZW50bHkgb25seSBpbXBsZW1lbnRlZCBmb3IgcGFyc2VJbkJhdGNoZXMsIGFkZHMgaW5pdGlhbCBtZXRhZGF0YSBiYXRjaCxcbiAgICB0cmFuc2Zvcm1zOiBbXVxufTtcbmV4cG9ydCBjb25zdCBSRU1PVkVEX0xPQURFUl9PUFRJT05TID0ge1xuICAgIHRocm93czogJ25vdGhyb3cnLFxuICAgIGRhdGFUeXBlOiAnKG5vIGxvbmdlciB1c2VkKScsXG4gICAgdXJpOiAnYmFzZVVyaScsXG4gICAgLy8gV2FybiBpZiBmZXRjaCBvcHRpb25zIGFyZSB1c2VkIG9uIHRvcC1sZXZlbFxuICAgIG1ldGhvZDogJ2ZldGNoLm1ldGhvZCcsXG4gICAgaGVhZGVyczogJ2ZldGNoLmhlYWRlcnMnLFxuICAgIGJvZHk6ICdmZXRjaC5ib2R5JyxcbiAgICBtb2RlOiAnZmV0Y2gubW9kZScsXG4gICAgY3JlZGVudGlhbHM6ICdmZXRjaC5jcmVkZW50aWFscycsXG4gICAgY2FjaGU6ICdmZXRjaC5jYWNoZScsXG4gICAgcmVkaXJlY3Q6ICdmZXRjaC5yZWRpcmVjdCcsXG4gICAgcmVmZXJyZXI6ICdmZXRjaC5yZWZlcnJlcicsXG4gICAgcmVmZXJyZXJQb2xpY3k6ICdmZXRjaC5yZWZlcnJlclBvbGljeScsXG4gICAgaW50ZWdyaXR5OiAnZmV0Y2guaW50ZWdyaXR5JyxcbiAgICBrZWVwYWxpdmU6ICdmZXRjaC5rZWVwYWxpdmUnLFxuICAgIHNpZ25hbDogJ2ZldGNoLnNpZ25hbCdcbn07XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IHJlZ2lzdGVySlNNb2R1bGVzIH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IGlzUHVyZU9iamVjdCwgaXNPYmplY3QgfSBmcm9tIFwiLi4vLi4vamF2YXNjcmlwdC11dGlscy9pcy10eXBlLmpzXCI7XG5pbXBvcnQgeyBwcm9iZUxvZywgTnVsbExvZyB9IGZyb20gXCIuL2xvZ2dlcnMuanNcIjtcbmltcG9ydCB7IERFRkFVTFRfTE9BREVSX09QVElPTlMsIFJFTU9WRURfTE9BREVSX09QVElPTlMgfSBmcm9tIFwiLi9vcHRpb24tZGVmYXVsdHMuanNcIjtcbi8qKlxuICogSGVscGVyIGZvciBzYWZlbHkgYWNjZXNzaW5nIGdsb2JhbCBsb2FkZXJzLmdsIHZhcmlhYmxlc1xuICogV3JhcHMgaW5pdGlhbGl6YXRpb24gb2YgZ2xvYmFsIHZhcmlhYmxlIGluIGZ1bmN0aW9uIHRvIGRlZmVhdCBvdmVybHkgYWdncmVzc2l2ZSB0cmVlLXNoYWtlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbExvYWRlclN0YXRlKCkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBnbG9iYWxUaGlzLmxvYWRlcnMgPSBnbG9iYWxUaGlzLmxvYWRlcnMgfHwge307XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHsgbG9hZGVycyB9ID0gZ2xvYmFsVGhpcztcbiAgICAvLyBBZGQgX3N0YXRlIG9iamVjdCB0byBrZWVwIHNlcGFyYXRlIGZyb20gbW9kdWxlcyBhZGRlZCB0byBnbG9iYWxUaGlzLmxvYWRlcnNcbiAgICBpZiAoIWxvYWRlcnMuX3N0YXRlKSB7XG4gICAgICAgIGxvYWRlcnMuX3N0YXRlID0ge307XG4gICAgfVxuICAgIHJldHVybiBsb2FkZXJzLl9zdGF0ZTtcbn1cbi8qKlxuICogU3RvcmUgZ2xvYmFsIGxvYWRlciBvcHRpb25zIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIGluY3JlYXNlIGNoYW5jZXMgb2YgY3Jvc3MgbG9hZGVycy12ZXJzaW9uIGludGVyb3BlcmFiaWxpdHlcbiAqIE5PVEU6IFRoaXMgdXNlIGNhc2UgaXMgbm90IHJlbGlhYmxlIGJ1dCBjYW4gaGVscCB3aGVuIHRlc3RpbmcgbmV3IHZlcnNpb25zIG9mIGxvYWRlcnMuZ2wgd2l0aCBleGlzdGluZyBmcmFtZXdvcmtzXG4gKiBAcmV0dXJucyBnbG9iYWwgbG9hZGVyIG9wdGlvbnMgbWVyZ2VkIHdpdGggZGVmYXVsdCBsb2FkZXIgb3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsTG9hZGVyT3B0aW9ucygpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldEdsb2JhbExvYWRlclN0YXRlKCk7XG4gICAgLy8gRW5zdXJlIGFsbCBkZWZhdWx0IGxvYWRlciBvcHRpb25zIGZyb20gdGhpcyBsaWJyYXJ5IGFyZSBtZW50aW9uZWRcbiAgICBzdGF0ZS5nbG9iYWxPcHRpb25zID0gc3RhdGUuZ2xvYmFsT3B0aW9ucyB8fCB7IC4uLkRFRkFVTFRfTE9BREVSX09QVElPTlMgfTtcbiAgICByZXR1cm4gc3RhdGUuZ2xvYmFsT3B0aW9ucztcbn1cbi8qKlxuICogU2V0IGdsb2JhbCBsb2FkZXIgb3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEdsb2JhbE9wdGlvbnMob3B0aW9ucykge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0R2xvYmFsTG9hZGVyU3RhdGUoKTtcbiAgICBjb25zdCBnbG9iYWxPcHRpb25zID0gZ2V0R2xvYmFsTG9hZGVyT3B0aW9ucygpO1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgRmlyc3QgcGFyYW0gbG9va3MgaW5jb3JyZWN0XG4gICAgc3RhdGUuZ2xvYmFsT3B0aW9ucyA9IG5vcm1hbGl6ZU9wdGlvbnNJbnRlcm5hbChnbG9iYWxPcHRpb25zLCBvcHRpb25zKTtcbiAgICAvLyBNYWtlIHN1cmUgYW55IG5ldyBtb2R1bGVzIGFyZSByZWdpc3RlcmVkXG4gICAgcmVnaXN0ZXJKU01vZHVsZXMob3B0aW9ucy5tb2R1bGVzKTtcbn1cbi8qKlxuICogTWVyZ2VzIG9wdGlvbnMgd2l0aCBnbG9iYWwgb3B0cyBhbmQgbG9hZGVyIGRlZmF1bHRzLCBhbHNvIGluamVjdHMgYmFzZVVyaVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBsb2FkZXJcbiAqIEBwYXJhbSBsb2FkZXJzXG4gKiBAcGFyYW0gdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVPcHRpb25zKG9wdGlvbnMsIGxvYWRlciwgbG9hZGVycywgdXJsKSB7XG4gICAgbG9hZGVycyA9IGxvYWRlcnMgfHwgW107XG4gICAgbG9hZGVycyA9IEFycmF5LmlzQXJyYXkobG9hZGVycykgPyBsb2FkZXJzIDogW2xvYWRlcnNdO1xuICAgIHZhbGlkYXRlT3B0aW9ucyhvcHRpb25zLCBsb2FkZXJzKTtcbiAgICByZXR1cm4gbm9ybWFsaXplT3B0aW9uc0ludGVybmFsKGxvYWRlciwgb3B0aW9ucywgdXJsKTtcbn1cbi8vIFZBTElEQVRFIE9QVElPTlNcbi8qKlxuICogV2FybiBmb3IgdW5zdXBwb3J0ZWQgb3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBsb2FkZXJzXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlT3B0aW9ucyhvcHRpb25zLCBsb2FkZXJzKSB7XG4gICAgLy8gQ2hlY2sgdG9wIGxldmVsIG9wdGlvbnNcbiAgICB2YWxpZGF0ZU9wdGlvbnNPYmplY3Qob3B0aW9ucywgbnVsbCwgREVGQVVMVF9MT0FERVJfT1BUSU9OUywgUkVNT1ZFRF9MT0FERVJfT1BUSU9OUywgbG9hZGVycyk7XG4gICAgZm9yIChjb25zdCBsb2FkZXIgb2YgbG9hZGVycykge1xuICAgICAgICAvLyBHZXQgdGhlIHNjb3BlZCwgbG9hZGVyIHNwZWNpZmljIG9wdGlvbnMgZnJvbSB0aGUgdXNlciBzdXBwbGllZCBvcHRpb25zXG4gICAgICAgIGNvbnN0IGlkT3B0aW9ucyA9ICgob3B0aW9ucyAmJiBvcHRpb25zW2xvYWRlci5pZF0pIHx8IHt9KTtcbiAgICAgICAgLy8gR2V0IHNjb3BlZCwgbG9hZGVyIHNwZWNpZmljIGRlZmF1bHQgYW5kIGRlcHJlY2F0ZWQgb3B0aW9ucyBmcm9tIHRoZSBzZWxlY3RlZCBsb2FkZXJcbiAgICAgICAgY29uc3QgbG9hZGVyT3B0aW9ucyA9IChsb2FkZXIub3B0aW9ucyAmJiBsb2FkZXIub3B0aW9uc1tsb2FkZXIuaWRdKSB8fCB7fTtcbiAgICAgICAgY29uc3QgZGVwcmVjYXRlZE9wdGlvbnMgPSAobG9hZGVyLmRlcHJlY2F0ZWRPcHRpb25zICYmIGxvYWRlci5kZXByZWNhdGVkT3B0aW9uc1tsb2FkZXIuaWRdKSB8fCB7fTtcbiAgICAgICAgLy8gVmFsaWRhdGUgbG9hZGVyIHNwZWNpZmljIG9wdGlvbnNcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB2YWxpZGF0ZU9wdGlvbnNPYmplY3QoaWRPcHRpb25zLCBsb2FkZXIuaWQsIGxvYWRlck9wdGlvbnMsIGRlcHJlY2F0ZWRPcHRpb25zLCBsb2FkZXJzKTtcbiAgICB9XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtcywgY29tcGxleGl0eVxuZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25zT2JqZWN0KG9wdGlvbnMsIGlkLCBkZWZhdWx0T3B0aW9ucywgZGVwcmVjYXRlZE9wdGlvbnMsIGxvYWRlcnMpIHtcbiAgICBjb25zdCBsb2FkZXJOYW1lID0gaWQgfHwgJ1RvcCBsZXZlbCc7XG4gICAgY29uc3QgcHJlZml4ID0gaWQgPyBgJHtpZH0uYCA6ICcnO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gSWYgdG9wIGxldmVsIG9wdGlvbiB2YWx1ZSBpcyBhbiBvYmplY3QgaXQgY291bGQgb3B0aW9ucyBmb3IgYSBsb2FkZXIsIHNvIGlnbm9yZVxuICAgICAgICBjb25zdCBpc1N1Yk9wdGlvbnMgPSAhaWQgJiYgaXNPYmplY3Qob3B0aW9uc1trZXldKTtcbiAgICAgICAgY29uc3QgaXNCYXNlVXJpT3B0aW9uID0ga2V5ID09PSAnYmFzZVVyaScgJiYgIWlkO1xuICAgICAgICBjb25zdCBpc1dvcmtlclVybE9wdGlvbiA9IGtleSA9PT0gJ3dvcmtlclVybCcgJiYgaWQ7XG4gICAgICAgIC8vIDxsb2FkZXI+LndvcmtlclVybCByZXF1aXJlcyBzcGVjaWFsIGhhbmRsaW5nIGFzIGl0IGlzIG5vdyBhdXRvLWdlbmVyYXRlZCBhbmQgbm8gbG9uZ2VyIHNwZWNpZmllZCBhcyBhIGRlZmF1bHQgb3B0aW9uLlxuICAgICAgICBpZiAoIShrZXkgaW4gZGVmYXVsdE9wdGlvbnMpICYmICFpc0Jhc2VVcmlPcHRpb24gJiYgIWlzV29ya2VyVXJsT3B0aW9uKSB7XG4gICAgICAgICAgICAvLyBJc3N1ZSBkZXByZWNhdGlvbiB3YXJuaW5nc1xuICAgICAgICAgICAgaWYgKGtleSBpbiBkZXByZWNhdGVkT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHByb2JlTG9nLndhcm4oYCR7bG9hZGVyTmFtZX0gbG9hZGVyIG9wdGlvbiBcXCcke3ByZWZpeH0ke2tleX1cXCcgbm8gbG9uZ2VyIHN1cHBvcnRlZCwgdXNlIFxcJyR7ZGVwcmVjYXRlZE9wdGlvbnNba2V5XX1cXCdgKSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzU3ViT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1Z2dlc3Rpb24gPSBmaW5kU2ltaWxhck9wdGlvbihrZXksIGxvYWRlcnMpO1xuICAgICAgICAgICAgICAgIHByb2JlTG9nLndhcm4oYCR7bG9hZGVyTmFtZX0gbG9hZGVyIG9wdGlvbiBcXCcke3ByZWZpeH0ke2tleX1cXCcgbm90IHJlY29nbml6ZWQuICR7c3VnZ2VzdGlvbn1gKSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZFNpbWlsYXJPcHRpb24ob3B0aW9uS2V5LCBsb2FkZXJzKSB7XG4gICAgY29uc3QgbG93ZXJDYXNlT3B0aW9uS2V5ID0gb3B0aW9uS2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgbGV0IGJlc3RTdWdnZXN0aW9uID0gJyc7XG4gICAgZm9yIChjb25zdCBsb2FkZXIgb2YgbG9hZGVycykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBsb2FkZXIub3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbktleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBEaWQgeW91IG1lYW4gXFwnJHtsb2FkZXIuaWR9LiR7a2V5fVxcJz9gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG93ZXJDYXNlS2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBjb25zdCBpc1BhcnRpYWxNYXRjaCA9IGxvd2VyQ2FzZU9wdGlvbktleS5zdGFydHNXaXRoKGxvd2VyQ2FzZUtleSkgfHwgbG93ZXJDYXNlS2V5LnN0YXJ0c1dpdGgobG93ZXJDYXNlT3B0aW9uS2V5KTtcbiAgICAgICAgICAgIGlmIChpc1BhcnRpYWxNYXRjaCkge1xuICAgICAgICAgICAgICAgIGJlc3RTdWdnZXN0aW9uID0gYmVzdFN1Z2dlc3Rpb24gfHwgYERpZCB5b3UgbWVhbiBcXCcke2xvYWRlci5pZH0uJHtrZXl9XFwnP2A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJlc3RTdWdnZXN0aW9uO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplT3B0aW9uc0ludGVybmFsKGxvYWRlciwgb3B0aW9ucywgdXJsKSB7XG4gICAgY29uc3QgbG9hZGVyRGVmYXVsdE9wdGlvbnMgPSBsb2FkZXIub3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0geyAuLi5sb2FkZXJEZWZhdWx0T3B0aW9ucyB9O1xuICAgIGFkZFVybE9wdGlvbnMobWVyZ2VkT3B0aW9ucywgdXJsKTtcbiAgICAvLyBMT0dHSU5HOiBvcHRpb25zLmxvZyBjYW4gYmUgc2V0IHRvIGBudWxsYCB0byBkZWZlYXQgbG9nZ2luZ1xuICAgIGlmIChtZXJnZWRPcHRpb25zLmxvZyA9PT0gbnVsbCkge1xuICAgICAgICBtZXJnZWRPcHRpb25zLmxvZyA9IG5ldyBOdWxsTG9nKCk7XG4gICAgfVxuICAgIG1lcmdlTmVzdGVkRmllbGRzKG1lcmdlZE9wdGlvbnMsIGdldEdsb2JhbExvYWRlck9wdGlvbnMoKSk7XG4gICAgbWVyZ2VOZXN0ZWRGaWVsZHMobWVyZ2VkT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1lcmdlZE9wdGlvbnM7XG59XG4vLyBNZXJnZSBuZXN0ZWQgb3B0aW9ucyBvYmplY3RzXG5mdW5jdGlvbiBtZXJnZU5lc3RlZEZpZWxkcyhtZXJnZWRPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xuICAgICAgICAvLyBDaGVjayBmb3IgbmVzdGVkIG9wdGlvbnNcbiAgICAgICAgLy8gb2JqZWN0IGluIG9wdGlvbnMgPT4gZWl0aGVyIG5vIGtleSBpbiBkZWZhdWx0T3B0aW9ucyBvciBvYmplY3QgaW4gZGVmYXVsdE9wdGlvbnNcbiAgICAgICAgaWYgKGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGlmIChpc1B1cmVPYmplY3QodmFsdWUpICYmIGlzUHVyZU9iamVjdChtZXJnZWRPcHRpb25zW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkT3B0aW9uc1trZXldID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5tZXJnZWRPcHRpb25zW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnNba2V5XVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRPcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxzZTogTm8gbmVlZCB0byBtZXJnZSBuZXN0ZWQgb3B0cywgYW5kIHRoZSBpbml0aWFsIG1lcmdlIGFscmVhZHkgY29waWVkIG92ZXIgdGhlIG5lc3RlZCBvcHRpb25zXG4gICAgfVxufVxuLyoqXG4gKiBIYXJ2ZXN0IGluZm9ybWF0aW9uIGZyb20gdGhlIHVybFxuICogQGRlcHJlY2F0ZWQgVGhpcyBpcyBtYWlubHkgdGhlcmUgdG8gc3VwcG9ydCBhIGhhY2sgaW4gdGhlIEdMVEZMb2FkZXJcbiAqIFRPRE8gLSBiYXNlVXJpIHNob3VsZCBiZSBhIGRpcmVjdG9yeSwgaS5lLiByZW1vdmUgZmlsZSBjb21wb25lbnQgZnJvbSBiYXNlVXJpXG4gKiBUT0RPIC0gZXh0cmFjdCBleHRlbnNpb24/XG4gKiBUT0RPIC0gZXh0cmFjdCBxdWVyeSBwYXJhbWV0ZXJzP1xuICogVE9ETyAtIHNob3VsZCB0aGVzZSBiZSBpbmplY3RlZCBvbiBjb250ZXh0IGluc3RlYWQgb2Ygb3B0aW9ucz9cbiAqL1xuZnVuY3Rpb24gYWRkVXJsT3B0aW9ucyhvcHRpb25zLCB1cmwpIHtcbiAgICBpZiAodXJsICYmICEoJ2Jhc2VVcmknIGluIG9wdGlvbnMpKSB7XG4gICAgICAgIG9wdGlvbnMuYmFzZVVyaSA9IHVybDtcbiAgICB9XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSBcIi4uLy4uL2phdmFzY3JpcHQtdXRpbHMvaXMtdHlwZS5qc1wiO1xuaW1wb3J0IHsgZmV0Y2hGaWxlIH0gZnJvbSBcIi4uL2ZldGNoL2ZldGNoLWZpbGUuanNcIjtcbmltcG9ydCB7IGdldEdsb2JhbExvYWRlck9wdGlvbnMgfSBmcm9tIFwiLi9vcHRpb24tdXRpbHMuanNcIjtcbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBmZXRjaCBmdW5jdGlvbiBmcm9tIG9wdGlvbnMgYW5kIGNvbnRleHRcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmV0Y2hGdW5jdGlvbihvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgY29uc3QgZ2xvYmFsT3B0aW9ucyA9IGdldEdsb2JhbExvYWRlck9wdGlvbnMoKTtcbiAgICBjb25zdCBsb2FkZXJPcHRpb25zID0gb3B0aW9ucyB8fCBnbG9iYWxPcHRpb25zO1xuICAgIC8vIG9wdGlvbnMuZmV0Y2ggY2FuIGJlIGEgZnVuY3Rpb25cbiAgICBpZiAodHlwZW9mIGxvYWRlck9wdGlvbnMuZmV0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlck9wdGlvbnMuZmV0Y2g7XG4gICAgfVxuICAgIC8vIG9wdGlvbnMuZmV0Y2ggY2FuIGJlIGFuIG9wdGlvbnMgb2JqZWN0XG4gICAgaWYgKGlzT2JqZWN0KGxvYWRlck9wdGlvbnMuZmV0Y2gpKSB7XG4gICAgICAgIHJldHVybiAodXJsKSA9PiBmZXRjaEZpbGUodXJsLCBsb2FkZXJPcHRpb25zLmZldGNoKTtcbiAgICB9XG4gICAgLy8gZWxzZSByZWZlciB0byBjb250ZXh0IChmcm9tIHBhcmVudCBsb2FkZXIpIGlmIGF2YWlsYWJsZVxuICAgIGlmIChjb250ZXh0Py5mZXRjaCkge1xuICAgICAgICByZXR1cm4gY29udGV4dD8uZmV0Y2g7XG4gICAgfVxuICAgIC8vIGVsc2UgcmV0dXJuIHRoZSBkZWZhdWx0IGZldGNoIGZ1bmN0aW9uXG4gICAgcmV0dXJuIGZldGNoRmlsZTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLyoqXG4gKlxuICogQHBhcmFtIGJhc2VPcHRpb25zIENhbiBiZSB1bmRlZmluZWQsIGluIHdoaWNoIGNhc2UgYSBmcmVzaCBvcHRpb25zIG9iamVjdCB3aWxsIGJlIG1pbnRlZFxuICogQHBhcmFtIG5ld09wdGlvbnNcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUxvYWRlck9wdGlvbnMoYmFzZU9wdGlvbnMsIG5ld09wdGlvbnMpIHtcbiAgICByZXR1cm4gbWVyZ2VPcHRpb25zUmVjdXJzaXZlbHkoYmFzZU9wdGlvbnMgfHwge30sIG5ld09wdGlvbnMpO1xufVxuZnVuY3Rpb24gbWVyZ2VPcHRpb25zUmVjdXJzaXZlbHkoYmFzZU9wdGlvbnMsIG5ld09wdGlvbnMsIGxldmVsID0gMCkge1xuICAgIC8vIFNhbml0eSBjaGVjayAoamVzdCB0ZXN0IHJ1bm5lciBvdmVyd3JpdGVzIHRoZSBjb25zb2xlIG9iamVjdCB3aGljaCBjYW4gbGVhZCB0byBpbmZpbml0ZSByZWN1cnNpb24pXG4gICAgaWYgKGxldmVsID4gMykge1xuICAgICAgICByZXR1cm4gbmV3T3B0aW9ucztcbiAgICB9XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uYmFzZU9wdGlvbnMgfTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIG5ld1ZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhuZXdPcHRpb25zKSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgJiYgdHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIG9wdGlvbnNba2V5XSA9IG1lcmdlT3B0aW9uc1JlY3Vyc2l2ZWx5KG9wdGlvbnNba2V5XSB8fCB7fSwgbmV3T3B0aW9uc1trZXldLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgLy8gT2JqZWN0LmFzc2lnbihvcHRpb25zW2tleV0gYXMgb2JqZWN0LCBuZXdPcHRpb25zW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9uc1trZXldID0gbmV3T3B0aW9uc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vKiogQnJvd3NlciBwb2x5ZmlsbCBmb3IgTm9kZS5qcyBidWlsdC1pbiBgd29ya2VyX3RocmVhZHNgIG1vZHVsZS5cbiAqIFRoZXNlIGZpbGxzIGFyZSBub24tZnVuY3Rpb25hbCwgYW5kIGp1c3QgaW50ZW5kZWQgdG8gZW5zdXJlIHRoYXRcbiAqIGBpbXBvcnQgJ3dvcmtlcl90aHJlYWRzYCBkb2Vzbid0IGJyZWFrIGJyb3dzZXIgYnVpbGRzLlxuICogVGhlIHJlcGxhY2VtZW50IGlzIGRvbmUgaW4gcGFja2FnZS5qc29uIGJyb3dzZXIgZmllbGRcbiAqL1xuZXhwb3J0IGNsYXNzIE5vZGVXb3JrZXIge1xuICAgIHRlcm1pbmF0ZSgpIHsgfVxufVxuZXhwb3J0IGNvbnN0IHBhcmVudFBvcnQgPSBudWxsO1xuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vZW52LXV0aWxzL2Fzc2VydC5qc1wiO1xuY29uc3Qgd29ya2VyVVJMQ2FjaGUgPSBuZXcgTWFwKCk7XG4vKipcbiAqIENyZWF0ZXMgYSBsb2FkYWJsZSBVUkwgZnJvbSB3b3JrZXIgc291cmNlIG9yIFVSTFxuICogdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYFdvcmtlcmAgaW5zdGFuY2VzLlxuICogRHVlIHRvIENPUlMgaXNzdWVzIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gd3JhcCBhIFVSTCBpbiBhIHNtYWxsIGltcG9ydFNjcmlwdHNcbiAqIEBwYXJhbSBwcm9wc1xuICogQHBhcmFtIHByb3BzLnNvdXJjZSBXb3JrZXIgc291cmNlXG4gKiBAcGFyYW0gcHJvcHMudXJsIFdvcmtlciBVUkxcbiAqIEByZXR1cm5zIGxvYWRhYmxlIHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9hZGFibGVXb3JrZXJVUkwocHJvcHMpIHtcbiAgICBhc3NlcnQoKHByb3BzLnNvdXJjZSAmJiAhcHJvcHMudXJsKSB8fCAoIXByb3BzLnNvdXJjZSAmJiBwcm9wcy51cmwpKTsgLy8gRWl0aGVyIHNvdXJjZSBvciB1cmwgbXVzdCBiZSBkZWZpbmVkXG4gICAgbGV0IHdvcmtlclVSTCA9IHdvcmtlclVSTENhY2hlLmdldChwcm9wcy5zb3VyY2UgfHwgcHJvcHMudXJsKTtcbiAgICBpZiAoIXdvcmtlclVSTCkge1xuICAgICAgICAvLyBEaWZmZXJlbnRpYXRlIHdvcmtlciB1cmxzIGZyb20gd29ya2VyIHNvdXJjZSBjb2RlXG4gICAgICAgIGlmIChwcm9wcy51cmwpIHtcbiAgICAgICAgICAgIHdvcmtlclVSTCA9IGdldExvYWRhYmxlV29ya2VyVVJMRnJvbVVSTChwcm9wcy51cmwpO1xuICAgICAgICAgICAgd29ya2VyVVJMQ2FjaGUuc2V0KHByb3BzLnVybCwgd29ya2VyVVJMKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMuc291cmNlKSB7XG4gICAgICAgICAgICB3b3JrZXJVUkwgPSBnZXRMb2FkYWJsZVdvcmtlclVSTEZyb21Tb3VyY2UocHJvcHMuc291cmNlKTtcbiAgICAgICAgICAgIHdvcmtlclVSTENhY2hlLnNldChwcm9wcy5zb3VyY2UsIHdvcmtlclVSTCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXNzZXJ0KHdvcmtlclVSTCk7XG4gICAgcmV0dXJuIHdvcmtlclVSTDtcbn1cbi8qKlxuICogQnVpbGQgYSBsb2FkYWJsZSB3b3JrZXIgVVJMIGZyb20gd29ya2VyIFVSTFxuICogQHBhcmFtIHVybFxuICogQHJldHVybnMgbG9hZGFibGUgVVJMXG4gKi9cbmZ1bmN0aW9uIGdldExvYWRhYmxlV29ya2VyVVJMRnJvbVVSTCh1cmwpIHtcbiAgICAvLyBBIGxvY2FsIHNjcmlwdCB1cmwsIHdlIGNhbiB1c2UgaXQgdG8gaW5pdGlhbGl6ZSBhIFdvcmtlciBkaXJlY3RseVxuICAgIGlmICghdXJsLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICAvLyBBIHJlbW90ZSBzY3JpcHQsIHdlIG5lZWQgdG8gdXNlIGBpbXBvcnRTY3JpcHRzYCB0byBsb2FkIGZyb20gZGlmZmVyZW50IG9yaWdpblxuICAgIGNvbnN0IHdvcmtlclNvdXJjZSA9IGJ1aWxkU2NyaXB0U291cmNlKHVybCk7XG4gICAgcmV0dXJuIGdldExvYWRhYmxlV29ya2VyVVJMRnJvbVNvdXJjZSh3b3JrZXJTb3VyY2UpO1xufVxuLyoqXG4gKiBCdWlsZCBhIGxvYWRhYmxlIHdvcmtlciBVUkwgZnJvbSB3b3JrZXIgc291cmNlXG4gKiBAcGFyYW0gd29ya2VyU291cmNlXG4gKiBAcmV0dXJucyBsb2FkYWJsZSB1cmxcbiAqL1xuZnVuY3Rpb24gZ2V0TG9hZGFibGVXb3JrZXJVUkxGcm9tU291cmNlKHdvcmtlclNvdXJjZSkge1xuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbd29ya2VyU291cmNlXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcgfSk7XG4gICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG59XG4vKipcbiAqIFBlciBzcGVjLCB3b3JrZXIgY2Fubm90IGJlIGluaXRpYWxpemVkIHdpdGggYSBzY3JpcHQgZnJvbSBhIGRpZmZlcmVudCBvcmlnaW5cbiAqIEhvd2V2ZXIgYSBsb2NhbCB3b3JrZXIgc2NyaXB0IGNhbiBzdGlsbCBpbXBvcnQgc2NyaXB0cyBmcm9tIG90aGVyIG9yaWdpbnMsXG4gKiBzbyB3ZSBzaW1wbHkgYnVpbGQgYSB3cmFwcGVyIHNjcmlwdC5cbiAqXG4gKiBAcGFyYW0gd29ya2VyVXJsXG4gKiBAcmV0dXJucyBzb3VyY2VcbiAqL1xuZnVuY3Rpb24gYnVpbGRTY3JpcHRTb3VyY2Uod29ya2VyVXJsKSB7XG4gICAgcmV0dXJuIGBcXFxudHJ5IHtcbiAgaW1wb3J0U2NyaXB0cygnJHt3b3JrZXJVcmx9Jyk7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgdGhyb3cgZXJyb3I7XG59YDtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gTk9URSAtIHRoZXJlIGlzIGEgY29weSBvZiB0aGlzIGZ1bmN0aW9uIGlzIGJvdGggaW4gY29yZSBhbmQgbG9hZGVyLXV0aWxzXG4vLyBjb3JlIGRvZXMgbm90IG5lZWQgYWxsIHRoZSB1dGlscyBpbiBsb2FkZXItdXRpbHMsIGp1c3QgdGhpcyBvbmUuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2YgVHJhbnNmZXJyYWJsZSBvYmplY3RzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBwb3N0TWVzc2FnZVxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dvcmtlci9wb3N0TWVzc2FnZVxuICogQHBhcmFtIG9iamVjdCBkYXRhIHRvIGJlIHNlbnQgdmlhIHBvc3RNZXNzYWdlXG4gKiBAcGFyYW0gcmVjdXJzaXZlIC0gbm90IGZvciBhcHBsaWNhdGlvbiB1c2VcbiAqIEBwYXJhbSB0cmFuc2ZlcnMgLSBub3QgZm9yIGFwcGxpY2F0aW9uIHVzZVxuICogQHJldHVybnMgYSB0cmFuc2ZlciBsaXN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byBwb3N0TWVzc2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmZXJMaXN0KG9iamVjdCwgcmVjdXJzaXZlID0gdHJ1ZSwgdHJhbnNmZXJzKSB7XG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgaXRlbXMgaW4gdGhlIHRyYW5zZmVyIGxpc3QgaXMgdW5pcXVlXG4gICAgY29uc3QgdHJhbnNmZXJzU2V0ID0gdHJhbnNmZXJzIHx8IG5ldyBTZXQoKTtcbiAgICBpZiAoIW9iamVjdCkge1xuICAgICAgICAvLyBpZ25vcmVcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNUcmFuc2ZlcmFibGUob2JqZWN0KSkge1xuICAgICAgICB0cmFuc2ZlcnNTZXQuYWRkKG9iamVjdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVHJhbnNmZXJhYmxlKG9iamVjdC5idWZmZXIpKSB7XG4gICAgICAgIC8vIFR5cGVkIGFycmF5XG4gICAgICAgIHRyYW5zZmVyc1NldC5hZGQob2JqZWN0LmJ1ZmZlcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhvYmplY3QpKSB7XG4gICAgICAgIC8vIG9iamVjdCBpcyBhIFR5cGVBcnJheSB2aWV3aW5nIGludG8gYSBTaGFyZWRBcnJheUJ1ZmZlciAobm90IHRyYW5zZmVyYWJsZSlcbiAgICAgICAgLy8gRG8gbm90IGl0ZXJhdGUgdGhyb3VnaCB0aGUgY29udGVudCBpbiB0aGlzIGNhc2VcbiAgICB9XG4gICAgZWxzZSBpZiAocmVjdXJzaXZlICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgLy8gQXZvaWQgcGVyZiBoaXQgLSBvbmx5IGdvIG9uZSBsZXZlbCBkZWVwXG4gICAgICAgICAgICBnZXRUcmFuc2Zlckxpc3Qob2JqZWN0W2tleV0sIHJlY3Vyc2l2ZSwgdHJhbnNmZXJzU2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiB0cmFuc2ZlcnMgaXMgZGVmaW5lZCwgaXMgaW50ZXJuYWwgcmVjdXJzaXZlIGNhbGxcbiAgICAvLyBPdGhlcndpc2UgaXQncyBjYWxsZWQgYnkgdGhlIHVzZXJcbiAgICByZXR1cm4gdHJhbnNmZXJzID09PSB1bmRlZmluZWQgPyBBcnJheS5mcm9tKHRyYW5zZmVyc1NldCkgOiBbXTtcbn1cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9UcmFuc2ZlcmFibGVcbmZ1bmN0aW9uIGlzVHJhbnNmZXJhYmxlKG9iamVjdCkge1xuICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIE1lc3NhZ2VQb3J0ICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBNZXNzYWdlUG9ydCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBJbWFnZUJpdG1hcCAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAodHlwZW9mIE9mZnNjcmVlbkNhbnZhcyAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGRyb3Agbm9uIHNlcmlhbGl6YWJsZSB2YWx1ZXMgbGlrZSBmdW5jdGlvbnMgYW5kIHJlZ2V4cHMuXG4gKiBAcGFyYW0gb2JqZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zlckxpc3RGb3JXcml0ZXIob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IGNsb25lID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0KTtcbiAgICBPYmplY3Qua2V5cyhjbG9uZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIC8vIFR5cGVkIEFycmF5cyBhbmQgQXJyYXlzIGFyZSBwYXNzZWQgd2l0aCBubyBjaGFuZ2VcbiAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICFBcnJheUJ1ZmZlci5pc1ZpZXcob2JqZWN0W2tleV0pICYmXG4gICAgICAgICAgICAhKG9iamVjdFtrZXldIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICBjbG9uZVtrZXldID0gZ2V0VHJhbnNmZXJMaXN0Rm9yV3JpdGVyKG9iamVjdFtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2xvbmVba2V5XSA9PT0gJ2Z1bmN0aW9uJyB8fCBjbG9uZVtrZXldIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICBjbG9uZVtrZXldID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbG9uZVtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmU7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IE5vZGVXb3JrZXIgfSBmcm9tIFwiLi4vbm9kZS93b3JrZXJfdGhyZWFkcy5qc1wiO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSBcIi4uL2Vudi11dGlscy9nbG9iYWxzLmpzXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vZW52LXV0aWxzL2Fzc2VydC5qc1wiO1xuaW1wb3J0IHsgZ2V0TG9hZGFibGVXb3JrZXJVUkwgfSBmcm9tIFwiLi4vd29ya2VyLXV0aWxzL2dldC1sb2FkYWJsZS13b3JrZXItdXJsLmpzXCI7XG5pbXBvcnQgeyBnZXRUcmFuc2Zlckxpc3QgfSBmcm9tIFwiLi4vd29ya2VyLXV0aWxzL2dldC10cmFuc2Zlci1saXN0LmpzXCI7XG5jb25zdCBOT09QID0gKCkgPT4geyB9O1xuLyoqXG4gKiBSZXByZXNlbnRzIG9uZSB3b3JrZXIgdGhyZWFkXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmtlclRocmVhZCB7XG4gICAgbmFtZTtcbiAgICBzb3VyY2U7XG4gICAgdXJsO1xuICAgIHRlcm1pbmF0ZWQgPSBmYWxzZTtcbiAgICB3b3JrZXI7XG4gICAgb25NZXNzYWdlO1xuICAgIG9uRXJyb3I7XG4gICAgX2xvYWRhYmxlVVJMID0gJyc7XG4gICAgLyoqIENoZWNrcyBpZiB3b3JrZXJzIGFyZSBzdXBwb3J0ZWQgb24gdGhpcyBwbGF0Zm9ybSAqL1xuICAgIHN0YXRpYyBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuICgodHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNCcm93c2VyKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBOb2RlV29ya2VyICE9PSAndW5kZWZpbmVkJyAmJiAhaXNCcm93c2VyKSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgc291cmNlLCB1cmwgfSA9IHByb3BzO1xuICAgICAgICBhc3NlcnQoc291cmNlIHx8IHVybCk7IC8vIEVpdGhlciBzb3VyY2Ugb3IgdXJsIG11c3QgYmUgZGVmaW5lZFxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMub25NZXNzYWdlID0gTk9PUDtcbiAgICAgICAgdGhpcy5vbkVycm9yID0gKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgdGhpcy53b3JrZXIgPSBpc0Jyb3dzZXIgPyB0aGlzLl9jcmVhdGVCcm93c2VyV29ya2VyKCkgOiB0aGlzLl9jcmVhdGVOb2RlV29ya2VyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlcm1pbmF0ZSB0aGlzIHdvcmtlciB0aHJlYWRcbiAgICAgKiBAbm90ZSBDYW4gZnJlZSB1cCBzaWduaWZpY2FudCBtZW1vcnlcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLm9uTWVzc2FnZSA9IE5PT1A7XG4gICAgICAgIHRoaXMub25FcnJvciA9IE5PT1A7XG4gICAgICAgIHRoaXMud29ya2VyLnRlcm1pbmF0ZSgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICB0aGlzLnRlcm1pbmF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBnZXQgaXNSdW5uaW5nKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLm9uTWVzc2FnZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoaXMgd29ya2VyIHRocmVhZFxuICAgICAqIEBwYXJhbSBkYXRhIGFueSBkYXRhIHN0cnVjdHVyZSwgaWRlYWxseSBjb25zaXN0aW5nIG1vc3RseSBvZiB0cmFuc2ZlcnJhYmxlIG9iamVjdHNcbiAgICAgKiBAcGFyYW0gdHJhbnNmZXJMaXN0IElmIG5vdCBzdXBwbGllZCwgY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJ5IHRyYXZlcnNpbmcgZGF0YVxuICAgICAqL1xuICAgIHBvc3RNZXNzYWdlKGRhdGEsIHRyYW5zZmVyTGlzdCkge1xuICAgICAgICB0cmFuc2Zlckxpc3QgPSB0cmFuc2Zlckxpc3QgfHwgZ2V0VHJhbnNmZXJMaXN0KGRhdGEpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKGRhdGEsIHRyYW5zZmVyTGlzdCk7XG4gICAgfVxuICAgIC8vIFBSSVZBVEVcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHN0YW5kYXJkIEVycm9yIGZyb20gYW4gRXJyb3JFdmVudFxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIF9nZXRFcnJvckZyb21FcnJvckV2ZW50KGV2ZW50KSB7XG4gICAgICAgIC8vIE5vdGUgRXJyb3Igb2JqZWN0IGRvZXMgbm90IGhhdmUgdGhlIGV4cGVjdGVkIGZpZWxkcyBpZiBsb2FkaW5nIGZhaWxlZCBjb21wbGV0ZWx5XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Xb3JrZXIjRXZlbnRfaGFuZGxlcnNcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Vycm9yRXZlbnRcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnRmFpbGVkIHRvIGxvYWQgJztcbiAgICAgICAgbWVzc2FnZSArPSBgd29ya2VyICR7dGhpcy5uYW1lfSBmcm9tICR7dGhpcy51cmx9LiBgO1xuICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgJHtldmVudC5tZXNzYWdlfSBpbiBgO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnN0IGhhc0ZpbGVuYW1lID0gZXZlbnQuZmlsZW5hbWUgJiYgIWV2ZW50LmZpbGVuYW1lLnN0YXJ0c1dpdGgoJ2Jsb2I6Jyk7XG4gICAgICAgIC8vIG1lc3NhZ2UgKz0gaGFzRmlsZW5hbWUgPyBldmVudC5maWxlbmFtZSA6IHRoaXMuc291cmNlLnNsaWNlKDAsIDEwMCk7XG4gICAgICAgIGlmIChldmVudC5saW5lbm8pIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYDoke2V2ZW50LmxpbmVub306JHtldmVudC5jb2xub31gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB3b3JrZXIgdGhyZWFkIG9uIHRoZSBicm93c2VyXG4gICAgICovXG4gICAgX2NyZWF0ZUJyb3dzZXJXb3JrZXIoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRhYmxlVVJMID0gZ2V0TG9hZGFibGVXb3JrZXJVUkwoeyBzb3VyY2U6IHRoaXMuc291cmNlLCB1cmw6IHRoaXMudXJsIH0pO1xuICAgICAgICBjb25zdCB3b3JrZXIgPSBuZXcgV29ya2VyKHRoaXMuX2xvYWRhYmxlVVJMLCB7IG5hbWU6IHRoaXMubmFtZSB9KTtcbiAgICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFldmVudC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKG5ldyBFcnJvcignTm8gZGF0YSByZWNlaXZlZCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub25NZXNzYWdlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBUaGlzIGNhbGxiYWNrIHJlcHJlc2VudHMgYW4gdW5jYXVnaHQgZXhjZXB0aW9uIGluIHRoZSB3b3JrZXIgdGhyZWFkXG4gICAgICAgIHdvcmtlci5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IodGhpcy5fZ2V0RXJyb3JGcm9tRXJyb3JFdmVudChlcnJvcikpO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETyAtIG5vdCBjbGVhciB3aGVuIHRoaXMgd291bGQgYmUgY2FsbGVkLCBmb3Igbm93IGp1c3QgbG9nIGluIGNhc2UgaXQgaGFwcGVuc1xuICAgICAgICB3b3JrZXIub25tZXNzYWdlZXJyb3IgPSAoZXZlbnQpID0+IGNvbnNvbGUuZXJyb3IoZXZlbnQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB3b3JrZXIgdGhyZWFkIGluIG5vZGUuanNcbiAgICAgKiBAdG9kbyBodHRwczovL25vZGVqcy5vcmcvYXBpL2FzeW5jX2hvb2tzLmh0bWwjYXN5bmMtcmVzb3VyY2Utd29ya2VyLXBvb2xcbiAgICAgKi9cbiAgICBfY3JlYXRlTm9kZVdvcmtlcigpIHtcbiAgICAgICAgbGV0IHdvcmtlcjtcbiAgICAgICAgaWYgKHRoaXMudXJsKSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgcmVsYXRpdmUgVVJMcyBzdGFydCB3aXRoICcuLydcbiAgICAgICAgICAgIGNvbnN0IGFic29sdXRlID0gdGhpcy51cmwuaW5jbHVkZXMoJzovJykgfHwgdGhpcy51cmwuc3RhcnRzV2l0aCgnLycpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYWJzb2x1dGUgPyB0aGlzLnVybCA6IGAuLyR7dGhpcy51cmx9YDtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdTdGFydGluZyB3b3JrIGZyb20nLCB1cmwpO1xuICAgICAgICAgICAgd29ya2VyID0gbmV3IE5vZGVXb3JrZXIodXJsLCB7IGV2YWw6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc291cmNlKSB7XG4gICAgICAgICAgICB3b3JrZXIgPSBuZXcgTm9kZVdvcmtlcih0aGlzLnNvdXJjZSwgeyBldmFsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyB3b3JrZXInKTtcbiAgICAgICAgfVxuICAgICAgICB3b3JrZXIub24oJ21lc3NhZ2UnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcignbWVzc2FnZScsIGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2UoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICB3b3JrZXIub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICB3b3JrZXIub24oJ2V4aXQnLCAoY29kZSkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcignZXhpdCcsIGNvZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdvcmtlcjtcbiAgICB9XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi9lbnYtdXRpbHMvYXNzZXJ0LmpzXCI7XG4vKipcbiAqIFJlcHJlc2VudHMgb25lIEpvYiBoYW5kbGVkIGJ5IGEgV29ya2VyUG9vbCBvciBXb3JrZXJGYXJtXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmtlckpvYiB7XG4gICAgbmFtZTtcbiAgICB3b3JrZXJUaHJlYWQ7XG4gICAgaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAvKiogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gSm9iIGlzIGRvbmUgKi9cbiAgICByZXN1bHQ7XG4gICAgX3Jlc29sdmUgPSAoKSA9PiB7IH07XG4gICAgX3JlamVjdCA9ICgpID0+IHsgfTtcbiAgICBjb25zdHJ1Y3Rvcihqb2JOYW1lLCB3b3JrZXJUaHJlYWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gam9iTmFtZTtcbiAgICAgICAgdGhpcy53b3JrZXJUaHJlYWQgPSB3b3JrZXJUaHJlYWQ7XG4gICAgICAgIHRoaXMucmVzdWx0ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICB0aGlzLl9yZWplY3QgPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbWVzc2FnZSB0byB0aGUgam9iJ3Mgd29ya2VyIHRocmVhZFxuICAgICAqIEBwYXJhbSBkYXRhIGFueSBkYXRhIHN0cnVjdHVyZSwgaWRlYWxseSBjb25zaXN0aW5nIG1vc3RseSBvZiB0cmFuc2ZlcnJhYmxlIG9iamVjdHNcbiAgICAgKi9cbiAgICBwb3N0TWVzc2FnZSh0eXBlLCBwYXlsb2FkKSB7XG4gICAgICAgIHRoaXMud29ya2VyVGhyZWFkLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIHNvdXJjZTogJ2xvYWRlcnMuZ2wnLCAvLyBMZXRzIHdvcmtlciBpZ25vcmUgdW5yZWxhdGVkIG1lc3NhZ2VzXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcGF5bG9hZFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCB0byByZXNvbHZlIHRoZSBgcmVzdWx0YCBQcm9taXNlIHdpdGggdGhlIHN1cHBsaWVkIHZhbHVlXG4gICAgICovXG4gICAgZG9uZSh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQodGhpcy5pc1J1bm5pbmcpO1xuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZXNvbHZlKHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCB0byByZWplY3QgdGhlIGByZXN1bHRgIFByb21pc2Ugd2l0aCB0aGUgc3VwcGxpZWQgZXJyb3JcbiAgICAgKi9cbiAgICBlcnJvcihlcnJvcikge1xuICAgICAgICBhc3NlcnQodGhpcy5pc1J1bm5pbmcpO1xuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWplY3QoZXJyb3IpO1xuICAgIH1cbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgaXNNb2JpbGUsIGlzQnJvd3NlciB9IGZyb20gXCIuLi9lbnYtdXRpbHMvZ2xvYmFscy5qc1wiO1xuaW1wb3J0IFdvcmtlclRocmVhZCBmcm9tIFwiLi93b3JrZXItdGhyZWFkLmpzXCI7XG5pbXBvcnQgV29ya2VySm9iIGZyb20gXCIuL3dvcmtlci1qb2IuanNcIjtcbi8qKlxuICogUHJvY2VzcyBtdWx0aXBsZSBkYXRhIG1lc3NhZ2VzIHdpdGggc21hbGwgcG9vbCBvZiBpZGVudGljYWwgd29ya2Vyc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JrZXJQb29sIHtcbiAgICBuYW1lID0gJ3VubmFtZWQnO1xuICAgIHNvdXJjZTsgLy8gfCBGdW5jdGlvbjtcbiAgICB1cmw7XG4gICAgbWF4Q29uY3VycmVuY3kgPSAxO1xuICAgIG1heE1vYmlsZUNvbmN1cnJlbmN5ID0gMTtcbiAgICBvbkRlYnVnID0gKCkgPT4geyB9O1xuICAgIHJldXNlV29ya2VycyA9IHRydWU7XG4gICAgcHJvcHMgPSB7fTtcbiAgICBqb2JRdWV1ZSA9IFtdO1xuICAgIGlkbGVRdWV1ZSA9IFtdO1xuICAgIGNvdW50ID0gMDtcbiAgICBpc0Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIC8qKiBDaGVja3MgaWYgd29ya2VycyBhcmUgc3VwcG9ydGVkIG9uIHRoaXMgcGxhdGZvcm0gKi9cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHJldHVybiBXb3JrZXJUaHJlYWQuaXNTdXBwb3J0ZWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHByb2Nlc3NvciAtIHdvcmtlciBmdW5jdGlvblxuICAgICAqIEBwYXJhbSBtYXhDb25jdXJyZW5jeSAtIG1heCBjb3VudCBvZiB3b3JrZXJzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBwcm9wcy5zb3VyY2U7XG4gICAgICAgIHRoaXMudXJsID0gcHJvcHMudXJsO1xuICAgICAgICB0aGlzLnNldFByb3BzKHByb3BzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVybWluYXRlcyBhbGwgd29ya2VycyBpbiB0aGUgcG9vbFxuICAgICAqIEBub3RlIENhbiBmcmVlIHVwIHNpZ25pZmljYW50IG1lbW9yeVxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIC8vIERlc3Ryb3kgaWRsZSB3b3JrZXJzLCBhY3RpdmUgV29ya2VycyB3aWxsIGJlIGRlc3Ryb3llZCBvbiBjb21wbGV0aW9uXG4gICAgICAgIHRoaXMuaWRsZVF1ZXVlLmZvckVhY2goKHdvcmtlcikgPT4gd29ya2VyLmRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuaXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBzZXRQcm9wcyhwcm9wcykge1xuICAgICAgICB0aGlzLnByb3BzID0geyAuLi50aGlzLnByb3BzLCAuLi5wcm9wcyB9O1xuICAgICAgICBpZiAocHJvcHMubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBwcm9wcy5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5tYXhDb25jdXJyZW5jeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1heENvbmN1cnJlbmN5ID0gcHJvcHMubWF4Q29uY3VycmVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLm1heE1vYmlsZUNvbmN1cnJlbmN5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWF4TW9iaWxlQ29uY3VycmVuY3kgPSBwcm9wcy5tYXhNb2JpbGVDb25jdXJyZW5jeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMucmV1c2VXb3JrZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmV1c2VXb3JrZXJzID0gcHJvcHMucmV1c2VXb3JrZXJzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5vbkRlYnVnICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25EZWJ1ZyA9IHByb3BzLm9uRGVidWc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc3RhcnRKb2IobmFtZSwgb25NZXNzYWdlID0gKGpvYiwgdHlwZSwgZGF0YSkgPT4gam9iLmRvbmUoZGF0YSksIG9uRXJyb3IgPSAoam9iLCBlcnJvcikgPT4gam9iLmVycm9yKGVycm9yKSkge1xuICAgICAgICAvLyBQcm9taXNlIHJlc29sdmVzIHdoZW4gdGhyZWFkIHN0YXJ0cyB3b3JraW5nIG9uIHRoaXMgam9iXG4gICAgICAgIGNvbnN0IHN0YXJ0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChvblN0YXJ0KSA9PiB7XG4gICAgICAgICAgICAvLyBQcm9taXNlIHJlc29sdmVzIHdoZW4gdGhyZWFkIGNvbXBsZXRlcyBvciBmYWlscyB3b3JraW5nIG9uIHRoaXMgam9iXG4gICAgICAgICAgICB0aGlzLmpvYlF1ZXVlLnB1c2goeyBuYW1lLCBvbk1lc3NhZ2UsIG9uRXJyb3IsIG9uU3RhcnQgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3N0YXJ0UXVldWVkSm9iKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgIHJldHVybiBhd2FpdCBzdGFydFByb21pc2U7XG4gICAgfVxuICAgIC8vIFBSSVZBVEVcbiAgICAvKipcbiAgICAgKiBTdGFydHMgZmlyc3QgcXVldWVkIGpvYiBpZiB3b3JrZXIgaXMgYXZhaWxhYmxlIG9yIGNhbiBiZSBjcmVhdGVkXG4gICAgICogQ2FsbGVkIHdoZW4gam9iIGlzIHN0YXJ0ZWQgYW5kIHdoZW5ldmVyIGEgd29ya2VyIHJldHVybnMgdG8gdGhlIGlkbGVRdWV1ZVxuICAgICAqL1xuICAgIGFzeW5jIF9zdGFydFF1ZXVlZEpvYigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmpvYlF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdvcmtlclRocmVhZCA9IHRoaXMuX2dldEF2YWlsYWJsZVdvcmtlcigpO1xuICAgICAgICBpZiAoIXdvcmtlclRocmVhZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGhhdmUgYSB3b3JrZXIsIGRlcXVldWUgYW5kIHN0YXJ0IHRoZSBqb2JcbiAgICAgICAgY29uc3QgcXVldWVkSm9iID0gdGhpcy5qb2JRdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAocXVldWVkSm9iKSB7XG4gICAgICAgICAgICAvLyBFbWl0IGEgZGVidWcgZXZlbnRcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMub25EZWJ1Zyh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1N0YXJ0aW5nIGpvYicsXG4gICAgICAgICAgICAgICAgbmFtZTogcXVldWVkSm9iLm5hbWUsXG4gICAgICAgICAgICAgICAgd29ya2VyVGhyZWFkLFxuICAgICAgICAgICAgICAgIGJhY2tsb2c6IHRoaXMuam9iUXVldWUubGVuZ3RoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHdvcmtlciBqb2IgdG8gbGV0IHRoZSBhcHAgYWNjZXNzIHRocmVhZCBhbmQgbWFuYWdlIGpvYiBjb21wbGV0aW9uXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgV29ya2VySm9iKHF1ZXVlZEpvYi5uYW1lLCB3b3JrZXJUaHJlYWQpO1xuICAgICAgICAgICAgLy8gU2V0IHRoZSB3b3JrZXIgdGhyZWFkJ3MgbWVzc2FnZSBoYW5kbGVyc1xuICAgICAgICAgICAgd29ya2VyVGhyZWFkLm9uTWVzc2FnZSA9IChkYXRhKSA9PiBxdWV1ZWRKb2Iub25NZXNzYWdlKGpvYiwgZGF0YS50eXBlLCBkYXRhLnBheWxvYWQpO1xuICAgICAgICAgICAgd29ya2VyVGhyZWFkLm9uRXJyb3IgPSAoZXJyb3IpID0+IHF1ZXVlZEpvYi5vbkVycm9yKGpvYiwgZXJyb3IpO1xuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgc3RhcnQgcHJvbWlzZSBzbyB0aGF0IHRoZSBhcHAgY2FuIHN0YXJ0IHNlbmRpbmcgbWVzc2FnZXMgdG8gd29ya2VyXG4gICAgICAgICAgICBxdWV1ZWRKb2Iub25TdGFydChqb2IpO1xuICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGFwcCB0byBzaWduYWwgdGhhdCB0aGUgam9iIGlzIGNvbXBsZXRlLCB0aGVuIHJldHVybiB3b3JrZXIgdG8gcXVldWVcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgam9iLnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgV29ya2VyIGV4Y2VwdGlvbjogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMucmV0dXJuV29ya2VyVG9RdWV1ZSh3b3JrZXJUaHJlYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB3b3JrZXIgdG8gdGhlIGlkbGUgcXVldWVcbiAgICAgKiBEZXN0cm95cyB0aGUgd29ya2VyIGlmXG4gICAgICogIC0gcG9vbCBpcyBkZXN0cm95ZWRcbiAgICAgKiAgLSBpZiB0aGlzIHBvb2wgZG9lc24ndCByZXVzZSB3b3JrZXJzXG4gICAgICogIC0gaWYgbWF4Q29uY3VycmVuY3kgaGFzIGJlZW4gbG93ZXJlZFxuICAgICAqIEBwYXJhbSB3b3JrZXJcbiAgICAgKi9cbiAgICByZXR1cm5Xb3JrZXJUb1F1ZXVlKHdvcmtlcikge1xuICAgICAgICBjb25zdCBzaG91bGREZXN0cm95V29ya2VyID0gXG4gICAgICAgIC8vIFdvcmtlcnMgb24gTm9kZS5qcyBwcmV2ZW50IHRoZSBwcm9jZXNzIGZyb20gZXhpdGluZy5cbiAgICAgICAgLy8gVW50aWwgd2UgZmlndXJlIG91dCBob3cgdG8gY2xvc2UgdGhlbSBiZWZvcmUgZXhpdCwgd2UgYWx3YXlzIGRlc3Ryb3kgdGhlbVxuICAgICAgICAhaXNCcm93c2VyIHx8XG4gICAgICAgICAgICAvLyBJZiB0aGUgcG9vbCBpcyBkZXN0cm95ZWQsIHRoZXJlIGlzIG5vIHJlYXNvbiB0byBrZWVwIHRoZSB3b3JrZXIgYXJvdW5kXG4gICAgICAgICAgICB0aGlzLmlzRGVzdHJveWVkIHx8XG4gICAgICAgICAgICAvLyBJZiB0aGUgYXBwIGhhcyBkaXNhYmxlZCB3b3JrZXIgcmV1c2UsIGFueSBjb21wbGV0ZWQgd29ya2VycyBzaG91bGQgYmUgZGVzdHJveWVkXG4gICAgICAgICAgICAhdGhpcy5yZXVzZVdvcmtlcnMgfHxcbiAgICAgICAgICAgIC8vIElmIGNvbmN1cnJlbmN5IGhhcyBiZWVuIGxvd2VyZWQsIHRoaXMgd29ya2VyIG1pZ2h0IGJlIHN1cnBsdXMgdG8gcmVxdWlyZW1lbnRzXG4gICAgICAgICAgICB0aGlzLmNvdW50ID4gdGhpcy5fZ2V0TWF4Q29uY3VycmVuY3koKTtcbiAgICAgICAgaWYgKHNob3VsZERlc3Ryb3lXb3JrZXIpIHtcbiAgICAgICAgICAgIHdvcmtlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmNvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlkbGVRdWV1ZS5wdXNoKHdvcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzRGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydFF1ZXVlZEpvYigpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaWRsZSB3b3JrZXIgb3IgY3JlYXRlcyBuZXcgd29ya2VyIGlmIG1heENvbmN1cnJlbmN5IGhhcyBub3QgYmVlbiByZWFjaGVkXG4gICAgICovXG4gICAgX2dldEF2YWlsYWJsZVdvcmtlcigpIHtcbiAgICAgICAgLy8gSWYgYSB3b3JrZXIgaGFzIGNvbXBsZXRlZCBhbmQgcmV0dXJuZWQgdG8gdGhlIHF1ZXVlLCBpdCBjYW4gYmUgdXNlZFxuICAgICAgICBpZiAodGhpcy5pZGxlUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWRsZVF1ZXVlLnNoaWZ0KCkgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDcmVhdGUgZnJlc2ggd29ya2VyIGlmIHdlIGhhdmVuJ3QgeWV0IGNyZWF0ZWQgdGhlIG1heCBhbW91bnQgb2Ygd29ya2VyIHRocmVhZHMgZm9yIHRoaXMgd29ya2VyIHNvdXJjZVxuICAgICAgICBpZiAodGhpcy5jb3VudCA8IHRoaXMuX2dldE1heENvbmN1cnJlbmN5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHt0aGlzLm5hbWUudG9Mb3dlckNhc2UoKX0gKCMke3RoaXMuY291bnR9IG9mICR7dGhpcy5tYXhDb25jdXJyZW5jeX0pYDtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV29ya2VyVGhyZWFkKHsgbmFtZSwgc291cmNlOiB0aGlzLnNvdXJjZSwgdXJsOiB0aGlzLnVybCB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBObyB3b3JrZXIgYXZhaWxhYmxlLCBoYXZlIHRvIHdhaXRcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIF9nZXRNYXhDb25jdXJyZW5jeSgpIHtcbiAgICAgICAgcmV0dXJuIGlzTW9iaWxlID8gdGhpcy5tYXhNb2JpbGVDb25jdXJyZW5jeSA6IHRoaXMubWF4Q29uY3VycmVuY3k7XG4gICAgfVxufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgV29ya2VyUG9vbCBmcm9tIFwiLi93b3JrZXItcG9vbC5qc1wiO1xuaW1wb3J0IFdvcmtlclRocmVhZCBmcm9tIFwiLi93b3JrZXItdGhyZWFkLmpzXCI7XG5jb25zdCBERUZBVUxUX1BST1BTID0ge1xuICAgIG1heENvbmN1cnJlbmN5OiAzLFxuICAgIG1heE1vYmlsZUNvbmN1cnJlbmN5OiAxLFxuICAgIHJldXNlV29ya2VyczogdHJ1ZSxcbiAgICBvbkRlYnVnOiAoKSA9PiB7IH1cbn07XG4vKipcbiAqIFByb2Nlc3MgbXVsdGlwbGUgam9icyB3aXRoIGEgXCJmYXJtXCIgb2YgZGlmZmVyZW50IHdvcmtlcnMgaW4gd29ya2VyIHBvb2xzLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JrZXJGYXJtIHtcbiAgICBwcm9wcztcbiAgICB3b3JrZXJQb29scyA9IG5ldyBNYXAoKTtcbiAgICAvLyBzaW5nbGV0b25cbiAgICBzdGF0aWMgX3dvcmtlckZhcm07XG4gICAgLyoqIENoZWNrcyBpZiB3b3JrZXJzIGFyZSBzdXBwb3J0ZWQgb24gdGhpcyBwbGF0Zm9ybSAqL1xuICAgIHN0YXRpYyBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIFdvcmtlclRocmVhZC5pc1N1cHBvcnRlZCgpO1xuICAgIH1cbiAgICAvKiogR2V0IHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIGdsb2JhbCB3b3JrZXIgZmFybSAqL1xuICAgIHN0YXRpYyBnZXRXb3JrZXJGYXJtKHByb3BzID0ge30pIHtcbiAgICAgICAgV29ya2VyRmFybS5fd29ya2VyRmFybSA9IFdvcmtlckZhcm0uX3dvcmtlckZhcm0gfHwgbmV3IFdvcmtlckZhcm0oe30pO1xuICAgICAgICBXb3JrZXJGYXJtLl93b3JrZXJGYXJtLnNldFByb3BzKHByb3BzKTtcbiAgICAgICAgcmV0dXJuIFdvcmtlckZhcm0uX3dvcmtlckZhcm07XG4gICAgfVxuICAgIC8qKiBnZXQgZ2xvYmFsIGluc3RhbmNlIHdpdGggV29ya2VyRmFybS5nZXRXb3JrZXJGYXJtKCkgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICB0aGlzLnByb3BzID0geyAuLi5ERUZBVUxUX1BST1BTIH07XG4gICAgICAgIHRoaXMuc2V0UHJvcHMocHJvcHMpO1xuICAgICAgICAvKiogQHR5cGUgTWFwPHN0cmluZywgV29ya2VyUG9vbD59ICovXG4gICAgICAgIHRoaXMud29ya2VyUG9vbHMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlcm1pbmF0ZSBhbGwgd29ya2VycyBpbiB0aGUgZmFybVxuICAgICAqIEBub3RlIENhbiBmcmVlIHVwIHNpZ25pZmljYW50IG1lbW9yeVxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAoY29uc3Qgd29ya2VyUG9vbCBvZiB0aGlzLndvcmtlclBvb2xzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICB3b3JrZXJQb29sLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmtlclBvb2xzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgcHJvcHMgdXNlZCB3aGVuIGluaXRpYWxpemluZyB3b3JrZXIgcG9vbHNcbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKi9cbiAgICBzZXRQcm9wcyhwcm9wcykge1xuICAgICAgICB0aGlzLnByb3BzID0geyAuLi50aGlzLnByb3BzLCAuLi5wcm9wcyB9O1xuICAgICAgICAvLyBVcGRhdGUgd29ya2VyIHBvb2wgcHJvcHNcbiAgICAgICAgZm9yIChjb25zdCB3b3JrZXJQb29sIG9mIHRoaXMud29ya2VyUG9vbHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHdvcmtlclBvb2wuc2V0UHJvcHModGhpcy5fZ2V0V29ya2VyUG9vbFByb3BzKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB3b3JrZXIgcG9vbCBmb3IgdGhlIHNwZWNpZmllZCB3b3JrZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9ubHkgdXNlZCBmaXJzdCB0aW1lIGZvciBhIHNwZWNpZmljIHdvcmtlciBuYW1lXG4gICAgICogQHBhcmFtIG9wdGlvbnMubmFtZSAtIHRoZSBuYW1lIG9mIHRoZSB3b3JrZXIgLSB1c2VkIHRvIGlkZW50aWZ5IHdvcmtlciBwb29sXG4gICAgICogQHBhcmFtIG9wdGlvbnMudXJsIC1cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5zb3VyY2UgLVxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBjb25zdCBqb2IgPSBXb3JrZXJGYXJtLmdldFdvcmtlckZhcm0oKS5nZXRXb3JrZXJQb29sKHtuYW1lLCB1cmx9KS5zdGFydEpvYiguLi4pO1xuICAgICAqL1xuICAgIGdldFdvcmtlclBvb2wob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IG5hbWUsIHNvdXJjZSwgdXJsIH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgd29ya2VyUG9vbCA9IHRoaXMud29ya2VyUG9vbHMuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAoIXdvcmtlclBvb2wpIHtcbiAgICAgICAgICAgIHdvcmtlclBvb2wgPSBuZXcgV29ya2VyUG9vbCh7XG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgdXJsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdvcmtlclBvb2wuc2V0UHJvcHModGhpcy5fZ2V0V29ya2VyUG9vbFByb3BzKCkpO1xuICAgICAgICAgICAgdGhpcy53b3JrZXJQb29scy5zZXQobmFtZSwgd29ya2VyUG9vbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdvcmtlclBvb2w7XG4gICAgfVxuICAgIF9nZXRXb3JrZXJQb29sUHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXhDb25jdXJyZW5jeTogdGhpcy5wcm9wcy5tYXhDb25jdXJyZW5jeSxcbiAgICAgICAgICAgIG1heE1vYmlsZUNvbmN1cnJlbmN5OiB0aGlzLnByb3BzLm1heE1vYmlsZUNvbmN1cnJlbmN5LFxuICAgICAgICAgICAgcmV1c2VXb3JrZXJzOiB0aGlzLnByb3BzLnJldXNlV29ya2VycyxcbiAgICAgICAgICAgIG9uRGVidWc6IHRoaXMucHJvcHMub25EZWJ1Z1xuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGlzQnJvd3NlciwgV29ya2VyRmFybSwgZ2V0V29ya2VyVVJMIH0gZnJvbSAnQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzJztcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIGxvYWRlciBjYW4gcGFyc2Ugd2l0aCB3b3JrZXJcbiAqIEBwYXJhbSBsb2FkZXJcbiAqIEBwYXJhbSBvcHRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5QYXJzZVdpdGhXb3JrZXIobG9hZGVyLCBvcHRpb25zKSB7XG4gICAgaWYgKCFXb3JrZXJGYXJtLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBOb2RlIHdvcmtlcnMgYXJlIHN0aWxsIGV4cGVyaW1lbnRhbFxuICAgIGlmICghaXNCcm93c2VyICYmICFvcHRpb25zPy5fbm9kZVdvcmtlcnMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZGVyLndvcmtlciAmJiBvcHRpb25zPy53b3JrZXI7XG59XG4vKipcbiAqIHRoaXMgZnVuY3Rpb24gZXhwZWN0cyB0aGF0IHRoZSB3b3JrZXIgZnVuY3Rpb24gc2VuZHMgY2VydGFpbiBtZXNzYWdlcyxcbiAqIHRoaXMgY2FuIGJlIGF1dG9tYXRlZCBpZiB0aGUgd29ya2VyIGlzIHdyYXBwZXIgYnkgYSBjYWxsIHRvIGNyZWF0ZUxvYWRlcldvcmtlciBpbiBAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVdpdGhXb3JrZXIobG9hZGVyLCBkYXRhLCBvcHRpb25zLCBjb250ZXh0LCBwYXJzZU9uTWFpblRocmVhZCkge1xuICAgIGNvbnN0IG5hbWUgPSBsb2FkZXIuaWQ7IC8vIFRPRE9cbiAgICBjb25zdCB1cmwgPSBnZXRXb3JrZXJVUkwobG9hZGVyLCBvcHRpb25zKTtcbiAgICBjb25zdCB3b3JrZXJGYXJtID0gV29ya2VyRmFybS5nZXRXb3JrZXJGYXJtKG9wdGlvbnMpO1xuICAgIGNvbnN0IHdvcmtlclBvb2wgPSB3b3JrZXJGYXJtLmdldFdvcmtlclBvb2woeyBuYW1lLCB1cmwgfSk7XG4gICAgLy8gb3B0aW9ucy5sb2cgb2JqZWN0IGNvbnRhaW5zIGZ1bmN0aW9ucyB3aGljaCBjYW5ub3QgYmUgdHJhbnNmZXJyZWRcbiAgICAvLyBjb250ZXh0LmZldGNoICYgY29udGV4dC5wYXJzZSBmdW5jdGlvbnMgY2Fubm90IGJlIHRyYW5zZmVycmVkXG4gICAgLy8gVE9ETyAtIGRlY2lkZSBob3cgdG8gaGFuZGxlIGxvZ2dpbmcgb24gd29ya2Vyc1xuICAgIG9wdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpKTtcbiAgICBjb250ZXh0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb250ZXh0IHx8IHt9KSk7XG4gICAgY29uc3Qgam9iID0gYXdhaXQgd29ya2VyUG9vbC5zdGFydEpvYigncHJvY2Vzcy1vbi13b3JrZXInLCBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgb25NZXNzYWdlLmJpbmQobnVsbCwgcGFyc2VPbk1haW5UaHJlYWQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW1pc3VzZWQtcHJvbWlzZXNcbiAgICApO1xuICAgIGpvYi5wb3N0TWVzc2FnZSgncHJvY2VzcycsIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpbnB1dDogZGF0YSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgY29udGV4dFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGpvYi5yZXN1bHQ7XG4gICAgLy8gVE9ETyAtIHdoYXQgaXMgZ29pbmcgb24gaGVyZT9cbiAgICByZXR1cm4gYXdhaXQgcmVzdWx0LnJlc3VsdDtcbn1cbi8qKlxuICogSGFuZGxlIHdvcmtlcidzIHJlc3BvbnNlcyB0byB0aGUgbWFpbiB0aHJlYWRcbiAqIEBwYXJhbSBqb2JcbiAqIEBwYXJhbSB0eXBlXG4gKiBAcGFyYW0gcGF5bG9hZFxuICovXG5hc3luYyBmdW5jdGlvbiBvbk1lc3NhZ2UocGFyc2VPbk1haW5UaHJlYWQsIGpvYiwgdHlwZSwgcGF5bG9hZCkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdkb25lJzpcbiAgICAgICAgICAgIGpvYi5kb25lKHBheWxvYWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgIGpvYi5lcnJvcihuZXcgRXJyb3IocGF5bG9hZC5lcnJvcikpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Byb2Nlc3MnOlxuICAgICAgICAgICAgLy8gV29ya2VyIGlzIGFza2luZyBmb3IgbWFpbiB0aHJlYWQgdG8gcGFyc2VPXG4gICAgICAgICAgICBjb25zdCB7IGlkLCBpbnB1dCwgb3B0aW9ucyB9ID0gcGF5bG9hZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGFyc2VPbk1haW5UaHJlYWQoaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGpvYi5wb3N0TWVzc2FnZSgnZG9uZScsIHsgaWQsIHJlc3VsdCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICd1bmtub3duIGVycm9yJztcbiAgICAgICAgICAgICAgICBqb2IucG9zdE1lc3NhZ2UoJ2Vycm9yJywgeyBpZCwgZXJyb3I6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBwYXJzZS13aXRoLXdvcmtlciB1bmtub3duIG1lc3NhZ2UgJHt0eXBlfWApO1xuICAgIH1cbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL2Vudi11dGlscy9hc3NlcnQuanNcIjtcbmltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gXCIuLi9lbnYtdXRpbHMvZ2xvYmFscy5qc1wiO1xuaW1wb3J0IHsgVkVSU0lPTiwgTlBNX1RBRyB9IGZyb20gXCIuLi9lbnYtdXRpbHMvdmVyc2lvbi5qc1wiO1xuLyoqXG4gKiBHZXRzIHdvcmtlciBvYmplY3QncyBuYW1lIChmb3IgZGVidWdnaW5nIGluIENocm9tZSB0aHJlYWQgaW5zcGVjdG9yIHdpbmRvdylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdvcmtlck5hbWUod29ya2VyKSB7XG4gICAgY29uc3Qgd2FybmluZyA9IHdvcmtlci52ZXJzaW9uICE9PSBWRVJTSU9OID8gYCAod29ya2VyLXV0aWxzQCR7VkVSU0lPTn0pYCA6ICcnO1xuICAgIHJldHVybiBgJHt3b3JrZXIubmFtZX1AJHt3b3JrZXIudmVyc2lvbn0ke3dhcm5pbmd9YDtcbn1cbi8qKlxuICogR2VuZXJhdGUgYSB3b3JrZXIgVVJMIGJhc2VkIG9uIHdvcmtlciBvYmplY3QgYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIEEgVVJMIHRvIG9uZSBvZiB0aGUgZm9sbG93aW5nOlxuICogLSBhIHB1Ymxpc2hlZCB3b3JrZXIgb24gdW5wa2cgQ0ROXG4gKiAtIGEgbG9jYWwgdGVzdCB3b3JrZXJcbiAqIC0gYSBVUkwgcHJvdmlkZWQgYnkgdGhlIHVzZXIgaW4gb3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V29ya2VyVVJMKHdvcmtlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgd29ya2VyT3B0aW9ucyA9IG9wdGlvbnNbd29ya2VyLmlkXSB8fCB7fTtcbiAgICBjb25zdCB3b3JrZXJGaWxlID0gaXNCcm93c2VyID8gYCR7d29ya2VyLmlkfS13b3JrZXIuanNgIDogYCR7d29ya2VyLmlkfS13b3JrZXItbm9kZS5qc2A7XG4gICAgbGV0IHVybCA9IHdvcmtlck9wdGlvbnMud29ya2VyVXJsO1xuICAgIC8vIEhBQ0s6IEFsbG93IGZvciBub24tbmVzdGVkIHdvcmtlclVybCBmb3IgdGhlIENvbXByZXNzaW9uV29ya2VyLlxuICAgIC8vIEZvciB0aGUgY29tcHJlc3Npb24gd29ya2VyLCB3b3JrZXJPcHRpb25zIGlzIGN1cnJlbnRseSBub3QgbmVzdGVkIGNvcnJlY3RseS4gRm9yIG1vc3QgbG9hZGVycyxcbiAgICAvLyB5b3UnZCBoYXZlIG9wdGlvbnMgd2l0aGluIGFuIG9iamVjdCwgaS5lLiBge212dDoge2Nvb3JkaW5hdGVzOiAuLi59fWAgYnV0IHRoZSBDb21wcmVzc2lvbldvcmtlclxuICAgIC8vIHB1dHMgb3B0aW9ucyBhdCB0aGUgdG9wIGxldmVsLCBub3Qgd2l0aGluIGEgYGNvbXByZXNzaW9uYCBrZXkgKGl0cyBgaWRgKS4gRm9yIHRoaXMgcmVhc29uLCB0aGVcbiAgICAvLyBhYm92ZSBgd29ya2VyT3B0aW9uc2Agd2lsbCBhbHdheXMgYmUgYSBzdHJpbmcgKGkuZS4gYCdnemlwJ2ApIGZvciB0aGUgQ29tcHJlc3Npb25Xb3JrZXIuIFRvIG5vdFxuICAgIC8vIGJyZWFrIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCB3ZSBhbGxvdyB0aGUgQ29tcHJlc3Npb25Xb3JrZXIgdG8gaGF2ZSBvcHRpb25zIGF0IHRoZSB0b3AgbGV2ZWwuXG4gICAgaWYgKCF1cmwgJiYgd29ya2VyLmlkID09PSAnY29tcHJlc3Npb24nKSB7XG4gICAgICAgIHVybCA9IG9wdGlvbnMud29ya2VyVXJsO1xuICAgIH1cbiAgICAvLyBJZiBVUkwgaXMgdGVzdCwgZ2VuZXJhdGUgbG9jYWwgbG9hZGVycy5nbCB1cmxcbiAgICAvLyBAdHMtaWdub3JlIF93b3JrZXJUeXBlXG4gICAgaWYgKG9wdGlvbnMuX3dvcmtlclR5cGUgPT09ICd0ZXN0Jykge1xuICAgICAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgICAgICB1cmwgPSBgbW9kdWxlcy8ke3dvcmtlci5tb2R1bGV9L2Rpc3QvJHt3b3JrZXJGaWxlfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJbiB0aGUgdGVzdCBlbnZpcm9ubWVudCB0aGUgdHMtbm9kZSBsb2FkZXIgcmVxdWlyZXMgVHlwZVNjcmlwdCBjb2RlXG4gICAgICAgICAgICB1cmwgPSBgbW9kdWxlcy8ke3dvcmtlci5tb2R1bGV9L3NyYy93b3JrZXJzLyR7d29ya2VyLmlkfS13b3JrZXItbm9kZS50c2A7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgdXJsIG92ZXJyaWRlIGlzIG5vdCBwcm92aWRlZCwgZ2VuZXJhdGUgYSBVUkwgdG8gcHVibGlzaGVkIHZlcnNpb24gb24gbnBtIENETiB1bnBrZy5jb21cbiAgICBpZiAoIXVybCkge1xuICAgICAgICAvLyBHRU5FUkFURVxuICAgICAgICBsZXQgdmVyc2lvbiA9IHdvcmtlci52ZXJzaW9uO1xuICAgICAgICAvLyBPbiBtYXN0ZXIgd2UgbmVlZCB0byBsb2FkIG5wbSBhbHBoYSByZWxlYXNlcyBwdWJsaXNoZWQgd2l0aCB0aGUgYGJldGFgIHRhZ1xuICAgICAgICBpZiAodmVyc2lvbiA9PT0gJ2xhdGVzdCcpIHtcbiAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcignbGF0ZXN0IHdvcmtlciB2ZXJzaW9uIHNwZWNpZmllZCcpO1xuICAgICAgICAgICAgdmVyc2lvbiA9IE5QTV9UQUc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmVyc2lvblRhZyA9IHZlcnNpb24gPyBgQCR7dmVyc2lvbn1gIDogJyc7XG4gICAgICAgIHVybCA9IGBodHRwczovL3VucGtnLmNvbS9AbG9hZGVycy5nbC8ke3dvcmtlci5tb2R1bGV9JHt2ZXJzaW9uVGFnfS9kaXN0LyR7d29ya2VyRmlsZX1gO1xuICAgIH1cbiAgICBhc3NlcnQodXJsKTtcbiAgICAvLyBBbGxvdyB1c2VyIHRvIG92ZXJyaWRlIGxvY2F0aW9uXG4gICAgcmV0dXJuIHVybDtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuY29uc3QgREVGQVVMVF9DSFVOS19TSVpFID0gMjU2ICogMTAyNDtcbi8qKlxuICogUmV0dXJucyBhbiBpdGVyYXRvciB0aGF0IGJyZWFrcyBhIGJpZyBBcnJheUJ1ZmZlciBpbnRvIGNodW5rcyBhbmQgeWllbGRzIHRoZW0gb25lLWJ5LW9uZVxuICogQHBhcmFtIGJsb2IgQXJyYXlCdWZmZXIgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnMuY2h1bmtTaXplXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiogbWFrZUFycmF5QnVmZmVySXRlcmF0b3IoYXJyYXlCdWZmZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgY2h1bmtTaXplID0gREVGQVVMVF9DSFVOS19TSVpFIH0gPSBvcHRpb25zO1xuICAgIGxldCBieXRlT2Zmc2V0ID0gMDtcbiAgICB3aGlsZSAoYnl0ZU9mZnNldCA8IGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgY2h1bmsgb2YgdGhlIHJpZ2h0IHNpemVcbiAgICAgICAgY29uc3QgY2h1bmtCeXRlTGVuZ3RoID0gTWF0aC5taW4oYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCAtIGJ5dGVPZmZzZXQsIGNodW5rU2l6ZSk7XG4gICAgICAgIGNvbnN0IGNodW5rID0gbmV3IEFycmF5QnVmZmVyKGNodW5rQnl0ZUxlbmd0aCk7XG4gICAgICAgIC8vIENvcHkgZGF0YSBmcm9tIHRoZSBiaWcgY2h1bmtcbiAgICAgICAgY29uc3Qgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgY2h1bmtCeXRlTGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2h1bmtBcnJheSA9IG5ldyBVaW50OEFycmF5KGNodW5rKTtcbiAgICAgICAgY2h1bmtBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuICAgICAgICAvLyB5aWVsZCB0aGUgY2h1bmtcbiAgICAgICAgYnl0ZU9mZnNldCArPSBjaHVua0J5dGVMZW5ndGg7XG4gICAgICAgIHlpZWxkIGNodW5rO1xuICAgIH1cbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0ICogYXMgbm9kZSBmcm9tIFwiLi4vbm9kZS9idWZmZXIuanNcIjtcbi8qKlxuICogQ2hlY2sgZm9yIE5vZGUuanMgYEJ1ZmZlcmAgKHdpdGhvdXQgdHJpZ2dlcmluZyBidW5kbGVyIHRvIGluY2x1ZGUgQnVmZmVyIHBvbHlmaWxsIG9uIGJyb3dzZXIpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0J1ZmZlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmlzQnVmZmVyO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0byBOb2RlLmpzIGBCdWZmZXJgICh3aXRob3V0IHRyaWdnZXJpbmcgYnVuZGxlciB0byBpbmNsdWRlIEJ1ZmZlciBwb2x5ZmlsbCBvbiBicm93c2VyKVxuICogQHRvZG8gYmV0dGVyIGRhdGEgdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9CdWZmZXIoZGF0YSkge1xuICAgIHJldHVybiBub2RlLnRvQnVmZmVyID8gbm9kZS50b0J1ZmZlcihkYXRhKSA6IGRhdGE7XG59XG4vKipcbiAqIENvbnZlcnQgYW4gb2JqZWN0IHRvIGFuIGFycmF5IGJ1ZmZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheUJ1ZmZlcihkYXRhKSB7XG4gICAgLy8gTm90ZTogU2hvdWxkIGJlIGNhbGxlZCBmaXJzdCwgQnVmZmVycyBjYW4gdHJpZ2dlciBvdGhlciBkZXRlY3Rpb25zIGJlbG93XG4gICAgaWYgKGlzQnVmZmVyKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBub2RlLnRvQXJyYXlCdWZmZXIoZGF0YSk7XG4gICAgfVxuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIC8vIENhcmVmdWwgLSBOb2RlIEJ1ZmZlcnMgbG9vayBsaWtlIFVpbnQ4QXJyYXlzIChrZWVwIGFmdGVyIGlzQnVmZmVyKVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcbiAgICAgICAgaWYgKGRhdGEuYnl0ZU9mZnNldCA9PT0gMCAmJiBkYXRhLmJ5dGVMZW5ndGggPT09IGRhdGEuYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YS5idWZmZXIuc2xpY2UoZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVPZmZzZXQgKyBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBkYXRhO1xuICAgICAgICBjb25zdCB1aW50OEFycmF5ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHRleHQpO1xuICAgICAgICByZXR1cm4gdWludDhBcnJheS5idWZmZXI7XG4gICAgfVxuICAgIC8vIEhBQ0sgdG8gc3VwcG9ydCBCbG9iIHBvbHlmaWxsXG4gICAgaWYgKGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmIGRhdGEuX3RvQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuX3RvQXJyYXlCdWZmZXIoKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0b0FycmF5QnVmZmVyJyk7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGlzQnJvd3NlciwgdG9BcnJheUJ1ZmZlciB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG4vKipcbiAqIFJldHVybnMgYW4gYXN5bmMgaXRlcmFibGUgdGhhdCByZWFkcyBmcm9tIGEgc3RyZWFtICh3b3JrcyBpbiBib3RoIE5vZGUuanMgYW5kIGJyb3dzZXJzKVxuICogQHBhcmFtIHN0cmVhbSBzdHJlYW0gdG8gaXRlcmF0b3Igb3ZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVN0cmVhbUl0ZXJhdG9yKHN0cmVhbSwgb3B0aW9ucykge1xuICAgIHJldHVybiBpc0Jyb3dzZXJcbiAgICAgICAgPyBtYWtlQnJvd3NlclN0cmVhbUl0ZXJhdG9yKHN0cmVhbSwgb3B0aW9ucylcbiAgICAgICAgOiBtYWtlTm9kZVN0cmVhbUl0ZXJhdG9yKHN0cmVhbSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIFJldHVybnMgYW4gYXN5bmMgaXRlcmFibGUgdGhhdCByZWFkcyBmcm9tIGEgRE9NIChicm93c2VyKSBzdHJlYW1cbiAqIEBwYXJhbSBzdHJlYW0gc3RyZWFtIHRvIGl0ZXJhdGUgZnJvbVxuICogQHNlZSBodHRwczovL2pha2VhcmNoaWJhbGQuY29tLzIwMTcvYXN5bmMtaXRlcmF0b3JzLWFuZC1nZW5lcmF0b3JzLyNtYWtpbmctc3RyZWFtcy1pdGVyYXRlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uKiBtYWtlQnJvd3NlclN0cmVhbUl0ZXJhdG9yKHN0cmVhbSwgb3B0aW9ucykge1xuICAgIC8vIFdoYXRXRzogc3RyZWFtIGlzIHN1cHBvc2VkIHRvIGhhdmUgYSBgZ2V0SXRlcmF0b3JgIG1ldGhvZFxuICAgIC8vIGlmICh0eXBlb2Ygc3RyZWFtLmdldEl0ZXJhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gICByZXR1cm4gc3RyZWFtLmdldEl0ZXJhdG9yKCk7XG4gICAgLy8gfVxuICAgIC8vIGlmICh0eXBlb2Ygc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vICAgcmV0dXJuIG1ha2VUb0FycmF5QnVmZmVySXRlcmF0b3Ioc3RyZWFtKTtcbiAgICAvLyB9XG4gICAgLy8gSW4gdGhlIGJyb3dzZXIsIHdlIGZpcnN0IG5lZWQgdG8gZ2V0IGEgbG9jayBvbiB0aGUgc3RyZWFtXG4gICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgIGxldCBuZXh0QmF0Y2hQcm9taXNlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRCYXRjaFByb21pc2UgPSBuZXh0QmF0Y2hQcm9taXNlIHx8IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICAvLyBJc3N1ZSBhIHJlYWQgZm9yIGFuIGFkZGl0aW9uYWwgYmF0Y2gsIHdoaWxlIHdlIGF3YWl0IHRoZSBuZXh0IGJhdGNoXG4gICAgICAgICAgICAvLyBJZGVhIGlzIHRvIG1ha2UgZmV0Y2hpbmcgaGFwcGVuIGluIHBhcmFsbGVsIHdpdGggcHJvY2Vzc2luZyAvIHBhcnNpbmdcbiAgICAgICAgICAgIGlmIChvcHRpb25zPy5fc3RyZWFtUmVhZEFoZWFkKSB7XG4gICAgICAgICAgICAgICAgbmV4dEJhdGNoUHJvbWlzZSA9IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWFkIGZyb20gdGhlIHN0cmVhbVxuICAgICAgICAgICAgLy8gdmFsdWUgaXMgYSBVaW50OEFycmF5XG4gICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCBjdXJyZW50QmF0Y2hQcm9taXNlO1xuICAgICAgICAgICAgLy8gRXhpdCBpZiB3ZSdyZSBkb25lXG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEVsc2UgeWllbGQgdGhlIGNodW5rXG4gICAgICAgICAgICB5aWVsZCB0b0FycmF5QnVmZmVyKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gVE9ETyAtIGV4YW1wbGVzIG1ha2VzIGl0IGxvb2sgbGlrZSB0aGlzIHNob3VsZCBhbHdheXMgYmUgY2FsbGVkLFxuICAgICAgICAvLyBidXQgdGhhdCBnZW5lcmF0ZXMgZXhjZXB0aW9ucyBzbyBvbmx5IGNhbGwgaXQgaWYgd2UgZG8gbm90IHJlYWNoIHRoZSBlbmRcbiAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGFzeW5jIGl0ZXJhYmxlIHRoYXQgcmVhZHMgZnJvbSBhIERPTSAoYnJvd3Nlcikgc3RyZWFtXG4gKiBAcGFyYW0gc3RyZWFtIHN0cmVhbSB0byBpdGVyYXRlIGZyb21cbiAqIEBub3RlIFJlcXVpcmVzIE5vZGUuanMgPj0gMTBcbiAqL1xuYXN5bmMgZnVuY3Rpb24qIG1ha2VOb2RlU3RyZWFtSXRlcmF0b3Ioc3RyZWFtLCBvcHRpb25zKSB7XG4gICAgLy8gSGFja3kgdGVzdCBmb3Igbm9kZSB2ZXJzaW9uIHRvIGVuc3VyZSB3ZSBkb24ndCBjYWxsIGJhZCBwb2x5ZmlsbHNcbiAgICAvLyBOT0RFIDEwKzogc3RyZWFtIGlzIGFuIGFzeW5jSXRlcmF0b3JcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICB5aWVsZCB0b0FycmF5QnVmZmVyKGNodW5rKTsgLy8gQ29lcmNlIGVhY2ggY2h1bmsgdG8gQXJyYXlCdWZmZXJcbiAgICB9XG59XG4vKiBUT0RPIC0gcmVtb3ZlIE5PREUgPCAxMFxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYnVzdGxlL3N0cmVhbWluZy1pdGVyYWJsZXMsIE1JVCBsaWNlbnNlXG4gKlxuICBpZiAodHlwZW9mIHN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUT0RPIC0gY2hlY2sgaWYgaXMgdGhpcyBldmVyIHVzZWQgaW4gTm9kZSAxMCs/XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCBkYXRhID0gc3RyZWFtLnJlYWQoKTtcbiAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgeWllbGQgdG9BcnJheUJ1ZmZlcihkYXRhKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChzdHJlYW0uX3JlYWRhYmxlU3RhdGU/LmVuZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IG9uY2VSZWFkYWJsZShzdHJlYW0pO1xuICB9XG5cbmFzeW5jIGZ1bmN0aW9uIG9uY2VSZWFkYWJsZShzdHJlYW06IFJlYWRhYmxlKTogUHJvbWlzZTxhbnk+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc3RyZWFtLm9uY2UoJ3JlYWRhYmxlJywgcmVzb2x2ZSk7XG4gIH0pO1xufVxuICAqL1xuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBjb25jYXRlbmF0ZUFycmF5QnVmZmVyc0FzeW5jIH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IGlzUmVzcG9uc2UsIGlzUmVhZGFibGVTdHJlYW0sIGlzQXN5bmNJdGVyYWJsZSwgaXNJdGVyYWJsZSwgaXNJdGVyYXRvciwgaXNCbG9iLCBpc0J1ZmZlciB9IGZyb20gXCIuLi8uLi9qYXZhc2NyaXB0LXV0aWxzL2lzLXR5cGUuanNcIjtcbmltcG9ydCB7IG1ha2VJdGVyYXRvciB9IGZyb20gXCIuLi8uLi9pdGVyYXRvcnMvbWFrZS1pdGVyYXRvci9tYWtlLWl0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgeyBjaGVja1Jlc3BvbnNlLCBtYWtlUmVzcG9uc2UgfSBmcm9tIFwiLi4vdXRpbHMvcmVzcG9uc2UtdXRpbHMuanNcIjtcbmNvbnN0IEVSUl9EQVRBID0gJ0Nhbm5vdCBjb252ZXJ0IHN1cHBsaWVkIGRhdGEgdHlwZSc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFycmF5QnVmZmVyT3JTdHJpbmdGcm9tRGF0YVN5bmMoZGF0YSwgbG9hZGVyLCBvcHRpb25zKSB7XG4gICAgaWYgKGxvYWRlci50ZXh0ICYmIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKGlzQnVmZmVyKGRhdGEpKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZGF0YSA9IGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gZGF0YTtcbiAgICAgICAgaWYgKGxvYWRlci50ZXh0ICYmICFsb2FkZXIuYmluYXJ5KSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRleHREZWNvZGVyLmRlY29kZShhcnJheUJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5QnVmZmVyO1xuICAgIH1cbiAgICAvLyBXZSBtYXkgbmVlZCB0byBoYW5kbGUgb2Zmc2V0c1xuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcbiAgICAgICAgLy8gVGV4dERlY29kZXIgaXMgaW52b2tlZCBvbiB0eXBlZCBhcnJheXMgYW5kIHdpbGwgaGFuZGxlIG9mZnNldHNcbiAgICAgICAgaWYgKGxvYWRlci50ZXh0ICYmICFsb2FkZXIuYmluYXJ5KSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRleHREZWNvZGVyLmRlY29kZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXJyYXlCdWZmZXIgPSBkYXRhLmJ1ZmZlcjtcbiAgICAgICAgLy8gU2luY2Ugd2UgYXJlIHJldHVybmluZyB0aGUgdW5kZXJseWluZyBhcnJheUJ1ZmZlciwgd2UgbXVzdCBjcmVhdGUgYSBuZXcgY29weVxuICAgICAgICAvLyBpZiB0aGlzIHR5cGVkIGFycmF5IC8gQnVmZmVyIGlzIGEgcGFydGlhbCB2aWV3IGludG8gdGhlIEFycnlheUJ1ZmZlclxuICAgICAgICAvLyBUT0RPIC0gdGhpcyBpcyBhIHBvdGVudGlhbGx5IHVubmVjZXNzYXJ5IGNvcHlcbiAgICAgICAgY29uc3QgYnl0ZUxlbmd0aCA9IGRhdGEuYnl0ZUxlbmd0aCB8fCBkYXRhLmxlbmd0aDtcbiAgICAgICAgaWYgKGRhdGEuYnl0ZU9mZnNldCAhPT0gMCB8fCBieXRlTGVuZ3RoICE9PSBhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oYGxvYWRlcnMuZ2wgY29weWluZyBhcnJheWJ1ZmZlciBvZiBsZW5ndGggJHtieXRlTGVuZ3RofWApO1xuICAgICAgICAgICAgYXJyYXlCdWZmZXIgPSBhcnJheUJ1ZmZlci5zbGljZShkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZU9mZnNldCArIGJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheUJ1ZmZlcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKEVSUl9EQVRBKTtcbn1cbi8vIENvbnZlcnQgYXN5bmMgaXRlcmF0b3IgdG8gYSBwcm9taXNlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXJyYXlCdWZmZXJPclN0cmluZ0Zyb21EYXRhKGRhdGEsIGxvYWRlciwgb3B0aW9ucykge1xuICAgIGNvbnN0IGlzQXJyYXlCdWZmZXIgPSBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgfHwgaXNBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gZ2V0QXJyYXlCdWZmZXJPclN0cmluZ0Zyb21EYXRhU3luYyhkYXRhLCBsb2FkZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBCbG9icyBhbmQgZmlsZXMgYXJlIEZpbGVSZWFkZXIgY29tcGF0aWJsZVxuICAgIGlmIChpc0Jsb2IoZGF0YSkpIHtcbiAgICAgICAgZGF0YSA9IGF3YWl0IG1ha2VSZXNwb25zZShkYXRhKTtcbiAgICB9XG4gICAgaWYgKGlzUmVzcG9uc2UoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkYXRhO1xuICAgICAgICBhd2FpdCBjaGVja1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIGxvYWRlci5iaW5hcnkgPyBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpIDogYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIH1cbiAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbShkYXRhKSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTMjU1OSBvcHRpb25zIHR5cGVcbiAgICAgICAgZGF0YSA9IG1ha2VJdGVyYXRvcihkYXRhLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzSXRlcmFibGUoZGF0YSkgfHwgaXNBc3luY0l0ZXJhYmxlKGRhdGEpKSB7XG4gICAgICAgIC8vIEFzc3VtZSBhcnJheUJ1ZmZlciBpdGVyYXRvciAtIGF0dGVtcHQgdG8gY29uY2F0ZW5hdGVcbiAgICAgICAgcmV0dXJuIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzQXN5bmMoZGF0YSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihFUlJfREFUQSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXN5bmNJdGVyYWJsZUZyb21EYXRhKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAoaXNJdGVyYXRvcihkYXRhKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKGlzUmVzcG9uc2UoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkYXRhO1xuICAgICAgICAvLyBOb3RlIFNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgbm90IGFzeW5jLCB3ZSBjdXJyZW50bHkgY2FuJ3QgbG9hZCBlcnJvciBtZXNzYWdlLCBqdXN0IHN0YXR1c1xuICAgICAgICBhd2FpdCBjaGVja1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgLy8gVE9ETyAtIGJ1ZyBpbiBwb2x5ZmlsbCwgYm9keSBjYW4gYmUgYSBQcm9taXNlIHVuZGVyIE5vZGUuanNcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9hd2FpdC10aGVuYWJsZVxuICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVzcG9uc2UuYm9keTtcbiAgICAgICAgLy8gVE9ETyAtIGJvZHkgY2FuIGJlIG51bGw/XG4gICAgICAgIHJldHVybiBtYWtlSXRlcmF0b3IoYm9keSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc0Jsb2IoZGF0YSkgfHwgaXNSZWFkYWJsZVN0cmVhbShkYXRhKSkge1xuICAgICAgICByZXR1cm4gbWFrZUl0ZXJhdG9yKGRhdGEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0SXRlcmFibGVGcm9tRGF0YShkYXRhKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZWFkYWJsZVN0cmVhbShkYXRhKSB7XG4gICAgaWYgKGlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmIChpc1Jlc3BvbnNlKGRhdGEpKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGRhdGEuYm9keTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYWtlUmVzcG9uc2UoZGF0YSk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiByZXNwb25zZS5ib2R5O1xufVxuLy8gSEVMUEVSU1xuZnVuY3Rpb24gZ2V0SXRlcmFibGVGcm9tRGF0YShkYXRhKSB7XG4gICAgLy8gZ2VuZXJhdGUgYW4gaXRlcmF0b3IgdGhhdCBlbWl0cyBhIHNpbmdsZSBjaHVua1xuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIChmdW5jdGlvbiogb25lQ2h1bmsoKSB7XG4gICAgICAgICAgICB5aWVsZCBkYXRhLmJ1ZmZlcjtcbiAgICAgICAgfSkoKTtcbiAgICB9XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gKGZ1bmN0aW9uKiBvbmVDaHVuaygpIHtcbiAgICAgICAgICAgIHlpZWxkIGRhdGE7XG4gICAgICAgIH0pKCk7XG4gICAgfVxuICAgIGlmIChpc0l0ZXJhdG9yKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAoaXNJdGVyYWJsZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gZGF0YVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihFUlJfREFUQSk7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IG1ha2VTdHJpbmdJdGVyYXRvciB9IGZyb20gXCIuL21ha2Utc3RyaW5nLWl0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgeyBtYWtlQXJyYXlCdWZmZXJJdGVyYXRvciB9IGZyb20gXCIuL21ha2UtYXJyYXktYnVmZmVyLWl0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgeyBtYWtlQmxvYkl0ZXJhdG9yIH0gZnJvbSBcIi4vbWFrZS1ibG9iLWl0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgeyBtYWtlU3RyZWFtSXRlcmF0b3IgfSBmcm9tIFwiLi9tYWtlLXN0cmVhbS1pdGVyYXRvci5qc1wiO1xuaW1wb3J0IHsgaXNCbG9iLCBpc1JlYWRhYmxlU3RyZWFtLCBpc1Jlc3BvbnNlIH0gZnJvbSBcIi4uLy4uL2phdmFzY3JpcHQtdXRpbHMvaXMtdHlwZS5qc1wiO1xuLyoqXG4gKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIHRoYXQgYnJlYWtzIGl0cyBpbnB1dCBpbnRvIGNodW5rcyBhbmQgeWllbGRzIHRoZW0gb25lLWJ5LW9uZS5cbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnNcbiAqIFRoaXMgZnVuY3Rpb24gY2FuIGUuZy4gYmUgdXNlZCB0byBlbmFibGUgZGF0YSBzb3VyY2VzIHRoYXQgY2FuIG9ubHkgYmUgcmVhZCBhdG9taWNhbGx5XG4gKiAoc3VjaCBhcyBgQmxvYmAgYW5kIGBGaWxlYCB2aWEgYEZpbGVSZWFkZXJgKSB0byBzdGlsbCBiZSBwYXJzZWQgaW4gYmF0Y2hlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJdGVyYXRvcihkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBOb3RlOiBDb252ZXJ0cyBzdHJpbmcgY2h1bmtzIHRvIGJpbmFyeVxuICAgICAgICByZXR1cm4gbWFrZVN0cmluZ0l0ZXJhdG9yKGRhdGEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBtYWtlQXJyYXlCdWZmZXJJdGVyYXRvcihkYXRhLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzQmxvYihkYXRhKSkge1xuICAgICAgICByZXR1cm4gbWFrZUJsb2JJdGVyYXRvcihkYXRhLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VTdHJlYW1JdGVyYXRvcihkYXRhLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzUmVzcG9uc2UoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkYXRhO1xuICAgICAgICByZXR1cm4gbWFrZVN0cmVhbUl0ZXJhdG9yKHJlc3BvbnNlLmJvZHksIG9wdGlvbnMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21ha2VJdGVyYXRvcicpO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSAyNTYgKiAxMDI0O1xuLyoqXG4gKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIHRoYXQgYnJlYWtzIGEgYmlnIHN0cmluZyBpbnRvIGNodW5rcyBhbmQgeWllbGRzIHRoZW0gb25lLWJ5LW9uZSBhcyBBcnJheUJ1ZmZlcnNcbiAqIEBwYXJhbSBibG9iIHN0cmluZyB0byBpdGVyYXRlIG92ZXJcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gb3B0aW9ucy5jaHVua1NpemVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uKiBtYWtlU3RyaW5nSXRlcmF0b3Ioc3RyaW5nLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY2h1bmtTaXplID0gb3B0aW9ucz8uY2h1bmtTaXplIHx8IERFRkFVTFRfQ0hVTktfU0laRTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBjb25zdCB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIHdoaWxlIChvZmZzZXQgPCBzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIGNodW5rIG9mIHRoZSByaWdodCBzaXplXG4gICAgICAgIGNvbnN0IGNodW5rTGVuZ3RoID0gTWF0aC5taW4oc3RyaW5nLmxlbmd0aCAtIG9mZnNldCwgY2h1bmtTaXplKTtcbiAgICAgICAgY29uc3QgY2h1bmsgPSBzdHJpbmcuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBjaHVua0xlbmd0aCk7XG4gICAgICAgIG9mZnNldCArPSBjaHVua0xlbmd0aDtcbiAgICAgICAgLy8geWllbGQgYW4gQXJyYXlCdWZmZXIgY2h1bmtcbiAgICAgICAgeWllbGQgdGV4dEVuY29kZXIuZW5jb2RlKGNodW5rKTtcbiAgICB9XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmNvbnN0IERFRkFVTFRfQ0hVTktfU0laRSA9IDEwMjQgKiAxMDI0OyAvLyAxTUIg4oCUIGJpZ2dlc3QgdmFsdWUgdGhhdCBrZWVwcyBVSSByZXNwb25zaXZlXG4vKipcbiAqIFJldHVybnMgYW4gaXRlcmF0b3IgdGhhdCBicmVha3MgYSBiaWcgQmxvYiBpbnRvIGNodW5rcyBhbmQgeWllbGRzIHRoZW0gb25lLWJ5LW9uZVxuICogQHBhcmFtIGJsb2IgQmxvYiBvciBGaWxlIG9iamVjdFxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBvcHRpb25zLmNodW5rU2l6ZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24qIG1ha2VCbG9iSXRlcmF0b3IoYmxvYiwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNodW5rU2l6ZSA9IG9wdGlvbnM/LmNodW5rU2l6ZSB8fCBERUZBVUxUX0NIVU5LX1NJWkU7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKG9mZnNldCA8IGJsb2Iuc2l6ZSkge1xuICAgICAgICBjb25zdCBlbmQgPSBvZmZzZXQgKyBjaHVua1NpemU7XG4gICAgICAgIGNvbnN0IGNodW5rID0gYXdhaXQgYmxvYi5zbGljZShvZmZzZXQsIGVuZCkuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICB5aWVsZCBjaHVuaztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyB9IGZyb20gXCIuLi9iaW5hcnktdXRpbHMvYXJyYXktYnVmZmVyLXV0aWxzLmpzXCI7XG4vLyBHRU5FUkFMIFVUSUxJVElFU1xuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYXN5bmMgaXRlcmF0b3IsIHdpdGhvdXQgcmVzZXR0aW5nIGl0ZXJhdG9yIGlmIGVuZCBpcyBub3QgcmVhY2hlZFxuICogLSBmb3JFYWNoIGludGVudGlvbmFsbHkgZG9lcyBub3QgcmVzZXQgaXRlcmF0b3IgaWYgZXhpdGluZyBsb29wIHByZW1hdHVyZWx5XG4gKiAgIHNvIHRoYXQgaXRlcmF0aW9uIGNhbiBjb250aW51ZSBpbiBhIHNlY29uZCBsb29wXG4gKiAtIEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBhIHN0YW5kYXJkIGZvci1hd2FpdCBhcyBsYXN0IGxvb3AgdG8gZW5zdXJlXG4gKiAgIGl0ZXJhdG9yIGdldHMgcHJvcGVybHkgcmVzZXRcbiAqXG4gKiBUT0RPIC0gb3B0aW1pemUgdXNpbmcgc3luYyBpdGVyYXRpb24gaWYgYXJndW1lbnQgaXMgYW4gSXRlcmFibGU/XG4gKlxuICogQHBhcmFtIGl0ZXJhdG9yXG4gKiBAcGFyYW0gdmlzaXRvclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9yRWFjaChpdGVyYXRvciwgdmlzaXRvcikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbmNlbCA9IHZpc2l0b3IodmFsdWUpO1xuICAgICAgICBpZiAoY2FuY2VsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBCcmVha2luZyBiaWcgZGF0YSBpbnRvIGl0ZXJhYmxlIGNodW5rcywgY29uY2F0ZW5hdGluZyBpdGVyYWJsZSBjaHVua3MgaW50byBiaWcgZGF0YSBvYmplY3RzXG4vKipcbiAqIENvbmNhdGVuYXRlcyBhbGwgZGF0YSBjaHVua3MgeWllbGRlZCBieSBhbiAoYXN5bmMpIGl0ZXJhdG9yXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiBlLmcuIGJlIHVzZWQgdG8gZW5hYmxlIGF0b21pYyBwYXJzZXJzIHRvIHdvcmsgb24gKGFzeW5jKSBpdGVyYXRvciBpbnB1dHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzQXN5bmMoYXN5bmNJdGVyYXRvcikge1xuICAgIGNvbnN0IGFycmF5QnVmZmVycyA9IFtdO1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgYXN5bmNJdGVyYXRvcikge1xuICAgICAgICBhcnJheUJ1ZmZlcnMucHVzaChjaHVuayk7XG4gICAgfVxuICAgIHJldHVybiBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyguLi5hcnJheUJ1ZmZlcnMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbmNhdGVuYXRlU3RyaW5nc0FzeW5jKGFzeW5jSXRlcmF0b3IpIHtcbiAgICBjb25zdCBzdHJpbmdzID0gW107XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBhc3luY0l0ZXJhdG9yKSB7XG4gICAgICAgIHN0cmluZ3MucHVzaChjaHVuayk7XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJycpO1xufVxuIiwiLy8gQmVnaW5uaW5nIG9mIGEgbWluaW1hbCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgTm9kZS5qcyBwYXRoIEFQSSwgdGhhdCBkb2Vzbid0IHB1bGwgaW4gYmlnIHBvbHlmaWxscy5cbmltcG9ydCB7IGdldENXRCB9IGZyb20gXCIuL2dldC1jd2QuanNcIjtcbi8qKlxuICogUmVwbGFjZW1lbnQgZm9yIE5vZGUuanMgcGF0aC5maWxlbmFtZVxuICogQHBhcmFtIHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsZW5hbWUodXJsKSB7XG4gICAgY29uc3Qgc2xhc2hJbmRleCA9IHVybCA/IHVybC5sYXN0SW5kZXhPZignLycpIDogLTE7XG4gICAgcmV0dXJuIHNsYXNoSW5kZXggPj0gMCA/IHVybC5zdWJzdHIoc2xhc2hJbmRleCArIDEpIDogJyc7XG59XG4vKipcbiAqIFJlcGxhY2VtZW50IGZvciBOb2RlLmpzIHBhdGguZGlybmFtZVxuICogQHBhcmFtIHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlybmFtZSh1cmwpIHtcbiAgICBjb25zdCBzbGFzaEluZGV4ID0gdXJsID8gdXJsLmxhc3RJbmRleE9mKCcvJykgOiAtMTtcbiAgICByZXR1cm4gc2xhc2hJbmRleCA+PSAwID8gdXJsLnN1YnN0cigwLCBzbGFzaEluZGV4KSA6ICcnO1xufVxuLyoqXG4gKiBSZXBsYWNlbWVudCBmb3IgTm9kZS5qcyBwYXRoLmpvaW5cbiAqIEBwYXJhbSBwYXJ0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gam9pbiguLi5wYXJ0cykge1xuICAgIGNvbnN0IHNlcGFyYXRvciA9ICcvJztcbiAgICBwYXJ0cyA9IHBhcnRzLm1hcCgocGFydCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4KSB7XG4gICAgICAgICAgICBwYXJ0ID0gcGFydC5yZXBsYWNlKG5ldyBSZWdFeHAoYF4ke3NlcGFyYXRvcn1gKSwgJycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCAhPT0gcGFydHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgcGFydCA9IHBhcnQucmVwbGFjZShuZXcgUmVnRXhwKGAke3NlcGFyYXRvcn0kYCksICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydDtcbiAgICB9KTtcbiAgICByZXR1cm4gcGFydHMuam9pbihzZXBhcmF0b3IpO1xufVxuLyogZXNsaW50LWRpc2FibGUgbm8tY29udGludWUgKi9cbi8qKlxuICogaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wYXRoLmh0bWwjcGF0aF9wYXRoX3Jlc29sdmVfcGF0aHNcbiAqIEBwYXJhbSBwYXRocyBBIHNlcXVlbmNlIG9mIHBhdGhzIG9yIHBhdGggc2VnbWVudHMuXG4gKiBAcmV0dXJuIHJlc29sdmVkIHBhdGhcbiAqIEZvcmtlZCBmcm9tIEJUT2RlbGwvcGF0aC1yZXNvbHZlIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9CVE9kZWxsL3BhdGgtcmVzb2x2ZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlKC4uLmNvbXBvbmVudHMpIHtcbiAgICBjb25zdCBwYXRocyA9IFtdO1xuICAgIGZvciAobGV0IF9pID0gMDsgX2kgPCBjb21wb25lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBwYXRoc1tfaV0gPSBjb21wb25lbnRzW19pXTtcbiAgICB9XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9ICcnO1xuICAgIGxldCByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG4gICAgbGV0IGN3ZDtcbiAgICBmb3IgKGxldCBpID0gcGF0aHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgICAgIGxldCBwYXRoO1xuICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3dkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjd2QgPSBnZXRDV0QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdGggPSBjd2Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZWRQYXRoID0gYCR7cGF0aH0vJHtyZXNvbHZlZFBhdGh9YDtcbiAgICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gU0xBU0g7XG4gICAgfVxuICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGggKHJlbW92ZXMgbGVhZGluZyBzbGFzaClcbiAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVTdHJpbmdQb3NpeChyZXNvbHZlZFBhdGgsICFyZXNvbHZlZEFic29sdXRlKTtcbiAgICBpZiAocmVzb2x2ZWRBYnNvbHV0ZSkge1xuICAgICAgICByZXR1cm4gYC8ke3Jlc29sdmVkUGF0aH1gO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWRQYXRoO1xuICAgIH1cbiAgICByZXR1cm4gJy4nO1xufVxuY29uc3QgU0xBU0ggPSA0NztcbmNvbnN0IERPVCA9IDQ2O1xuLyoqXG4gKiBSZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggd2l0aCBkaXJlY3RvcnkgbmFtZXNcbiAqIEZvcmtlZCBmcm9tIEJUT2RlbGwvcGF0aC1yZXNvbHZlIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9CVE9kZWxsL3BhdGgtcmVzb2x2ZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG1heC1kZXB0aCAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHksIG1heC1zdGF0ZW1lbnRzXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoLCBhbGxvd0Fib3ZlUm9vdCkge1xuICAgIGxldCByZXMgPSAnJztcbiAgICBsZXQgbGFzdFNsYXNoID0gLTE7XG4gICAgbGV0IGRvdHMgPSAwO1xuICAgIGxldCBjb2RlO1xuICAgIGxldCBpc0Fib3ZlUm9vdCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHBhdGgubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPCBwYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2RlID09PSBTTEFTSCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2RlID0gU0xBU0g7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGUgPT09IFNMQVNIKSB7XG4gICAgICAgICAgICBpZiAobGFzdFNsYXNoID09PSBpIC0gMSB8fCBkb3RzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gTk9PUFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFzdFNsYXNoICE9PSBpIC0gMSAmJiBkb3RzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPCAyIHx8XG4gICAgICAgICAgICAgICAgICAgICFpc0Fib3ZlUm9vdCB8fFxuICAgICAgICAgICAgICAgICAgICByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMSkgIT09IERPVCB8fFxuICAgICAgICAgICAgICAgICAgICByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMikgIT09IERPVCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcmVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaiA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jaGFyQ29kZUF0KGopID09PSBTTEFTSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiAhPT0gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBqID09PSAtMSA/ICcnIDogcmVzLnNsaWNlKDAsIGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm92ZVJvb3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm92ZVJvb3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyArPSAnLy4uJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcuLic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNBYm92ZVJvb3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsaWNlID0gcGF0aC5zbGljZShsYXN0U2xhc2ggKyAxLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9IGAvJHtzbGljZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gc2xpY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzQWJvdmVSb290ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gRE9UICYmIGRvdHMgIT09IC0xKSB7XG4gICAgICAgICAgICArK2RvdHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb3RzID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgTG9nIH0gZnJvbSAnQHByb2JlLmdsL2xvZyc7XG4vLyBWZXJzaW9uIGNvbnN0YW50IGNhbm5vdCBiZSBpbXBvcnRlZCwgaXQgbmVlZHMgdG8gY29ycmVzcG9uZCB0byB0aGUgYnVpbGQgdmVyc2lvbiBvZiAqKnRoaXMqKiBtb2R1bGUuXG4vLyBfX1ZFUlNJT05fXyBpcyBpbmplY3RlZCBieSBiYWJlbC1wbHVnaW4tdmVyc2lvbi1pbmxpbmVcbi8vIEB0cy1pZ25vcmUgVFMyMzA0OiBDYW5ub3QgZmluZCBuYW1lICdfX1ZFUlNJT05fXycuXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9IHR5cGVvZiBcIjQuMy4zXCIgIT09ICd1bmRlZmluZWQnID8gXCI0LjMuM1wiIDogJ2xhdGVzdCc7XG5jb25zdCB2ZXJzaW9uID0gVkVSU0lPTlswXSA+PSAnMCcgJiYgVkVSU0lPTlswXSA8PSAnOScgPyBgdiR7VkVSU0lPTn1gIDogJyc7XG4vLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBnbG9iYWwgdmFyaWFibGVcbmZ1bmN0aW9uIGNyZWF0ZUxvZygpIHtcbiAgICBjb25zdCBsb2cgPSBuZXcgTG9nKHsgaWQ6ICdsb2FkZXJzLmdsJyB9KTtcbiAgICBnbG9iYWxUaGlzLmxvYWRlcnMgPSBnbG9iYWxUaGlzLmxvYWRlcnMgfHwge307XG4gICAgZ2xvYmFsVGhpcy5sb2FkZXJzLmxvZyA9IGxvZztcbiAgICBnbG9iYWxUaGlzLmxvYWRlcnMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgZ2xvYmFsVGhpcy5wcm9iZSA9IGdsb2JhbFRoaXMucHJvYmUgfHwge307XG4gICAgZ2xvYmFsVGhpcy5wcm9iZS5sb2FkZXJzID0gbG9nO1xuICAgIHJldHVybiBsb2c7XG59XG5leHBvcnQgY29uc3QgbG9nID0gY3JlYXRlTG9nKCk7XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGNvbXBhcmVBcnJheUJ1ZmZlcnMsIHBhdGgsIGxvZyB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBub3JtYWxpemVMb2FkZXIgfSBmcm9tIFwiLi4vbG9hZGVyLXV0aWxzL25vcm1hbGl6ZS1sb2FkZXIuanNcIjtcbmltcG9ydCB7IGdldFJlc291cmNlVXJsLCBnZXRSZXNvdXJjZU1JTUVUeXBlIH0gZnJvbSBcIi4uL3V0aWxzL3Jlc291cmNlLXV0aWxzLmpzXCI7XG5pbXBvcnQgeyBjb21wYXJlTUlNRVR5cGVzIH0gZnJvbSBcIi4uL3V0aWxzL21pbWUtdHlwZS11dGlscy5qc1wiO1xuaW1wb3J0IHsgZ2V0UmVnaXN0ZXJlZExvYWRlcnMgfSBmcm9tIFwiLi9yZWdpc3Rlci1sb2FkZXJzLmpzXCI7XG5pbXBvcnQgeyBpc0Jsb2IgfSBmcm9tIFwiLi4vLi4vamF2YXNjcmlwdC11dGlscy9pcy10eXBlLmpzXCI7XG5pbXBvcnQgeyBzdHJpcFF1ZXJ5U3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3VybC11dGlscy5qc1wiO1xuY29uc3QgRVhUX1BBVFRFUk4gPSAvXFwuKFteLl0rKSQvO1xuLy8gVE9ETyAtIE5lZWQgYSB2YXJpYW50IHRoYXQgcGVla3MgYXQgc3RyZWFtcyBmb3IgcGFyc2VJbkJhdGNoZXNcbi8vIFRPRE8gLSBEZXRlY3QgbXVsdGlwbGUgbWF0Y2hpbmcgbG9hZGVycz8gVXNlIGhldXJpc3RpY3MgdG8gZ3JhZGUgbWF0Y2hlcz9cbi8vIFRPRE8gLSBBbGxvdyBhcHBzIHRvIHBhc3MgY29udGV4dCB0byBkaXNhbWJpZ3VhdGUgYmV0d2VlbiBtdWx0aXBsZSBtYXRjaGVzIChlLmcuIG11bHRpcGxlIC5qc29uIGZvcm1hdHMpP1xuLyoqXG4gKiBGaW5kIGEgbG9hZGVyIHRoYXQgbWF0Y2hlcyBmaWxlIGV4dGVuc2lvbiBhbmQvb3IgaW5pdGlhbCBmaWxlIGNvbnRlbnRcbiAqIFNlYXJjaCB0aGUgbG9hZGVycyBhcnJheSBhcmd1bWVudCBmb3IgYSBsb2FkZXIgdGhhdCBtYXRjaGVzIHVybCBleHRlbnNpb24gb3IgaW5pdGlhbCBkYXRhXG4gKiBSZXR1cm5zOiBhIG5vcm1hbGl6ZWQgbG9hZGVyXG4gKiBAcGFyYW0gZGF0YSBkYXRhIHRvIGFzc2lzdFxuICogQHBhcmFtIGxvYWRlcnNcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY29udGV4dCB1c2VkIGludGVybmFsbHksIGFwcGxpY2F0aW9ucyBzaG91bGQgbm90IHByb3ZpZGUgdGhpcyBwYXJhbWV0ZXJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdExvYWRlcihkYXRhLCBsb2FkZXJzID0gW10sIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICBpZiAoIXZhbGlkSFRUUFJlc3BvbnNlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBGaXJzdCBtYWtlIGEgc3luYyBhdHRlbXB0LCBkaXNhYmxpbmcgZXhjZXB0aW9uc1xuICAgIGxldCBsb2FkZXIgPSBzZWxlY3RMb2FkZXJTeW5jKGRhdGEsIGxvYWRlcnMsIHsgLi4ub3B0aW9ucywgbm90aHJvdzogdHJ1ZSB9LCBjb250ZXh0KTtcbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgfVxuICAgIC8vIEZvciBCbG9icyBhbmQgRmlsZXMsIHRyeSB0byBhc3luY2hyb25vdXNseSByZWFkIGEgc21hbGwgaW5pdGlhbCBzbGljZSBhbmQgdGVzdCBhZ2FpbiB3aXRoIHRoYXRcbiAgICAvLyB0byBzZWUgaWYgd2UgY2FuIGRldGVjdCBieSBpbml0aWFsIGNvbnRlbnRcbiAgICBpZiAoaXNCbG9iKGRhdGEpKSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBkYXRhLnNsaWNlKDAsIDEwKS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICBsb2FkZXIgPSBzZWxlY3RMb2FkZXJTeW5jKGRhdGEsIGxvYWRlcnMsIG9wdGlvbnMsIGNvbnRleHQpO1xuICAgIH1cbiAgICAvLyBubyBsb2FkZXIgYXZhaWxhYmxlXG4gICAgaWYgKCFsb2FkZXIgJiYgIW9wdGlvbnM/Lm5vdGhyb3cpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldE5vVmFsaWRMb2FkZXJNZXNzYWdlKGRhdGEpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvYWRlcjtcbn1cbi8qKlxuICogRmluZCBhIGxvYWRlciB0aGF0IG1hdGNoZXMgZmlsZSBleHRlbnNpb24gYW5kL29yIGluaXRpYWwgZmlsZSBjb250ZW50XG4gKiBTZWFyY2ggdGhlIGxvYWRlcnMgYXJyYXkgYXJndW1lbnQgZm9yIGEgbG9hZGVyIHRoYXQgbWF0Y2hlcyB1cmwgZXh0ZW5zaW9uIG9yIGluaXRpYWwgZGF0YVxuICogUmV0dXJuczogYSBub3JtYWxpemVkIGxvYWRlclxuICogQHBhcmFtIGRhdGEgZGF0YSB0byBhc3Npc3RcbiAqIEBwYXJhbSBsb2FkZXJzXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGNvbnRleHQgdXNlZCBpbnRlcm5hbGx5LCBhcHBsaWNhdGlvbnMgc2hvdWxkIG5vdCBwcm92aWRlIHRoaXMgcGFyYW1ldGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RMb2FkZXJTeW5jKGRhdGEsIGxvYWRlcnMgPSBbXSwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGlmICghdmFsaWRIVFRQUmVzcG9uc2UoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG4gICAgLy8gaWYgb25seSBhIHNpbmdsZSBsb2FkZXIgd2FzIHByb3ZpZGVkIChub3QgYXMgYXJyYXkpLCBmb3JjZSBpdHMgdXNlXG4gICAgLy8gVE9ETyAtIFNob3VsZCB0aGlzIGJlaGF2aW9yIGJlIGtlcHQgYW5kIGRvY3VtZW50ZWQ/XG4gICAgaWYgKGxvYWRlcnMgJiYgIUFycmF5LmlzQXJyYXkobG9hZGVycykpIHtcbiAgICAgICAgLy8gVE9ETyAtIHJlbW92ZSBzdXBwb3J0IGZvciBsZWdhY3kgbG9hZGVyc1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplTG9hZGVyKGxvYWRlcnMpO1xuICAgIH1cbiAgICAvLyBCdWlsZCBsaXN0IG9mIGNhbmRpZGF0ZSBsb2FkZXJzIHRoYXQgd2lsbCBiZSBzZWFyY2hlZCBpbiBvcmRlciBmb3IgYSBtYXRjaFxuICAgIGxldCBjYW5kaWRhdGVMb2FkZXJzID0gW107XG4gICAgLy8gRmlyc3Qgc2VhcmNoIHN1cHBsaWVkIGxvYWRlcnNcbiAgICBpZiAobG9hZGVycykge1xuICAgICAgICBjYW5kaWRhdGVMb2FkZXJzID0gY2FuZGlkYXRlTG9hZGVycy5jb25jYXQobG9hZGVycyk7XG4gICAgfVxuICAgIC8vIFRoZW4gZmFsbCBiYWNrIHRvIHJlZ2lzdGVyZWQgbG9hZGVyc1xuICAgIGlmICghb3B0aW9ucz8uaWdub3JlUmVnaXN0ZXJlZExvYWRlcnMpIHtcbiAgICAgICAgY2FuZGlkYXRlTG9hZGVycy5wdXNoKC4uLmdldFJlZ2lzdGVyZWRMb2FkZXJzKCkpO1xuICAgIH1cbiAgICAvLyBUT0RPIC0gcmVtb3ZlIHN1cHBvcnQgZm9yIGxlZ2FjeSBsb2FkZXJzXG4gICAgbm9ybWFsaXplTG9hZGVycyhjYW5kaWRhdGVMb2FkZXJzKTtcbiAgICBjb25zdCBsb2FkZXIgPSBzZWxlY3RMb2FkZXJJbnRlcm5hbChkYXRhLCBjYW5kaWRhdGVMb2FkZXJzLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICAvLyBubyBsb2FkZXIgYXZhaWxhYmxlXG4gICAgaWYgKCFsb2FkZXIgJiYgIW9wdGlvbnM/Lm5vdGhyb3cpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldE5vVmFsaWRMb2FkZXJNZXNzYWdlKGRhdGEpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvYWRlcjtcbn1cbi8qKiBJbXBsZW1lbnRzIGxvYWRlcnMgc2VsZWN0aW9uIGxvZ2ljICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gc2VsZWN0TG9hZGVySW50ZXJuYWwoZGF0YSwgbG9hZGVycywgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGNvbnN0IHVybCA9IGdldFJlc291cmNlVXJsKGRhdGEpO1xuICAgIGNvbnN0IHR5cGUgPSBnZXRSZXNvdXJjZU1JTUVUeXBlKGRhdGEpO1xuICAgIGNvbnN0IHRlc3RVcmwgPSBzdHJpcFF1ZXJ5U3RyaW5nKHVybCkgfHwgY29udGV4dD8udXJsO1xuICAgIGxldCBsb2FkZXIgPSBudWxsO1xuICAgIGxldCByZWFzb24gPSAnJztcbiAgICAvLyBpZiBvcHRpb25zLm1pbWVUeXBlIGlzIHN1cHBsaWVkLCBpdCB0YWtlcyBwcmVjZWRlbmNlXG4gICAgaWYgKG9wdGlvbnM/Lm1pbWVUeXBlKSB7XG4gICAgICAgIGxvYWRlciA9IGZpbmRMb2FkZXJCeU1JTUVUeXBlKGxvYWRlcnMsIG9wdGlvbnM/Lm1pbWVUeXBlKTtcbiAgICAgICAgcmVhc29uID0gYG1hdGNoIGZvcmNlZCBieSBzdXBwbGllZCBNSU1FIHR5cGUgJHtvcHRpb25zPy5taW1lVHlwZX1gO1xuICAgIH1cbiAgICAvLyBMb29rIHVwIGxvYWRlciBieSB1cmxcbiAgICBsb2FkZXIgPSBsb2FkZXIgfHwgZmluZExvYWRlckJ5VXJsKGxvYWRlcnMsIHRlc3RVcmwpO1xuICAgIHJlYXNvbiA9IHJlYXNvbiB8fCAobG9hZGVyID8gYG1hdGNoZWQgdXJsICR7dGVzdFVybH1gIDogJycpO1xuICAgIC8vIExvb2sgdXAgbG9hZGVyIGJ5IG1pbWUgdHlwZVxuICAgIGxvYWRlciA9IGxvYWRlciB8fCBmaW5kTG9hZGVyQnlNSU1FVHlwZShsb2FkZXJzLCB0eXBlKTtcbiAgICByZWFzb24gPSByZWFzb24gfHwgKGxvYWRlciA/IGBtYXRjaGVkIE1JTUUgdHlwZSAke3R5cGV9YCA6ICcnKTtcbiAgICAvLyBMb29rIGZvciBsb2FkZXIgdmlhIGluaXRpYWwgYnl0ZXMgKE5vdGU6IG5vdCBhbHdheXMgYWNjZXNzaWJsZSAoZS5nLiBSZXNwb25zZSwgc3RyZWFtLCBhc3luYyBpdGVyYXRvcilcbiAgICAvLyBAdHMtaWdub3JlIEJsb2IgfCBSZXNwb25zZVxuICAgIGxvYWRlciA9IGxvYWRlciB8fCBmaW5kTG9hZGVyQnlJbml0aWFsQnl0ZXMobG9hZGVycywgZGF0YSk7XG4gICAgLy8gQHRzLWlnbm9yZSBCbG9iIHwgUmVzcG9uc2VcbiAgICByZWFzb24gPSByZWFzb24gfHwgKGxvYWRlciA/IGBtYXRjaGVkIGluaXRpYWwgZGF0YSAke2dldEZpcnN0Q2hhcmFjdGVycyhkYXRhKX1gIDogJycpO1xuICAgIC8vIExvb2sgdXAgbG9hZGVyIGJ5IGZhbGxiYWNrIG1pbWUgdHlwZVxuICAgIGlmIChvcHRpb25zPy5mYWxsYmFja01pbWVUeXBlKSB7XG4gICAgICAgIGxvYWRlciA9IGxvYWRlciB8fCBmaW5kTG9hZGVyQnlNSU1FVHlwZShsb2FkZXJzLCBvcHRpb25zPy5mYWxsYmFja01pbWVUeXBlKTtcbiAgICAgICAgcmVhc29uID0gcmVhc29uIHx8IChsb2FkZXIgPyBgbWF0Y2hlZCBmYWxsYmFjayBNSU1FIHR5cGUgJHt0eXBlfWAgOiAnJyk7XG4gICAgfVxuICAgIGlmIChyZWFzb24pIHtcbiAgICAgICAgbG9nLmxvZygxLCBgc2VsZWN0TG9hZGVyIHNlbGVjdGVkICR7bG9hZGVyPy5uYW1lfTogJHtyZWFzb259LmApO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZGVyO1xufVxuLyoqIENoZWNrIEhUVFAgUmVzcG9uc2UgKi9cbmZ1bmN0aW9uIHZhbGlkSFRUUFJlc3BvbnNlKGRhdGEpIHtcbiAgICAvLyBIQU5ETEUgSFRUUCBzdGF0dXNcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICAgIC8vIDIwNCAtIE5PIENPTlRFTlQuIFRoaXMgaGFuZGxlcyBjYXNlcyB3aGVyZSBlLmcuIGEgdGlsZSBzZXJ2ZXIgcmVzcG9uZHMgd2l0aCAyMDQgZm9yIGEgbWlzc2luZyB0aWxlXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKiogR2VuZXJhdGUgYSBoZWxwZnVsIG1lc3NhZ2UgdG8gaGVscCBleHBsYWluIHdoeSBsb2FkZXIgc2VsZWN0aW9uIGZhaWxlZC4gKi9cbmZ1bmN0aW9uIGdldE5vVmFsaWRMb2FkZXJNZXNzYWdlKGRhdGEpIHtcbiAgICBjb25zdCB1cmwgPSBnZXRSZXNvdXJjZVVybChkYXRhKTtcbiAgICBjb25zdCB0eXBlID0gZ2V0UmVzb3VyY2VNSU1FVHlwZShkYXRhKTtcbiAgICBsZXQgbWVzc2FnZSA9ICdObyB2YWxpZCBsb2FkZXIgZm91bmQgKCc7XG4gICAgbWVzc2FnZSArPSB1cmwgPyBgJHtwYXRoLmZpbGVuYW1lKHVybCl9LCBgIDogJ25vIHVybCBwcm92aWRlZCwgJztcbiAgICBtZXNzYWdlICs9IGBNSU1FIHR5cGU6ICR7dHlwZSA/IGBcIiR7dHlwZX1cImAgOiAnbm90IHByb3ZpZGVkJ30sIGA7XG4gICAgLy8gRmlyc3QgY2hhcmFjdGVycyBhcmUgb25seSBhY2Nlc3NpYmxlIHdoZW4gY2FsbGVkIG9uIGRhdGEgKHN0cmluZyBvciBhcnJheUJ1ZmZlcikuXG4gICAgLy8gQHRzLWlnbm9yZSBCbG9iIHwgUmVzcG9uc2VcbiAgICBjb25zdCBmaXJzdENoYXJhY3RlcnMgPSBkYXRhID8gZ2V0Rmlyc3RDaGFyYWN0ZXJzKGRhdGEpIDogJyc7XG4gICAgbWVzc2FnZSArPSBmaXJzdENoYXJhY3RlcnMgPyBgIGZpcnN0IGJ5dGVzOiBcIiR7Zmlyc3RDaGFyYWN0ZXJzfVwiYCA6ICdmaXJzdCBieXRlczogbm90IGF2YWlsYWJsZSc7XG4gICAgbWVzc2FnZSArPSAnKSc7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5mdW5jdGlvbiBub3JtYWxpemVMb2FkZXJzKGxvYWRlcnMpIHtcbiAgICBmb3IgKGNvbnN0IGxvYWRlciBvZiBsb2FkZXJzKSB7XG4gICAgICAgIG5vcm1hbGl6ZUxvYWRlcihsb2FkZXIpO1xuICAgIH1cbn1cbi8vIFRPRE8gLSBXb3VsZCBiZSBuaWNlIHRvIHN1cHBvcnQgaHR0cDovL2V4YW1wbGUuY29tL2ZpbGUuZ2xiP3BhcmFtZXRlcj0xXG4vLyBFLmc6IHggPSBuZXcgVVJMKCdodHRwOi8vZXhhbXBsZS5jb20vZmlsZS5nbGI/bG9hZD0xJzsgeC5wYXRobmFtZVxuZnVuY3Rpb24gZmluZExvYWRlckJ5VXJsKGxvYWRlcnMsIHVybCkge1xuICAgIC8vIEdldCBleHRlbnNpb25cbiAgICBjb25zdCBtYXRjaCA9IHVybCAmJiBFWFRfUEFUVEVSTi5leGVjKHVybCk7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gbWF0Y2ggJiYgbWF0Y2hbMV07XG4gICAgcmV0dXJuIGV4dGVuc2lvbiA/IGZpbmRMb2FkZXJCeUV4dGVuc2lvbihsb2FkZXJzLCBleHRlbnNpb24pIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGZpbmRMb2FkZXJCeUV4dGVuc2lvbihsb2FkZXJzLCBleHRlbnNpb24pIHtcbiAgICBleHRlbnNpb24gPSBleHRlbnNpb24udG9Mb3dlckNhc2UoKTtcbiAgICBmb3IgKGNvbnN0IGxvYWRlciBvZiBsb2FkZXJzKSB7XG4gICAgICAgIGZvciAoY29uc3QgbG9hZGVyRXh0ZW5zaW9uIG9mIGxvYWRlci5leHRlbnNpb25zKSB7XG4gICAgICAgICAgICBpZiAobG9hZGVyRXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCkgPT09IGV4dGVuc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBmaW5kTG9hZGVyQnlNSU1FVHlwZShsb2FkZXJzLCBtaW1lVHlwZSkge1xuICAgIGZvciAoY29uc3QgbG9hZGVyIG9mIGxvYWRlcnMpIHtcbiAgICAgICAgaWYgKGxvYWRlci5taW1lVHlwZXM/LnNvbWUoKG1pbWVUeXBlMSkgPT4gY29tcGFyZU1JTUVUeXBlcyhtaW1lVHlwZSwgbWltZVR5cGUxKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcG9ydCByZWZlcnJpbmcgdG8gbG9hZGVycyB1c2luZyB0aGUgXCJ1bnJlZ2lzdGVyZWQgdHJlZVwiXG4gICAgICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01lZGlhX3R5cGUjVW5yZWdpc3RlcmVkX3RyZWVcbiAgICAgICAgaWYgKGNvbXBhcmVNSU1FVHlwZXMobWltZVR5cGUsIGBhcHBsaWNhdGlvbi94LiR7bG9hZGVyLmlkfWApKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9hZGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZmluZExvYWRlckJ5SW5pdGlhbEJ5dGVzKGxvYWRlcnMsIGRhdGEpIHtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbG9hZGVyIG9mIGxvYWRlcnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHRlc3REYXRhQWdhaW5zdFRleHQoZGF0YSwgbG9hZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgICAgICAvLyBUeXBlZCBBcnJheXMgY2FuIGhhdmUgb2Zmc2V0cyBpbnRvIHVuZGVybHlpbmcgYnVmZmVyXG4gICAgICAgICAgICBpZiAodGVzdERhdGFBZ2FpbnN0QmluYXJ5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGxvYWRlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IDA7XG4gICAgICAgICAgICBpZiAodGVzdERhdGFBZ2FpbnN0QmluYXJ5KGRhdGEsIGJ5dGVPZmZzZXQsIGxvYWRlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gSGFuZGxlIHN0cmVhbWluZyBjYXNlIChyZXF1aXJlcyBjcmVhdGluZyBhIG5ldyBBc3luY0l0ZXJhdG9yKVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHRlc3REYXRhQWdhaW5zdFRleHQoZGF0YSwgbG9hZGVyKSB7XG4gICAgaWYgKGxvYWRlci50ZXN0VGV4dCkge1xuICAgICAgICByZXR1cm4gbG9hZGVyLnRlc3RUZXh0KGRhdGEpO1xuICAgIH1cbiAgICBjb25zdCB0ZXN0cyA9IEFycmF5LmlzQXJyYXkobG9hZGVyLnRlc3RzKSA/IGxvYWRlci50ZXN0cyA6IFtsb2FkZXIudGVzdHNdO1xuICAgIHJldHVybiB0ZXN0cy5zb21lKCh0ZXN0KSA9PiBkYXRhLnN0YXJ0c1dpdGgodGVzdCkpO1xufVxuZnVuY3Rpb24gdGVzdERhdGFBZ2FpbnN0QmluYXJ5KGRhdGEsIGJ5dGVPZmZzZXQsIGxvYWRlcikge1xuICAgIGNvbnN0IHRlc3RzID0gQXJyYXkuaXNBcnJheShsb2FkZXIudGVzdHMpID8gbG9hZGVyLnRlc3RzIDogW2xvYWRlci50ZXN0c107XG4gICAgcmV0dXJuIHRlc3RzLnNvbWUoKHRlc3QpID0+IHRlc3RCaW5hcnkoZGF0YSwgYnl0ZU9mZnNldCwgbG9hZGVyLCB0ZXN0KSk7XG59XG5mdW5jdGlvbiB0ZXN0QmluYXJ5KGRhdGEsIGJ5dGVPZmZzZXQsIGxvYWRlciwgdGVzdCkge1xuICAgIGlmICh0ZXN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVBcnJheUJ1ZmZlcnModGVzdCwgZGF0YSwgdGVzdC5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlb2YgdGVzdCkge1xuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICByZXR1cm4gdGVzdChkYXRhKTtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIC8vIE1hZ2ljIGJ5dGVzIGNoZWNrOiBJZiBgdGVzdGAgaXMgYSBzdHJpbmcsIGNoZWNrIGlmIGJpbmFyeSBkYXRhIHN0YXJ0cyB3aXRoIHRoYXQgc3RyaW5nc1xuICAgICAgICAgICAgY29uc3QgbWFnaWMgPSBnZXRNYWdpY1N0cmluZyhkYXRhLCBieXRlT2Zmc2V0LCB0ZXN0Lmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gdGVzdCA9PT0gbWFnaWM7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Rmlyc3RDaGFyYWN0ZXJzKGRhdGEsIGxlbmd0aCA9IDUpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSkge1xuICAgICAgICAvLyBUeXBlZCBBcnJheXMgY2FuIGhhdmUgb2Zmc2V0cyBpbnRvIHVuZGVybHlpbmcgYnVmZmVyXG4gICAgICAgIHJldHVybiBnZXRNYWdpY1N0cmluZyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IDA7XG4gICAgICAgIHJldHVybiBnZXRNYWdpY1N0cmluZyhkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5mdW5jdGlvbiBnZXRNYWdpY1N0cmluZyhhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgaWYgKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3QgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIpO1xuICAgIGxldCBtYWdpYyA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbWFnaWMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhVmlldy5nZXRVaW50OChieXRlT2Zmc2V0ICsgaSkpO1xuICAgIH1cbiAgICByZXR1cm4gbWFnaWM7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IG5vcm1hbGl6ZUxvYWRlciB9IGZyb20gXCIuLi9sb2FkZXItdXRpbHMvbm9ybWFsaXplLWxvYWRlci5qc1wiO1xuaW1wb3J0IHsgZ2V0R2xvYmFsTG9hZGVyU3RhdGUgfSBmcm9tIFwiLi4vbG9hZGVyLXV0aWxzL29wdGlvbi11dGlscy5qc1wiO1xuLyoqXG4gKiBTdG9yZSBnbG9iYWwgcmVnaXN0ZXJlZCBsb2FkZXJzIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIGluY3JlYXNlIGNoYW5jZXMgb2YgY3Jvc3MgbG9hZGVycy12ZXJzaW9uIGludGVyb3BlcmFiaWxpdHlcbiAqIFRoaXMgdXNlIGNhc2UgaXMgbm90IHJlbGlhYmxlIGJ1dCBjYW4gaGVscCB3aGVuIHRlc3RpbmcgbmV3IHZlcnNpb25zIG9mIGxvYWRlcnMuZ2wgd2l0aCBleGlzdGluZyBmcmFtZXdvcmtzXG4gKi9cbmNvbnN0IGdldEdsb2JhbExvYWRlclJlZ2lzdHJ5ID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0R2xvYmFsTG9hZGVyU3RhdGUoKTtcbiAgICBzdGF0ZS5sb2FkZXJSZWdpc3RyeSA9IHN0YXRlLmxvYWRlclJlZ2lzdHJ5IHx8IFtdO1xuICAgIHJldHVybiBzdGF0ZS5sb2FkZXJSZWdpc3RyeTtcbn07XG4vKipcbiAqIFJlZ2lzdGVyIGEgbGlzdCBvZiBnbG9iYWwgbG9hZGVyc1xuICogQG5vdGUgUmVnaXN0cmF0aW9uIGVyYXNlcyBsb2FkZXIgdHlwZSBpbmZvcm1hdGlvbi5cbiAqIEBkZXByZWNhdGVkIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgYXBwbGljYXRpb25zIG1hbmFnZSBsb2FkZXIgcmVnaXN0cmF0aW9uLiBUaGlzIGZ1bmN0aW9uIHdpbGwgbGlrZWx5IGJlIHJlbW92ZSBpbiBsb2FkZXJzLmdsIHY1XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckxvYWRlcnMobG9hZGVycykge1xuICAgIGNvbnN0IGxvYWRlclJlZ2lzdHJ5ID0gZ2V0R2xvYmFsTG9hZGVyUmVnaXN0cnkoKTtcbiAgICBsb2FkZXJzID0gQXJyYXkuaXNBcnJheShsb2FkZXJzKSA/IGxvYWRlcnMgOiBbbG9hZGVyc107XG4gICAgZm9yIChjb25zdCBsb2FkZXIgb2YgbG9hZGVycykge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkTG9hZGVyID0gbm9ybWFsaXplTG9hZGVyKGxvYWRlcik7XG4gICAgICAgIGlmICghbG9hZGVyUmVnaXN0cnkuZmluZCgocmVnaXN0ZXJlZExvYWRlcikgPT4gbm9ybWFsaXplZExvYWRlciA9PT0gcmVnaXN0ZXJlZExvYWRlcikpIHtcbiAgICAgICAgICAgIC8vIGFkZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsb2FkZXJSZWdpc3RyeSwgc28gdGhlIGxhc3QgcmVnaXN0ZXJlZExvYWRlciBnZXQgcGlja2VkXG4gICAgICAgICAgICBsb2FkZXJSZWdpc3RyeS51bnNoaWZ0KG5vcm1hbGl6ZWRMb2FkZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IGFwcGxpY2F0aW9ucyBtYW5hZ2UgbG9hZGVyIHJlZ2lzdHJhdGlvbi4gVGhpcyBmdW5jdGlvbiB3aWxsIGxpa2VseSBiZSByZW1vdmUgaW4gbG9hZGVycy5nbCB2NVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVnaXN0ZXJlZExvYWRlcnMoKSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbExvYWRlclJlZ2lzdHJ5KCk7XG59XG4vKiogQGRlcHJlY2F0ZWQgRm9yIHRlc3Rpbmcgb25seSAgKi9cbmV4cG9ydCBmdW5jdGlvbiBfdW5yZWdpc3RlckxvYWRlcnMoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRHbG9iYWxMb2FkZXJTdGF0ZSgpO1xuICAgIHN0YXRlLmxvYWRlclJlZ2lzdHJ5ID0gW107XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IHBhcnNlV2l0aFdvcmtlciwgY2FuUGFyc2VXaXRoV29ya2VyLCBtZXJnZUxvYWRlck9wdGlvbnMgfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuaW1wb3J0IHsgYXNzZXJ0LCB2YWxpZGF0ZVdvcmtlclZlcnNpb24gfSBmcm9tICdAbG9hZGVycy5nbC93b3JrZXItdXRpbHMnO1xuaW1wb3J0IHsgaXNMb2FkZXJPYmplY3QgfSBmcm9tIFwiLi4vbG9hZGVyLXV0aWxzL25vcm1hbGl6ZS1sb2FkZXIuanNcIjtcbmltcG9ydCB7IGlzUmVzcG9uc2UgfSBmcm9tIFwiLi4vLi4vamF2YXNjcmlwdC11dGlscy9pcy10eXBlLmpzXCI7XG5pbXBvcnQgeyBub3JtYWxpemVPcHRpb25zIH0gZnJvbSBcIi4uL2xvYWRlci11dGlscy9vcHRpb24tdXRpbHMuanNcIjtcbmltcG9ydCB7IGdldEFycmF5QnVmZmVyT3JTdHJpbmdGcm9tRGF0YSB9IGZyb20gXCIuLi9sb2FkZXItdXRpbHMvZ2V0LWRhdGEuanNcIjtcbmltcG9ydCB7IGdldExvYWRlckNvbnRleHQsIGdldExvYWRlcnNGcm9tQ29udGV4dCB9IGZyb20gXCIuLi9sb2FkZXItdXRpbHMvbG9hZGVyLWNvbnRleHQuanNcIjtcbmltcG9ydCB7IGdldFJlc291cmNlVXJsIH0gZnJvbSBcIi4uL3V0aWxzL3Jlc291cmNlLXV0aWxzLmpzXCI7XG5pbXBvcnQgeyBzZWxlY3RMb2FkZXIgfSBmcm9tIFwiLi9zZWxlY3QtbG9hZGVyLmpzXCI7XG4vKipcbiAqIFBhcnNlcyBgZGF0YWAgdXNpbmcgYSBzcGVjaWZpZWQgbG9hZGVyXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIGxvYWRlcnNcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY29udGV4dFxuICovXG4vLyBpbXBsZW1lbnRhdGlvbiBzaWduYXR1cmVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZShkYXRhLCBsb2FkZXJzLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgLy8gU2lnbmF0dXJlOiBwYXJzZShkYXRhLCBvcHRpb25zLCBjb250ZXh0IHwgdXJsKVxuICAgIC8vIFVzZXMgcmVnaXN0ZXJlZCBsb2FkZXJzXG4gICAgaWYgKGxvYWRlcnMgJiYgIUFycmF5LmlzQXJyYXkobG9hZGVycykgJiYgIWlzTG9hZGVyT2JqZWN0KGxvYWRlcnMpKSB7XG4gICAgICAgIGNvbnRleHQgPSB1bmRlZmluZWQ7IC8vIGNvbnRleHQgbm90IHN1cHBvcnRlZCBpbiBzaG9ydCBzaWduYXR1cmVcbiAgICAgICAgb3B0aW9ucyA9IGxvYWRlcnM7XG4gICAgICAgIGxvYWRlcnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGRhdGEgPSBhd2FpdCBkYXRhOyAvLyBSZXNvbHZlIGFueSBwcm9taXNlXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIENvdWxkIGJlIGludmFsaWQuLi5cbiAgICAvLyBFeHRyYWN0IGEgdXJsIGZvciBhdXRvIGRldGVjdGlvblxuICAgIGNvbnN0IHVybCA9IGdldFJlc291cmNlVXJsKGRhdGEpO1xuICAgIC8vIENob29zZXMgYSBsb2FkZXIgKGFuZCBub3JtYWxpemVzIGl0KVxuICAgIC8vIEFsc28gdXNlIGFueSBsb2FkZXJzIGluIHRoZSBjb250ZXh0LCBuZXcgbG9hZGVycyB0YWtlIHByaW9yaXR5XG4gICAgY29uc3QgdHlwZWRMb2FkZXJzID0gbG9hZGVycztcbiAgICBjb25zdCBjYW5kaWRhdGVMb2FkZXJzID0gZ2V0TG9hZGVyc0Zyb21Db250ZXh0KHR5cGVkTG9hZGVycywgY29udGV4dCk7XG4gICAgLy8gdG9kbyBoYWNreSB0eXBlIGNhc3RcbiAgICBjb25zdCBsb2FkZXIgPSBhd2FpdCBzZWxlY3RMb2FkZXIoZGF0YSwgY2FuZGlkYXRlTG9hZGVycywgb3B0aW9ucyk7XG4gICAgLy8gTm90ZTogaWYgbm8gbG9hZGVyIHdhcyBmb3VuZCwgaWYgc28ganVzdCByZXR1cm4gbnVsbFxuICAgIGlmICghbG9hZGVyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBOb3JtYWxpemUgb3B0aW9uc1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBvcHRpb25zID0gbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zLCBsb2FkZXIsIGNhbmRpZGF0ZUxvYWRlcnMsIHVybCk7IC8vIENvdWxkIGJlIGludmFsaWQuLi5cbiAgICAvLyBHZXQgYSBjb250ZXh0IChpZiBhbHJlYWR5IHByZXNlbnQsIHdpbGwgYmUgdW5jaGFuZ2VkKVxuICAgIGNvbnRleHQgPSBnZXRMb2FkZXJDb250ZXh0KFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICB7IHVybCwgX3BhcnNlOiBwYXJzZSwgbG9hZGVyczogY2FuZGlkYXRlTG9hZGVycyB9LCBvcHRpb25zLCBjb250ZXh0IHx8IG51bGwpO1xuICAgIHJldHVybiBhd2FpdCBwYXJzZVdpdGhMb2FkZXIobG9hZGVyLCBkYXRhLCBvcHRpb25zLCBjb250ZXh0KTtcbn1cbi8vIFRPRE86IHN1cHBvcnQgcHJvZ3Jlc3MgYW5kIGFib3J0XG4vLyBUT0RPIC0gc2hvdWxkIGFjY2VwdCBsb2FkZXIucGFyc2VBc3luY0l0ZXJhdG9yIGFuZCBjb25jYXRlbmF0ZS5cbmFzeW5jIGZ1bmN0aW9uIHBhcnNlV2l0aExvYWRlcihsb2FkZXIsIGRhdGEsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICB2YWxpZGF0ZVdvcmtlclZlcnNpb24obG9hZGVyKTtcbiAgICBvcHRpb25zID0gbWVyZ2VMb2FkZXJPcHRpb25zKGxvYWRlci5vcHRpb25zLCBvcHRpb25zKTtcbiAgICBpZiAoaXNSZXNwb25zZShkYXRhKSkge1xuICAgICAgICAvLyBTZXJpYWxpemUgdG8gc3VwcG9ydCBwYXNzaW5nIHRoZSByZXNwb25zZSB0byB3ZWIgd29ya2VyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZGF0YTtcbiAgICAgICAgY29uc3QgeyBvaywgcmVkaXJlY3RlZCwgc3RhdHVzLCBzdGF0dXNUZXh0LCB0eXBlLCB1cmwgfSA9IHJlc3BvbnNlO1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gT2JqZWN0LmZyb21FbnRyaWVzKHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKTtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIC0gZml4IHRoaXNcbiAgICAgICAgY29udGV4dC5yZXNwb25zZSA9IHsgaGVhZGVycywgb2ssIHJlZGlyZWN0ZWQsIHN0YXR1cywgc3RhdHVzVGV4dCwgdHlwZSwgdXJsIH07XG4gICAgfVxuICAgIGRhdGEgPSBhd2FpdCBnZXRBcnJheUJ1ZmZlck9yU3RyaW5nRnJvbURhdGEoZGF0YSwgbG9hZGVyLCBvcHRpb25zKTtcbiAgICBjb25zdCBsb2FkZXJXaXRoUGFyc2VyID0gbG9hZGVyO1xuICAgIC8vIEZpcnN0IGNoZWNrIGZvciBzeW5jaHJvbm91cyB0ZXh0IHBhcnNlciwgd3JhcCByZXN1bHRzIGluIHByb21pc2VzXG4gICAgaWYgKGxvYWRlcldpdGhQYXJzZXIucGFyc2VUZXh0U3luYyAmJiB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlcldpdGhQYXJzZXIucGFyc2VUZXh0U3luYyhkYXRhLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICB9XG4gICAgLy8gSWYgd2UgaGF2ZSBhIHdvcmtlclVybCBhbmQgdGhlIGxvYWRlciBjYW4gcGFyc2UgdGhlIGdpdmVuIG9wdGlvbnMgZWZmaWNpZW50bHkgaW4gYSB3b3JrZXJcbiAgICBpZiAoY2FuUGFyc2VXaXRoV29ya2VyKGxvYWRlciwgb3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHBhcnNlV2l0aFdvcmtlcihsb2FkZXIsIGRhdGEsIG9wdGlvbnMsIGNvbnRleHQsIHBhcnNlKTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgZm9yIGFzeW5jaHJvbm91cyBwYXJzZXJcbiAgICBpZiAobG9hZGVyV2l0aFBhcnNlci5wYXJzZVRleHQgJiYgdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBsb2FkZXJXaXRoUGFyc2VyLnBhcnNlVGV4dChkYXRhLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKGxvYWRlcldpdGhQYXJzZXIucGFyc2UpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGxvYWRlcldpdGhQYXJzZXIucGFyc2UoZGF0YSwgb3B0aW9ucywgY29udGV4dCk7XG4gICAgfVxuICAgIC8vIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4sIGFsbCBzeW5jIGxvYWRlcnMgc2hvdWxkIGFsc28gb2ZmZXIgYHBhcnNlYCBmdW5jdGlvblxuICAgIGFzc2VydCghbG9hZGVyV2l0aFBhcnNlci5wYXJzZVN5bmMpO1xuICAgIC8vIFRCRCAtIElmIGFzeW5jaHJvbm91cyBwYXJzZXIgbm90IGF2YWlsYWJsZSwgcmV0dXJuIG51bGxcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bG9hZGVyLmlkfSBsb2FkZXIgLSBubyBwYXJzZXIgZm91bmQgYW5kIHdvcmtlciBpcyBkaXNhYmxlZGApO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBnZXRGZXRjaEZ1bmN0aW9uIH0gZnJvbSBcIi4vZ2V0LWZldGNoLWZ1bmN0aW9uLmpzXCI7XG5pbXBvcnQgeyBleHRyYWN0UXVlcnlTdHJpbmcsIHN0cmlwUXVlcnlTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbHMvdXJsLXV0aWxzLmpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbi8qKlxuICogXCJzdWJcIiBsb2FkZXJzIGludm9rZWQgYnkgb3RoZXIgbG9hZGVycyBnZXQgYSBcImNvbnRleHRcIiBpbmplY3RlZCBvbiBgdGhpc2BcbiAqIFRoZSBjb250ZXh0IHdpbGwgaW5qZWN0IGNvcmUgbWV0aG9kcyBsaWtlIGBwYXJzZWAgYW5kIGNvbnRhaW4gaW5mb3JtYXRpb25cbiAqIGFib3V0IGxvYWRlcnMgYW5kIG9wdGlvbnMgcGFzc2VkIGluIHRvIHRoZSB0b3AtbGV2ZWwgYHBhcnNlYCBjYWxsLlxuICpcbiAqIEBwYXJhbSBjb250ZXh0XG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIHByZXZpb3VzQ29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9hZGVyQ29udGV4dChjb250ZXh0LCBvcHRpb25zLCBwYXJlbnRDb250ZXh0KSB7XG4gICAgLy8gRm9yIHJlY3Vyc2l2ZSBjYWxscywgd2UgYWxyZWFkeSBoYXZlIGEgY29udGV4dFxuICAgIC8vIFRPRE8gLSBhZGQgYW55IGFkZGl0aW9uYWwgbG9hZGVycyB0byBjb250ZXh0P1xuICAgIGlmIChwYXJlbnRDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBwYXJlbnRDb250ZXh0O1xuICAgIH1cbiAgICBjb25zdCBuZXdDb250ZXh0ID0ge1xuICAgICAgICBmZXRjaDogZ2V0RmV0Y2hGdW5jdGlvbihvcHRpb25zLCBjb250ZXh0KSxcbiAgICAgICAgLi4uY29udGV4dFxuICAgIH07XG4gICAgLy8gUGFyc2UgVVJMcyBzbyB0aGF0IHN1YmxvYWRlcnMgY2FuIGVhc2lseSBnZW5lcmF0ZSBjb3JyZWN0IHN0cmluZ3NcbiAgICBpZiAobmV3Q29udGV4dC51cmwpIHtcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IHN0cmlwUXVlcnlTdHJpbmcobmV3Q29udGV4dC51cmwpO1xuICAgICAgICBuZXdDb250ZXh0LmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgICAgICBuZXdDb250ZXh0LnF1ZXJ5U3RyaW5nID0gZXh0cmFjdFF1ZXJ5U3RyaW5nKG5ld0NvbnRleHQudXJsKTtcbiAgICAgICAgbmV3Q29udGV4dC5maWxlbmFtZSA9IHBhdGguZmlsZW5hbWUoYmFzZVVybCk7XG4gICAgICAgIG5ld0NvbnRleHQuYmFzZVVybCA9IHBhdGguZGlybmFtZShiYXNlVXJsKTtcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlIGxvYWRpbmcgZG9lcyBub3QgdXNlIHNpbmdsZSBsb2FkZXJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobmV3Q29udGV4dC5sb2FkZXJzKSkge1xuICAgICAgICBuZXdDb250ZXh0LmxvYWRlcnMgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Q29udGV4dDtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9hZGVyc0Zyb21Db250ZXh0KGxvYWRlcnMsIGNvbnRleHQpIHtcbiAgICAvLyBBIHNpbmdsZSBsb2FkZXIgKG5vbi1hcnJheSkgaW5kaWNhdGVzIG5vIHNlbGVjdGlvbiBkZXNpcmVkLiBGb3JjZSBzZWxlY3QuXG4gICAgaWYgKGxvYWRlcnMgJiYgIUFycmF5LmlzQXJyYXkobG9hZGVycykpIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlcnM7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIG1lcmdlZCBsaXN0XG4gICAgbGV0IGNhbmRpZGF0ZUxvYWRlcnM7XG4gICAgaWYgKGxvYWRlcnMpIHtcbiAgICAgICAgY2FuZGlkYXRlTG9hZGVycyA9IEFycmF5LmlzQXJyYXkobG9hZGVycykgPyBsb2FkZXJzIDogW2xvYWRlcnNdO1xuICAgIH1cbiAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmxvYWRlcnMpIHtcbiAgICAgICAgY29uc3QgY29udGV4dExvYWRlcnMgPSBBcnJheS5pc0FycmF5KGNvbnRleHQubG9hZGVycykgPyBjb250ZXh0LmxvYWRlcnMgOiBbY29udGV4dC5sb2FkZXJzXTtcbiAgICAgICAgY2FuZGlkYXRlTG9hZGVycyA9IGNhbmRpZGF0ZUxvYWRlcnMgPyBbLi4uY2FuZGlkYXRlTG9hZGVycywgLi4uY29udGV4dExvYWRlcnNdIDogY29udGV4dExvYWRlcnM7XG4gICAgfVxuICAgIC8vIElmIG5vIGxvYWRlcnMsIHJldHVybiBudWxsIHRvIGxvb2sgaW4gZ2xvYmFsbHkgcmVnaXN0ZXJlZCBsb2FkZXJzXG4gICAgcmV0dXJuIGNhbmRpZGF0ZUxvYWRlcnMgJiYgY2FuZGlkYXRlTG9hZGVycy5sZW5ndGggPyBjYW5kaWRhdGVMb2FkZXJzIDogdW5kZWZpbmVkO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vZW52LXV0aWxzL2Fzc2VydC5qc1wiO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuLi9lbnYtdXRpbHMvdmVyc2lvbi5qc1wiO1xuLyoqXG4gKiBDaGVjayBpZiB3b3JrZXIgaXMgY29tcGF0aWJsZSB3aXRoIHRoaXMgbGlicmFyeSB2ZXJzaW9uXG4gKiBAcGFyYW0gd29ya2VyXG4gKiBAcGFyYW0gbGliVmVyc2lvblxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSB0d28gdmVyc2lvbnMgYXJlIGNvbXBhdGlibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlV29ya2VyVmVyc2lvbih3b3JrZXIsIGNvcmVWZXJzaW9uID0gVkVSU0lPTikge1xuICAgIGFzc2VydCh3b3JrZXIsICdubyB3b3JrZXIgcHJvdmlkZWQnKTtcbiAgICBjb25zdCB3b3JrZXJWZXJzaW9uID0gd29ya2VyLnZlcnNpb247XG4gICAgaWYgKCFjb3JlVmVyc2lvbiB8fCAhd29ya2VyVmVyc2lvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIFRPRE8gZW5hYmxlIHdoZW4gZml4IHRoZSBfX3ZlcnNpb25fXyBpbmplY3Rpb25cbiAgICAvLyBjb25zdCBjb3JlVmVyc2lvbnMgPSBwYXJzZVZlcnNpb24oY29yZVZlcnNpb24pO1xuICAgIC8vIGNvbnN0IHdvcmtlclZlcnNpb25zID0gcGFyc2VWZXJzaW9uKHdvcmtlclZlcnNpb24pO1xuICAgIC8vIGFzc2VydChcbiAgICAvLyAgIGNvcmVWZXJzaW9uLm1ham9yID09PSB3b3JrZXJWZXJzaW9uLm1ham9yICYmIGNvcmVWZXJzaW9uLm1pbm9yIDw9IHdvcmtlclZlcnNpb24ubWlub3IsXG4gICAgLy8gICBgd29ya2VyOiAke3dvcmtlci5uYW1lfSBpcyBub3QgY29tcGF0aWJsZS4gJHtjb3JlVmVyc2lvbi5tYWpvcn0uJHtcbiAgICAvLyAgICAgY29yZVZlcnNpb24ubWlub3JcbiAgICAvLyAgIH0rIGlzIHJlcXVpcmVkLmBcbiAgICAvLyApO1xuICAgIHJldHVybiB0cnVlO1xufVxuLy8gQHRzLWlnbm9yZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuZnVuY3Rpb24gcGFyc2VWZXJzaW9uKHZlcnNpb24pIHtcbiAgICBjb25zdCBwYXJ0cyA9IHZlcnNpb24uc3BsaXQoJy4nKS5tYXAoTnVtYmVyKTtcbiAgICByZXR1cm4geyBtYWpvcjogcGFydHNbMF0sIG1pbm9yOiBwYXJ0c1sxXSB9O1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBpc0Jsb2IgfSBmcm9tIFwiLi4vLi4vamF2YXNjcmlwdC11dGlscy9pcy10eXBlLmpzXCI7XG5pbXBvcnQgeyBpc0xvYWRlck9iamVjdCB9IGZyb20gXCIuLi9sb2FkZXItdXRpbHMvbm9ybWFsaXplLWxvYWRlci5qc1wiO1xuaW1wb3J0IHsgZ2V0RmV0Y2hGdW5jdGlvbiB9IGZyb20gXCIuLi9sb2FkZXItdXRpbHMvZ2V0LWZldGNoLWZ1bmN0aW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCIuL3BhcnNlLmpzXCI7XG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZCh1cmw6IHN0cmluZyB8IERhdGFUeXBlLCBsb2FkZXJzOiBMb2FkZXJPcHRpb25zKTogUHJvbWlzZTxhbnk+O1xuLy8gaW1wbGVtZW50YXRpb24gc2lnbmF0dXJlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZCh1cmwsIGxvYWRlcnMsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICBsZXQgcmVzb2x2ZWRMb2FkZXJzO1xuICAgIGxldCByZXNvbHZlZE9wdGlvbnM7XG4gICAgLy8gU2lnbmF0dXJlOiBsb2FkKHVybCwgb3B0aW9ucylcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobG9hZGVycykgJiYgIWlzTG9hZGVyT2JqZWN0KGxvYWRlcnMpKSB7XG4gICAgICAgIHJlc29sdmVkTG9hZGVycyA9IFtdO1xuICAgICAgICByZXNvbHZlZE9wdGlvbnMgPSBsb2FkZXJzO1xuICAgICAgICBjb250ZXh0ID0gdW5kZWZpbmVkOyAvLyBjb250ZXh0IG5vdCBzdXBwb3J0ZWQgaW4gc2hvcnQgc2lnbmF0dXJlXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXNvbHZlZExvYWRlcnMgPSBsb2FkZXJzO1xuICAgICAgICByZXNvbHZlZE9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvLyBTZWxlY3QgZmV0Y2ggZnVuY3Rpb25cbiAgICBjb25zdCBmZXRjaCA9IGdldEZldGNoRnVuY3Rpb24ocmVzb2x2ZWRPcHRpb25zKTtcbiAgICAvLyBhdCB0aGlzIHBvaW50LCBgdXJsYCBjb3VsZCBiZSBhbHJlYWR5IGxvYWRlZCBiaW5hcnkgZGF0YVxuICAgIGxldCBkYXRhID0gdXJsO1xuICAgIC8vIHVybCBpcyBhIHN0cmluZywgZmV0Y2ggdGhlIHVybFxuICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJykge1xuICAgICAgICBkYXRhID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgLy8gVVJMIGlzIEJsb2Igb3IgRmlsZSwgZmV0Y2hGaWxlIGhhbmRsZXMgaXQgKGFsdDogd2UgY291bGQgZ2VuZXJhdGUgT2JqZWN0VVJMIGhlcmUpXG4gICAgfVxuICAgIGlmIChpc0Jsb2IodXJsKSkge1xuICAgICAgICAvLyBUaGUgZmV0Y2ggcmVzcG9uc2Ugb2JqZWN0IHdpbGwgY29udGFpbiBibG9iLm5hbWVcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIC0gVGhpcyBtYXkgbm90IHdvcmsgZm9yIG92ZXJyaWRkZW4gZmV0Y2ggZnVuY3Rpb25zXG4gICAgICAgIGRhdGEgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgIH1cbiAgICAvLyBEYXRhIGlzIGxvYWRlZCAoYXQgbGVhc3Qgd2UgaGF2ZSBhIGBSZXNwb25zZWAgb2JqZWN0KSBzbyB0aW1lIHRvIGhhbmQgb3ZlciB0byBgcGFyc2VgXG4gICAgLy8gcmV0dXJuIGF3YWl0IHBhcnNlKGRhdGEsIGxvYWRlcnMgYXMgTG9hZGVyW10sIG9wdGlvbnMpO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJlc29sdmVkTG9hZGVycylcbiAgICAgICAgPyBhd2FpdCBwYXJzZShkYXRhLCByZXNvbHZlZExvYWRlcnMsIHJlc29sdmVkT3B0aW9ucykgLy8gbG9hZGVyIGFycmF5IG92ZXJsb2FkXG4gICAgICAgIDogYXdhaXQgcGFyc2UoZGF0YSwgcmVzb2x2ZWRMb2FkZXJzLCByZXNvbHZlZE9wdGlvbnMpOyAvLyBzaW5nbGUgbG9hZGVyIG92ZXJsb2FkXG59XG4iLCIvLyBWZXJzaW9uIGNvbnN0YW50IGNhbm5vdCBiZSBpbXBvcnRlZCwgaXQgbmVlZHMgdG8gY29ycmVzcG9uZCB0byB0aGUgYnVpbGQgdmVyc2lvbiBvZiAqKnRoaXMqKiBtb2R1bGUuXG4vLyBfX1ZFUlNJT05fXyBpcyBpbmplY3RlZCBieSBiYWJlbC1wbHVnaW4tdmVyc2lvbi1pbmxpbmVcbi8vIEB0cy1pZ25vcmUgVFMyMzA0OiBDYW5ub3QgZmluZCBuYW1lICdfX1ZFUlNJT05fXycuXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9IHR5cGVvZiBcIjQuMy4zXCIgIT09ICd1bmRlZmluZWQnID8gXCI0LjMuM1wiIDogJ2xhdGVzdCc7XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi9saWIvdXRpbHMvdmVyc2lvbi5qc1wiO1xuLyoqXG4gKiBXb3JrZXIgbG9hZGVyIGZvciBEcmFjbzNEIGNvbXByZXNzZWQgZ2VvbWV0cmllc1xuICovXG5leHBvcnQgY29uc3QgRHJhY29Mb2FkZXIgPSB7XG4gICAgZGF0YVR5cGU6IG51bGwsXG4gICAgYmF0Y2hUeXBlOiBudWxsLFxuICAgIG5hbWU6ICdEcmFjbycsXG4gICAgaWQ6ICdkcmFjbycsXG4gICAgbW9kdWxlOiAnZHJhY28nLFxuICAgIC8vIHNoYXBlczogWydtZXNoJ10sXG4gICAgdmVyc2lvbjogVkVSU0lPTixcbiAgICB3b3JrZXI6IHRydWUsXG4gICAgZXh0ZW5zaW9uczogWydkcmMnXSxcbiAgICBtaW1lVHlwZXM6IFsnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ10sXG4gICAgYmluYXJ5OiB0cnVlLFxuICAgIHRlc3RzOiBbJ0RSQUNPJ10sXG4gICAgb3B0aW9uczoge1xuICAgICAgICBkcmFjbzoge1xuICAgICAgICAgICAgZGVjb2RlclR5cGU6IHR5cGVvZiBXZWJBc3NlbWJseSA9PT0gJ29iamVjdCcgPyAnd2FzbScgOiAnanMnLCAvLyAnanMnIGZvciBJRTExXG4gICAgICAgICAgICBsaWJyYXJ5UGF0aDogJ2xpYnMvJyxcbiAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlczoge30sXG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lRW50cnk6IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgfVxufTtcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgZ2V0RGF0YVR5cGVGcm9tVHlwZWRBcnJheSB9IGZyb20gXCIuLi90YWJsZS9zaW1wbGUtdGFibGUvZGF0YS10eXBlLmpzXCI7XG4vKipcbiAqIENyZWF0ZSBhIHNjaGVtYSBmb3IgbWVzaCBhdHRyaWJ1dGVzIGRhdGFcbiAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0gbWV0YWRhdGFcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWR1Y2VNZXNoU2NoZW1hKGF0dHJpYnV0ZXMsIG1ldGFkYXRhID0ge30pIHtcbiAgICBjb25zdCBmaWVsZHMgPSBkZWR1Y2VNZXNoRmllbGRzKGF0dHJpYnV0ZXMpO1xuICAgIHJldHVybiB7IGZpZWxkcywgbWV0YWRhdGEgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGFycm93LWxpa2Ugc2NoZW1hIGZpZWxkIGZvciBtZXNoIGF0dHJpYnV0ZVxuICogQHBhcmFtIGF0dHJpYnV0ZU5hbWVcbiAqIEBwYXJhbSBhdHRyaWJ1dGVcbiAqIEBwYXJhbSBvcHRpb25hbE1ldGFkYXRhXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVkdWNlTWVzaEZpZWxkKG5hbWUsIGF0dHJpYnV0ZSwgb3B0aW9uYWxNZXRhZGF0YSkge1xuICAgIGNvbnN0IHR5cGUgPSBnZXREYXRhVHlwZUZyb21UeXBlZEFycmF5KGF0dHJpYnV0ZS52YWx1ZSk7XG4gICAgY29uc3QgbWV0YWRhdGEgPSBvcHRpb25hbE1ldGFkYXRhID8gb3B0aW9uYWxNZXRhZGF0YSA6IG1ha2VNZXNoQXR0cmlidXRlTWV0YWRhdGEoYXR0cmlidXRlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lLFxuICAgICAgICB0eXBlOiB7IHR5cGU6ICdmaXhlZC1zaXplLWxpc3QnLCBsaXN0U2l6ZTogYXR0cmlidXRlLnNpemUsIGNoaWxkcmVuOiBbeyBuYW1lOiAndmFsdWUnLCB0eXBlIH1dIH0sXG4gICAgICAgIG51bGxhYmxlOiBmYWxzZSxcbiAgICAgICAgbWV0YWRhdGFcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGUgZmllbGRzIGFycmF5IGZvciBtZXNoIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBkZWR1Y2VNZXNoRmllbGRzKGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBmaWVsZHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgICBmaWVsZHMucHVzaChkZWR1Y2VNZXNoRmllbGQoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlKSk7XG4gICAgfVxuICAgIHJldHVybiBmaWVsZHM7XG59XG4vKipcbiAqIE1ha2UgbWV0YWRhdGEgYnkgbWVzaCBhdHRyaWJ1dGUgcHJvcGVydGllc1xuICogQHBhcmFtIGF0dHJpYnV0ZVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VNZXNoQXR0cmlidXRlTWV0YWRhdGEoYXR0cmlidXRlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgaWYgKCdieXRlT2Zmc2V0JyBpbiBhdHRyaWJ1dGUpIHtcbiAgICAgICAgcmVzdWx0LmJ5dGVPZmZzZXQgPSBhdHRyaWJ1dGUuYnl0ZU9mZnNldC50b1N0cmluZygxMCk7XG4gICAgfVxuICAgIGlmICgnYnl0ZVN0cmlkZScgaW4gYXR0cmlidXRlKSB7XG4gICAgICAgIHJlc3VsdC5ieXRlU3RyaWRlID0gYXR0cmlidXRlLmJ5dGVTdHJpZGUudG9TdHJpbmcoMTApO1xuICAgIH1cbiAgICBpZiAoJ25vcm1hbGl6ZWQnIGluIGF0dHJpYnV0ZSkge1xuICAgICAgICByZXN1bHQubm9ybWFsaXplZCA9IGF0dHJpYnV0ZS5ub3JtYWxpemVkLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbi8qKiBEZWR1Y2UgY29sdW1uIHR5cGVzIGZyb20gdmFsdWVzICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YVR5cGVGcm9tVmFsdWUodmFsdWUsIGRlZmF1bHROdW1iZXJUeXBlID0gJ2Zsb2F0MzInKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gJ2RhdGUtbWlsbGlzZWNvbmQnO1xuICAgIH1cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHROdW1iZXJUeXBlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gJ3V0ZjgnO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfVxuICAgIHJldHVybiAnbnVsbCc7XG59XG4vKipcbiAqIERlZHVjZXMgYSBzaW1wbGUgZGF0YSB0eXBlIFwiZGVzY3JpcHRvciBmcm9tIGEgdHlwZWQgYXJyYXkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFUeXBlRnJvbUFycmF5KGFycmF5KSB7XG4gICAgbGV0IHR5cGUgPSBnZXREYXRhVHlwZUZyb21UeXBlZEFycmF5KGFycmF5KTtcbiAgICBpZiAodHlwZSAhPT0gJ251bGwnKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGUsIG51bGxhYmxlOiBmYWxzZSB9O1xuICAgIH1cbiAgICBpZiAoYXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICB0eXBlID0gZ2V0RGF0YVR5cGVGcm9tVmFsdWUoYXJyYXlbMF0pO1xuICAgICAgICByZXR1cm4geyB0eXBlLCBudWxsYWJsZTogdHJ1ZSB9O1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiAnbnVsbCcsIG51bGxhYmxlOiB0cnVlIH07XG59XG4vKipcbiAqIERlZHVjZXMgYSBzaW1wbGUgZGF0YSB0eXBlIFwiZGVzY3JpcHRvciBmcm9tIGEgdHlwZWQgYXJyYXkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFUeXBlRnJvbVR5cGVkQXJyYXkoYXJyYXkpIHtcbiAgICBzd2l0Y2ggKGFycmF5LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNhc2UgSW50OEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuICdpbnQ4JztcbiAgICAgICAgY2FzZSBVaW50OEFycmF5OlxuICAgICAgICBjYXNlIFVpbnQ4Q2xhbXBlZEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuICd1aW50OCc7XG4gICAgICAgIGNhc2UgSW50MTZBcnJheTpcbiAgICAgICAgICAgIHJldHVybiAnaW50MTYnO1xuICAgICAgICBjYXNlIFVpbnQxNkFycmF5OlxuICAgICAgICAgICAgcmV0dXJuICd1aW50MTYnO1xuICAgICAgICBjYXNlIEludDMyQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gJ2ludDMyJztcbiAgICAgICAgY2FzZSBVaW50MzJBcnJheTpcbiAgICAgICAgICAgIHJldHVybiAndWludDMyJztcbiAgICAgICAgY2FzZSBGbG9hdDMyQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gJ2Zsb2F0MzInO1xuICAgICAgICBjYXNlIEZsb2F0NjRBcnJheTpcbiAgICAgICAgICAgIHJldHVybiAnZmxvYXQ2NCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheVR5cGVGcm9tRGF0YVR5cGUodHlwZSwgbnVsbGFibGUpIHtcbiAgICBpZiAoIW51bGxhYmxlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnaW50OCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEludDhBcnJheTtcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVWludDhBcnJheTtcbiAgICAgICAgICAgIGNhc2UgJ2ludDE2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gSW50MTZBcnJheTtcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQxNic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFVpbnQxNkFycmF5O1xuICAgICAgICAgICAgY2FzZSAnaW50MzInOlxuICAgICAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5O1xuICAgICAgICAgICAgY2FzZSAndWludDMyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVWludDMyQXJyYXk7XG4gICAgICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRmxvYXQzMkFycmF5O1xuICAgICAgICAgICAgY2FzZSAnZmxvYXQ2NCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZsb2F0NjRBcnJheTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgKHR5cGVvZiBCaWdJbnQ2NEFycmF5ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vICAgVFlQRURfQVJSQVlfVE9fVFlQRS5CaWdJbnQ2NEFycmF5ID0gbmV3IEludDY0KCk7XG4gICAgLy8gICBUWVBFRF9BUlJBWV9UT19UWVBFLkJpZ1VpbnQ2NEFycmF5ID0gbmV3IFVpbnQ2NCgpO1xuICAgIC8vIH1cbiAgICByZXR1cm4gQXJyYXk7XG59XG4iLCJpbXBvcnQgeyBkZWR1Y2VNZXNoRmllbGQgfSBmcm9tICdAbG9hZGVycy5nbC9zY2hlbWEnO1xuLyoqIEV4dHJhY3QgYW4gYXJyb3ctbGlrZSBzY2hlbWEgZnJvbSBhIERyYWNvIG1lc2ggKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREcmFjb1NjaGVtYShhdHRyaWJ1dGVzLCBsb2FkZXJEYXRhLCBpbmRpY2VzKSB7XG4gICAgY29uc3QgbWV0YWRhdGEgPSBtYWtlTWV0YWRhdGEobG9hZGVyRGF0YS5tZXRhZGF0YSk7XG4gICAgY29uc3QgZmllbGRzID0gW107XG4gICAgY29uc3QgbmFtZWRMb2FkZXJEYXRhQXR0cmlidXRlcyA9IHRyYW5zZm9ybUF0dHJpYnV0ZXNMb2FkZXJEYXRhKGxvYWRlckRhdGEuYXR0cmlidXRlcyk7XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXRBcnJvd0ZpZWxkRnJvbUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGUsIG5hbWVkTG9hZGVyRGF0YUF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pO1xuICAgICAgICBmaWVsZHMucHVzaChmaWVsZCk7XG4gICAgfVxuICAgIGlmIChpbmRpY2VzKSB7XG4gICAgICAgIGNvbnN0IGluZGljZXNGaWVsZCA9IGdldEFycm93RmllbGRGcm9tQXR0cmlidXRlKCdpbmRpY2VzJywgaW5kaWNlcyk7XG4gICAgICAgIGZpZWxkcy5wdXNoKGluZGljZXNGaWVsZCk7XG4gICAgfVxuICAgIHJldHVybiB7IGZpZWxkcywgbWV0YWRhdGEgfTtcbn1cbmZ1bmN0aW9uIHRyYW5zZm9ybUF0dHJpYnV0ZXNMb2FkZXJEYXRhKGxvYWRlckRhdGEpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBsb2FkZXJEYXRhKSB7XG4gICAgICAgIGNvbnN0IGRyYWNvQXR0cmlidXRlID0gbG9hZGVyRGF0YVtrZXldO1xuICAgICAgICByZXN1bHRbZHJhY29BdHRyaWJ1dGUubmFtZSB8fCAndW5kZWZpbmVkJ10gPSBkcmFjb0F0dHJpYnV0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldEFycm93RmllbGRGcm9tQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZSwgbG9hZGVyRGF0YSkge1xuICAgIGNvbnN0IG1ldGFkYXRhTWFwID0gbG9hZGVyRGF0YSA/IG1ha2VNZXRhZGF0YShsb2FkZXJEYXRhLm1ldGFkYXRhKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBmaWVsZCA9IGRlZHVjZU1lc2hGaWVsZChhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGUsIG1ldGFkYXRhTWFwKTtcbiAgICByZXR1cm4gZmllbGQ7XG59XG5mdW5jdGlvbiBtYWtlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICBPYmplY3QuZW50cmllcyhtZXRhZGF0YSk7XG4gICAgY29uc3Qgc2VyaWFsaXplZE1ldGFkYXRhID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbWV0YWRhdGEpIHtcbiAgICAgICAgc2VyaWFsaXplZE1ldGFkYXRhW2Ake2tleX0uc3RyaW5nYF0gPSBKU09OLnN0cmluZ2lmeShtZXRhZGF0YVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWRNZXRhZGF0YTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0IHsgZ2V0TWVzaEJvdW5kaW5nQm94IH0gZnJvbSAnQGxvYWRlcnMuZ2wvc2NoZW1hJztcbmltcG9ydCB7IGdldERyYWNvU2NoZW1hIH0gZnJvbSBcIi4vdXRpbHMvZ2V0LWRyYWNvLXNjaGVtYS5qc1wiO1xuLy8gQHRzLWlnbm9yZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuY29uc3QgR0VPTUVUUllfVFlQRSA9IHtcbiAgICBUUklBTkdVTEFSX01FU0g6IDAsXG4gICAgUE9JTlRfQ0xPVUQ6IDFcbn07XG4vLyBOYXRpdmUgRHJhY28gYXR0cmlidXRlIG5hbWVzIHRvIEdMVEYgYXR0cmlidXRlIG5hbWVzLlxuY29uc3QgRFJBQ09fVE9fR0xURl9BVFRSSUJVVEVfTkFNRV9NQVAgPSB7XG4gICAgUE9TSVRJT046ICdQT1NJVElPTicsXG4gICAgTk9STUFMOiAnTk9STUFMJyxcbiAgICBDT0xPUjogJ0NPTE9SXzAnLFxuICAgIFRFWF9DT09SRDogJ1RFWENPT1JEXzAnXG59O1xuY29uc3QgRFJBQ09fREFUQV9UWVBFX1RPX1RZUEVEX0FSUkFZX01BUCA9IHtcbiAgICAxOiBJbnQ4QXJyYXksXG4gICAgMjogVWludDhBcnJheSxcbiAgICAzOiBJbnQxNkFycmF5LFxuICAgIDQ6IFVpbnQxNkFycmF5LFxuICAgIDU6IEludDMyQXJyYXksXG4gICAgNjogVWludDMyQXJyYXksXG4gICAgLy8gNzogQmlnSW50NjRBcnJheSxcbiAgICAvLyA4OiBCaWdVaW50NjRBcnJheSxcbiAgICA5OiBGbG9hdDMyQXJyYXlcbiAgICAvLyAxMDogRmxvYXQ2NEFycmF5XG4gICAgLy8gMTE6IEJPT0wgLSBXaGF0IGFycmF5IHR5cGUgZG8gd2UgdXNlIGZvciB0aGlzP1xufTtcbmNvbnN0IElOREVYX0lURU1fU0laRSA9IDQ7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcmFjb1BhcnNlciB7XG4gICAgZHJhY287XG4gICAgZGVjb2RlcjtcbiAgICBtZXRhZGF0YVF1ZXJpZXI7XG4gICAgLy8gZHJhY28gLSB0aGUgZHJhY28gZGVjb2RlciwgZWl0aGVyIGltcG9ydCBgZHJhY28zZGAgb3IgbG9hZCBkeW5hbWljYWxseVxuICAgIGNvbnN0cnVjdG9yKGRyYWNvKSB7XG4gICAgICAgIHRoaXMuZHJhY28gPSBkcmFjbztcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gbmV3IHRoaXMuZHJhY28uRGVjb2RlcigpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhUXVlcmllciA9IG5ldyB0aGlzLmRyYWNvLk1ldGFkYXRhUXVlcmllcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGRyYWNvIHJlc291cmNlc1xuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZHJhY28uZGVzdHJveSh0aGlzLmRlY29kZXIpO1xuICAgICAgICB0aGlzLmRyYWNvLmRlc3Ryb3kodGhpcy5tZXRhZGF0YVF1ZXJpZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOT1RFOiBjYWxsZXIgbXVzdCBjYWxsIGBkZXN0cm95R2VvbWV0cnlgIG9uIHRoZSByZXR1cm4gdmFsdWUgYWZ0ZXIgdXNpbmcgaXRcbiAgICAgKiBAcGFyYW0gYXJyYXlCdWZmZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHBhcnNlU3luYyhhcnJheUJ1ZmZlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyB0aGlzLmRyYWNvLkRlY29kZXJCdWZmZXIoKTtcbiAgICAgICAgYnVmZmVyLkluaXQobmV3IEludDhBcnJheShhcnJheUJ1ZmZlciksIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgICB0aGlzLl9kaXNhYmxlQXR0cmlidXRlVHJhbnNmb3JtcyhvcHRpb25zKTtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnlfdHlwZSA9IHRoaXMuZGVjb2Rlci5HZXRFbmNvZGVkR2VvbWV0cnlUeXBlKGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IGRyYWNvR2VvbWV0cnkgPSBnZW9tZXRyeV90eXBlID09PSB0aGlzLmRyYWNvLlRSSUFOR1VMQVJfTUVTSFxuICAgICAgICAgICAgPyBuZXcgdGhpcy5kcmFjby5NZXNoKClcbiAgICAgICAgICAgIDogbmV3IHRoaXMuZHJhY28uUG9pbnRDbG91ZCgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGRyYWNvU3RhdHVzO1xuICAgICAgICAgICAgc3dpdGNoIChnZW9tZXRyeV90eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLmRyYWNvLlRSSUFOR1VMQVJfTUVTSDpcbiAgICAgICAgICAgICAgICAgICAgZHJhY29TdGF0dXMgPSB0aGlzLmRlY29kZXIuRGVjb2RlQnVmZmVyVG9NZXNoKGJ1ZmZlciwgZHJhY29HZW9tZXRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5kcmFjby5QT0lOVF9DTE9VRDpcbiAgICAgICAgICAgICAgICAgICAgZHJhY29TdGF0dXMgPSB0aGlzLmRlY29kZXIuRGVjb2RlQnVmZmVyVG9Qb2ludENsb3VkKGJ1ZmZlciwgZHJhY29HZW9tZXRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRFJBQ086IFVua25vd24gZ2VvbWV0cnkgdHlwZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZHJhY29TdGF0dXMub2soKSB8fCAhZHJhY29HZW9tZXRyeS5wdHIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYERSQUNPIGRlY29tcHJlc3Npb24gZmFpbGVkOiAke2RyYWNvU3RhdHVzLmVycm9yX21zZygpfWA7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2FkZXJEYXRhID0gdGhpcy5fZ2V0RHJhY29Mb2FkZXJEYXRhKGRyYWNvR2VvbWV0cnksIGdlb21ldHJ5X3R5cGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLl9nZXRNZXNoRGF0YShkcmFjb0dlb21ldHJ5LCBsb2FkZXJEYXRhLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kaW5nQm94ID0gZ2V0TWVzaEJvdW5kaW5nQm94KGdlb21ldHJ5LmF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gZ2V0RHJhY29TY2hlbWEoZ2VvbWV0cnkuYXR0cmlidXRlcywgbG9hZGVyRGF0YSwgZ2VvbWV0cnkuaW5kaWNlcyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGxvYWRlcjogJ2RyYWNvJyxcbiAgICAgICAgICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICAgICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhDb3VudDogZHJhY29HZW9tZXRyeS5udW1fcG9pbnRzKCksXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kaW5nQm94XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi5nZW9tZXRyeSxcbiAgICAgICAgICAgICAgICBzY2hlbWFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuZHJhY28uZGVzdHJveShidWZmZXIpO1xuICAgICAgICAgICAgaWYgKGRyYWNvR2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWNvLmRlc3Ryb3koZHJhY29HZW9tZXRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gRHJhY28gc3BlY2lmaWMgXCJsb2FkZXIgZGF0YVwiXG4gICAgLyoqXG4gICAgICogRXh0cmFjdFxuICAgICAqIEBwYXJhbSBkcmFjb0dlb21ldHJ5XG4gICAgICogQHBhcmFtIGdlb21ldHJ5X3R5cGVcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgX2dldERyYWNvTG9hZGVyRGF0YShkcmFjb0dlb21ldHJ5LCBnZW9tZXRyeV90eXBlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5fZ2V0VG9wTGV2ZWxNZXRhZGF0YShkcmFjb0dlb21ldHJ5KTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHRoaXMuX2dldERyYWNvQXR0cmlidXRlcyhkcmFjb0dlb21ldHJ5LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdlb21ldHJ5X3R5cGUsXG4gICAgICAgICAgICBudW1fYXR0cmlidXRlczogZHJhY29HZW9tZXRyeS5udW1fYXR0cmlidXRlcygpLFxuICAgICAgICAgICAgbnVtX3BvaW50czogZHJhY29HZW9tZXRyeS5udW1fcG9pbnRzKCksXG4gICAgICAgICAgICBudW1fZmFjZXM6IGRyYWNvR2VvbWV0cnkgaW5zdGFuY2VvZiB0aGlzLmRyYWNvLk1lc2ggPyBkcmFjb0dlb21ldHJ5Lm51bV9mYWNlcygpIDogMCxcbiAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgYXR0cmlidXRlc1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGFsbCBkcmFjbyBwcm92aWRlZCBpbmZvcm1hdGlvbiBhbmQgbWV0YWRhdGEgZm9yIGVhY2ggYXR0cmlidXRlXG4gICAgICogQHBhcmFtIGRyYWNvR2VvbWV0cnlcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgX2dldERyYWNvQXR0cmlidXRlcyhkcmFjb0dlb21ldHJ5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGRyYWNvQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBhdHRyaWJ1dGVJZCA9IDA7IGF0dHJpYnV0ZUlkIDwgZHJhY29HZW9tZXRyeS5udW1fYXR0cmlidXRlcygpOyBhdHRyaWJ1dGVJZCsrKSB7XG4gICAgICAgICAgICAvLyBOb3RlOiBEcmFjbyBkb2NzIGRvIG5vdCBzZWVtIGNsZWFyIG9uIGBHZXRBdHRyaWJ1dGVgIGlkcyBqdXN0IGJlaW5nIGEgemVyby1iYXNlZCBpbmRleCxcbiAgICAgICAgICAgIC8vIGJ1dCBpdCBkb2VzIHNlZW1zIHRvIHdvcmsgdGhpcyB3YXlcbiAgICAgICAgICAgIGNvbnN0IGRyYWNvQXR0cmlidXRlID0gdGhpcy5kZWNvZGVyLkdldEF0dHJpYnV0ZShkcmFjb0dlb21ldHJ5LCBhdHRyaWJ1dGVJZCk7XG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuX2dldEF0dHJpYnV0ZU1ldGFkYXRhKGRyYWNvR2VvbWV0cnksIGF0dHJpYnV0ZUlkKTtcbiAgICAgICAgICAgIGRyYWNvQXR0cmlidXRlc1tkcmFjb0F0dHJpYnV0ZS51bmlxdWVfaWQoKV0gPSB7XG4gICAgICAgICAgICAgICAgdW5pcXVlX2lkOiBkcmFjb0F0dHJpYnV0ZS51bmlxdWVfaWQoKSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVfdHlwZTogZHJhY29BdHRyaWJ1dGUuYXR0cmlidXRlX3R5cGUoKSxcbiAgICAgICAgICAgICAgICBkYXRhX3R5cGU6IGRyYWNvQXR0cmlidXRlLmRhdGFfdHlwZSgpLFxuICAgICAgICAgICAgICAgIG51bV9jb21wb25lbnRzOiBkcmFjb0F0dHJpYnV0ZS5udW1fY29tcG9uZW50cygpLFxuICAgICAgICAgICAgICAgIGJ5dGVfb2Zmc2V0OiBkcmFjb0F0dHJpYnV0ZS5ieXRlX29mZnNldCgpLFxuICAgICAgICAgICAgICAgIGJ5dGVfc3RyaWRlOiBkcmFjb0F0dHJpYnV0ZS5ieXRlX3N0cmlkZSgpLFxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQ6IGRyYWNvQXR0cmlidXRlLm5vcm1hbGl6ZWQoKSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVfaW5kZXg6IGF0dHJpYnV0ZUlkLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQWRkIHRyYW5zZm9ybWF0aW9uIHBhcmFtZXRlcnMgZm9yIGFueSBhdHRyaWJ1dGVzIGFwcCB3YW50cyB1bnRyYW5zZm9ybWVkXG4gICAgICAgICAgICBjb25zdCBxdWFudGl6YXRpb24gPSB0aGlzLl9nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oZHJhY29BdHRyaWJ1dGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKHF1YW50aXphdGlvbikge1xuICAgICAgICAgICAgICAgIGRyYWNvQXR0cmlidXRlc1tkcmFjb0F0dHJpYnV0ZS51bmlxdWVfaWQoKV0ucXVhbnRpemF0aW9uX3RyYW5zZm9ybSA9IHF1YW50aXphdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9jdGFoZWRyb24gPSB0aGlzLl9nZXRPY3RhaGVkcm9uVHJhbnNmb3JtKGRyYWNvQXR0cmlidXRlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChvY3RhaGVkcm9uKSB7XG4gICAgICAgICAgICAgICAgZHJhY29BdHRyaWJ1dGVzW2RyYWNvQXR0cmlidXRlLnVuaXF1ZV9pZCgpXS5vY3RhaGVkcm9uX3RyYW5zZm9ybSA9IG9jdGFoZWRyb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRyYWNvQXR0cmlidXRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHN0YW5kYXJkIGxvYWRlcnMuZ2wgbWVzaCBjYXRlZ29yeSBkYXRhXG4gICAgICogRXh0cmFjdHMgdGhlIGdlb21ldHJ5IGZyb20gZHJhY29cbiAgICAgKiBAcGFyYW0gZHJhY29HZW9tZXRyeVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgX2dldE1lc2hEYXRhKGRyYWNvR2VvbWV0cnksIGxvYWRlckRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHRoaXMuX2dldE1lc2hBdHRyaWJ1dGVzKGxvYWRlckRhdGEsIGRyYWNvR2VvbWV0cnksIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXMuUE9TSVRJT047XG4gICAgICAgIGlmICghcG9zaXRpb25BdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRFJBQ086IE5vIHBvc2l0aW9uIGF0dHJpYnV0ZSBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3IgbWVzaGVzLCB3ZSBuZWVkIGluZGljZXMgdG8gZGVmaW5lIHRoZSBmYWNlcy5cbiAgICAgICAgaWYgKGRyYWNvR2VvbWV0cnkgaW5zdGFuY2VvZiB0aGlzLmRyYWNvLk1lc2gpIHtcbiAgICAgICAgICAgIHN3aXRjaCAob3B0aW9ucy50b3BvbG9neSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RyaWFuZ2xlLXN0cmlwJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9sb2d5OiAndHJpYW5nbGUtc3RyaXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogNCwgLy8gR0wuVFJJQU5HTEVTXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9nZXRUcmlhbmdsZVN0cmlwSW5kaWNlcyhkcmFjb0dlb21ldHJ5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FzZSAndHJpYW5nbGUtbGlzdCc6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG9sb2d5OiAndHJpYW5nbGUtbGlzdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiA1LCAvLyBHTC5UUklBTkdMRV9TVFJJUFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5fZ2V0VHJpYW5nbGVMaXN0SW5kaWNlcyhkcmFjb0dlb21ldHJ5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9pbnRDbG91ZCAtIG11c3QgY29tZSBsYXN0IGFzIE1lc2ggaW5oZXJpdHMgZnJvbSBQb2ludENsb3VkXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3BvbG9neTogJ3BvaW50LWxpc3QnLFxuICAgICAgICAgICAgbW9kZTogMCwgLy8gR0wuUE9JTlRTXG4gICAgICAgICAgICBhdHRyaWJ1dGVzXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9nZXRNZXNoQXR0cmlidXRlcyhsb2FkZXJEYXRhLCBkcmFjb0dlb21ldHJ5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBsb2FkZXJBdHRyaWJ1dGUgb2YgT2JqZWN0LnZhbHVlcyhsb2FkZXJEYXRhLmF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5fZGVkdWNlQXR0cmlidXRlTmFtZShsb2FkZXJBdHRyaWJ1dGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgbG9hZGVyQXR0cmlidXRlLm5hbWUgPSBhdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5fZ2V0QXR0cmlidXRlVmFsdWVzKGRyYWNvR2VvbWV0cnksIGxvYWRlckF0dHJpYnV0ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgc2l6ZSB9ID0gdmFsdWVzO1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgICAgICAgICBieXRlT2Zmc2V0OiBsb2FkZXJBdHRyaWJ1dGUuYnl0ZV9vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVTdHJpZGU6IGxvYWRlckF0dHJpYnV0ZS5ieXRlX3N0cmlkZSxcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZDogbG9hZGVyQXR0cmlidXRlLm5vcm1hbGl6ZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICAvLyBNRVNIIElORElDRVMgRVhUUkFDVElPTlxuICAgIC8qKlxuICAgICAqIEZvciBtZXNoZXMsIHdlIG5lZWQgaW5kaWNlcyB0byBkZWZpbmUgdGhlIGZhY2VzLlxuICAgICAqIEBwYXJhbSBkcmFjb0dlb21ldHJ5XG4gICAgICovXG4gICAgX2dldFRyaWFuZ2xlTGlzdEluZGljZXMoZHJhY29HZW9tZXRyeSkge1xuICAgICAgICAvLyBFeGFtcGxlIG9uIGhvdyB0byByZXRyaWV2ZSBtZXNoIGFuZCBhdHRyaWJ1dGVzLlxuICAgICAgICBjb25zdCBudW1GYWNlcyA9IGRyYWNvR2VvbWV0cnkubnVtX2ZhY2VzKCk7XG4gICAgICAgIGNvbnN0IG51bUluZGljZXMgPSBudW1GYWNlcyAqIDM7XG4gICAgICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBudW1JbmRpY2VzICogSU5ERVhfSVRFTV9TSVpFO1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLmRyYWNvLl9tYWxsb2MoYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlY29kZXIuR2V0VHJpYW5nbGVzVUludDMyQXJyYXkoZHJhY29HZW9tZXRyeSwgYnl0ZUxlbmd0aCwgcHRyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkodGhpcy5kcmFjby5IRUFQRjMyLmJ1ZmZlciwgcHRyLCBudW1JbmRpY2VzKS5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5kcmFjby5fZnJlZShwdHIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBtZXNoZXMsIHdlIG5lZWQgaW5kaWNlcyB0byBkZWZpbmUgdGhlIGZhY2VzLlxuICAgICAqIEBwYXJhbSBkcmFjb0dlb21ldHJ5XG4gICAgICovXG4gICAgX2dldFRyaWFuZ2xlU3RyaXBJbmRpY2VzKGRyYWNvR2VvbWV0cnkpIHtcbiAgICAgICAgY29uc3QgZHJhY29BcnJheSA9IG5ldyB0aGlzLmRyYWNvLkRyYWNvSW50MzJBcnJheSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyogY29uc3QgbnVtU3RyaXBzID0gKi8gdGhpcy5kZWNvZGVyLkdldFRyaWFuZ2xlU3RyaXBzRnJvbU1lc2goZHJhY29HZW9tZXRyeSwgZHJhY29BcnJheSk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VWludDMyQXJyYXkoZHJhY29BcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmRyYWNvLmRlc3Ryb3koZHJhY29BcnJheSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZHJhY29HZW9tZXRyeVxuICAgICAqIEBwYXJhbSBkcmFjb0F0dHJpYnV0ZVxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVOYW1lXG4gICAgICovXG4gICAgX2dldEF0dHJpYnV0ZVZhbHVlcyhkcmFjb0dlb21ldHJ5LCBhdHRyaWJ1dGUpIHtcbiAgICAgICAgY29uc3QgVHlwZWRBcnJheUN0b3IgPSBEUkFDT19EQVRBX1RZUEVfVE9fVFlQRURfQVJSQVlfTUFQW2F0dHJpYnV0ZS5kYXRhX3R5cGVdO1xuICAgICAgICBpZiAoIVR5cGVkQXJyYXlDdG9yKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBEUkFDTzogVW5zdXBwb3J0ZWQgYXR0cmlidXRlIHR5cGUgJHthdHRyaWJ1dGUuZGF0YV90eXBlfWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnVtQ29tcG9uZW50cyA9IGF0dHJpYnV0ZS5udW1fY29tcG9uZW50cztcbiAgICAgICAgY29uc3QgbnVtUG9pbnRzID0gZHJhY29HZW9tZXRyeS5udW1fcG9pbnRzKCk7XG4gICAgICAgIGNvbnN0IG51bVZhbHVlcyA9IG51bVBvaW50cyAqIG51bUNvbXBvbmVudHM7XG4gICAgICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBudW1WYWx1ZXMgKiBUeXBlZEFycmF5Q3Rvci5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgY29uc3QgZGF0YVR5cGUgPSBnZXREcmFjb0RhdGFUeXBlKHRoaXMuZHJhY28sIFR5cGVkQXJyYXlDdG9yKTtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLmRyYWNvLl9tYWxsb2MoYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkcmFjb0F0dHJpYnV0ZSA9IHRoaXMuZGVjb2Rlci5HZXRBdHRyaWJ1dGUoZHJhY29HZW9tZXRyeSwgYXR0cmlidXRlLmF0dHJpYnV0ZV9pbmRleCk7XG4gICAgICAgICAgICB0aGlzLmRlY29kZXIuR2V0QXR0cmlidXRlRGF0YUFycmF5Rm9yQWxsUG9pbnRzKGRyYWNvR2VvbWV0cnksIGRyYWNvQXR0cmlidXRlLCBkYXRhVHlwZSwgYnl0ZUxlbmd0aCwgcHRyKTtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3IFR5cGVkQXJyYXlDdG9yKHRoaXMuZHJhY28uSEVBUEYzMi5idWZmZXIsIHB0ciwgbnVtVmFsdWVzKS5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5kcmFjby5fZnJlZShwdHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbHVlLCBzaXplOiBudW1Db21wb25lbnRzIH07XG4gICAgfVxuICAgIC8vIEF0dHJpYnV0ZSBuYW1lc1xuICAgIC8qKlxuICAgICAqIERSQUNPIGRvZXMgbm90IHN0b3JlIGF0dHJpYnV0ZSBuYW1lcyAtIFdlIG5lZWQgdG8gZGVkdWNlIGFuIGF0dHJpYnV0ZSBuYW1lXG4gICAgICogZm9yIGVhY2ggYXR0cmlidXRlXG4gICAgX2dldEF0dHJpYnV0ZU5hbWVzKFxuICAgICAgZHJhY29HZW9tZXRyeTogTWVzaCB8IFBvaW50Q2xvdWQsXG4gICAgICBvcHRpb25zOiBEcmFjb1BhcnNlT3B0aW9uc1xuICAgICk6IHtbdW5pcXVlX2lkOiBudW1iZXJdOiBzdHJpbmd9IHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWVzOiB7W3VuaXF1ZV9pZDogbnVtYmVyXTogc3RyaW5nfSA9IHt9O1xuICAgICAgZm9yIChsZXQgYXR0cmlidXRlSWQgPSAwOyBhdHRyaWJ1dGVJZCA8IGRyYWNvR2VvbWV0cnkubnVtX2F0dHJpYnV0ZXMoKTsgYXR0cmlidXRlSWQrKykge1xuICAgICAgICBjb25zdCBkcmFjb0F0dHJpYnV0ZSA9IHRoaXMuZGVjb2Rlci5HZXRBdHRyaWJ1dGUoZHJhY29HZW9tZXRyeSwgYXR0cmlidXRlSWQpO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5fZGVkdWNlQXR0cmlidXRlTmFtZShkcmFjb0F0dHJpYnV0ZSwgb3B0aW9ucyk7XG4gICAgICAgIGF0dHJpYnV0ZU5hbWVzW2F0dHJpYnV0ZU5hbWVdID0gYXR0cmlidXRlTmFtZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhdHRyaWJ1dGVOYW1lcztcbiAgICB9XG4gICAgICovXG4gICAgLyoqXG4gICAgICogRGVkdWNlIGFuIGF0dHJpYnV0ZSBuYW1lLlxuICAgICAqIEBub3RlIERSQUNPIGRvZXMgbm90IHNhdmUgYXR0cmlidXRlIG5hbWVzLCBqdXN0IGdlbmVyYWwgdHlwZSAoUE9TSVRJT04sIENPTE9SKVxuICAgICAqIHRvIGhlbHAgb3B0aW1pemUgY29tcHJlc3Npb24uIFdlIGdlbmVyYXRlIEdMVEYgY29tcGF0aWJsZSBuYW1lcyBmb3IgdGhlIERyYWNvLXJlY29nbml6ZWRcbiAgICAgKiB0eXBlc1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVEYXRhXG4gICAgICovXG4gICAgX2RlZHVjZUF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIERlZHVjZSBuYW1lIGJhc2VkIG9uIGFwcGxpY2F0aW9uIHByb3ZpZGVkIG1hcFxuICAgICAgICBjb25zdCB1bmlxdWVJZCA9IGF0dHJpYnV0ZS51bmlxdWVfaWQ7XG4gICAgICAgIGZvciAoY29uc3QgW2F0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVVuaXF1ZUlkXSBvZiBPYmplY3QuZW50cmllcyhvcHRpb25zLmV4dHJhQXR0cmlidXRlcyB8fCB7fSkpIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVVbmlxdWVJZCA9PT0gdW5pcXVlSWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBEZWR1Y2UgbmFtZSBiYXNlZCBvbiBhdHRyaWJ1dGUgdHlwZVxuICAgICAgICBjb25zdCB0aGlzQXR0cmlidXRlVHlwZSA9IGF0dHJpYnV0ZS5hdHRyaWJ1dGVfdHlwZTtcbiAgICAgICAgZm9yIChjb25zdCBkcmFjb0F0dHJpYnV0ZUNvbnN0YW50IGluIERSQUNPX1RPX0dMVEZfQVRUUklCVVRFX05BTUVfTUFQKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVUeXBlID0gdGhpcy5kcmFjb1tkcmFjb0F0dHJpYnV0ZUNvbnN0YW50XTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVUeXBlID09PSB0aGlzQXR0cmlidXRlVHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBSZXR1cm4gdW5pcXVlIG5hbWVzIGlmIHRoZXJlIG11bHRpcGxlIGF0dHJpYnV0ZXMgcGVyIHR5cGVcbiAgICAgICAgICAgICAgICAvLyAoZS5nLiBtdWx0aXBsZSBURVhfQ09PUkRTIG9yIENPTE9SUylcbiAgICAgICAgICAgICAgICByZXR1cm4gRFJBQ09fVE9fR0xURl9BVFRSSUJVVEVfTkFNRV9NQVBbZHJhY29BdHRyaWJ1dGVDb25zdGFudF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9vayB1cCBpbiBtZXRhZGF0YVxuICAgICAgICAvLyBUT0RPIC0gc2hvdWxkbid0IHRoaXMgaGF2ZSBwcmlvcml0eT9cbiAgICAgICAgY29uc3QgZW50cnlOYW1lID0gb3B0aW9ucy5hdHRyaWJ1dGVOYW1lRW50cnkgfHwgJ25hbWUnO1xuICAgICAgICBpZiAoYXR0cmlidXRlLm1ldGFkYXRhW2VudHJ5TmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGUubWV0YWRhdGFbZW50cnlOYW1lXS5zdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0cmlidXRlIG9mIFwiR0VORVJJQ1wiIHR5cGUsIHdlIG5lZWQgdG8gYXNzaWduIHNvbWUgbmFtZVxuICAgICAgICByZXR1cm4gYENVU1RPTV9BVFRSSUJVVEVfJHt1bmlxdWVJZH1gO1xuICAgIH1cbiAgICAvLyBNRVRBREFUQSBFWFRSQUNUSU9OXG4gICAgLyoqIEdldCB0b3AgbGV2ZWwgbWV0YWRhdGEgKi9cbiAgICBfZ2V0VG9wTGV2ZWxNZXRhZGF0YShkcmFjb0dlb21ldHJ5KSB7XG4gICAgICAgIGNvbnN0IGRyYWNvTWV0YWRhdGEgPSB0aGlzLmRlY29kZXIuR2V0TWV0YWRhdGEoZHJhY29HZW9tZXRyeSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXREcmFjb01ldGFkYXRhKGRyYWNvTWV0YWRhdGEpO1xuICAgIH1cbiAgICAvKiogR2V0IHBlciBhdHRyaWJ1dGUgbWV0YWRhdGEgKi9cbiAgICBfZ2V0QXR0cmlidXRlTWV0YWRhdGEoZHJhY29HZW9tZXRyeSwgYXR0cmlidXRlSWQpIHtcbiAgICAgICAgY29uc3QgZHJhY29NZXRhZGF0YSA9IHRoaXMuZGVjb2Rlci5HZXRBdHRyaWJ1dGVNZXRhZGF0YShkcmFjb0dlb21ldHJ5LCBhdHRyaWJ1dGVJZCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXREcmFjb01ldGFkYXRhKGRyYWNvTWV0YWRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IG1ldGFkYXRhIGZpZWxkIHZhbHVlc1xuICAgICAqIEBwYXJhbSBkcmFjb01ldGFkYXRhXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBfZ2V0RHJhY29NZXRhZGF0YShkcmFjb01ldGFkYXRhKSB7XG4gICAgICAgIC8vIFRoZSBub3Qgc28gd29uZGVyZnVsIHdvcmxkIG9mIHVuZG9jdW1lbnRlZCBEcmFjbyBBUElzIDooXG4gICAgICAgIGlmICghZHJhY29NZXRhZGF0YSB8fCAhZHJhY29NZXRhZGF0YS5wdHIpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgY29uc3QgbnVtRW50cmllcyA9IHRoaXMubWV0YWRhdGFRdWVyaWVyLk51bUVudHJpZXMoZHJhY29NZXRhZGF0YSk7XG4gICAgICAgIGZvciAobGV0IGVudHJ5SW5kZXggPSAwOyBlbnRyeUluZGV4IDwgbnVtRW50cmllczsgZW50cnlJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeU5hbWUgPSB0aGlzLm1ldGFkYXRhUXVlcmllci5HZXRFbnRyeU5hbWUoZHJhY29NZXRhZGF0YSwgZW50cnlJbmRleCk7XG4gICAgICAgICAgICByZXN1bHRbZW50cnlOYW1lXSA9IHRoaXMuX2dldERyYWNvTWV0YWRhdGFGaWVsZChkcmFjb01ldGFkYXRhLCBlbnRyeU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHBvc3NpYmxlIHZhbHVlcyBmb3Igb25lIG1ldGFkYXRhIGVudHJ5IGJ5IG5hbWVcbiAgICAgKiBAcGFyYW0gZHJhY29NZXRhZGF0YVxuICAgICAqIEBwYXJhbSBlbnRyeU5hbWVcbiAgICAgKi9cbiAgICBfZ2V0RHJhY29NZXRhZGF0YUZpZWxkKGRyYWNvTWV0YWRhdGEsIGVudHJ5TmFtZSkge1xuICAgICAgICBjb25zdCBkcmFjb0FycmF5ID0gbmV3IHRoaXMuZHJhY28uRHJhY29JbnQzMkFycmF5KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBEcmFjbyBtZXRhZGF0YSBmaWVsZHMgY2FuIGhvbGQgaW50MzIgYXJyYXlzXG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhUXVlcmllci5HZXRJbnRFbnRyeUFycmF5KGRyYWNvTWV0YWRhdGEsIGVudHJ5TmFtZSwgZHJhY29BcnJheSk7XG4gICAgICAgICAgICBjb25zdCBpbnRBcnJheSA9IGdldEludDMyQXJyYXkoZHJhY29BcnJheSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGludDogdGhpcy5tZXRhZGF0YVF1ZXJpZXIuR2V0SW50RW50cnkoZHJhY29NZXRhZGF0YSwgZW50cnlOYW1lKSxcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHRoaXMubWV0YWRhdGFRdWVyaWVyLkdldFN0cmluZ0VudHJ5KGRyYWNvTWV0YWRhdGEsIGVudHJ5TmFtZSksXG4gICAgICAgICAgICAgICAgZG91YmxlOiB0aGlzLm1ldGFkYXRhUXVlcmllci5HZXREb3VibGVFbnRyeShkcmFjb01ldGFkYXRhLCBlbnRyeU5hbWUpLFxuICAgICAgICAgICAgICAgIGludEFycmF5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5kcmFjby5kZXN0cm95KGRyYWNvQXJyYXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFFVQU5USVpFRCBBVFRSSUJVVEUgU1VQUE9SVCAoTk8gREVDT01QUkVTU0lPTilcbiAgICAvKiogU2tpcCB0cmFuc2Zvcm1zIGZvciBzcGVjaWZpYyBhdHRyaWJ1dGUgdHlwZXMgKi9cbiAgICBfZGlzYWJsZUF0dHJpYnV0ZVRyYW5zZm9ybXMob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHF1YW50aXplZEF0dHJpYnV0ZXMgPSBbXSwgb2N0YWhlZHJvbkF0dHJpYnV0ZXMgPSBbXSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2tpcEF0dHJpYnV0ZXMgPSBbLi4ucXVhbnRpemVkQXR0cmlidXRlcywgLi4ub2N0YWhlZHJvbkF0dHJpYnV0ZXNdO1xuICAgICAgICBmb3IgKGNvbnN0IGRyYWNvQXR0cmlidXRlTmFtZSBvZiBza2lwQXR0cmlidXRlcykge1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVyLlNraXBBdHRyaWJ1dGVUcmFuc2Zvcm0odGhpcy5kcmFjb1tkcmFjb0F0dHJpYnV0ZU5hbWVdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IChhbmQgYXBwbHk/KSBQb3NpdGlvbiBUcmFuc2Zvcm1cbiAgICAgKiBAdG9kbyBub3QgdXNlZFxuICAgICAqL1xuICAgIF9nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oZHJhY29BdHRyaWJ1dGUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBxdWFudGl6ZWRBdHRyaWJ1dGVzID0gW10gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZV90eXBlID0gZHJhY29BdHRyaWJ1dGUuYXR0cmlidXRlX3R5cGUoKTtcbiAgICAgICAgY29uc3Qgc2tpcCA9IHF1YW50aXplZEF0dHJpYnV0ZXMubWFwKCh0eXBlKSA9PiB0aGlzLmRlY29kZXJbdHlwZV0pLmluY2x1ZGVzKGF0dHJpYnV0ZV90eXBlKTtcbiAgICAgICAgaWYgKHNraXApIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyB0aGlzLmRyYWNvLkF0dHJpYnV0ZVF1YW50aXphdGlvblRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtLkluaXRGcm9tQXR0cmlidXRlKGRyYWNvQXR0cmlidXRlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpemF0aW9uX2JpdHM6IHRyYW5zZm9ybS5xdWFudGl6YXRpb25fYml0cygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHRyYW5zZm9ybS5yYW5nZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluX3ZhbHVlczogbmV3IEZsb2F0MzJBcnJheShbMSwgMiwgM10pLm1hcCgoaSkgPT4gdHJhbnNmb3JtLm1pbl92YWx1ZShpKSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWNvLmRlc3Ryb3kodHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgX2dldE9jdGFoZWRyb25UcmFuc2Zvcm0oZHJhY29BdHRyaWJ1dGUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBvY3RhaGVkcm9uQXR0cmlidXRlcyA9IFtdIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVfdHlwZSA9IGRyYWNvQXR0cmlidXRlLmF0dHJpYnV0ZV90eXBlKCk7XG4gICAgICAgIGNvbnN0IG9jdGFoZWRyb24gPSBvY3RhaGVkcm9uQXR0cmlidXRlc1xuICAgICAgICAgICAgLm1hcCgodHlwZSkgPT4gdGhpcy5kZWNvZGVyW3R5cGVdKVxuICAgICAgICAgICAgLmluY2x1ZGVzKGF0dHJpYnV0ZV90eXBlKTtcbiAgICAgICAgaWYgKG9jdGFoZWRyb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyB0aGlzLmRyYWNvLkF0dHJpYnV0ZVF1YW50aXphdGlvblRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtLkluaXRGcm9tQXR0cmlidXRlKGRyYWNvQXR0cmlidXRlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpemF0aW9uX2JpdHM6IHRyYW5zZm9ybS5xdWFudGl6YXRpb25fYml0cygpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmFjby5kZXN0cm95KHRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLyoqXG4gKiBHZXQgZHJhY28gc3BlY2lmaWMgZGF0YSB0eXBlIGJ5IFR5cGVkQXJyYXkgY29uc3RydWN0b3IgdHlwZVxuICogQHBhcmFtIGF0dHJpYnV0ZVR5cGVcbiAqIEByZXR1cm5zIGRyYWNvIHNwZWNpZmljIGRhdGEgdHlwZVxuICovXG5mdW5jdGlvbiBnZXREcmFjb0RhdGFUeXBlKGRyYWNvLCBhdHRyaWJ1dGVUeXBlKSB7XG4gICAgc3dpdGNoIChhdHRyaWJ1dGVUeXBlKSB7XG4gICAgICAgIGNhc2UgRmxvYXQzMkFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIGRyYWNvLkRUX0ZMT0FUMzI7XG4gICAgICAgIGNhc2UgSW50OEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIGRyYWNvLkRUX0lOVDg7XG4gICAgICAgIGNhc2UgSW50MTZBcnJheTpcbiAgICAgICAgICAgIHJldHVybiBkcmFjby5EVF9JTlQxNjtcbiAgICAgICAgY2FzZSBJbnQzMkFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIGRyYWNvLkRUX0lOVDMyO1xuICAgICAgICBjYXNlIFVpbnQ4QXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gZHJhY28uRFRfVUlOVDg7XG4gICAgICAgIGNhc2UgVWludDE2QXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gZHJhY28uRFRfVUlOVDE2O1xuICAgICAgICBjYXNlIFVpbnQzMkFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIGRyYWNvLkRUX1VJTlQzMjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBkcmFjby5EVF9JTlZBTElEO1xuICAgIH1cbn1cbi8qKlxuICogQ29weSBhIERyYWNvIGludDMyIGFycmF5IGludG8gYSBKUyB0eXBlZCBhcnJheVxuICovXG5mdW5jdGlvbiBnZXRJbnQzMkFycmF5KGRyYWNvQXJyYXkpIHtcbiAgICBjb25zdCBudW1WYWx1ZXMgPSBkcmFjb0FycmF5LnNpemUoKTtcbiAgICBjb25zdCBpbnRBcnJheSA9IG5ldyBJbnQzMkFycmF5KG51bVZhbHVlcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkrKykge1xuICAgICAgICBpbnRBcnJheVtpXSA9IGRyYWNvQXJyYXkuR2V0VmFsdWUoaSk7XG4gICAgfVxuICAgIHJldHVybiBpbnRBcnJheTtcbn1cbi8qKlxuICogQ29weSBhIERyYWNvIGludDMyIGFycmF5IGludG8gYSBKUyB0eXBlZCBhcnJheVxuICovXG5mdW5jdGlvbiBnZXRVaW50MzJBcnJheShkcmFjb0FycmF5KSB7XG4gICAgY29uc3QgbnVtVmFsdWVzID0gZHJhY29BcnJheS5zaXplKCk7XG4gICAgY29uc3QgaW50QXJyYXkgPSBuZXcgSW50MzJBcnJheShudW1WYWx1ZXMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmFsdWVzOyBpKyspIHtcbiAgICAgICAgaW50QXJyYXlbaV0gPSBkcmFjb0FycmF5LkdldFZhbHVlKGkpO1xuICAgIH1cbiAgICByZXR1cm4gaW50QXJyYXk7XG59XG4iLCIvKipcbiAqIEdldCBudW1iZXIgb2YgdmVydGljZXMgaW4gbWVzaFxuICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1lc2hTaXplKGF0dHJpYnV0ZXMpIHtcbiAgICBsZXQgc2l6ZSA9IDA7XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIERhdGFWaWV3IGRvZXNuJ3QgaGF2ZSBCWVRFU19QRVJfRUxFTUVOVFxuICAgICAgICAgICAgc2l6ZSArPSBhdHRyaWJ1dGUuYnl0ZUxlbmd0aCAqIGF0dHJpYnV0ZS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbn1cbi8qKlxuICogR2V0IHRoZSAoYXhpcyBhbGlnbmVkKSBib3VuZGluZyBib3ggb2YgYSBtZXNoXG4gKiBAcGFyYW0gYXR0cmlidXRlc1xuICogQHJldHVybnMgYXJyYXkgb2YgdHdvIHZlY3RvcnMgcmVwcmVzZW50aW5nIHRoZSBheGlzIGFsaWduZWQgYm91bmRpbmcgYm94XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5leHBvcnQgZnVuY3Rpb24gZ2V0TWVzaEJvdW5kaW5nQm94KGF0dHJpYnV0ZXMpIHtcbiAgICBsZXQgbWluWCA9IEluZmluaXR5O1xuICAgIGxldCBtaW5ZID0gSW5maW5pdHk7XG4gICAgbGV0IG1pblogPSBJbmZpbml0eTtcbiAgICBsZXQgbWF4WCA9IC1JbmZpbml0eTtcbiAgICBsZXQgbWF4WSA9IC1JbmZpbml0eTtcbiAgICBsZXQgbWF4WiA9IC1JbmZpbml0eTtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBhdHRyaWJ1dGVzLlBPU0lUSU9OID8gYXR0cmlidXRlcy5QT1NJVElPTi52YWx1ZSA6IFtdO1xuICAgIGNvbnN0IGxlbiA9IHBvc2l0aW9ucyAmJiBwb3NpdGlvbnMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpIHtcbiAgICAgICAgY29uc3QgeCA9IHBvc2l0aW9uc1tpXTtcbiAgICAgICAgY29uc3QgeSA9IHBvc2l0aW9uc1tpICsgMV07XG4gICAgICAgIGNvbnN0IHogPSBwb3NpdGlvbnNbaSArIDJdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1pblogPSB6IDwgbWluWiA/IHogOiBtaW5aO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIG1heFogPSB6ID4gbWF4WiA/IHogOiBtYXhaO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgICBbbWluWCwgbWluWSwgbWluWl0sXG4gICAgICAgIFttYXhYLCBtYXhZLCBtYXhaXVxuICAgIF07XG59XG4iLCIvLyBEeW5hbWljIERSQUNPIG1vZHVsZSBsb2FkaW5nIGluc3BpcmVkIGJ5IFRIUkVFLkRSQUNPTG9hZGVyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvMzk4YzRmMzllYmRiOGIyM2VlZmQ0YTdhNWVjNDllYzBjOTZjNzQ2Mi9leGFtcGxlcy9qc20vbG9hZGVycy9EUkFDT0xvYWRlci5qc1xuLy8gYnkgRG9uIE1jQ3VyZHkgLyBodHRwczovL3d3dy5kb25tY2N1cmR5LmNvbSAvIE1JVCBsaWNlbnNlXG5pbXBvcnQgeyBsb2FkTGlicmFyeSB9IGZyb20gJ0Bsb2FkZXJzLmdsL3dvcmtlci11dGlscyc7XG5jb25zdCBEUkFDT19ERUNPREVSX1ZFUlNJT04gPSAnMS41LjYnO1xuY29uc3QgRFJBQ09fRU5DT0RFUl9WRVJTSU9OID0gJzEuNC4xJztcbmNvbnN0IFNUQVRJQ19ERUNPREVSX1VSTCA9IGBodHRwczovL3d3dy5nc3RhdGljLmNvbS9kcmFjby92ZXJzaW9uZWQvZGVjb2RlcnMvJHtEUkFDT19ERUNPREVSX1ZFUlNJT059YDtcbmV4cG9ydCBjb25zdCBEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMgPSB7XG4gICAgLyoqIFRoZSBwcmltYXJ5IERyYWNvM0QgZW5jb2RlciwgamF2YXNjcmlwdCB3cmFwcGVyIHBhcnQgKi9cbiAgICBERUNPREVSOiAnZHJhY29fd2FzbV93cmFwcGVyLmpzJyxcbiAgICAvKiogVGhlIHByaW1hcnkgZHJhY28gZGVjb2RlciwgY29tcGlsZWQgd2ViIGFzc2VtYmx5IHBhcnQgKi9cbiAgICBERUNPREVSX1dBU006ICdkcmFjb19kZWNvZGVyLndhc20nLFxuICAgIC8qKiBGYWxsYmFjayBkZWNvZGVyIGZvciBub24td2ViYXNzZWJseSBlbnZpcm9ubWVudHMuIFZlcnkgYmlnIGJ1bmRsZSwgbG93ZXIgcGVyZm9ybWFuY2UgKi9cbiAgICBGQUxMQkFDS19ERUNPREVSOiAnZHJhY29fZGVjb2Rlci5qcycsXG4gICAgLyoqIERyYWNvIGVuY29kZXIgKi9cbiAgICBFTkNPREVSOiAnZHJhY29fZW5jb2Rlci5qcydcbn07XG5leHBvcnQgY29uc3QgRFJBQ09fRVhURVJOQUxfTElCUkFSWV9VUkxTID0ge1xuICAgIFtEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuREVDT0RFUl06IGAke1NUQVRJQ19ERUNPREVSX1VSTH0vJHtEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuREVDT0RFUn1gLFxuICAgIFtEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuREVDT0RFUl9XQVNNXTogYCR7U1RBVElDX0RFQ09ERVJfVVJMfS8ke0RSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5ERUNPREVSX1dBU019YCxcbiAgICBbRFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLkZBTExCQUNLX0RFQ09ERVJdOiBgJHtTVEFUSUNfREVDT0RFUl9VUkx9LyR7RFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLkZBTExCQUNLX0RFQ09ERVJ9YCxcbiAgICBbRFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLkVOQ09ERVJdOiBgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2dvb2dsZS9kcmFjby8ke0RSQUNPX0VOQ09ERVJfVkVSU0lPTn0vamF2YXNjcmlwdC8ke0RSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5FTkNPREVSfWBcbn07XG5sZXQgbG9hZERlY29kZXJQcm9taXNlO1xubGV0IGxvYWRFbmNvZGVyUHJvbWlzZTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkRHJhY29EZWNvZGVyTW9kdWxlKG9wdGlvbnMpIHtcbiAgICBjb25zdCBtb2R1bGVzID0gb3B0aW9ucy5tb2R1bGVzIHx8IHt9O1xuICAgIC8vIENoZWNrIGlmIGEgYnVuZGxlZCBkcmFjbzNkIGxpYnJhcnkgaGFzIGJlZW4gc3VwcGxpZWQgYnkgYXBwbGljYXRpb25cbiAgICBpZiAobW9kdWxlcy5kcmFjbzNkKSB7XG4gICAgICAgIGxvYWREZWNvZGVyUHJvbWlzZSB8fD0gbW9kdWxlcy5kcmFjbzNkLmNyZWF0ZURlY29kZXJNb2R1bGUoe30pLnRoZW4oKGRyYWNvKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBkcmFjbyB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIElmIG5vdCwgZHluYW1pY2FsbHkgbG9hZCB0aGUgV0FTTSBzY3JpcHQgZnJvbSBvdXIgQ0ROXG4gICAgICAgIGxvYWREZWNvZGVyUHJvbWlzZSB8fD0gbG9hZERyYWNvRGVjb2RlcihvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IGxvYWREZWNvZGVyUHJvbWlzZTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkRHJhY29FbmNvZGVyTW9kdWxlKG9wdGlvbnMpIHtcbiAgICBjb25zdCBtb2R1bGVzID0gb3B0aW9ucy5tb2R1bGVzIHx8IHt9O1xuICAgIC8vIENoZWNrIGlmIGEgYnVuZGxlZCBkcmFjbzNkIGxpYnJhcnkgaGFzIGJlZW4gc3VwcGxpZWQgYnkgYXBwbGljYXRpb25cbiAgICBpZiAobW9kdWxlcy5kcmFjbzNkKSB7XG4gICAgICAgIGxvYWRFbmNvZGVyUHJvbWlzZSB8fD0gbW9kdWxlcy5kcmFjbzNkLmNyZWF0ZUVuY29kZXJNb2R1bGUoe30pLnRoZW4oKGRyYWNvKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBkcmFjbyB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIElmIG5vdCwgZHluYW1pY2FsbHkgbG9hZCB0aGUgV0FTTSBzY3JpcHQgZnJvbSBvdXIgQ0ROXG4gICAgICAgIGxvYWRFbmNvZGVyUHJvbWlzZSB8fD0gbG9hZERyYWNvRW5jb2RlcihvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IGxvYWRFbmNvZGVyUHJvbWlzZTtcbn1cbi8vIERSQUNPIERFQ09ERVIgTE9BRElOR1xuYXN5bmMgZnVuY3Rpb24gbG9hZERyYWNvRGVjb2RlcihvcHRpb25zKSB7XG4gICAgbGV0IERyYWNvRGVjb2Rlck1vZHVsZTtcbiAgICBsZXQgd2FzbUJpbmFyeTtcbiAgICBzd2l0Y2ggKG9wdGlvbnMuZHJhY28gJiYgb3B0aW9ucy5kcmFjby5kZWNvZGVyVHlwZSkge1xuICAgICAgICBjYXNlICdqcyc6XG4gICAgICAgICAgICBEcmFjb0RlY29kZXJNb2R1bGUgPSBhd2FpdCBsb2FkTGlicmFyeShEUkFDT19FWFRFUk5BTF9MSUJSQVJZX1VSTFNbRFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLkZBTExCQUNLX0RFQ09ERVJdLCAnZHJhY28nLCBvcHRpb25zLCBEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuRkFMTEJBQ0tfREVDT0RFUik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnd2FzbSc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBbRHJhY29EZWNvZGVyTW9kdWxlLCB3YXNtQmluYXJ5XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkTGlicmFyeShEUkFDT19FWFRFUk5BTF9MSUJSQVJZX1VSTFNbRFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLkRFQ09ERVJdLCAnZHJhY28nLCBvcHRpb25zLCBEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuREVDT0RFUiksXG4gICAgICAgICAgICAgICAgYXdhaXQgbG9hZExpYnJhcnkoRFJBQ09fRVhURVJOQUxfTElCUkFSWV9VUkxTW0RSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5ERUNPREVSX1dBU01dLCAnZHJhY28nLCBvcHRpb25zLCBEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuREVDT0RFUl9XQVNNKVxuICAgICAgICAgICAgXSk7XG4gICAgfVxuICAgIC8vIERlcGVuZHMgb24gaG93IGltcG9ydCBoYXBwZW5lZC4uLlxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBEcmFjb0RlY29kZXJNb2R1bGUgPSBEcmFjb0RlY29kZXJNb2R1bGUgfHwgZ2xvYmFsVGhpcy5EcmFjb0RlY29kZXJNb2R1bGU7XG4gICAgcmV0dXJuIGF3YWl0IGluaXRpYWxpemVEcmFjb0RlY29kZXIoRHJhY29EZWNvZGVyTW9kdWxlLCB3YXNtQmluYXJ5KTtcbn1cbmZ1bmN0aW9uIGluaXRpYWxpemVEcmFjb0RlY29kZXIoRHJhY29EZWNvZGVyTW9kdWxlLCB3YXNtQmluYXJ5KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgIGlmICh3YXNtQmluYXJ5KSB7XG4gICAgICAgIG9wdGlvbnMud2FzbUJpbmFyeSA9IHdhc21CaW5hcnk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBEcmFjb0RlY29kZXJNb2R1bGUoe1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIG9uTW9kdWxlTG9hZGVkOiAoZHJhY28pID0+IHJlc29sdmUoeyBkcmFjbyB9KSAvLyBNb2R1bGUgaXMgUHJvbWlzZS1saWtlLiBXcmFwIGluIG9iamVjdCB0byBhdm9pZCBsb29wLlxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIEVOQ09ERVJcbmFzeW5jIGZ1bmN0aW9uIGxvYWREcmFjb0VuY29kZXIob3B0aW9ucykge1xuICAgIGxldCBEcmFjb0VuY29kZXJNb2R1bGUgPSBhd2FpdCBsb2FkTGlicmFyeShEUkFDT19FWFRFUk5BTF9MSUJSQVJZX1VSTFNbRFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLkVOQ09ERVJdLCAnZHJhY28nLCBvcHRpb25zLCBEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuRU5DT0RFUik7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIERyYWNvRW5jb2Rlck1vZHVsZSA9IERyYWNvRW5jb2Rlck1vZHVsZSB8fCBnbG9iYWxUaGlzLkRyYWNvRW5jb2Rlck1vZHVsZTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgRHJhY29FbmNvZGVyTW9kdWxlKHtcbiAgICAgICAgICAgIG9uTW9kdWxlTG9hZGVkOiAoZHJhY28pID0+IHJlc29sdmUoeyBkcmFjbyB9KSAvLyBNb2R1bGUgaXMgUHJvbWlzZS1saWtlLiBXcmFwIGluIG9iamVjdCB0byBhdm9pZCBsb29wLlxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IERyYWNvTG9hZGVyIGFzIERyYWNvV29ya2VyTG9hZGVyIH0gZnJvbSBcIi4vZHJhY28tbG9hZGVyLmpzXCI7XG5pbXBvcnQgRHJhY29QYXJzZXIgZnJvbSBcIi4vbGliL2RyYWNvLXBhcnNlci5qc1wiO1xuaW1wb3J0IHsgbG9hZERyYWNvRGVjb2Rlck1vZHVsZSB9IGZyb20gXCIuL2xpYi9kcmFjby1tb2R1bGUtbG9hZGVyLmpzXCI7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSBcIi4vbGliL3V0aWxzL3ZlcnNpb24uanNcIjtcbi8vIE1vZHVsZSBjb25zdGFudHNcbmV4cG9ydCB7IERSQUNPX0VYVEVSTkFMX0xJQlJBUklFUywgRFJBQ09fRVhURVJOQUxfTElCUkFSWV9VUkxTIH0gZnJvbSBcIi4vbGliL2RyYWNvLW1vZHVsZS1sb2FkZXIuanNcIjtcbmV4cG9ydCB7IERyYWNvV3JpdGVyIH0gZnJvbSBcIi4vZHJhY28td3JpdGVyLmpzXCI7XG4vKipcbiAqIEJyb3dzZXIgd29ya2VyIGRvZXNuJ3Qgd29yayBiZWNhdXNlIG9mIGlzc3VlIGR1cmluZyBcImRyYWNvX2VuY29kZXIuanNcIiBsb2FkaW5nLlxuICogUmVmdXNlZCB0byBleGVjdXRlIHNjcmlwdCBmcm9tICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZ29vZ2xlL2RyYWNvLzEuNC4xL2phdmFzY3JpcHQvZHJhY29fZW5jb2Rlci5qcycgYmVjYXVzZSBpdHMgTUlNRSB0eXBlICgnJykgaXMgbm90IGV4ZWN1dGFibGUuXG4gKi9cbmV4cG9ydCBjb25zdCBEcmFjb1dyaXRlcldvcmtlciA9IHtcbiAgICBpZDogJ2RyYWNvLXdyaXRlcicsXG4gICAgbmFtZTogJ0RyYWNvIGNvbXByZXNzZWQgZ2VvbWV0cnkgd3JpdGVyJyxcbiAgICBtb2R1bGU6ICdkcmFjbycsXG4gICAgdmVyc2lvbjogVkVSU0lPTixcbiAgICB3b3JrZXI6IHRydWUsXG4gICAgb3B0aW9uczoge1xuICAgICAgICBkcmFjbzoge30sXG4gICAgICAgIHNvdXJjZTogbnVsbFxuICAgIH1cbn07XG5leHBvcnQgeyBEcmFjb1dvcmtlckxvYWRlciB9O1xuLyoqXG4gKiBMb2FkZXIgZm9yIERyYWNvM0QgY29tcHJlc3NlZCBnZW9tZXRyaWVzXG4gKi9cbmV4cG9ydCBjb25zdCBEcmFjb0xvYWRlciA9IHtcbiAgICAuLi5EcmFjb1dvcmtlckxvYWRlcixcbiAgICBwYXJzZVxufTtcbmFzeW5jIGZ1bmN0aW9uIHBhcnNlKGFycmF5QnVmZmVyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBkcmFjbyB9ID0gYXdhaXQgbG9hZERyYWNvRGVjb2Rlck1vZHVsZShvcHRpb25zKTtcbiAgICBjb25zdCBkcmFjb1BhcnNlciA9IG5ldyBEcmFjb1BhcnNlcihkcmFjbyk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRyYWNvUGFyc2VyLnBhcnNlU3luYyhhcnJheUJ1ZmZlciwgb3B0aW9ucz8uZHJhY28pO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgZHJhY29QYXJzZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLyoqXG4gKiBHZXQgdGhlIGZpcnN0IGNoYXJhY3RlcnMgZnJvbSBhIGJpbmFyeSBmaWxlIChpbnRlcnByZXQgdGhlIGZpcnN0IGJ5dGVzIGFzIGFuIEFTQ0lJIHN0cmluZylcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gbGVuZ3RoXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rmlyc3RDaGFyYWN0ZXJzKGRhdGEsIGxlbmd0aCA9IDUpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSkge1xuICAgICAgICAvLyBUeXBlZCBBcnJheXMgY2FuIGhhdmUgb2Zmc2V0cyBpbnRvIHVuZGVybHlpbmcgYnVmZmVyXG4gICAgICAgIHJldHVybiBnZXRNYWdpY1N0cmluZyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IDA7XG4gICAgICAgIHJldHVybiBnZXRNYWdpY1N0cmluZyhkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG4vKipcbiAqIEdldHMgYSBtYWdpYyBzdHJpbmcgZnJvbSBhIFwiZmlsZVwiXG4gKiBUeXBpY2FsbHkgdXNlZCB0byBjaGVjayBvciBkZXRlY3QgZmlsZSBmb3JtYXRcbiAqIEBwYXJhbSBhcnJheUJ1ZmZlclxuICogQHBhcmFtIGJ5dGVPZmZzZXRcbiAqIEBwYXJhbSBsZW5ndGhcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYWdpY1N0cmluZyhhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgaWYgKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGggPD0gYnl0ZU9mZnNldCArIGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICBsZXQgbWFnaWMgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hZ2ljICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVZpZXcuZ2V0VWludDgoYnl0ZU9mZnNldCArIGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hZ2ljO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vKipcbiAqIFBhcnNlcyBgZGF0YWAgdXNpbmcgYSBzcGVjaWZpZWQgbG9hZGVyXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIGxvYWRlcnNcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY29udGV4dFxuICovXG4vLyBpbXBsZW1lbnRhdGlvbiBzaWduYXR1cmVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUZyb21Db250ZXh0KGRhdGEsIGxvYWRlcnMsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gY29udGV4dC5fcGFyc2UoZGF0YSwgbG9hZGVycywgb3B0aW9ucywgY29udGV4dCk7XG59XG4vKipcbiAqIFBhcnNlcyBgZGF0YWAgc3luY2hyb25vdXNseSB1c2luZyB0aGUgc3BlY2lmaWVkIGxvYWRlciwgcGFyc2UgZnVuY3Rpb24gcHJvdmlkZWQgdmlhIHRoZSBsb2FkZXIgY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTeW5jRnJvbUNvbnRleHQoZGF0YSwgbG9hZGVyLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgaWYgKCFjb250ZXh0Ll9wYXJzZVN5bmMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJzZVN5bmMnKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuX3BhcnNlU3luYyhkYXRhLCBsb2FkZXIsIG9wdGlvbnMsIGNvbnRleHQpO1xufVxuLyoqXG4gKiBQYXJzZXMgYGRhdGFgIHN5bmNocm9ub3VzbHkgdXNpbmcgYSBzcGVjaWZpZWQgbG9hZGVyLCBwYXJzZSBmdW5jdGlvbiBwcm92aWRlZCB2aWEgdGhlIGxvYWRlciBjb250ZXh0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUluQmF0Y2hlc0Zyb21Db250ZXh0KGRhdGEsIGxvYWRlciwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGlmICghY29udGV4dC5fcGFyc2VJbkJhdGNoZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJzZUluQmF0Y2hlcycpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5fcGFyc2VJbkJhdGNoZXMoZGF0YSwgbG9hZGVyLCBvcHRpb25zLCBjb250ZXh0KTtcbn1cbiIsImltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG4vLyBAdHMtaWdub3JlIFRTMjMzOTogUHJvcGVydHkgZG9lcyBub3QgZXhpc3Qgb24gdHlwZVxuY29uc3QgcGFyc2VJbWFnZU5vZGUgPSBnbG9iYWxUaGlzLmxvYWRlcnM/LnBhcnNlSW1hZ2VOb2RlO1xuY29uc3QgSU1BR0VfU1VQUE9SVEVEID0gdHlwZW9mIEltYWdlICE9PSAndW5kZWZpbmVkJzsgLy8gTk9URTogXCJmYWxzZVwiIHBvc2l0aXZlcyBpZiBqc2RvbSBpcyBpbnN0YWxsZWRcbmNvbnN0IElNQUdFX0JJVE1BUF9TVVBQT1JURUQgPSB0eXBlb2YgSW1hZ2VCaXRtYXAgIT09ICd1bmRlZmluZWQnO1xuY29uc3QgTk9ERV9JTUFHRV9TVVBQT1JURUQgPSBCb29sZWFuKHBhcnNlSW1hZ2VOb2RlKTtcbmNvbnN0IERBVEFfU1VQUE9SVEVEID0gaXNCcm93c2VyID8gdHJ1ZSA6IE5PREVfSU1BR0VfU1VQUE9SVEVEO1xuLyoqXG4gKiBDaGVja3MgaWYgYSBsb2FkZXJzLmdsIGltYWdlIHR5cGUgaXMgc3VwcG9ydGVkXG4gKiBAcGFyYW0gdHlwZSBpbWFnZSB0eXBlIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJbWFnZVR5cGVTdXBwb3J0ZWQodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdhdXRvJzpcbiAgICAgICAgICAgIC8vIFNob3VsZCBvbmx5IGV2ZXIgYmUgZmFsc2UgaW4gTm9kZS5qcywgaWYgcG9seWZpbGxzIGhhdmUgbm90IGJlZW4gaW5zdGFsbGVkLi4uXG4gICAgICAgICAgICByZXR1cm4gSU1BR0VfQklUTUFQX1NVUFBPUlRFRCB8fCBJTUFHRV9TVVBQT1JURUQgfHwgREFUQV9TVVBQT1JURUQ7XG4gICAgICAgIGNhc2UgJ2ltYWdlYml0bWFwJzpcbiAgICAgICAgICAgIHJldHVybiBJTUFHRV9CSVRNQVBfU1VQUE9SVEVEO1xuICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgICByZXR1cm4gSU1BR0VfU1VQUE9SVEVEO1xuICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgIHJldHVybiBEQVRBX1NVUFBPUlRFRDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQGxvYWRlcnMuZ2wvaW1hZ2VzOiBpbWFnZSAke3R5cGV9IG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudGApO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgXCJtb3N0IHBlcmZvcm1hbnRcIiBzdXBwb3J0ZWQgaW1hZ2UgdHlwZSBvbiB0aGlzIHBsYXRmb3JtXG4gKiBAcmV0dXJucyBpbWFnZSB0eXBlIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdEltYWdlVHlwZSgpIHtcbiAgICBpZiAoSU1BR0VfQklUTUFQX1NVUFBPUlRFRCkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlYml0bWFwJztcbiAgICB9XG4gICAgaWYgKElNQUdFX1NVUFBPUlRFRCkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICB9XG4gICAgaWYgKERBVEFfU1VQUE9SVEVEKSB7XG4gICAgICAgIHJldHVybiAnZGF0YSc7XG4gICAgfVxuICAgIC8vIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGluIE5vZGUuanNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0luc3RhbGwgXFwnQGxvYWRlcnMuZ2wvcG9seWZpbGxzXFwnIHRvIHBhcnNlIGltYWdlcyB1bmRlciBOb2RlLmpzJyk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNJbWFnZShpbWFnZSkge1xuICAgIHJldHVybiBCb29sZWFuKGdldEltYWdlVHlwZU9yTnVsbChpbWFnZSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUltYWdlKGltYWdlKSB7XG4gICAgc3dpdGNoIChnZXRJbWFnZVR5cGUoaW1hZ2UpKSB7XG4gICAgICAgIGNhc2UgJ2ltYWdlYml0bWFwJzpcbiAgICAgICAgICAgIGltYWdlLmNsb3NlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyBmb3IgaW1hZ2VzIGFuZCBpbWFnZSBkYXRhIG9iamVjdHNcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VUeXBlKGltYWdlKSB7XG4gICAgY29uc3QgZm9ybWF0ID0gZ2V0SW1hZ2VUeXBlT3JOdWxsKGltYWdlKTtcbiAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhbiBpbWFnZScpO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEltYWdlU2l6ZShpbWFnZSkge1xuICAgIHJldHVybiBnZXRJbWFnZURhdGEoaW1hZ2UpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEltYWdlRGF0YShpbWFnZSkge1xuICAgIHN3aXRjaCAoZ2V0SW1hZ2VUeXBlKGltYWdlKSkge1xuICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgIHJldHVybiBpbWFnZTtcbiAgICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICBjYXNlICdpbWFnZWJpdG1hcCc6XG4gICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBpbWFnZSBkYXRhIGZyb20gdGhlIGltYWdlIHZpYSBhIGNhbnZhc1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAvLyBUT0RPIC0gcmV1c2UgdGhlIGNhbnZhcz9cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0SW1hZ2VEYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEltYWdlRGF0YScpO1xuICAgIH1cbn1cbi8vIFBSSVZBVEVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBnZXRJbWFnZVR5cGVPck51bGwoaW1hZ2UpIHtcbiAgICBpZiAodHlwZW9mIEltYWdlQml0bWFwICE9PSAndW5kZWZpbmVkJyAmJiBpbWFnZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2ViaXRtYXAnO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIEltYWdlICE9PSAndW5kZWZpbmVkJyAmJiBpbWFnZSBpbnN0YW5jZW9mIEltYWdlKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgIH1cbiAgICBpZiAoaW1hZ2UgJiYgdHlwZW9mIGltYWdlID09PSAnb2JqZWN0JyAmJiBpbWFnZS5kYXRhICYmIGltYWdlLndpZHRoICYmIGltYWdlLmhlaWdodCkge1xuICAgICAgICByZXR1cm4gJ2RhdGEnO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsIi8vIFNWRyBwYXJzaW5nIGhhcyBsaW1pdGF0aW9ucywgZS5nOlxuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NjA2MzE5XG5jb25zdCBTVkdfREFUQV9VUkxfUEFUVEVSTiA9IC9eZGF0YTppbWFnZVxcL3N2Z1xcK3htbC87XG5jb25zdCBTVkdfVVJMX1BBVFRFUk4gPSAvXFwuc3ZnKChcXD98IykuKik/JC87XG5leHBvcnQgZnVuY3Rpb24gaXNTVkcodXJsKSB7XG4gICAgcmV0dXJuIHVybCAmJiAoU1ZHX0RBVEFfVVJMX1BBVFRFUk4udGVzdCh1cmwpIHx8IFNWR19VUkxfUEFUVEVSTi50ZXN0KHVybCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEJsb2JPclNWR0RhdGFVcmwoYXJyYXlCdWZmZXIsIHVybCkge1xuICAgIGlmIChpc1NWRyh1cmwpKSB7XG4gICAgICAgIC8vIFByZXBhcmUgYSBwcm9wZXJseSB0YWdnZWQgZGF0YSBVUkwsIGFuZCBsb2FkIHVzaW5nIG5vcm1hbCBtZWNoYW5pc21cbiAgICAgICAgY29uc3QgdGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICAgICAgbGV0IHhtbFRleHQgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoYXJyYXlCdWZmZXIpO1xuICAgICAgICAvLyBUT0RPIEVzY2FwZSBpbiBicm93c2VyIHRvIHN1cHBvcnQgZS5nLiBDaGluZXNlIGNoYXJhY3RlcnNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdW5lc2NhcGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuY29kZVVSSUNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHhtbFRleHQgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoeG1sVGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJhc2U2NCBlbmNvZGluZyBpcyBzYWZlci4gdXRmLTggZmFpbHMgaW4gc29tZSBicm93c2Vyc1xuICAgICAgICBjb25zdCBzcmMgPSBgZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke2J0b2EoeG1sVGV4dCl9YDtcbiAgICAgICAgcmV0dXJuIHNyYztcbiAgICB9XG4gICAgcmV0dXJuIGdldEJsb2IoYXJyYXlCdWZmZXIsIHVybCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QmxvYihhcnJheUJ1ZmZlciwgdXJsKSB7XG4gICAgaWYgKGlzU1ZHKHVybCkpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NjA2MzE5XG4gICAgICAgIC8vIHJldHVybiBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpXSwge3R5cGU6ICdpbWFnZS9zdmcreG1sJ30pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NWRyBjYW5ub3QgYmUgcGFyc2VkIGRpcmVjdGx5IHRvIGltYWdlYml0bWFwJyk7XG4gICAgfVxuICAgIC8vIFRPRE8gLSBob3cgdG8gZGV0ZXJtaW5lIG1pbWUgdHlwZT8gUGFyYW0/IFNuaWZmIGhlcmU/XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcildKTsgLy8gTUlNRSB0eXBlIG5vdCBuZWVkZWQ/XG59XG4iLCJpbXBvcnQgeyBnZXRCbG9iT3JTVkdEYXRhVXJsIH0gZnJvbSBcIi4vc3ZnLXV0aWxzLmpzXCI7XG4vLyBQYXJzZXMgaHRtbCBpbWFnZSBmcm9tIGFycmF5IGJ1ZmZlclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlVG9JbWFnZShhcnJheUJ1ZmZlciwgb3B0aW9ucywgdXJsKSB7XG4gICAgLy8gTm90ZTogaW1hZ2UgcGFyc2luZyByZXF1aXJlcyBjb252ZXJzaW9uIHRvIEJsb2IgKGZvciBjcmVhdGVPYmplY3RVUkwpLlxuICAgIC8vIFBvdGVudGlhbGx5IGluZWZmaWNpZW50IGZvciBub3QgdXNpbmcgYHJlc3BvbnNlLmJsb2IoKWAgKGFuZCBmb3IgRmlsZSAvIEJsb2IgaW5wdXRzKS4uLlxuICAgIC8vIEJ1dCBwcmVzdW1hYmx5IG5vdCB3b3J0aCBhZGRpbmcgJ2Jsb2InIGZsYWcgdG8gbG9hZGVyIG9iamVjdHM/XG4gICAgY29uc3QgYmxvYk9yRGF0YVVybCA9IGdldEJsb2JPclNWR0RhdGFVcmwoYXJyYXlCdWZmZXIsIHVybCk7XG4gICAgY29uc3QgVVJMID0gc2VsZi5VUkwgfHwgc2VsZi53ZWJraXRVUkw7XG4gICAgY29uc3Qgb2JqZWN0VXJsID0gdHlwZW9mIGJsb2JPckRhdGFVcmwgIT09ICdzdHJpbmcnICYmIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYk9yRGF0YVVybCk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGxvYWRUb0ltYWdlKG9iamVjdFVybCB8fCBibG9iT3JEYXRhVXJsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGlmIChvYmplY3RVcmwpIHtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob2JqZWN0VXJsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkVG9JbWFnZSh1cmwsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLnNyYyA9IHVybDtcbiAgICAvLyBUaGUgYGltYWdlLm9ubG9hZCgpYCBjYWxsYmFjayBkb2VzIG5vdCBndWFyYW50ZWUgdGhhdCB0aGUgaW1hZ2UgaGFzIGJlZW4gZGVjb2RlZFxuICAgIC8vIHNvIGEgbWFpbiB0aHJlYWQgXCJmcmVlemVcIiBjYW4gYmUgaW5jdXJyZWQgd2hlbiB1c2luZyB0aGUgaW1hZ2UgZm9yIHRoZSBmaXJzdCB0aW1lLlxuICAgIC8vIGBJbWFnZS5kZWNvZGUoKWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCBjb21wbGV0ZXMgd2hlbiBpbWFnZSBpcyBkZWNvZGVkLlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MSW1hZ2VFbGVtZW50L2RlY29kZVxuICAgIC8vIE5vdGU6IFdoZW4gY2FsbGluZyBgaW1nLmRlY29kZSgpYCwgd2UgZG8gbm90IG5lZWQgdG8gd2FpdCBmb3IgYGltZy5vbmxvYWQoKWBcbiAgICAvLyBOb3RlOiBgSFRNTEltYWdlRWxlbWVudC5kZWNvZGUoKWAgaXMgbm90IGF2YWlsYWJsZSBpbiBFZGdlIGFuZCBJRTExXG4gICAgaWYgKG9wdGlvbnMuaW1hZ2UgJiYgb3B0aW9ucy5pbWFnZS5kZWNvZGUgJiYgaW1hZ2UuZGVjb2RlKSB7XG4gICAgICAgIGF3YWl0IGltYWdlLmRlY29kZSgpO1xuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIHByb21pc2UgdGhhdCB0cmFja3Mgb25sb2FkL29uZXJyb3IgY2FsbGJhY2tzXG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1hZ2UpO1xuICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdlcnJvcic7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihtZXNzYWdlKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgaXNTVkcsIGdldEJsb2IgfSBmcm9tIFwiLi9zdmctdXRpbHMuanNcIjtcbmltcG9ydCB7IHBhcnNlVG9JbWFnZSB9IGZyb20gXCIuL3BhcnNlLXRvLWltYWdlLmpzXCI7XG5jb25zdCBFTVBUWV9PQkpFQ1QgPSB7fTtcbmxldCBpbWFnZWJpdG1hcE9wdGlvbnNTdXBwb3J0ZWQgPSB0cnVlO1xuLyoqXG4gKiBBc3luY2hyb25vdXNseSBwYXJzZXMgYW4gYXJyYXkgYnVmZmVyIGludG8gYW4gSW1hZ2VCaXRtYXAgLSB0aGlzIGNvbnRhaW5zIHRoZSBkZWNvZGVkIGRhdGFcbiAqIEltYWdlQml0bWFwcyBhcmUgc3VwcG9ydGVkIG9uIHdvcmtlciB0aHJlYWRzLCBidXQgbm90IHN1cHBvcnRlZCBvbiBFZGdlLCBJRTExIGFuZCBTYWZhcmlcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbWFnZUJpdG1hcCNCcm93c2VyX2NvbXBhdGliaWxpdHlcbiAqXG4gKiBUT0RPIC0gY3JlYXRlSW1hZ2VCaXRtYXAgc3VwcG9ydHMgc291cmNlIHJlY3QgKDUgcGFyYW0gb3ZlcmxvYWQpLCBwYXNzIHRocm91Z2g/XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVRvSW1hZ2VCaXRtYXAoYXJyYXlCdWZmZXIsIG9wdGlvbnMsIHVybCkge1xuICAgIGxldCBibG9iO1xuICAgIC8vIENhbm5vdCBwYXJzZSBTVkcgZGlyZWN0bHkgdG8gSW1hZ2VCaXRtYXAsIHBhcnNlIHRvIEltYWdlIGZpcnN0XG4gICAgaWYgKGlzU1ZHKHVybCkpIHtcbiAgICAgICAgLy8gTm90ZTogdGhpcyBvbmx5IHdvcmtzIG9uIG1haW4gdGhyZWFkXG4gICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgcGFyc2VUb0ltYWdlKGFycmF5QnVmZmVyLCBvcHRpb25zLCB1cmwpO1xuICAgICAgICBibG9iID0gaW1hZ2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgYmxvYiBmcm9tIHRoZSBhcnJheSBidWZmZXJcbiAgICAgICAgYmxvYiA9IGdldEJsb2IoYXJyYXlCdWZmZXIsIHVybCk7XG4gICAgfVxuICAgIGNvbnN0IGltYWdlYml0bWFwT3B0aW9ucyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbWFnZWJpdG1hcDtcbiAgICByZXR1cm4gYXdhaXQgc2FmZUNyZWF0ZUltYWdlQml0bWFwKGJsb2IsIGltYWdlYml0bWFwT3B0aW9ucyk7XG59XG4vKipcbiAqIFNhZmVseSBjcmVhdGVzIGFuIGltYWdlQml0bWFwIHdpdGggb3B0aW9uc1xuICogKlxuICogRmlyZWZveCBjcmFzaGVzIGlmIGltYWdlYml0bWFwT3B0aW9ucyBpcyBzdXBwbGllZFxuICogQXZvaWQgc3VwcGx5aW5nIGlmIG5vdCBwcm92aWRlZCBvciBzdXBwb3J0ZWQsIHJlbWVtYmVyIGlmIG5vdCBzdXBwb3J0ZWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2FmZUNyZWF0ZUltYWdlQml0bWFwKGJsb2IsIGltYWdlYml0bWFwT3B0aW9ucyA9IG51bGwpIHtcbiAgICBpZiAoaXNFbXB0eU9iamVjdChpbWFnZWJpdG1hcE9wdGlvbnMpIHx8ICFpbWFnZWJpdG1hcE9wdGlvbnNTdXBwb3J0ZWQpIHtcbiAgICAgICAgaW1hZ2ViaXRtYXBPcHRpb25zID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGltYWdlYml0bWFwT3B0aW9ucykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBPcHRpb25zXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAoYmxvYiwgaW1hZ2ViaXRtYXBPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIGltYWdlYml0bWFwT3B0aW9uc1N1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChibG9iKTtcbn1cbmZ1bmN0aW9uIGlzRW1wdHlPYmplY3Qob2JqZWN0KSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCB8fCBFTVBUWV9PQkpFQ1QpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbiIsIi8vIEF0dHJpYnV0aW9uc1xuLy8gKiBCYXNlZCBvbiBiaW5hcnktZ2x0Zi11dGlscyB1bmRlciBNSVQgbGljZW5zZTogQ29weXJpZ2h0IChjKSAyMDE2LTE3IEthcmwgQ2hlbmdcbmltcG9ydCB7IGdldElTT0JNRkZNZWRpYVR5cGUgfSBmcm9tIFwiLi9wYXJzZS1pc29ibWZmLWJpbmFyeS5qc1wiO1xuY29uc3QgQklHX0VORElBTiA9IGZhbHNlO1xuY29uc3QgTElUVExFX0VORElBTiA9IHRydWU7XG4vKipcbiAqIEV4dHJhY3RzIGB7bWltZVR5cGUsIHdpZHRoIGFuZCBoZWlnaHR9YCBmcm9tIGEgbWVtb3J5IGJ1ZmZlciBjb250YWluaW5nIGEga25vd24gaW1hZ2UgZm9ybWF0XG4gKiBDdXJyZW50bHkgc3VwcG9ydHMgYGltYWdlL3BuZ2AsIGBpbWFnZS9qcGVnYCwgYGltYWdlL2JtcGAgYW5kIGBpbWFnZS9naWZgLlxuICogQHBhcmFtIGJpbmFyeURhdGE6IERhdGFWaWV3IHwgQXJyYXlCdWZmZXIgaW1hZ2UgZmlsZSBtZW1vcnkgdG8gcGFyc2VcbiAqIEByZXR1cm5zIG1ldGFkYXRhIG9yIG51bGwgaWYgbWVtb3J5IGlzIG5vdCBhIHZhbGlkIGltYWdlIGZpbGUgZm9ybWF0IGxheW91dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJpbmFyeUltYWdlTWV0YWRhdGEoYmluYXJ5RGF0YSkge1xuICAgIGNvbnN0IGRhdGFWaWV3ID0gdG9EYXRhVmlldyhiaW5hcnlEYXRhKTtcbiAgICByZXR1cm4gKGdldFBuZ01ldGFkYXRhKGRhdGFWaWV3KSB8fFxuICAgICAgICBnZXRKcGVnTWV0YWRhdGEoZGF0YVZpZXcpIHx8XG4gICAgICAgIGdldEdpZk1ldGFkYXRhKGRhdGFWaWV3KSB8fFxuICAgICAgICBnZXRCbXBNZXRhZGF0YShkYXRhVmlldykgfHxcbiAgICAgICAgZ2V0SVNPQk1GRk1ldGFkYXRhKGRhdGFWaWV3KSk7XG59XG4vLyBJU09CTUZGXG5mdW5jdGlvbiBnZXRJU09CTUZGTWV0YWRhdGEoYmluYXJ5RGF0YSkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJpbmFyeURhdGEgaW5zdGFuY2VvZiBEYXRhVmlldyA/IGJpbmFyeURhdGEuYnVmZmVyIDogYmluYXJ5RGF0YSk7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gZ2V0SVNPQk1GRk1lZGlhVHlwZShidWZmZXIpO1xuICAgIGlmICghbWVkaWFUeXBlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBtaW1lVHlwZTogbWVkaWFUeXBlLm1pbWVUeXBlLFxuICAgICAgICAvLyBUT0RPIC0gZGVjb2RlIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMFxuICAgIH07XG59XG4vLyBQTkdcbmZ1bmN0aW9uIGdldFBuZ01ldGFkYXRhKGJpbmFyeURhdGEpIHtcbiAgICBjb25zdCBkYXRhVmlldyA9IHRvRGF0YVZpZXcoYmluYXJ5RGF0YSk7XG4gICAgLy8gQ2hlY2sgZmlsZSBjb250YWlucyB0aGUgZmlyc3QgNCBieXRlcyBvZiB0aGUgUE5HIHNpZ25hdHVyZS5cbiAgICBjb25zdCBpc1BuZyA9IGRhdGFWaWV3LmJ5dGVMZW5ndGggPj0gMjQgJiYgZGF0YVZpZXcuZ2V0VWludDMyKDAsIEJJR19FTkRJQU4pID09PSAweDg5NTA0ZTQ3O1xuICAgIGlmICghaXNQbmcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEV4dHJhY3Qgc2l6ZSBmcm9tIGEgYmluYXJ5IFBORyBmaWxlXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWltZVR5cGU6ICdpbWFnZS9wbmcnLFxuICAgICAgICB3aWR0aDogZGF0YVZpZXcuZ2V0VWludDMyKDE2LCBCSUdfRU5ESUFOKSxcbiAgICAgICAgaGVpZ2h0OiBkYXRhVmlldy5nZXRVaW50MzIoMjAsIEJJR19FTkRJQU4pXG4gICAgfTtcbn1cbi8vIEdJRlxuLy8gRXh0cmFjdCBzaXplIGZyb20gYSBiaW5hcnkgR0lGIGZpbGVcbi8vIFRPRE86IEdJRiBpcyBub3QgdGhpcyBzaW1wbGVcbmZ1bmN0aW9uIGdldEdpZk1ldGFkYXRhKGJpbmFyeURhdGEpIHtcbiAgICBjb25zdCBkYXRhVmlldyA9IHRvRGF0YVZpZXcoYmluYXJ5RGF0YSk7XG4gICAgLy8gQ2hlY2sgZmlyc3QgNCBieXRlcyBvZiB0aGUgR0lGIHNpZ25hdHVyZSAoXCJHSUY4XCIpLlxuICAgIGNvbnN0IGlzR2lmID0gZGF0YVZpZXcuYnl0ZUxlbmd0aCA+PSAxMCAmJiBkYXRhVmlldy5nZXRVaW50MzIoMCwgQklHX0VORElBTikgPT09IDB4NDc0OTQ2Mzg7XG4gICAgaWYgKCFpc0dpZikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gR0lGIGlzIGxpdHRsZSBlbmRpYW4uXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWltZVR5cGU6ICdpbWFnZS9naWYnLFxuICAgICAgICB3aWR0aDogZGF0YVZpZXcuZ2V0VWludDE2KDYsIExJVFRMRV9FTkRJQU4pLFxuICAgICAgICBoZWlnaHQ6IGRhdGFWaWV3LmdldFVpbnQxNig4LCBMSVRUTEVfRU5ESUFOKVxuICAgIH07XG59XG4vLyBCTVBcbi8vIFRPRE86IEJNUCBpcyBub3QgdGhpcyBzaW1wbGVcbmV4cG9ydCBmdW5jdGlvbiBnZXRCbXBNZXRhZGF0YShiaW5hcnlEYXRhKSB7XG4gICAgY29uc3QgZGF0YVZpZXcgPSB0b0RhdGFWaWV3KGJpbmFyeURhdGEpO1xuICAgIC8vIENoZWNrIG1hZ2ljIG51bWJlciBpcyB2YWxpZCAoZmlyc3QgMiBjaGFyYWN0ZXJzIHNob3VsZCBiZSBcIkJNXCIpLlxuICAgIC8vIFRoZSBtYW5kYXRvcnkgYml0bWFwIGZpbGUgaGVhZGVyIGlzIDE0IGJ5dGVzIGxvbmcuXG4gICAgY29uc3QgaXNCbXAgPSBkYXRhVmlldy5ieXRlTGVuZ3RoID49IDE0ICYmXG4gICAgICAgIGRhdGFWaWV3LmdldFVpbnQxNigwLCBCSUdfRU5ESUFOKSA9PT0gMHg0MjRkICYmXG4gICAgICAgIGRhdGFWaWV3LmdldFVpbnQzMigyLCBMSVRUTEVfRU5ESUFOKSA9PT0gZGF0YVZpZXcuYnl0ZUxlbmd0aDtcbiAgICBpZiAoIWlzQm1wKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBCTVAgaXMgbGl0dGxlIGVuZGlhbi5cbiAgICByZXR1cm4ge1xuICAgICAgICBtaW1lVHlwZTogJ2ltYWdlL2JtcCcsXG4gICAgICAgIHdpZHRoOiBkYXRhVmlldy5nZXRVaW50MzIoMTgsIExJVFRMRV9FTkRJQU4pLFxuICAgICAgICBoZWlnaHQ6IGRhdGFWaWV3LmdldFVpbnQzMigyMiwgTElUVExFX0VORElBTilcbiAgICB9O1xufVxuLy8gSlBFR1xuLy8gRXh0cmFjdCB3aWR0aCBhbmQgaGVpZ2h0IGZyb20gYSBiaW5hcnkgSlBFRyBmaWxlXG5mdW5jdGlvbiBnZXRKcGVnTWV0YWRhdGEoYmluYXJ5RGF0YSkge1xuICAgIGNvbnN0IGRhdGFWaWV3ID0gdG9EYXRhVmlldyhiaW5hcnlEYXRhKTtcbiAgICAvLyBDaGVjayBmaWxlIGNvbnRhaW5zIHRoZSBKUEVHIFwic3RhcnQgb2YgaW1hZ2VcIiAoU09JKSBtYXJrZXJcbiAgICAvLyBmb2xsb3dlZCBieSBhbm90aGVyIG1hcmtlci5cbiAgICBjb25zdCBpc0pwZWcgPSBkYXRhVmlldy5ieXRlTGVuZ3RoID49IDMgJiZcbiAgICAgICAgZGF0YVZpZXcuZ2V0VWludDE2KDAsIEJJR19FTkRJQU4pID09PSAweGZmZDggJiZcbiAgICAgICAgZGF0YVZpZXcuZ2V0VWludDgoMikgPT09IDB4ZmY7XG4gICAgaWYgKCFpc0pwZWcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgdGFibGVNYXJrZXJzLCBzb2ZNYXJrZXJzIH0gPSBnZXRKcGVnTWFya2VycygpO1xuICAgIC8vIEV4Y2x1ZGUgdGhlIHR3byBieXRlIFNPSSBtYXJrZXIuXG4gICAgbGV0IGkgPSAyO1xuICAgIHdoaWxlIChpICsgOSA8IGRhdGFWaWV3LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbWFya2VyID0gZGF0YVZpZXcuZ2V0VWludDE2KGksIEJJR19FTkRJQU4pO1xuICAgICAgICAvLyBUaGUgZnJhbWUgdGhhdCBjb250YWlucyB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgSlBFRyBpbWFnZS5cbiAgICAgICAgaWYgKHNvZk1hcmtlcnMuaGFzKG1hcmtlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWltZVR5cGU6ICdpbWFnZS9qcGVnJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGRhdGFWaWV3LmdldFVpbnQxNihpICsgNSwgQklHX0VORElBTiksIC8vIE51bWJlciBvZiBsaW5lc1xuICAgICAgICAgICAgICAgIHdpZHRoOiBkYXRhVmlldy5nZXRVaW50MTYoaSArIDcsIEJJR19FTkRJQU4pIC8vIE51bWJlciBvZiBwaXhlbHMgcGVyIGxpbmVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWlzY2VsbGFuZW91cyB0YWJsZXMvZGF0YSBwcmVjZWRpbmcgdGhlIGZyYW1lIGhlYWRlci5cbiAgICAgICAgaWYgKCF0YWJsZU1hcmtlcnMuaGFzKG1hcmtlcikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIExlbmd0aCBpbmNsdWRlcyBzaXplIG9mIGxlbmd0aCBwYXJhbWV0ZXIgYnV0IG5vdCB0aGUgdHdvIGJ5dGUgaGVhZGVyLlxuICAgICAgICBpICs9IDI7XG4gICAgICAgIGkgKz0gZGF0YVZpZXcuZ2V0VWludDE2KGksIEJJR19FTkRJQU4pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEpwZWdNYXJrZXJzKCkge1xuICAgIC8vIFRhYmxlcy9taXNjIGhlYWRlciBtYXJrZXJzLlxuICAgIC8vIERRVCwgREhULCBEQUMsIERSSSwgQ09NLCBBUFBfblxuICAgIGNvbnN0IHRhYmxlTWFya2VycyA9IG5ldyBTZXQoWzB4ZmZkYiwgMHhmZmM0LCAweGZmY2MsIDB4ZmZkZCwgMHhmZmZlXSk7XG4gICAgZm9yIChsZXQgaSA9IDB4ZmZlMDsgaSA8IDB4ZmZmMDsgKytpKSB7XG4gICAgICAgIHRhYmxlTWFya2Vycy5hZGQoaSk7XG4gICAgfVxuICAgIC8vIFNPRiBtYXJrZXJzIGFuZCBESFAgbWFya2VyLlxuICAgIC8vIFRoZXNlIG1hcmtlcnMgYXJlIGFmdGVyIHRhYmxlcy9taXNjIGRhdGEuXG4gICAgY29uc3Qgc29mTWFya2VycyA9IG5ldyBTZXQoW1xuICAgICAgICAweGZmYzAsIDB4ZmZjMSwgMHhmZmMyLCAweGZmYzMsIDB4ZmZjNSwgMHhmZmM2LCAweGZmYzcsIDB4ZmZjOSwgMHhmZmNhLCAweGZmY2IsIDB4ZmZjZCwgMHhmZmNlLFxuICAgICAgICAweGZmY2YsIDB4ZmZkZVxuICAgIF0pO1xuICAgIHJldHVybiB7IHRhYmxlTWFya2Vycywgc29mTWFya2VycyB9O1xufVxuLy8gVE9ETyAtIG1vdmUgaW50byBpbWFnZSBtb2R1bGU/XG5mdW5jdGlvbiB0b0RhdGFWaWV3KGRhdGEpIHtcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIERhdGFWaWV3KSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIpO1xuICAgIH1cbiAgICAvLyBUT0RPOiBtYWtlIHRoZXNlIGZ1bmN0aW9ucyB3b3JrIGZvciBOb2RlLmpzIGJ1ZmZlcnM/XG4gICAgLy8gaWYgKGJ1ZmZlclRvQXJyYXlCdWZmZXIpIHtcbiAgICAvLyAgIGRhdGEgPSBidWZmZXJUb0FycmF5QnVmZmVyKGRhdGEpO1xuICAgIC8vIH1cbiAgICAvLyBDYXJlZnVsIC0gTm9kZSBCdWZmZXJzIHdpbGwgbG9vayBsaWtlIEFycmF5QnVmZmVycyAoa2VlcCBhZnRlciBpc0J1ZmZlcilcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YVZpZXcoZGF0YSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcigndG9EYXRhVmlldycpO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBjb2RlIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL2ZpbGUtdHlwZSB1bmRlciBNSVQgbGljZW5zZVxuLyoqXG4gKiBUZXN0cyBpZiBhIGJ1ZmZlciBpcyBpbiBJU08gYmFzZSBtZWRpYSBmaWxlIGZvcm1hdCAoSVNPQk1GRikgQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fYmFzZV9tZWRpYV9maWxlX2Zvcm1hdFxuICogKElTT0JNRkYgaXMgYSBtZWRpYSBjb250YWluZXIgc3RhbmRhcmQgYmFzZWQgb24gdGhlIEFwcGxlIFF1aWNrVGltZSBjb250YWluZXIgZm9ybWF0KVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SVNPQk1GRk1lZGlhVHlwZShidWZmZXIpIHtcbiAgICAvLyBBbG1vc3QgYWxsIElTTyBiYXNlIG1lZGlhIGZpbGVzIHN0YXJ0IHdpdGggYGZ0eXBgIGJveC4gKEl0J3Mgbm90IHJlcXVpcmVkIHRvIGJlIGZpcnN0LCBidXQgaXQncyByZWNvbW1lbmRlZCB0byBiZS4pXG4gICAgaWYgKCFjaGVja1N0cmluZyhidWZmZXIsICdmdHlwJywgNCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEV4dHJhIGNoZWNrOiB0ZXN0IGZvciA4ODU5LTEgcHJpbnRhYmxlIGNoYXJhY3RlcnMgKGZvciBzaW1wbGljaXR5LCBpdCdzIGEgbWFzayB3aGljaCBhbHNvIGNhdGNoZXMgb25lIG5vbi1wcmludGFibGUgY2hhcmFjdGVyKS5cbiAgICBpZiAoKGJ1ZmZlcls4XSAmIDB4NjApID09PSAweDAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBgZnR5cGAgYm94IG11c3QgY29udGFpbiBhIGJyYW5kIG1ham9yIGlkZW50aWZpZXIsIHdoaWNoIG11c3QgY29uc2lzdCBvZiBJU08gODg1OS0xIHByaW50YWJsZSBjaGFyYWN0ZXJzLlxuICAgIHJldHVybiBkZWNvZGVNYWpvckJyYW5kKGJ1ZmZlcik7XG59XG4vKipcbiAqIGJyYW5kcyBleHBsYWluZWQgQHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3RydWt0dXJhZy9saWJoZWlmL2lzc3Vlcy84M1xuICogY29kZSBhZGFwdGVkIGZyb20gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL2ZpbGUtdHlwZS9ibG9iL21haW4vY29yZS5qcyNMNDg5LUw0OTJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZU1ham9yQnJhbmQoYnVmZmVyKSB7XG4gICAgY29uc3QgYnJhbmRNYWpvciA9IGdldFVURjhTdHJpbmcoYnVmZmVyLCA4LCAxMikucmVwbGFjZSgnXFwwJywgJyAnKS50cmltKCk7XG4gICAgc3dpdGNoIChicmFuZE1ham9yKSB7XG4gICAgICAgIGNhc2UgJ2F2aWYnOlxuICAgICAgICBjYXNlICdhdmlzJzpcbiAgICAgICAgICAgIHJldHVybiB7IGV4dGVuc2lvbjogJ2F2aWYnLCBtaW1lVHlwZTogJ2ltYWdlL2F2aWYnIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gV2UgZG9uJ3QgbmVlZCB0aGVzZSBub3csIGJ1dCB0aGV5IGFyZSBlYXN5IHRvIGFkZFxuICAgIC8vIGNhc2UgJ21pZjEnOlxuICAgIC8vICAgcmV0dXJuIHtleHRlbnNpb246ICdoZWljJywgbWltZVR5cGU6ICdpbWFnZS9oZWlmJ307XG4gICAgLy8gY2FzZSAnbXNmMSc6XG4gICAgLy8gICByZXR1cm4ge2V4dGVuc2lvbjogJ2hlaWMnLCBtaW1lVHlwZTogJ2ltYWdlL2hlaWYtc2VxdWVuY2UnfTtcbiAgICAvLyBjYXNlICdoZWljJzpcbiAgICAvLyBjYXNlICdoZWl4JzpcbiAgICAvLyAgIHJldHVybiB7ZXh0ZW5zaW9uOiAnaGVpYycsIG1pbWVUeXBlOiAnaW1hZ2UvaGVpYyd9O1xuICAgIC8vIGNhc2UgJ2hldmMnOlxuICAgIC8vIGNhc2UgJ2hldngnOlxuICAgIC8vICAgcmV0dXJuIHtleHRlbnNpb246ICdoZWljJywgbWltZVR5cGU6ICdpbWFnZS9oZWljLXNlcXVlbmNlJ307XG4gICAgLy8gY2FzZSAncXQnOlxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICdtb3YnLCBtaW1lOiAndmlkZW8vcXVpY2t0aW1lJ307XG4gICAgLy8gY2FzZSAnTTRWJzpcbiAgICAvLyBjYXNlICdNNFZIJzpcbiAgICAvLyBjYXNlICdNNFZQJzpcbiAgICAvLyAgIHJldHVybiB7ZXh0OiAnbTR2JywgbWltZTogJ3ZpZGVvL3gtbTR2J307XG4gICAgLy8gY2FzZSAnTTRQJzpcbiAgICAvLyAgIHJldHVybiB7ZXh0OiAnbTRwJywgbWltZTogJ3ZpZGVvL21wNCd9O1xuICAgIC8vIGNhc2UgJ000Qic6XG4gICAgLy8gICByZXR1cm4ge2V4dDogJ200YicsIG1pbWU6ICdhdWRpby9tcDQnfTtcbiAgICAvLyBjYXNlICdNNEEnOlxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICdtNGEnLCBtaW1lOiAnYXVkaW8veC1tNGEnfTtcbiAgICAvLyBjYXNlICdGNFYnOlxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICdmNHYnLCBtaW1lOiAndmlkZW8vbXA0J307XG4gICAgLy8gY2FzZSAnRjRQJzpcbiAgICAvLyAgIHJldHVybiB7ZXh0OiAnZjRwJywgbWltZTogJ3ZpZGVvL21wNCd9O1xuICAgIC8vIGNhc2UgJ0Y0QSc6XG4gICAgLy8gICByZXR1cm4ge2V4dDogJ2Y0YScsIG1pbWU6ICdhdWRpby9tcDQnfTtcbiAgICAvLyBjYXNlICdGNEInOlxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICdmNGInLCBtaW1lOiAnYXVkaW8vbXA0J307XG4gICAgLy8gY2FzZSAnY3J4JzpcbiAgICAvLyAgIHJldHVybiB7ZXh0OiAnY3IzJywgbWltZTogJ2ltYWdlL3gtY2Fub24tY3IzJ307XG4gICAgLy8gZGVmYXVsdDpcbiAgICAvLyBpZiAoYnJhbmRNYWpvci5zdGFydHNXaXRoKCczZycpKSB7XG4gICAgLy8gICBpZiAoYnJhbmRNYWpvci5zdGFydHNXaXRoKCczZzInKSkge1xuICAgIC8vICAgICByZXR1cm4ge2V4dDogJzNnMicsIG1pbWU6ICd2aWRlby8zZ3BwMid9O1xuICAgIC8vICAgfVxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICczZ3AnLCBtaW1lOiAndmlkZW8vM2dwcCd9O1xuICAgIC8vIH1cbiAgICAvLyByZXR1cm4ge2V4dDogJ21wNCcsIG1pbWU6ICd2aWRlby9tcDQnfTtcbn1cbi8qKiBJbnRlcnByZXQgYSBjaHVuayBvZiBieXRlcyBhcyBhIFVURjggc3RyaW5nICovXG5mdW5jdGlvbiBnZXRVVEY4U3RyaW5nKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uYXJyYXkuc2xpY2Uoc3RhcnQsIGVuZCkpO1xufVxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gWy4uLnN0cmluZ10ubWFwKChjaGFyYWN0ZXIpID0+IGNoYXJhY3Rlci5jaGFyQ29kZUF0KDApKTtcbn1cbmZ1bmN0aW9uIGNoZWNrU3RyaW5nKGJ1ZmZlciwgaGVhZGVyLCBvZmZzZXQgPSAwKSB7XG4gICAgY29uc3QgaGVhZGVyQnl0ZXMgPSBzdHJpbmdUb0J5dGVzKGhlYWRlcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWFkZXJCeXRlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoaGVhZGVyQnl0ZXNbaV0gIT09IGJ1ZmZlcltpICsgb2Zmc2V0XSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuIiwiLy8gaW1wb3J0IHR5cGUgeyBJbWFnZVR5cGUgfSBmcm9tICdAbG9hZGVycy5nbC9zY2hlbWEnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuL2xpYi91dGlscy92ZXJzaW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUltYWdlIH0gZnJvbSBcIi4vbGliL3BhcnNlcnMvcGFyc2UtaW1hZ2UuanNcIjtcbmltcG9ydCB7IGdldEJpbmFyeUltYWdlTWV0YWRhdGEgfSBmcm9tIFwiLi9saWIvY2F0ZWdvcnktYXBpL2JpbmFyeS1pbWFnZS1hcGkuanNcIjtcbmNvbnN0IEVYVEVOU0lPTlMgPSBbJ3BuZycsICdqcGcnLCAnanBlZycsICdnaWYnLCAnd2VicCcsICdibXAnLCAnaWNvJywgJ3N2ZycsICdhdmlmJ107XG5jb25zdCBNSU1FX1RZUEVTID0gW1xuICAgICdpbWFnZS9wbmcnLFxuICAgICdpbWFnZS9qcGVnJyxcbiAgICAnaW1hZ2UvZ2lmJyxcbiAgICAnaW1hZ2Uvd2VicCcsXG4gICAgJ2ltYWdlL2F2aWYnLFxuICAgICdpbWFnZS9ibXAnLFxuICAgICdpbWFnZS92bmQubWljcm9zb2Z0Lmljb24nLFxuICAgICdpbWFnZS9zdmcreG1sJ1xuXTtcbmNvbnN0IERFRkFVTFRfSU1BR0VfTE9BREVSX09QVElPTlMgPSB7XG4gICAgaW1hZ2U6IHtcbiAgICAgICAgdHlwZTogJ2F1dG8nLFxuICAgICAgICBkZWNvZGU6IHRydWUgLy8gaWYgZm9ybWF0IGlzIEhUTUxcbiAgICB9XG4gICAgLy8gaW1hZ2ViaXRtYXA6IHt9IC0gcGFzc2VzIChwbGF0Zm9ybSBkZXBlbmRlbnQpIHBhcmFtZXRlcnMgdG8gSW1hZ2VCaXRtYXAgY29uc3RydWN0b3Jcbn07XG4vKipcbiAqIExvYWRzIGEgcGxhdGZvcm0tc3BlY2lmaWMgaW1hZ2UgdHlwZVxuICogTm90ZTogVGhpcyB0eXBlIGNhbiBiZSB1c2VkIGFzIGlucHV0IGRhdGEgdG8gV2ViR0wgdGV4dHVyZSBjcmVhdGlvblxuICovXG5leHBvcnQgY29uc3QgSW1hZ2VMb2FkZXIgPSB7XG4gICAgZGF0YVR5cGU6IG51bGwsXG4gICAgYmF0Y2hUeXBlOiBudWxsLFxuICAgIGlkOiAnaW1hZ2UnLFxuICAgIG1vZHVsZTogJ2ltYWdlcycsXG4gICAgbmFtZTogJ0ltYWdlcycsXG4gICAgdmVyc2lvbjogVkVSU0lPTixcbiAgICBtaW1lVHlwZXM6IE1JTUVfVFlQRVMsXG4gICAgZXh0ZW5zaW9uczogRVhURU5TSU9OUyxcbiAgICBwYXJzZTogcGFyc2VJbWFnZSxcbiAgICAvLyBUT0RPOiBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoO1xuICAgIHRlc3RzOiBbKGFycmF5QnVmZmVyKSA9PiBCb29sZWFuKGdldEJpbmFyeUltYWdlTWV0YWRhdGEobmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKSkpXSxcbiAgICBvcHRpb25zOiBERUZBVUxUX0lNQUdFX0xPQURFUl9PUFRJT05TXG59O1xuIiwiLy8gVmVyc2lvbiBjb25zdGFudCBjYW5ub3QgYmUgaW1wb3J0ZWQsIGl0IG5lZWRzIHRvIGNvcnJlc3BvbmQgdG8gdGhlIGJ1aWxkIHZlcnNpb24gb2YgKip0aGlzKiogbW9kdWxlLlxuLy8gX19WRVJTSU9OX18gaXMgaW5qZWN0ZWQgYnkgYmFiZWwtcGx1Z2luLXZlcnNpb24taW5saW5lXG4vLyBAdHMtaWdub3JlIFRTMjMwNDogQ2Fubm90IGZpbmQgbmFtZSAnX19WRVJTSU9OX18nLlxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSB0eXBlb2YgXCI0LjMuM1wiICE9PSAndW5kZWZpbmVkJyA/IFwiNC4zLjNcIiA6ICdsYXRlc3QnO1xuIiwiaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IGlzSW1hZ2VUeXBlU3VwcG9ydGVkLCBnZXREZWZhdWx0SW1hZ2VUeXBlIH0gZnJvbSBcIi4uL2NhdGVnb3J5LWFwaS9pbWFnZS10eXBlLmpzXCI7XG5pbXBvcnQgeyBnZXRJbWFnZURhdGEgfSBmcm9tIFwiLi4vY2F0ZWdvcnktYXBpL3BhcnNlZC1pbWFnZS1hcGkuanNcIjtcbmltcG9ydCB7IHBhcnNlVG9JbWFnZSB9IGZyb20gXCIuL3BhcnNlLXRvLWltYWdlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVRvSW1hZ2VCaXRtYXAgfSBmcm9tIFwiLi9wYXJzZS10by1pbWFnZS1iaXRtYXAuanNcIjtcbmltcG9ydCB7IHBhcnNlVG9Ob2RlSW1hZ2UgfSBmcm9tIFwiLi9wYXJzZS10by1ub2RlLWltYWdlLmpzXCI7XG4vLyBQYXJzZSB0byBwbGF0Zm9ybSBkZWZpbmVkIGltYWdlIHR5cGUgKGRhdGEgb24gbm9kZSwgSW1hZ2VCaXRtYXAgb3IgSFRNTEltYWdlIG9uIGJyb3dzZXIpXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlSW1hZ2UoYXJyYXlCdWZmZXIsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBpbWFnZU9wdGlvbnMgPSBvcHRpb25zLmltYWdlIHx8IHt9O1xuICAgIC8vIFRoZSB1c2VyIGNhbiByZXF1ZXN0IGEgc3BlY2lmaWMgb3V0cHV0IGZvcm1hdCB2aWEgYG9wdGlvbnMuaW1hZ2UudHlwZWBcbiAgICBjb25zdCBpbWFnZVR5cGUgPSBpbWFnZU9wdGlvbnMudHlwZSB8fCAnYXV0byc7XG4gICAgY29uc3QgeyB1cmwgfSA9IGNvbnRleHQgfHwge307XG4gICAgLy8gTm90ZTogRm9yIG9wdGlvbnMuaW1hZ2UudHlwZSA9PT0gYGRhdGFgLCB3ZSBtYXkgc3RpbGwgbmVlZCB0byBsb2FkIGFzIGBpbWFnZWAgb3IgYGltYWdlYml0bWFwYFxuICAgIGNvbnN0IGxvYWRUeXBlID0gZ2V0TG9hZGFibGVJbWFnZVR5cGUoaW1hZ2VUeXBlKTtcbiAgICBsZXQgaW1hZ2U7XG4gICAgc3dpdGNoIChsb2FkVHlwZSkge1xuICAgICAgICBjYXNlICdpbWFnZWJpdG1hcCc6XG4gICAgICAgICAgICBpbWFnZSA9IGF3YWl0IHBhcnNlVG9JbWFnZUJpdG1hcChhcnJheUJ1ZmZlciwgb3B0aW9ucywgdXJsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgICBpbWFnZSA9IGF3YWl0IHBhcnNlVG9JbWFnZShhcnJheUJ1ZmZlciwgb3B0aW9ucywgdXJsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgIC8vIE5vZGUuanMgbG9hZHMgaW1hZ2VkYXRhIGRpcmVjdGx5XG4gICAgICAgICAgICBpbWFnZSA9IGF3YWl0IHBhcnNlVG9Ob2RlSW1hZ2UoYXJyYXlCdWZmZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgIH1cbiAgICAvLyBCcm93c2VyOiBpZiBvcHRpb25zLmltYWdlLnR5cGUgPT09ICdkYXRhJywgd2UgY2FuIG5vdyBleHRyYWN0IGRhdGEgZnJvbSB0aGUgbG9hZGVkIGltYWdlXG4gICAgaWYgKGltYWdlVHlwZSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgIGltYWdlID0gZ2V0SW1hZ2VEYXRhKGltYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlO1xufVxuLy8gR2V0IGEgbG9hZGFibGUgaW1hZ2UgdHlwZSBmcm9tIGltYWdlIHR5cGVcbmZ1bmN0aW9uIGdldExvYWRhYmxlSW1hZ2VUeXBlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnYXV0byc6XG4gICAgICAgIGNhc2UgJ2RhdGEnOlxuICAgICAgICAgICAgLy8gQnJvd3NlcjogRm9yIGltYWdlIGRhdGEgd2UgbmVlZCBzdGlsbCBuZWVkIHRvIGxvYWQgdXNpbmcgYW4gaW1hZ2UgZm9ybWF0XG4gICAgICAgICAgICAvLyBOb2RlOiB0aGUgZGVmYXVsdCBpbWFnZSB0eXBlIGlzIGBkYXRhYC5cbiAgICAgICAgICAgIHJldHVybiBnZXREZWZhdWx0SW1hZ2VUeXBlKCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBub3Qgc3VwcG9ydGVkXG4gICAgICAgICAgICBpc0ltYWdlVHlwZVN1cHBvcnRlZCh0eXBlKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGFzc2VydCB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBnZXRCaW5hcnlJbWFnZU1ldGFkYXRhIH0gZnJvbSBcIi4uL2NhdGVnb3J5LWFwaS9iaW5hcnktaW1hZ2UtYXBpLmpzXCI7XG4vLyBVc2UgcG9seWZpbGxzIGlmIGluc3RhbGxlZCB0byBwYXJzZWQgaW1hZ2UgdXNpbmcgZ2V0LXBpeGVsc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlVG9Ob2RlSW1hZ2UoYXJyYXlCdWZmZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IG1pbWVUeXBlIH0gPSBnZXRCaW5hcnlJbWFnZU1ldGFkYXRhKGFycmF5QnVmZmVyKSB8fCB7fTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgcGFyc2VJbWFnZU5vZGUgPSBnbG9iYWxUaGlzLmxvYWRlcnM/LnBhcnNlSW1hZ2VOb2RlO1xuICAgIGFzc2VydChwYXJzZUltYWdlTm9kZSk7IC8vICdAbG9hZGVycy5nbC9wb2x5ZmlsbHMgbm90IGluc3RhbGxlZCdcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gc2hvdWxkIHdlIHRocm93IGVycm9yIGluIHRoaXMgY2FzZT9cbiAgICByZXR1cm4gYXdhaXQgcGFyc2VJbWFnZU5vZGUoYXJyYXlCdWZmZXIsIG1pbWVUeXBlKTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgcmVnaXN0ZXJKU01vZHVsZXMsIGdldEpTTW9kdWxlT3JOdWxsIH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IGxvYWRMaWJyYXJ5IH0gZnJvbSAnQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzJztcbmV4cG9ydCBjb25zdCBCQVNJU19FWFRFUk5BTF9MSUJSQVJJRVMgPSB7XG4gICAgLyoqIEJhc2lzIHRyYW5zY29kZXIsIGphdmFzY3JpcHQgd3JhcHBlciBwYXJ0ICovXG4gICAgVFJBTlNDT0RFUjogJ2Jhc2lzX3RyYW5zY29kZXIuanMnLFxuICAgIC8qKiBCYXNpcyB0cmFuc2NvZGVyLCBjb21waWxlZCB3ZWIgYXNzZW1ibHkgcGFydCAqL1xuICAgIFRSQU5TQ09ERVJfV0FTTTogJ2Jhc2lzX3RyYW5zY29kZXIud2FzbScsXG4gICAgLyoqIEJhc2lzIGVuY29kZXIsIGphdmFzY3JpcHQgd3JhcHBlciBwYXJ0ICovXG4gICAgRU5DT0RFUjogJ2Jhc2lzX2VuY29kZXIuanMnLFxuICAgIC8qKiBCYXNpcyBlbmNvZGVyLCBjb21waWxlZCB3ZWIgYXNzZW1ibHkgcGFydCAqL1xuICAgIEVOQ09ERVJfV0FTTTogJ2Jhc2lzX2VuY29kZXIud2FzbSdcbn07XG5sZXQgbG9hZEJhc2lzVHJhbnNjb2RlclByb21pc2U7XG4vKipcbiAqIExvYWRzIHdhc20gdHJhbnNjb2RlciBtb2R1bGVcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyB7QmFzaXNGaWxlfSBwcm9taXNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQmFzaXNUcmFuc2NvZGVyTW9kdWxlKG9wdGlvbnMpIHtcbiAgICByZWdpc3RlckpTTW9kdWxlcyhvcHRpb25zLm1vZHVsZXMpO1xuICAgIGNvbnN0IGJhc2lzID0gZ2V0SlNNb2R1bGVPck51bGwoJ2Jhc2lzJyk7XG4gICAgaWYgKGJhc2lzKSB7XG4gICAgICAgIHJldHVybiBiYXNpcztcbiAgICB9XG4gICAgbG9hZEJhc2lzVHJhbnNjb2RlclByb21pc2UgfHw9IGxvYWRCYXNpc1RyYW5zY29kZXIob3B0aW9ucyk7XG4gICAgcmV0dXJuIGF3YWl0IGxvYWRCYXNpc1RyYW5zY29kZXJQcm9taXNlO1xufVxuLyoqXG4gKiBMb2FkcyB3YXNtIHRyYW5zY29kZXIgbW9kdWxlXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnMge0Jhc2lzRmlsZX0gcHJvbWlzZVxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkQmFzaXNUcmFuc2NvZGVyKG9wdGlvbnMpIHtcbiAgICBsZXQgQkFTSVMgPSBudWxsO1xuICAgIGxldCB3YXNtQmluYXJ5ID0gbnVsbDtcbiAgICBbQkFTSVMsIHdhc21CaW5hcnldID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBhd2FpdCBsb2FkTGlicmFyeShCQVNJU19FWFRFUk5BTF9MSUJSQVJJRVMuVFJBTlNDT0RFUiwgJ3RleHR1cmVzJywgb3B0aW9ucyksXG4gICAgICAgIGF3YWl0IGxvYWRMaWJyYXJ5KEJBU0lTX0VYVEVSTkFMX0xJQlJBUklFUy5UUkFOU0NPREVSX1dBU00sICd0ZXh0dXJlcycsIG9wdGlvbnMpXG4gICAgXSk7XG4gICAgLy8gRGVwZW5kcyBvbiBob3cgaW1wb3J0IGhhcHBlbmVkLi4uXG4gICAgLy8gQHRzLWlnbm9yZSBUUzIzMzk6IFByb3BlcnR5IGRvZXMgbm90IGV4aXN0IG9uIHR5cGVcbiAgICBCQVNJUyA9IEJBU0lTIHx8IGdsb2JhbFRoaXMuQkFTSVM7XG4gICAgcmV0dXJuIGF3YWl0IGluaXRpYWxpemVCYXNpc1RyYW5zY29kZXJNb2R1bGUoQkFTSVMsIHdhc21CaW5hcnkpO1xufVxuLyoqXG4gKiBJbml0aWFsaXplIHdhc20gdHJhbnNjb2RlciBtb2R1bGVcbiAqIEBwYXJhbSBCYXNpc01vZHVsZSAtIGpzIHBhcnQgb2YgdGhlIG1vZHVsZVxuICogQHBhcmFtIHdhc21CaW5hcnkgLSB3YXNtIHBhcnQgb2YgdGhlIG1vZHVsZVxuICogQHJldHVybnMge0Jhc2lzRmlsZX0gcHJvbWlzZVxuICovXG5mdW5jdGlvbiBpbml0aWFsaXplQmFzaXNUcmFuc2NvZGVyTW9kdWxlKEJhc2lzTW9kdWxlLCB3YXNtQmluYXJ5KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgIGlmICh3YXNtQmluYXJ5KSB7XG4gICAgICAgIG9wdGlvbnMud2FzbUJpbmFyeSA9IHdhc21CaW5hcnk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAvLyBpZiB5b3UgdHJ5IHRvIHJldHVybiBCYXNpc01vZHVsZSB0aGUgYnJvd3NlciBjcmFzaGVzIVxuICAgICAgICBCYXNpc01vZHVsZShvcHRpb25zKS50aGVuKChtb2R1bGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgQmFzaXNGaWxlLCBpbml0aWFsaXplQmFzaXMgfSA9IG1vZHVsZTtcbiAgICAgICAgICAgIGluaXRpYWxpemVCYXNpcygpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IEJhc2lzRmlsZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5sZXQgbG9hZEJhc2lzRW5jb2RlclByb21pc2U7XG4vKipcbiAqIExvYWRzIHdhc20gZW5jb2RlciBtb2R1bGVcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyB7QmFzaXNGaWxlLCBLVFgyRmlsZX0gcHJvbWlzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEJhc2lzRW5jb2Rlck1vZHVsZShvcHRpb25zKSB7XG4gICAgY29uc3QgbW9kdWxlcyA9IG9wdGlvbnMubW9kdWxlcyB8fCB7fTtcbiAgICBpZiAobW9kdWxlcy5iYXNpc0VuY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZXMuYmFzaXNFbmNvZGVyO1xuICAgIH1cbiAgICBsb2FkQmFzaXNFbmNvZGVyUHJvbWlzZSA9IGxvYWRCYXNpc0VuY29kZXJQcm9taXNlIHx8IGxvYWRCYXNpc0VuY29kZXIob3B0aW9ucyk7XG4gICAgcmV0dXJuIGF3YWl0IGxvYWRCYXNpc0VuY29kZXJQcm9taXNlO1xufVxuLyoqXG4gKiBMb2FkcyB3YXNtIGVuY29kZXIgbW9kdWxlXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnMge0Jhc2lzRmlsZSwgS1RYMkZpbGV9IHByb21pc2VcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZEJhc2lzRW5jb2RlcihvcHRpb25zKSB7XG4gICAgbGV0IEJBU0lTX0VOQ09ERVIgPSBudWxsO1xuICAgIGxldCB3YXNtQmluYXJ5ID0gbnVsbDtcbiAgICBbQkFTSVNfRU5DT0RFUiwgd2FzbUJpbmFyeV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGF3YWl0IGxvYWRMaWJyYXJ5KEJBU0lTX0VYVEVSTkFMX0xJQlJBUklFUy5FTkNPREVSLCAndGV4dHVyZXMnLCBvcHRpb25zKSxcbiAgICAgICAgYXdhaXQgbG9hZExpYnJhcnkoQkFTSVNfRVhURVJOQUxfTElCUkFSSUVTLkVOQ09ERVJfV0FTTSwgJ3RleHR1cmVzJywgb3B0aW9ucylcbiAgICBdKTtcbiAgICAvLyBEZXBlbmRzIG9uIGhvdyBpbXBvcnQgaGFwcGVuZWQuLi5cbiAgICAvLyBAdHMtaWdub3JlIFRTMjMzOTogUHJvcGVydHkgZG9lcyBub3QgZXhpc3Qgb24gdHlwZVxuICAgIEJBU0lTX0VOQ09ERVIgPSBCQVNJU19FTkNPREVSIHx8IGdsb2JhbFRoaXMuQkFTSVM7XG4gICAgcmV0dXJuIGF3YWl0IGluaXRpYWxpemVCYXNpc0VuY29kZXJNb2R1bGUoQkFTSVNfRU5DT0RFUiwgd2FzbUJpbmFyeSk7XG59XG4vKipcbiAqIEluaXRpYWxpemUgd2FzbSB0cmFuc2NvZGVyIG1vZHVsZVxuICogQHBhcmFtIEJhc2lzRW5jb2Rlck1vZHVsZSAtIGpzIHBhcnQgb2YgdGhlIG1vZHVsZVxuICogQHBhcmFtIHdhc21CaW5hcnkgLSB3YXNtIHBhcnQgb2YgdGhlIG1vZHVsZVxuICogQHJldHVybnMge0Jhc2lzRmlsZSwgS1RYMkZpbGV9IHByb21pc2VcbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZUJhc2lzRW5jb2Rlck1vZHVsZShCYXNpc0VuY29kZXJNb2R1bGUsIHdhc21CaW5hcnkpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgaWYgKHdhc21CaW5hcnkpIHtcbiAgICAgICAgb3B0aW9ucy53YXNtQmluYXJ5ID0gd2FzbUJpbmFyeTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIC8vIGlmIHlvdSB0cnkgdG8gcmV0dXJuIEJhc2lzTW9kdWxlIHRoZSBicm93c2VyIGNyYXNoZXMhXG4gICAgICAgIEJhc2lzRW5jb2Rlck1vZHVsZShvcHRpb25zKS50aGVuKChtb2R1bGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgQmFzaXNGaWxlLCBLVFgyRmlsZSwgaW5pdGlhbGl6ZUJhc2lzLCBCYXNpc0VuY29kZXIgfSA9IG1vZHVsZTtcbiAgICAgICAgICAgIGluaXRpYWxpemVCYXNpcygpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IEJhc2lzRmlsZSwgS1RYMkZpbGUsIEJhc2lzRW5jb2RlciB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGxvZyB9IGZyb20gXCIuLi9sb2ctdXRpbHMvbG9nLmpzXCI7XG4vKipcbiAqIFJlZ2lzdGVyIGFwcGxpY2F0aW9uLWltcG9ydGVkIG1vZHVsZXNcbiAqIFRoZXNlIG1vZHVsZXMgYXJlIHR5cGljYWxseSB0byBiaWcgdG8gYnVuZGxlLCBvciBtYXkgaGF2ZSBpc3N1ZXMgb24gc29tZSBidW5kbGVycy9lbnZpcm9ubWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVySlNNb2R1bGVzKG1vZHVsZXMpIHtcbiAgICBnbG9iYWxUaGlzLmxvYWRlcnMgfHw9IHt9O1xuICAgIGdsb2JhbFRoaXMubG9hZGVycy5tb2R1bGVzIHx8PSB7fTtcbiAgICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMubG9hZGVycy5tb2R1bGVzLCBtb2R1bGVzKTtcbn1cbi8qKlxuICogR2V0IGEgcHJlLXJlZ2lzdGVyZWQgYXBwbGljYXRpb24taW1wb3J0ZWQgbW9kdWxlLCB3YXJuIGlmIG5vdCBwcmVzZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0pTTW9kdWxlKG5hbWUsIGNhbGxlcikge1xuICAgIGNvbnN0IG1vZHVsZSA9IGdsb2JhbFRoaXMubG9hZGVycz8ubW9kdWxlcz8uW25hbWVdO1xuICAgIGlmICghbW9kdWxlKSB7XG4gICAgICAgIGxvZy53YXJuKGAke2NhbGxlcn06ICR7bmFtZX0gbGlicmFyeSBub3QgaW5zdGFsbGVkYCkoKTtcbiAgICB9XG59XG4vKipcbiAqIEdldCBhIHByZS1yZWdpc3RlcmVkIGFwcGxpY2F0aW9uLWltcG9ydGVkIG1vZHVsZSwgdGhyb3cgaWYgbm90IHByZXNlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEpTTW9kdWxlKG5hbWUsIGNhbGxlcikge1xuICAgIGNvbnN0IG1vZHVsZSA9IGdsb2JhbFRoaXMubG9hZGVycz8ubW9kdWxlcz8uW25hbWVdO1xuICAgIGlmICghbW9kdWxlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtjYWxsZXJ9OiAke25hbWV9IGxpYnJhcnkgbm90IGluc3RhbGxlZGApO1xuICAgIH1cbiAgICByZXR1cm4gbW9kdWxlO1xufVxuLyoqXG4gKiBHZXQgYSBwcmUtcmVnaXN0ZXJlZCBhcHBsaWNhdGlvbi1pbXBvcnRlZCBtb2R1bGUsIHJldHVybiBudWxsIGlmIG5vdCBwcmVzZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRKU01vZHVsZU9yTnVsbChuYW1lKSB7XG4gICAgY29uc3QgbW9kdWxlID0gZ2xvYmFsVGhpcy5sb2FkZXJzPy5tb2R1bGVzPy5bbmFtZV07XG4gICAgcmV0dXJuIG1vZHVsZSB8fCBudWxsO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbmV4cG9ydCBjb25zdCBHTF9FWFRFTlNJT05TX0NPTlNUQU5UUyA9IHtcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1xuICAgIENPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQ6IDB4ODNmMCxcbiAgICBDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVDogMHg4M2YxLFxuICAgIENPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUOiAweDgzZjIsXG4gICAgQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQ6IDB4ODNmMyxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXMzXG4gICAgQ09NUFJFU1NFRF9SMTFfRUFDOiAweDkyNzAsXG4gICAgQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQzogMHg5MjcxLFxuICAgIENPTVBSRVNTRURfUkcxMV9FQUM6IDB4OTI3MixcbiAgICBDT01QUkVTU0VEX1NJR05FRF9SRzExX0VBQzogMHg5MjczLFxuICAgIENPTVBSRVNTRURfUkdCOF9FVEMyOiAweDkyNzQsXG4gICAgQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQzogMHg5Mjc1LFxuICAgIENPTVBSRVNTRURfU1JHQjhfRVRDMjogMHg5Mjc2LFxuICAgIENPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOiAweDkyNzcsXG4gICAgQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMjogMHg5Mjc4LFxuICAgIENPTVBSRVNTRURfU1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyOiAweDkyNzksXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXG4gICAgQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRzogMHg4YzAwLFxuICAgIENPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HOiAweDhjMDIsXG4gICAgQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNRzogMHg4YzAxLFxuICAgIENPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HOiAweDhjMDMsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzFcbiAgICBDT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMOiAweDhkNjQsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0Y1xuICAgIENPTVBSRVNTRURfUkdCX0FUQ19XRUJHTDogMHg4YzkyLFxuICAgIENPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0w6IDB4OGM5MyxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTDogMHg4N2VlLFxuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjXG4gICAgQ09NUFJFU1NFRF9SR0JBX0FTVENfNFg0X0tIUjogMHg5M2IwLFxuICAgIENPTVBSRVNTRURfUkdCQV9BU1RDXzVYNF9LSFI6IDB4OTNiMSxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ181WDVfS0hSOiAweDkzYjIsXG4gICAgQ09NUFJFU1NFRF9SR0JBX0FTVENfNlg1X0tIUjogMHg5M2IzLFxuICAgIENPTVBSRVNTRURfUkdCQV9BU1RDXzZYNl9LSFI6IDB4OTNiNCxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ184WDVfS0hSOiAweDkzYjUsXG4gICAgQ09NUFJFU1NFRF9SR0JBX0FTVENfOFg2X0tIUjogMHg5M2I2LFxuICAgIENPTVBSRVNTRURfUkdCQV9BU1RDXzhYOF9LSFI6IDB4OTNiNyxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ18xMFg1X0tIUjogMHg5M2I4LFxuICAgIENPTVBSRVNTRURfUkdCQV9BU1RDXzEwWDZfS0hSOiAweDkzYjksXG4gICAgQ09NUFJFU1NFRF9SR0JBX0FTVENfMTBYOF9LSFI6IDB4OTNiYSxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ18xMFgxMF9LSFI6IDB4OTNiYixcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ18xMlgxMF9LSFI6IDB4OTNiYyxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ18xMlgxMl9LSFI6IDB4OTNiZCxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzRYNF9LSFI6IDB4OTNkMCxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzVYNF9LSFI6IDB4OTNkMSxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzVYNV9LSFI6IDB4OTNkMixcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzZYNV9LSFI6IDB4OTNkMyxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzZYNl9LSFI6IDB4OTNkNCxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzhYNV9LSFI6IDB4OTNkNSxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzhYNl9LSFI6IDB4OTNkNixcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzhYOF9LSFI6IDB4OTNkNyxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEwWDVfS0hSOiAweDkzZDgsXG4gICAgQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMFg2X0tIUjogMHg5M2Q5LFxuICAgIENPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTBYOF9LSFI6IDB4OTNkYSxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEwWDEwX0tIUjogMHg5M2RiLFxuICAgIENPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTJYMTBfS0hSOiAweDkzZGMsXG4gICAgQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMlgxMl9LSFI6IDB4OTNkZCxcbiAgICAvLyBFWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9yZ3RjXG4gICAgQ09NUFJFU1NFRF9SRURfUkdUQzFfRVhUOiAweDhkYmIsXG4gICAgQ09NUFJFU1NFRF9TSUdORURfUkVEX1JHVEMxX0VYVDogMHg4ZGJjLFxuICAgIENPTVBSRVNTRURfUkVEX0dSRUVOX1JHVEMyX0VYVDogMHg4ZGJkLFxuICAgIENPTVBSRVNTRURfU0lHTkVEX1JFRF9HUkVFTl9SR1RDMl9FWFQ6IDB4OGRiZSxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiXG4gICAgQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQ6IDB4OGM0YyxcbiAgICBDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVDogMHg4YzRkLFxuICAgIENPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhUOiAweDhjNGUsXG4gICAgQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ6IDB4OGM0ZlxufTtcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuY29uc3QgQlJPV1NFUl9QUkVGSVhFUyA9IFsnJywgJ1dFQktJVF8nLCAnTU9aXyddO1xuY29uc3QgV0VCR0xfRVhURU5TSU9OUyA9IHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbiAgICBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YzogJ2R4dCcsXG4gICAgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYjogJ2R4dC1zcmdiJyxcbiAgICBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMTogJ2V0YzEnLFxuICAgIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGM6ICdldGMyJyxcbiAgICBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGM6ICdwdnJ0YycsXG4gICAgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0YzogJ2F0YycsXG4gICAgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGM6ICdhc3RjJyxcbiAgICBFWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9yZ3RjOiAncmd0YydcbiAgICAvKiBlc2xpbnQtZW5hYmxlIGNhbWVsY2FzZSAqL1xufTtcbmxldCBmb3JtYXRzID0gbnVsbDtcbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgZm9ybWF0cy5cbiAqIENyZWF0ZXMgYSB0ZW1wb3JhcnkgV2ViR0xSZW5kZXJpbmdDb250ZXh0IGlmIG5vbmUgaXMgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIGdsIC0gT3B0aW9uYWwgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN1cHBvcnRlZEdQVVRleHR1cmVGb3JtYXRzKGdsKSB7XG4gICAgaWYgKCFmb3JtYXRzKSB7XG4gICAgICAgIGdsID0gZ2wgfHwgZ2V0V2ViR0xDb250ZXh0KCkgfHwgdW5kZWZpbmVkO1xuICAgICAgICBmb3JtYXRzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHByZWZpeCBvZiBCUk9XU0VSX1BSRUZJWEVTKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV4dGVuc2lvbiBpbiBXRUJHTF9FWFRFTlNJT05TKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdsICYmIGdsLmdldEV4dGVuc2lvbihgJHtwcmVmaXh9JHtleHRlbnNpb259YCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3B1VGV4dHVyZUZvcm1hdCA9IFdFQkdMX0VYVEVOU0lPTlNbZXh0ZW5zaW9uXTtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0cy5hZGQoZ3B1VGV4dHVyZUZvcm1hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb3JtYXRzO1xufVxuLyoqXG4gKiBAcmV0dXJucyB7V2ViR0xSZW5kZXJpbmdDb250ZXh0P31cbiAqL1xuZnVuY3Rpb24gZ2V0V2ViR0xDb250ZXh0KCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICByZXR1cm4gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IHJlYWQgfSBmcm9tICdrdHgtcGFyc2UnO1xuaW1wb3J0IHsgZXh0cmFjdE1pcG1hcEltYWdlcyB9IGZyb20gXCIuLi91dGlscy9leHRyYWN0LW1pcG1hcC1pbWFnZXMuanNcIjtcbmltcG9ydCB7IG1hcFZrRm9ybWF0VG9XZWJHTCB9IGZyb20gXCIuLi91dGlscy9rdHgtZm9ybWF0LWhlbHBlci5qc1wiO1xuY29uc3QgS1RYMl9JRCA9IFtcbiAgICAvLyAnwrQnLCAnSycsICdUJywgJ1gnLCAnMicsICcwJywgJ8KqJywgJ1xccicsICdcXG4nLCAnXFx4MUEnLCAnXFxuJ1xuICAgIDB4YWIsIDB4NGIsIDB4NTQsIDB4NTgsIDB4MjAsIDB4MzIsIDB4MzAsIDB4YmIsIDB4MGQsIDB4MGEsIDB4MWEsIDB4MGFcbl07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZXhwb3J0IGZ1bmN0aW9uIGlzS1RYKGRhdGEpIHtcbiAgICAvLyBjb25zdCBpZCA9IG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgY29uc3QgaWQgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICBjb25zdCBub3RLVFggPSBpZC5ieXRlTGVuZ3RoIDwgS1RYMl9JRC5sZW5ndGggfHxcbiAgICAgICAgaWRbMF0gIT09IEtUWDJfSURbMF0gfHwgLy8gJ8K0J1xuICAgICAgICBpZFsxXSAhPT0gS1RYMl9JRFsxXSB8fCAvLyAnSydcbiAgICAgICAgaWRbMl0gIT09IEtUWDJfSURbMl0gfHwgLy8gJ1QnXG4gICAgICAgIGlkWzNdICE9PSBLVFgyX0lEWzNdIHx8IC8vICdYJ1xuICAgICAgICBpZFs0XSAhPT0gS1RYMl9JRFs0XSB8fCAvLyAnICdcbiAgICAgICAgaWRbNV0gIT09IEtUWDJfSURbNV0gfHwgLy8gJzInXG4gICAgICAgIGlkWzZdICE9PSBLVFgyX0lEWzZdIHx8IC8vICcwJ1xuICAgICAgICBpZFs3XSAhPT0gS1RYMl9JRFs3XSB8fCAvLyAnwqonXG4gICAgICAgIGlkWzhdICE9PSBLVFgyX0lEWzhdIHx8IC8vICdcXHInXG4gICAgICAgIGlkWzldICE9PSBLVFgyX0lEWzldIHx8IC8vICdcXG4nXG4gICAgICAgIGlkWzEwXSAhPT0gS1RYMl9JRFsxMF0gfHwgLy8gJ1xceDFBJ1xuICAgICAgICBpZFsxMV0gIT09IEtUWDJfSURbMTFdOyAvLyAnXFxuJ1xuICAgIHJldHVybiAhbm90S1RYO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlS1RYKGFycmF5QnVmZmVyKSB7XG4gICAgY29uc3QgdWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICBjb25zdCBrdHggPSByZWFkKHVpbnQ4QXJyYXkpO1xuICAgIGNvbnN0IG1pcE1hcExldmVscyA9IE1hdGgubWF4KDEsIGt0eC5sZXZlbHMubGVuZ3RoKTtcbiAgICBjb25zdCB3aWR0aCA9IGt0eC5waXhlbFdpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGt0eC5waXhlbEhlaWdodDtcbiAgICBjb25zdCBpbnRlcm5hbEZvcm1hdCA9IG1hcFZrRm9ybWF0VG9XZWJHTChrdHgudmtGb3JtYXQpO1xuICAgIHJldHVybiBleHRyYWN0TWlwbWFwSW1hZ2VzKGt0eC5sZXZlbHMsIHtcbiAgICAgICAgbWlwTWFwTGV2ZWxzLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBzaXplRnVuY3Rpb246IChsZXZlbCkgPT4gbGV2ZWwudW5jb21wcmVzc2VkQnl0ZUxlbmd0aCxcbiAgICAgICAgaW50ZXJuYWxGb3JtYXRcbiAgICB9KTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgbG9hZEJhc2lzRW5jb2Rlck1vZHVsZSwgbG9hZEJhc2lzVHJhbnNjb2Rlck1vZHVsZSB9IGZyb20gXCIuL2Jhc2lzLW1vZHVsZS1sb2FkZXIuanNcIjtcbmltcG9ydCB7IEdMX0VYVEVOU0lPTlNfQ09OU1RBTlRTIH0gZnJvbSBcIi4uL2dsLWV4dGVuc2lvbnMuanNcIjtcbmltcG9ydCB7IGdldFN1cHBvcnRlZEdQVVRleHR1cmVGb3JtYXRzIH0gZnJvbSBcIi4uL3V0aWxzL3RleHR1cmUtZm9ybWF0cy5qc1wiO1xuaW1wb3J0IHsgaXNLVFggfSBmcm9tIFwiLi9wYXJzZS1rdHguanNcIjtcbmNvbnN0IE91dHB1dEZvcm1hdCA9IHtcbiAgICBldGMxOiB7XG4gICAgICAgIGJhc2lzRm9ybWF0OiAwLFxuICAgICAgICBjb21wcmVzc2VkOiB0cnVlLFxuICAgICAgICBmb3JtYXQ6IEdMX0VYVEVOU0lPTlNfQ09OU1RBTlRTLkNPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0xcbiAgICB9LFxuICAgIGV0YzI6IHsgYmFzaXNGb3JtYXQ6IDEsIGNvbXByZXNzZWQ6IHRydWUgfSxcbiAgICBiYzE6IHtcbiAgICAgICAgYmFzaXNGb3JtYXQ6IDIsXG4gICAgICAgIGNvbXByZXNzZWQ6IHRydWUsXG4gICAgICAgIGZvcm1hdDogR0xfRVhURU5TSU9OU19DT05TVEFOVFMuQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVFxuICAgIH0sXG4gICAgYmMzOiB7XG4gICAgICAgIGJhc2lzRm9ybWF0OiAzLFxuICAgICAgICBjb21wcmVzc2VkOiB0cnVlLFxuICAgICAgICBmb3JtYXQ6IEdMX0VYVEVOU0lPTlNfQ09OU1RBTlRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUXG4gICAgfSxcbiAgICBiYzQ6IHsgYmFzaXNGb3JtYXQ6IDQsIGNvbXByZXNzZWQ6IHRydWUgfSxcbiAgICBiYzU6IHsgYmFzaXNGb3JtYXQ6IDUsIGNvbXByZXNzZWQ6IHRydWUgfSxcbiAgICAnYmM3LW02LW9wYXF1ZS1vbmx5JzogeyBiYXNpc0Zvcm1hdDogNiwgY29tcHJlc3NlZDogdHJ1ZSB9LFxuICAgICdiYzctbTUnOiB7IGJhc2lzRm9ybWF0OiA3LCBjb21wcmVzc2VkOiB0cnVlIH0sXG4gICAgJ3B2cnRjMS00LXJnYic6IHtcbiAgICAgICAgYmFzaXNGb3JtYXQ6IDgsXG4gICAgICAgIGNvbXByZXNzZWQ6IHRydWUsXG4gICAgICAgIGZvcm1hdDogR0xfRVhURU5TSU9OU19DT05TVEFOVFMuQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNR1xuICAgIH0sXG4gICAgJ3B2cnRjMS00LXJnYmEnOiB7XG4gICAgICAgIGJhc2lzRm9ybWF0OiA5LFxuICAgICAgICBjb21wcmVzc2VkOiB0cnVlLFxuICAgICAgICBmb3JtYXQ6IEdMX0VYVEVOU0lPTlNfQ09OU1RBTlRTLkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HXG4gICAgfSxcbiAgICAnYXN0Yy00eDQnOiB7XG4gICAgICAgIGJhc2lzRm9ybWF0OiAxMCxcbiAgICAgICAgY29tcHJlc3NlZDogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiBHTF9FWFRFTlNJT05TX0NPTlNUQU5UUy5DT01QUkVTU0VEX1JHQkFfQVNUQ180WDRfS0hSXG4gICAgfSxcbiAgICAnYXRjLXJnYic6IHsgYmFzaXNGb3JtYXQ6IDExLCBjb21wcmVzc2VkOiB0cnVlIH0sXG4gICAgJ2F0Yy1yZ2JhLWludGVycG9sYXRlZC1hbHBoYSc6IHsgYmFzaXNGb3JtYXQ6IDEyLCBjb21wcmVzc2VkOiB0cnVlIH0sXG4gICAgcmdiYTMyOiB7IGJhc2lzRm9ybWF0OiAxMywgY29tcHJlc3NlZDogZmFsc2UgfSxcbiAgICByZ2I1NjU6IHsgYmFzaXNGb3JtYXQ6IDE0LCBjb21wcmVzc2VkOiBmYWxzZSB9LFxuICAgIGJncjU2NTogeyBiYXNpc0Zvcm1hdDogMTUsIGNvbXByZXNzZWQ6IGZhbHNlIH0sXG4gICAgcmdiYTQ0NDQ6IHsgYmFzaXNGb3JtYXQ6IDE2LCBjb21wcmVzc2VkOiBmYWxzZSB9XG59O1xuLyoqXG4gKiBwYXJzZSBkYXRhIHdpdGggYSBCaW5vbWlhbCBCYXNpc19Vbml2ZXJzYWwgbW9kdWxlXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zIGNvbXByZXNzZWQgdGV4dHVyZSBkYXRhXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUJhc2lzKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5iYXNpcy5jb250YWluZXJGb3JtYXQgPT09ICdhdXRvJykge1xuICAgICAgICBpZiAoaXNLVFgoZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVDb25zdHJ1Y3RvcnMgPSBhd2FpdCBsb2FkQmFzaXNFbmNvZGVyTW9kdWxlKG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlS1RYMkZpbGUoZmlsZUNvbnN0cnVjdG9ycy5LVFgyRmlsZSwgZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBCYXNpc0ZpbGUgfSA9IGF3YWl0IGxvYWRCYXNpc1RyYW5zY29kZXJNb2R1bGUob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwYXJzZUJhc2lzRmlsZShCYXNpc0ZpbGUsIGRhdGEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzd2l0Y2ggKG9wdGlvbnMuYmFzaXMubW9kdWxlKSB7XG4gICAgICAgIGNhc2UgJ2VuY29kZXInOlxuICAgICAgICAgICAgY29uc3QgZmlsZUNvbnN0cnVjdG9ycyA9IGF3YWl0IGxvYWRCYXNpc0VuY29kZXJNb2R1bGUob3B0aW9ucyk7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuYmFzaXMuY29udGFpbmVyRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAna3R4Mic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUtUWDJGaWxlKGZpbGVDb25zdHJ1Y3RvcnMuS1RYMkZpbGUsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jhc2lzJzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VCYXNpc0ZpbGUoZmlsZUNvbnN0cnVjdG9ycy5CYXNpc0ZpbGUsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICd0cmFuc2NvZGVyJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHsgQmFzaXNGaWxlIH0gPSBhd2FpdCBsb2FkQmFzaXNUcmFuc2NvZGVyTW9kdWxlKG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQmFzaXNGaWxlKEJhc2lzRmlsZSwgZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJzZSAqLmJhc2lzIGZpbGUgZGF0YVxuICogQHBhcmFtIEJhc2lzRmlsZSAtIGluaXRpYWxpemVkIHRyYW5zY29kZXIgbW9kdWxlXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zIGNvbXByZXNzZWQgdGV4dHVyZSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQmFzaXNGaWxlKEJhc2lzRmlsZSwgZGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGJhc2lzRmlsZSA9IG5ldyBCYXNpc0ZpbGUobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgIHRyeSB7XG4gICAgICAgIGlmICghYmFzaXNGaWxlLnN0YXJ0VHJhbnNjb2RpbmcoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc3RhcnQgYmFzaXMgdHJhbnNjb2RpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbWFnZUNvdW50ID0gYmFzaXNGaWxlLmdldE51bUltYWdlcygpO1xuICAgICAgICBjb25zdCBpbWFnZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW1hZ2VJbmRleCA9IDA7IGltYWdlSW5kZXggPCBpbWFnZUNvdW50OyBpbWFnZUluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxldmVsc0NvdW50ID0gYmFzaXNGaWxlLmdldE51bUxldmVscyhpbWFnZUluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGxldmVscyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgbGV2ZWxJbmRleCA9IDA7IGxldmVsSW5kZXggPCBsZXZlbHNDb3VudDsgbGV2ZWxJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWxzLnB1c2godHJhbnNjb2RlSW1hZ2UoYmFzaXNGaWxlLCBpbWFnZUluZGV4LCBsZXZlbEluZGV4LCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZXMucHVzaChsZXZlbHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbWFnZXM7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBiYXNpc0ZpbGUuY2xvc2UoKTtcbiAgICAgICAgYmFzaXNGaWxlLmRlbGV0ZSgpO1xuICAgIH1cbn1cbi8qKlxuICogUGFyc2UgdGhlIHBhcnRpY3VsYXIgbGV2ZWwgaW1hZ2Ugb2YgYSBiYXNpcyBmaWxlXG4gKiBAcGFyYW0gYmFzaXNGaWxlXG4gKiBAcGFyYW0gaW1hZ2VJbmRleFxuICogQHBhcmFtIGxldmVsSW5kZXhcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyBjb21wcmVzc2VkIHRleHR1cmUgZGF0YVxuICovXG5mdW5jdGlvbiB0cmFuc2NvZGVJbWFnZShiYXNpc0ZpbGUsIGltYWdlSW5kZXgsIGxldmVsSW5kZXgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB3aWR0aCA9IGJhc2lzRmlsZS5nZXRJbWFnZVdpZHRoKGltYWdlSW5kZXgsIGxldmVsSW5kZXgpO1xuICAgIGNvbnN0IGhlaWdodCA9IGJhc2lzRmlsZS5nZXRJbWFnZUhlaWdodChpbWFnZUluZGV4LCBsZXZlbEluZGV4KTtcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0Jpbm9taWFsTExDL2Jhc2lzX3VuaXZlcnNhbC9wdWxsLzgzXG4gICAgY29uc3QgaGFzQWxwaGEgPSBiYXNpc0ZpbGUuZ2V0SGFzQWxwaGEoIC8qIGltYWdlSW5kZXgsIGxldmVsSW5kZXggKi8pO1xuICAgIC8vIENoZWNrIG9wdGlvbnMgZm9yIG91dHB1dCBmb3JtYXQgZXRjXG4gICAgY29uc3QgeyBjb21wcmVzc2VkLCBmb3JtYXQsIGJhc2lzRm9ybWF0IH0gPSBnZXRCYXNpc09wdGlvbnMob3B0aW9ucywgaGFzQWxwaGEpO1xuICAgIGNvbnN0IGRlY29kZWRTaXplID0gYmFzaXNGaWxlLmdldEltYWdlVHJhbnNjb2RlZFNpemVJbkJ5dGVzKGltYWdlSW5kZXgsIGxldmVsSW5kZXgsIGJhc2lzRm9ybWF0KTtcbiAgICBjb25zdCBkZWNvZGVkRGF0YSA9IG5ldyBVaW50OEFycmF5KGRlY29kZWRTaXplKTtcbiAgICBpZiAoIWJhc2lzRmlsZS50cmFuc2NvZGVJbWFnZShkZWNvZGVkRGF0YSwgaW1hZ2VJbmRleCwgbGV2ZWxJbmRleCwgYmFzaXNGb3JtYXQsIDAsIDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIHN0YXJ0IEJhc2lzIHRyYW5zY29kaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHN0YW5kYXJkIGxvYWRlcnMuZ2wgaW1hZ2UgY2F0ZWdvcnkgcGF5bG9hZFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBkYXRhOiBkZWNvZGVkRGF0YSxcbiAgICAgICAgY29tcHJlc3NlZCxcbiAgICAgICAgZm9ybWF0LFxuICAgICAgICAvLyBBZGRpdGlvbmFsIGZpZWxkc1xuICAgICAgICAvLyBBZGQgbGV2ZWxTaXplIGZpZWxkLlxuICAgICAgICBoYXNBbHBoYVxuICAgIH07XG59XG4vKipcbiAqIFBhcnNlICoua3R4MiBmaWxlIGRhdGFcbiAqIEBwYXJhbSBLVFgyRmlsZVxuICogQHBhcmFtIGRhdGFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyBjb21wcmVzc2VkIHRleHR1cmUgZGF0YVxuICovXG5mdW5jdGlvbiBwYXJzZUtUWDJGaWxlKEtUWDJGaWxlLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3Qga3R4MkZpbGUgPSBuZXcgS1RYMkZpbGUobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgIHRyeSB7XG4gICAgICAgIGlmICgha3R4MkZpbGUuc3RhcnRUcmFuc2NvZGluZygpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBzdGFydCBLVFgyIHRyYW5zY29kaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGV2ZWxzQ291bnQgPSBrdHgyRmlsZS5nZXRMZXZlbHMoKTtcbiAgICAgICAgY29uc3QgbGV2ZWxzID0gW107XG4gICAgICAgIGZvciAobGV0IGxldmVsSW5kZXggPSAwOyBsZXZlbEluZGV4IDwgbGV2ZWxzQ291bnQ7IGxldmVsSW5kZXgrKykge1xuICAgICAgICAgICAgbGV2ZWxzLnB1c2godHJhbnNjb2RlS1RYMkltYWdlKGt0eDJGaWxlLCBsZXZlbEluZGV4LCBvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtsZXZlbHNdO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAga3R4MkZpbGUuY2xvc2UoKTtcbiAgICAgICAga3R4MkZpbGUuZGVsZXRlKCk7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJzZSB0aGUgcGFydGljdWxhciBsZXZlbCBpbWFnZSBvZiBhIGt0eDIgZmlsZVxuICogQHBhcmFtIGt0eDJGaWxlXG4gKiBAcGFyYW0gbGV2ZWxJbmRleFxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIHRyYW5zY29kZUtUWDJJbWFnZShrdHgyRmlsZSwgbGV2ZWxJbmRleCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgYWxwaGFGbGFnLCBoZWlnaHQsIHdpZHRoIH0gPSBrdHgyRmlsZS5nZXRJbWFnZUxldmVsSW5mbyhsZXZlbEluZGV4LCAwLCAwKTtcbiAgICAvLyBDaGVjayBvcHRpb25zIGZvciBvdXRwdXQgZm9ybWF0IGV0Y1xuICAgIGNvbnN0IHsgY29tcHJlc3NlZCwgZm9ybWF0LCBiYXNpc0Zvcm1hdCB9ID0gZ2V0QmFzaXNPcHRpb25zKG9wdGlvbnMsIGFscGhhRmxhZyk7XG4gICAgY29uc3QgZGVjb2RlZFNpemUgPSBrdHgyRmlsZS5nZXRJbWFnZVRyYW5zY29kZWRTaXplSW5CeXRlcyhsZXZlbEluZGV4LCAwIC8qIGxheWVySW5kZXggKi8sIDAgLyogZmFjZUluZGV4ICovLCBiYXNpc0Zvcm1hdCk7XG4gICAgY29uc3QgZGVjb2RlZERhdGEgPSBuZXcgVWludDhBcnJheShkZWNvZGVkU2l6ZSk7XG4gICAgaWYgKCFrdHgyRmlsZS50cmFuc2NvZGVJbWFnZShkZWNvZGVkRGF0YSwgbGV2ZWxJbmRleCwgMCAvKiBsYXllckluZGV4ICovLCAwIC8qIGZhY2VJbmRleCAqLywgYmFzaXNGb3JtYXQsIDAsIC0xIC8qIGNoYW5uZWwwICovLCAtMSAvKiBjaGFubmVsMSAqLykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdHJhbnNjb2RlIEtUWDIgaW1hZ2UnKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gc3RhbmRhcmQgbG9hZGVycy5nbCBpbWFnZSBjYXRlZ29yeSBwYXlsb2FkXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIGRhdGE6IGRlY29kZWREYXRhLFxuICAgICAgICBjb21wcmVzc2VkLFxuICAgICAgICAvLyBBZGRpdGlvbmFsIGZpZWxkc1xuICAgICAgICBsZXZlbFNpemU6IGRlY29kZWRTaXplLFxuICAgICAgICBoYXNBbHBoYTogYWxwaGFGbGFnLFxuICAgICAgICBmb3JtYXRcbiAgICB9O1xufVxuLyoqXG4gKiBHZXQgQmFzaXNGb3JtYXQgYnkgbG9hZGVyIGZvcm1hdCBvcHRpb25cbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gaGFzQWxwaGFcbiAqIEByZXR1cm5zIEJhc2lzRm9ybWF0IGRhdGFcbiAqL1xuZnVuY3Rpb24gZ2V0QmFzaXNPcHRpb25zKG9wdGlvbnMsIGhhc0FscGhhKSB7XG4gICAgbGV0IGZvcm1hdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNpcyAmJiBvcHRpb25zLmJhc2lzLmZvcm1hdDtcbiAgICBpZiAoZm9ybWF0ID09PSAnYXV0bycpIHtcbiAgICAgICAgZm9ybWF0ID0gc2VsZWN0U3VwcG9ydGVkQmFzaXNGb3JtYXQoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvcm1hdCA9IGhhc0FscGhhID8gZm9ybWF0LmFscGhhIDogZm9ybWF0Lm5vQWxwaGE7XG4gICAgfVxuICAgIGZvcm1hdCA9IGZvcm1hdC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBPdXRwdXRGb3JtYXRbZm9ybWF0XTtcbn1cbi8qKlxuICogU2VsZWN0IHRyYW5zY29kZSBmb3JtYXQgZnJvbSB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgZm9ybWF0c1xuICogQHJldHVybnMga2V5IGZvciBPdXRwdXRGb3JtYXQgbWFwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RTdXBwb3J0ZWRCYXNpc0Zvcm1hdCgpIHtcbiAgICBjb25zdCBzdXBwb3J0ZWRGb3JtYXRzID0gZ2V0U3VwcG9ydGVkR1BVVGV4dHVyZUZvcm1hdHMoKTtcbiAgICBpZiAoc3VwcG9ydGVkRm9ybWF0cy5oYXMoJ2FzdGMnKSkge1xuICAgICAgICByZXR1cm4gJ2FzdGMtNHg0JztcbiAgICB9XG4gICAgZWxzZSBpZiAoc3VwcG9ydGVkRm9ybWF0cy5oYXMoJ2R4dCcpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbHBoYTogJ2JjMycsXG4gICAgICAgICAgICBub0FscGhhOiAnYmMxJ1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChzdXBwb3J0ZWRGb3JtYXRzLmhhcygncHZydGMnKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWxwaGE6ICdwdnJ0YzEtNC1yZ2JhJyxcbiAgICAgICAgICAgIG5vQWxwaGE6ICdwdnJ0YzEtNC1yZ2InXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHN1cHBvcnRlZEZvcm1hdHMuaGFzKCdldGMxJykpIHtcbiAgICAgICAgcmV0dXJuICdldGMxJztcbiAgICB9XG4gICAgZWxzZSBpZiAoc3VwcG9ydGVkRm9ybWF0cy5oYXMoJ2V0YzInKSkge1xuICAgICAgICByZXR1cm4gJ2V0YzInO1xuICAgIH1cbiAgICByZXR1cm4gJ3JnYjU2NSc7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi9saWIvdXRpbHMvdmVyc2lvbi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCYXNpcyB9IGZyb20gXCIuL2xpYi9wYXJzZXJzL3BhcnNlLWJhc2lzLmpzXCI7XG4vKipcbiAqIFdvcmtlciBsb2FkZXIgZm9yIEJhc2lzIHN1cGVyIGNvbXByZXNzZWQgdGV4dHVyZXNcbiAqL1xuZXhwb3J0IGNvbnN0IEJhc2lzV29ya2VyTG9hZGVyID0ge1xuICAgIGRhdGFUeXBlOiBudWxsLFxuICAgIGJhdGNoVHlwZTogbnVsbCxcbiAgICBuYW1lOiAnQmFzaXMnLFxuICAgIGlkOiAnYmFzaXMnLFxuICAgIG1vZHVsZTogJ3RleHR1cmVzJyxcbiAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgIHdvcmtlcjogdHJ1ZSxcbiAgICBleHRlbnNpb25zOiBbJ2Jhc2lzJywgJ2t0eDInXSxcbiAgICBtaW1lVHlwZXM6IFsnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJywgJ2ltYWdlL2t0eDInXSxcbiAgICB0ZXN0czogWydzQiddLFxuICAgIGJpbmFyeTogdHJ1ZSxcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIGJhc2lzOiB7XG4gICAgICAgICAgICBmb3JtYXQ6ICdhdXRvJyxcbiAgICAgICAgICAgIGxpYnJhcnlQYXRoOiAnbGlicy8nLFxuICAgICAgICAgICAgY29udGFpbmVyRm9ybWF0OiAnYXV0bycsXG4gICAgICAgICAgICBtb2R1bGU6ICd0cmFuc2NvZGVyJ1xuICAgICAgICB9XG4gICAgfVxufTtcbi8qKlxuICogTG9hZGVyIGZvciBCYXNpcyBzdXBlciBjb21wcmVzc2VkIHRleHR1cmVzXG4gKi9cbmV4cG9ydCBjb25zdCBCYXNpc0xvYWRlciA9IHtcbiAgICAuLi5CYXNpc1dvcmtlckxvYWRlcixcbiAgICBwYXJzZTogcGFyc2VCYXNpc1xufTtcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gVmVyc2lvbiBjb25zdGFudCBjYW5ub3QgYmUgaW1wb3J0ZWQsIGl0IG5lZWRzIHRvIGNvcnJlc3BvbmQgdG8gdGhlIGJ1aWxkIHZlcnNpb24gb2YgKip0aGlzKiogbW9kdWxlLlxuLy8gX19WRVJTSU9OX18gaXMgaW5qZWN0ZWQgYnkgYmFiZWwtcGx1Z2luLXZlcnNpb24taW5saW5lXG4vLyBAdHMtaWdub3JlIFRTMjMwNDogQ2Fubm90IGZpbmQgbmFtZSAnX19WRVJTSU9OX18nLlxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSB0eXBlb2YgXCI0LjMuM1wiICE9PSAndW5kZWZpbmVkJyA/IFwiNC4zLjNcIiA6ICdsYXRlc3QnO1xuIiwiLy8gUmVwbGFjZW1lbnQgZm9yIHRoZSBleHRlcm5hbCBhc3NlcnQgbWV0aG9kIHRvIHJlZHVjZSBidW5kbGUgc2l6ZVxuLy8gTm90ZTogV2UgZG9uJ3QgdXNlIHRoZSBzZWNvbmQgXCJtZXNzYWdlXCIgYXJndW1lbnQgaW4gY2FsbGluZyBjb2RlLFxuLy8gc28gbm8gbmVlZCB0byBzdXBwb3J0IGl0IGhlcmVcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UgfHwgJ2Fzc2VydCBmYWlsZWQ6IGdsdGYnKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vZW52LXV0aWxzL2Fzc2VydC5qc1wiO1xuLyoqXG4gKiBDYWxjdWxhdGUgbmV3IHNpemUgb2YgYW4gYXJyYXlCdWZmZXIgdG8gYmUgYWxpZ25lZCB0byBhbiBuLWJ5dGUgYm91bmRhcnlcbiAqIFRoaXMgZnVuY3Rpb24gaW5jcmVhc2VzIGBieXRlTGVuZ3RoYCBieSB0aGUgbWluaW11bSBkZWx0YSxcbiAqIGFsbG93aW5nIHRoZSB0b3RhbCBsZW5ndGggdG8gYmUgZGl2aWRlZCBieSBgcGFkZGluZ2BcbiAqIEBwYXJhbSBieXRlTGVuZ3RoXG4gKiBAcGFyYW0gcGFkZGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFkVG9OQnl0ZXMoYnl0ZUxlbmd0aCwgcGFkZGluZykge1xuICAgIGFzc2VydChieXRlTGVuZ3RoID49IDApOyAvLyBgSW5jb3JyZWN0ICdieXRlTGVuZ3RoJyB2YWx1ZTogJHtieXRlTGVuZ3RofWBcbiAgICBhc3NlcnQocGFkZGluZyA+IDApOyAvLyBgSW5jb3JyZWN0ICdwYWRkaW5nJyB2YWx1ZTogJHtwYWRkaW5nfWBcbiAgICByZXR1cm4gKGJ5dGVMZW5ndGggKyAocGFkZGluZyAtIDEpKSAmIH4ocGFkZGluZyAtIDEpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVpbnQ4QXJyYXkgYmFzZWQgb24gdHdvIGRpZmZlcmVudCBBcnJheUJ1ZmZlcnNcbiAqIEBwYXJhbSB0YXJnZXRCdWZmZXIgVGhlIGZpcnN0IGJ1ZmZlci5cbiAqIEBwYXJhbSBzb3VyY2VCdWZmZXIgVGhlIHNlY29uZCBidWZmZXIuXG4gKiBAcmV0dXJuIFRoZSBuZXcgQXJyYXlCdWZmZXIgY3JlYXRlZCBvdXQgb2YgdGhlIHR3by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHlBcnJheUJ1ZmZlcih0YXJnZXRCdWZmZXIsIHNvdXJjZUJ1ZmZlciwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCA9IHNvdXJjZUJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgY29uc3QgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXRCdWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgIGNvbnN0IHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoc291cmNlQnVmZmVyKTtcbiAgICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuICAgIHJldHVybiB0YXJnZXRCdWZmZXI7XG59XG4vKipcbiAqIENvcHkgZnJvbSBzb3VyY2UgdG8gdGFyZ2V0IGF0IHRoZSB0YXJnZXRPZmZzZXRcbiAqXG4gKiBAcGFyYW0gc291cmNlIC0gVGhlIGRhdGEgdG8gY29weVxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZXN0aW5hdGlvbiB0byBjb3B5IGRhdGEgaW50b1xuICogQHBhcmFtIHRhcmdldE9mZnNldCAtIFRoZSBzdGFydCBvZmZzZXQgaW50byB0YXJnZXQgdG8gcGxhY2UgdGhlIGNvcGllZCBkYXRhXG4gKiBAcmV0dXJucyB0aGUgbmV3IG9mZnNldCB0YWtpbmcgaW50byBhY2NvdW50IHByb3BlciBwYWRkaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5VG9BcnJheShzb3VyY2UsIHRhcmdldCwgdGFyZ2V0T2Zmc2V0KSB7XG4gICAgbGV0IHNvdXJjZUFycmF5O1xuICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBzb3VyY2VBcnJheSA9IG5ldyBVaW50OEFycmF5KHNvdXJjZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBQYWNrIGJ1ZmZlciBvbnRvIHRoZSBiaWcgdGFyZ2V0IGFycmF5XG4gICAgICAgIC8vXG4gICAgICAgIC8vICdzb3VyY2UuZGF0YS5idWZmZXInIGNvdWxkIGJlIGEgdmlldyBvbnRvIGEgbGFyZ2VyIGJ1ZmZlci5cbiAgICAgICAgLy8gV2UgTVVTVCB1c2UgdGhpcyBjb25zdHJ1Y3RvciB0byBlbnN1cmUgdGhlIGJ5dGVPZmZzZXQgYW5kIGJ5dGVMZW5ndGggaXNcbiAgICAgICAgLy8gc2V0IHRvIGNvcnJlY3QgdmFsdWVzIGZyb20gJ3NvdXJjZS5kYXRhJyBhbmQgbm90IHRoZSB1bmRlcmx5aW5nXG4gICAgICAgIC8vIGJ1ZmZlciBmb3IgdGFyZ2V0LnNldCgpIHRvIHdvcmsgcHJvcGVybHkuXG4gICAgICAgIGNvbnN0IHNyY0J5dGVPZmZzZXQgPSBzb3VyY2UuYnl0ZU9mZnNldDtcbiAgICAgICAgY29uc3Qgc3JjQnl0ZUxlbmd0aCA9IHNvdXJjZS5ieXRlTGVuZ3RoO1xuICAgICAgICAvLyBJbiBnbHRmIHBhcnNlciBpdCBpcyBzZXQgYXMgXCJhcnJheUJ1ZmZlclwiIGluc3RlYWQgb2YgXCJidWZmZXJcIlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmlzZ2wvbG9hZGVycy5nbC9ibG9iLzFlM2E4MmEwYTY1ZDdiNmE2N2IxZTYwNjMzNDUzZTVlZGRhMjk2MGEvbW9kdWxlcy9nbHRmL3NyYy9saWIvcGFyc2UtZ2x0Zi5qcyNMODVcbiAgICAgICAgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheShzb3VyY2UuYnVmZmVyIHx8IHNvdXJjZS5hcnJheUJ1ZmZlciwgc3JjQnl0ZU9mZnNldCwgc3JjQnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIC8vIFBhY2sgYnVmZmVyIG9udG8gdGhlIGJpZyB0YXJnZXQgYXJyYXlcbiAgICB0YXJnZXQuc2V0KHNvdXJjZUFycmF5LCB0YXJnZXRPZmZzZXQpO1xuICAgIHJldHVybiB0YXJnZXRPZmZzZXQgKyBwYWRUb05CeXRlcyhzb3VyY2VBcnJheS5ieXRlTGVuZ3RoLCA0KTtcbn1cbiIsImltcG9ydCB7IHBhZFRvTkJ5dGVzLCBhc3NlcnQgfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuLyoqIEJpbmFyeSBHTFRGIGlzIGxpdHRsZSBlbmRpYW4uICovXG5jb25zdCBMSVRUTEVfRU5ESUFOID0gdHJ1ZTtcbi8qKiAnZ2xURicgaW4gQmlnLUVuZGlhbiBBU0NJSSAqL1xuY29uc3QgTUFHSUNfZ2xURiA9IDB4Njc2YzU0NDY7XG5jb25zdCBHTEJfRklMRV9IRUFERVJfU0laRSA9IDEyO1xuY29uc3QgR0xCX0NIVU5LX0hFQURFUl9TSVpFID0gODtcbmNvbnN0IEdMQl9DSFVOS19UWVBFX0pTT04gPSAweDRlNGY1MzRhO1xuY29uc3QgR0xCX0NIVU5LX1RZUEVfQklOID0gMHgwMDRlNDk0MjtcbmNvbnN0IEdMQl9WMV9DT05URU5UX0ZPUk1BVF9KU09OID0gMHgwO1xuLyoqIEBkZXByZWNhdGVkIC0gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3Igb2xkIHh2aXogZmlsZXMgKi9cbmNvbnN0IEdMQl9DSFVOS19UWVBFX0pTT05fWFZJWl9ERVBSRUNBVEVEID0gMDtcbi8qKiBAZGVwcmVjYXRlZCAtIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZm9yIG9sZCB4dml6IGZpbGVzICovXG5jb25zdCBHTEJfQ0hVTktfVFlQRV9CSVhfWFZJWl9ERVBSRUNBVEVEID0gMTtcbmZ1bmN0aW9uIGdldE1hZ2ljU3RyaW5nKGRhdGFWaWV3LCBieXRlT2Zmc2V0ID0gMCkge1xuICAgIHJldHVybiBgXFxcbiR7U3RyaW5nLmZyb21DaGFyQ29kZShkYXRhVmlldy5nZXRVaW50OChieXRlT2Zmc2V0ICsgMCkpfVxcXG4ke1N0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVZpZXcuZ2V0VWludDgoYnl0ZU9mZnNldCArIDEpKX1cXFxuJHtTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFWaWV3LmdldFVpbnQ4KGJ5dGVPZmZzZXQgKyAyKSl9XFxcbiR7U3RyaW5nLmZyb21DaGFyQ29kZShkYXRhVmlldy5nZXRVaW50OChieXRlT2Zmc2V0ICsgMykpfWA7XG59XG4vKiogQ2hlY2sgaWYgdGhlIGNvbnRlbnRzIG9mIGFuIGFycmF5IGJ1ZmZlciBjb250YWlucyBHTEIgYnl0ZSBtYXJrZXJzICovXG5leHBvcnQgZnVuY3Rpb24gaXNHTEIoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQgPSAwLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgLy8gQ2hlY2sgdGhhdCBHTEIgSGVhZGVyIHN0YXJ0cyB3aXRoIHRoZSBtYWdpYyBudW1iZXJcbiAgICBjb25zdCB7IG1hZ2ljID0gTUFHSUNfZ2xURiB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBtYWdpYzEgPSBkYXRhVmlldy5nZXRVaW50MzIoYnl0ZU9mZnNldCwgZmFsc2UpO1xuICAgIHJldHVybiBtYWdpYzEgPT09IG1hZ2ljIHx8IG1hZ2ljMSA9PT0gTUFHSUNfZ2xURjtcbn1cbi8qKlxuICogU3luY2hyb25vdXNseSBwYXJzZSBhIEdMQlxuICogQHBhcmFtIGdsYiAtIFRhcmdldCwgT3V0cHV0IGlzIHN0b3JlZCB0aGVyZVxuICogQHBhcmFtIGFycmF5QnVmZmVyIC0gSW5wdXQgZGF0YVxuICogQHBhcmFtIGJ5dGVPZmZzZXQgLSBPZmZzZXQgaW50byBhcnJheUJ1ZmZlciB0byBzdGFydCBwYXJzaW5nIGZyb20gKGZvciBcImVtYmVkZGVkXCIgR0xCcywgZS5nLiBpbiAzRCB0aWxlcylcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VHTEJTeW5jKGdsYiwgYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQgPSAwLCBvcHRpb25zID0ge30pIHtcbiAgICAvLyBDaGVjayB0aGF0IEdMQiBIZWFkZXIgc3RhcnRzIHdpdGggdGhlIG1hZ2ljIG51bWJlclxuICAgIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICAvLyBDb21wYXJlIGZvcm1hdCB3aXRoIEdMQkxvYWRlciBkb2N1bWVudGF0aW9uXG4gICAgY29uc3QgdHlwZSA9IGdldE1hZ2ljU3RyaW5nKGRhdGFWaWV3LCBieXRlT2Zmc2V0ICsgMCk7XG4gICAgY29uc3QgdmVyc2lvbiA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgNCwgTElUVExFX0VORElBTik7IC8vIFZlcnNpb24gMiBvZiBiaW5hcnkgZ2xURiBjb250YWluZXIgZm9ybWF0XG4gICAgY29uc3QgYnl0ZUxlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgOCwgTElUVExFX0VORElBTik7IC8vIFRvdGFsIGJ5dGUgbGVuZ3RoIG9mIGJpbmFyeSBmaWxlXG4gICAgT2JqZWN0LmFzc2lnbihnbGIsIHtcbiAgICAgICAgLy8gUHV0IGxlc3MgaW1wb3J0YW50IHN0dWZmIGluIGEgaGVhZGVyLCB0byBhdm9pZCBjbHV0dGVyXG4gICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgICAgYnl0ZU9mZnNldCwgLy8gQnl0ZSBvZmZzZXQgaW50byB0aGUgaW5pdGlhbCBhcnJheUJ1ZmZlclxuICAgICAgICAgICAgYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgIGhhc0JpbkNodW5rOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB0eXBlLFxuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBqc29uOiB7fSxcbiAgICAgICAgYmluQ2h1bmtzOiBbXVxuICAgIH0pO1xuICAgIGJ5dGVPZmZzZXQgKz0gR0xCX0ZJTEVfSEVBREVSX1NJWkU7XG4gICAgc3dpdGNoIChnbGIudmVyc2lvbikge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VHTEJWMShnbGIsIGRhdGFWaWV3LCBieXRlT2Zmc2V0KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlR0xCVjIoZ2xiLCBkYXRhVmlldywgYnl0ZU9mZnNldCwgKG9wdGlvbnMgPSB7fSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEdMQiB2ZXJzaW9uICR7Z2xiLnZlcnNpb259LiBPbmx5IHN1cHBvcnRzIHZlcnNpb24gMSBhbmQgMi5gKTtcbiAgICB9XG59XG4vKipcbiAqIFBhcnNlIGEgVjEgR0xCXG4gKiBAcGFyYW0gZ2xiIC0gdGFyZ2V0LCBvdXRwdXQgaXMgc3RvcmVkIGluIHRoaXMgb2JqZWN0XG4gKiBAcGFyYW0gZGF0YVZpZXcgLSBJbnB1dCwgbWVtb3J5IHRvIGJlIHBhcnNlZFxuICogQHBhcmFtIGJ5dGVPZmZzZXQgLSBPZmZzZXQgb2YgZmlyc3QgYnl0ZSBvZiBHTEIgZGF0YSBpbiB0aGUgZGF0YSB2aWV3XG4gKiBAcmV0dXJucyBOdW1iZXIgb2YgYnl0ZXMgcGFyc2VkICh0aGVyZSBjb3VsZCBiZSBhZGRpdGlvbmFsIG5vbi1HTEIgZGF0YSBhZnRlciB0aGUgR0xCKVxuICovXG5mdW5jdGlvbiBwYXJzZUdMQlYxKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQpIHtcbiAgICAvLyBTYW5pdHk6IGVuc3VyZSBmaWxlIGlzIGJpZyBlbm91Z2ggdG8gaG9sZCBhdCBsZWFzdCB0aGUgaGVhZGVyc1xuICAgIGFzc2VydChnbGIuaGVhZGVyLmJ5dGVMZW5ndGggPiBHTEJfRklMRV9IRUFERVJfU0laRSArIEdMQl9DSFVOS19IRUFERVJfU0laRSk7XG4gICAgLy8gRXhwbGFuYXRpb24gb2YgR0xCIHN0cnVjdHVyZTpcbiAgICAvLyBodHRwczovL2Nsb3VkLmdpdGh1YnVzZXJjb250ZW50LmNvbS9hc3NldHMvMzQ3OTUyNy8yMjYwMDcyNS8zNmI4NzEyMi1lYTU1LTExZTYtOWQ0MC02ZmQ0MjgxOWZjYWIucG5nXG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgMCwgTElUVExFX0VORElBTik7IC8vIEJ5dGUgbGVuZ3RoIG9mIGNodW5rXG4gICAgY29uc3QgY29udGVudEZvcm1hdCA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgNCwgTElUVExFX0VORElBTik7IC8vIENodW5rIGZvcm1hdCBhcyB1aW50MzJcbiAgICBieXRlT2Zmc2V0ICs9IEdMQl9DSFVOS19IRUFERVJfU0laRTtcbiAgICAvLyBHTEIgdjEgb25seSBzdXBwb3J0cyBhIHNpbmdsZSBjaHVuayB0eXBlXG4gICAgYXNzZXJ0KGNvbnRlbnRGb3JtYXQgPT09IEdMQl9WMV9DT05URU5UX0ZPUk1BVF9KU09OKTtcbiAgICBwYXJzZUpTT05DaHVuayhnbGIsIGRhdGFWaWV3LCBieXRlT2Zmc2V0LCBjb250ZW50TGVuZ3RoKTtcbiAgICAvLyBObyBuZWVkIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHBhZFRvQnl0ZXMoKSBmcm9tIHBhcnNlSlNPTkNodW5rKClcbiAgICBieXRlT2Zmc2V0ICs9IGNvbnRlbnRMZW5ndGg7XG4gICAgYnl0ZU9mZnNldCArPSBwYXJzZUJJTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGdsYi5oZWFkZXIuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIGJ5dGVPZmZzZXQ7XG59XG4vKipcbiAqIFBhcnNlIGEgVjIgR0xCXG4gKiBAcGFyYW0gZ2xiIC0gdGFyZ2V0LCBvdXRwdXQgaXMgc3RvcmVkIGluIHRoaXMgb2JqZWN0XG4gKiBAcGFyYW0gZGF0YVZpZXcgLSBJbnB1dCwgbWVtb3J5IHRvIGJlIHBhcnNlZFxuICogQHBhcmFtIGJ5dGVPZmZzZXQgLSBPZmZzZXQgb2YgZmlyc3QgYnl0ZSBvZiBHTEIgZGF0YSBpbiB0aGUgZGF0YSB2aWV3XG4gKiBAcmV0dXJucyBOdW1iZXIgb2YgYnl0ZXMgcGFyc2VkICh0aGVyZSBjb3VsZCBiZSBhZGRpdGlvbmFsIG5vbi1HTEIgZGF0YSBhZnRlciB0aGUgR0xCKVxuICovXG5mdW5jdGlvbiBwYXJzZUdMQlYyKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIG9wdGlvbnMpIHtcbiAgICAvLyBTYW5pdHk6IGVuc3VyZSBmaWxlIGlzIGJpZyBlbm91Z2ggdG8gaG9sZCBhdCBsZWFzdCB0aGUgZmlyc3QgY2h1bmsgaGVhZGVyXG4gICAgYXNzZXJ0KGdsYi5oZWFkZXIuYnl0ZUxlbmd0aCA+IEdMQl9GSUxFX0hFQURFUl9TSVpFICsgR0xCX0NIVU5LX0hFQURFUl9TSVpFKTtcbiAgICBwYXJzZUdMQkNodW5rc1N5bmMoZ2xiLCBkYXRhVmlldywgYnl0ZU9mZnNldCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGJ5dGVPZmZzZXQgKyBnbGIuaGVhZGVyLmJ5dGVMZW5ndGg7XG59XG4vKiogSXRlcmF0ZSBvdmVyIEdMQiBjaHVua3MgYW5kIHBhcnNlIHRoZW0gKi9cbmZ1bmN0aW9uIHBhcnNlR0xCQ2h1bmtzU3luYyhnbGIsIGRhdGFWaWV3LCBieXRlT2Zmc2V0LCBvcHRpb25zKSB7XG4gICAgLy8gUGVyIHNwZWMgd2UgbXVzdCBpdGVyYXRlIG92ZXIgY2h1bmtzLCBpZ25vcmluZyBhbGwgZXhjZXB0IEpTT04gYW5kIEJJTlxuICAgIC8vIEl0ZXJhdGUgYXMgbG9uZyBhcyB0aGVyZSBpcyBzcGFjZSBsZWZ0IGZvciBhbm90aGVyIGNodW5rIGhlYWRlclxuICAgIHdoaWxlIChieXRlT2Zmc2V0ICsgOCA8PSBnbGIuaGVhZGVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY2h1bmtMZW5ndGggPSBkYXRhVmlldy5nZXRVaW50MzIoYnl0ZU9mZnNldCArIDAsIExJVFRMRV9FTkRJQU4pOyAvLyBCeXRlIGxlbmd0aCBvZiBjaHVua1xuICAgICAgICBjb25zdCBjaHVua0Zvcm1hdCA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgNCwgTElUVExFX0VORElBTik7IC8vIENodW5rIGZvcm1hdCBhcyB1aW50MzJcbiAgICAgICAgYnl0ZU9mZnNldCArPSBHTEJfQ0hVTktfSEVBREVSX1NJWkU7XG4gICAgICAgIC8vIFBlciBzcGVjIHdlIG11c3QgaXRlcmF0ZSBvdmVyIGNodW5rcywgaWdub3JpbmcgYWxsIGV4Y2VwdCBKU09OIGFuZCBCSU5cbiAgICAgICAgc3dpdGNoIChjaHVua0Zvcm1hdCkge1xuICAgICAgICAgICAgY2FzZSBHTEJfQ0hVTktfVFlQRV9KU09OOlxuICAgICAgICAgICAgICAgIHBhcnNlSlNPTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR0xCX0NIVU5LX1RZUEVfQklOOlxuICAgICAgICAgICAgICAgIHBhcnNlQklOQ2h1bmsoZ2xiLCBkYXRhVmlldywgYnl0ZU9mZnNldCwgY2h1bmtMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3IgdmVyeSBvbGQgeHZpeiBmaWxlc1xuICAgICAgICAgICAgY2FzZSBHTEJfQ0hVTktfVFlQRV9KU09OX1hWSVpfREVQUkVDQVRFRDpcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSlNPTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdMQl9DSFVOS19UWVBFX0JJWF9YVklaX0RFUFJFQ0FURUQ6XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLnN0cmljdCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUJJTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSwgcGVyIHNwZWNcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oYFVua25vd24gR0xCIGNodW5rIHR5cGVgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGJ5dGVPZmZzZXQgKz0gcGFkVG9OQnl0ZXMoY2h1bmtMZW5ndGgsIDQpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZU9mZnNldDtcbn1cbi8qIFBhcnNlIGEgR0xCIEpTT04gY2h1bmsgKi9cbmZ1bmN0aW9uIHBhcnNlSlNPTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKSB7XG4gICAgLy8gMS4gQ3JlYXRlIGEgXCJ2aWV3XCIgb2YgdGhlIGJpbmFyeSBlbmNvZGVkIEpTT04gZGF0YSBpbnNpZGUgdGhlIEdMQlxuICAgIGNvbnN0IGpzb25DaHVuayA9IG5ldyBVaW50OEFycmF5KGRhdGFWaWV3LmJ1ZmZlciwgYnl0ZU9mZnNldCwgY2h1bmtMZW5ndGgpO1xuICAgIC8vIDIuIERlY29kZSB0aGUgSlNPTiBiaW5hcnkgYXJyYXkgaW50byBjbGVhciB0ZXh0XG4gICAgY29uc3QgdGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcbiAgICBjb25zdCBqc29uVGV4dCA9IHRleHREZWNvZGVyLmRlY29kZShqc29uQ2h1bmspO1xuICAgIC8vIDMuIFBhcnNlIHRoZSBKU09OIHRleHQgaW50byBhIEphdmFTY3JpcHQgZGF0YSBzdHJ1Y3R1cmVcbiAgICBnbGIuanNvbiA9IEpTT04ucGFyc2UoanNvblRleHQpO1xuICAgIHJldHVybiBwYWRUb05CeXRlcyhjaHVua0xlbmd0aCwgNCk7XG59XG4vKiogUGFyc2UgYSBHTEIgQklOIGNodW5rICovXG5mdW5jdGlvbiBwYXJzZUJJTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKSB7XG4gICAgLy8gTm90ZTogQklOIGNodW5rIGNhbiBiZSBvcHRpb25hbFxuICAgIGdsYi5oZWFkZXIuaGFzQmluQ2h1bmsgPSB0cnVlO1xuICAgIGdsYi5iaW5DaHVua3MucHVzaCh7XG4gICAgICAgIGJ5dGVPZmZzZXQsXG4gICAgICAgIGJ5dGVMZW5ndGg6IGNodW5rTGVuZ3RoLFxuICAgICAgICBhcnJheUJ1ZmZlcjogZGF0YVZpZXcuYnVmZmVyXG4gICAgICAgIC8vIFRPRE8gLSBjb3B5LCBvciBjcmVhdGUgdHlwZWQgYXJyYXkgdmlldz9cbiAgICB9KTtcbiAgICByZXR1cm4gcGFkVG9OQnl0ZXMoY2h1bmtMZW5ndGgsIDQpO1xufVxuIiwiLy8gUmVzb2x2ZXMgYSByZWxhdGl2ZSB1cmwgYWdhaW5zdCBhIGJhc2VVcmxcbi8vIElmIHVybCBpcyBhYnNvbHV0ZSwgcmV0dXJuIGl0IHVuY2hhbmdlZFxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVcmwodXJsLCBvcHRpb25zKSB7XG4gICAgLy8gVE9ETzogVXNlIGJldHRlciBsb2dpYyB0byBoYW5kbGUgYWxsIHByb3RvY29scyBwbHVzIG5vdCBkZWxheSBvbiBkYXRhXG4gICAgY29uc3QgYWJzb2x1dGUgPSB1cmwuc3RhcnRzV2l0aCgnZGF0YTonKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cDonKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Jyk7XG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIGNvbnN0IGJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmkgfHwgb3B0aW9ucy51cmk7XG4gICAgaWYgKCFiYXNlVXJsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJ2Jhc2VVcmknIG11c3QgYmUgcHJvdmlkZWQgdG8gcmVzb2x2ZSByZWxhdGl2ZSB1cmwgJHt1cmx9YCk7XG4gICAgfVxuICAgIHJldHVybiBiYXNlVXJsLnN1YnN0cigwLCBiYXNlVXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKSArIHVybDtcbn1cbiIsImV4cG9ydCBjb25zdCBDT01QT05FTlRTID0ge1xuICAgIFNDQUxBUjogMSxcbiAgICBWRUMyOiAyLFxuICAgIFZFQzM6IDMsXG4gICAgVkVDNDogNCxcbiAgICBNQVQyOiA0LFxuICAgIE1BVDM6IDksXG4gICAgTUFUNDogMTZcbn07XG5leHBvcnQgY29uc3QgQllURVMgPSB7XG4gICAgNTEyMDogMSwgLy8gQllURVxuICAgIDUxMjE6IDEsIC8vIFVOU0lHTkVEX0JZVEVcbiAgICA1MTIyOiAyLCAvLyBTSE9SVFxuICAgIDUxMjM6IDIsIC8vIFVOU0lHTkVEX1NIT1JUXG4gICAgNTEyNTogNCwgLy8gVU5TSUdORURfSU5UXG4gICAgNTEyNjogNCAvLyBGTE9BVFxufTtcbi8vIEVOVU0gTE9PS1VQXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qnl0ZXNGcm9tQ29tcG9uZW50VHlwZShjb21wb25lbnRUeXBlKSB7XG4gICAgcmV0dXJuIEJZVEVTW2NvbXBvbmVudFR5cGVdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemVGcm9tQWNjZXNzb3JUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gQ09NUE9ORU5UU1t0eXBlXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRHTEVudW1Gcm9tU2FtcGxlclBhcmFtZXRlcihwYXJhbWV0ZXIpIHtcbiAgICBjb25zdCBHTF9URVhUVVJFX01BR19GSUxURVIgPSAweDI4MDA7XG4gICAgY29uc3QgR0xfVEVYVFVSRV9NSU5fRklMVEVSID0gMHgyODAxO1xuICAgIGNvbnN0IEdMX1RFWFRVUkVfV1JBUF9TID0gMHgyODAyO1xuICAgIGNvbnN0IEdMX1RFWFRVUkVfV1JBUF9UID0gMHgyODAzO1xuICAgIGNvbnN0IFBBUkFNRVRFUl9NQVAgPSB7XG4gICAgICAgIG1hZ0ZpbHRlcjogR0xfVEVYVFVSRV9NQUdfRklMVEVSLFxuICAgICAgICBtaW5GaWx0ZXI6IEdMX1RFWFRVUkVfTUlOX0ZJTFRFUixcbiAgICAgICAgd3JhcFM6IEdMX1RFWFRVUkVfV1JBUF9TLFxuICAgICAgICB3cmFwVDogR0xfVEVYVFVSRV9XUkFQX1RcbiAgICB9O1xuICAgIHJldHVybiBQQVJBTUVURVJfTUFQW3BhcmFtZXRlcl07XG59XG4iLCJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBCWVRFUywgQ09NUE9ORU5UUyB9IGZyb20gXCIuLi9nbHRmLXV0aWxzL2dsdGYtY29uc3RhbnRzLmpzXCI7XG4vKipcbiAqIE1lbW9yeSBuZWVkZWQgdG8gc3RvcmUgdGV4dHVyZSBhbmQgYWxsIG1pcG1hcCBsZXZlbHMgMSArIDEvNCArIDEvMTYgKyAxLzY0ICsgLi4uXG4gKiBNaW5pbXVtIDEuMzMsIGJ1dCBkdWUgdG8gR1BVIGxheW91dCBtYXkgYmUgMS41XG4gKi9cbmNvbnN0IE1JUE1BUF9GQUNUT1IgPSAxLjMzO1xuY29uc3QgVFlQRVMgPSBbJ1NDQUxBUicsICdWRUMyJywgJ1ZFQzMnLCAnVkVDNCddO1xuY29uc3QgQVJSQVlfQ09OU1RSVUNUT1JfVE9fV0VCR0xfQ09OU1RBTlQgPSBbXG4gICAgW0ludDhBcnJheSwgNTEyMF0sXG4gICAgW1VpbnQ4QXJyYXksIDUxMjFdLFxuICAgIFtJbnQxNkFycmF5LCA1MTIyXSxcbiAgICBbVWludDE2QXJyYXksIDUxMjNdLFxuICAgIFtVaW50MzJBcnJheSwgNTEyNV0sXG4gICAgW0Zsb2F0MzJBcnJheSwgNTEyNl0sXG4gICAgW0Zsb2F0NjRBcnJheSwgNTEzMF1cbl07XG5jb25zdCBBUlJBWV9UT19DT01QT05FTlRfVFlQRSA9IG5ldyBNYXAoQVJSQVlfQ09OU1RSVUNUT1JfVE9fV0VCR0xfQ09OU1RBTlQpO1xuY29uc3QgQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UUyA9IHtcbiAgICBTQ0FMQVI6IDEsXG4gICAgVkVDMjogMixcbiAgICBWRUMzOiAzLFxuICAgIFZFQzQ6IDQsXG4gICAgTUFUMjogNCxcbiAgICBNQVQzOiA5LFxuICAgIE1BVDQ6IDE2XG59O1xuY29uc3QgQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRSA9IHtcbiAgICA1MTIwOiAxLFxuICAgIDUxMjE6IDEsXG4gICAgNTEyMjogMixcbiAgICA1MTIzOiAyLFxuICAgIDUxMjU6IDQsXG4gICAgNTEyNjogNFxufTtcbmNvbnN0IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWSA9IHtcbiAgICA1MTIwOiBJbnQ4QXJyYXksXG4gICAgNTEyMTogVWludDhBcnJheSxcbiAgICA1MTIyOiBJbnQxNkFycmF5LFxuICAgIDUxMjM6IFVpbnQxNkFycmF5LFxuICAgIDUxMjU6IFVpbnQzMkFycmF5LFxuICAgIDUxMjY6IEZsb2F0MzJBcnJheVxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRBY2Nlc3NvclR5cGVGcm9tU2l6ZShzaXplKSB7XG4gICAgY29uc3QgdHlwZSA9IFRZUEVTW3NpemUgLSAxXTtcbiAgICByZXR1cm4gdHlwZSB8fCBUWVBFU1swXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb25lbnRUeXBlRnJvbUFycmF5KHR5cGVkQXJyYXkpIHtcbiAgICBjb25zdCBjb21wb25lbnRUeXBlID0gQVJSQVlfVE9fQ09NUE9ORU5UX1RZUEUuZ2V0KHR5cGVkQXJyYXkuY29uc3RydWN0b3IpO1xuICAgIGlmICghY29tcG9uZW50VHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgdHlwZWQgYXJyYXknKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudFR5cGU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QWNjZXNzb3JBcnJheVR5cGVBbmRMZW5ndGgoYWNjZXNzb3IsIGJ1ZmZlclZpZXcpIHtcbiAgICBjb25zdCBBcnJheVR5cGUgPSBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVlbYWNjZXNzb3IuY29tcG9uZW50VHlwZV07XG4gICAgY29uc3QgY29tcG9uZW50cyA9IEFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFNbYWNjZXNzb3IudHlwZV07XG4gICAgY29uc3QgYnl0ZXNQZXJDb21wb25lbnQgPSBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFW2FjY2Vzc29yLmNvbXBvbmVudFR5cGVdO1xuICAgIGNvbnN0IGxlbmd0aCA9IGFjY2Vzc29yLmNvdW50ICogY29tcG9uZW50cztcbiAgICBjb25zdCBieXRlTGVuZ3RoID0gYWNjZXNzb3IuY291bnQgKiBjb21wb25lbnRzICogYnl0ZXNQZXJDb21wb25lbnQ7XG4gICAgYXNzZXJ0KGJ5dGVMZW5ndGggPj0gMCAmJiBieXRlTGVuZ3RoIDw9IGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgY29uc3QgY29tcG9uZW50Qnl0ZVNpemUgPSBCWVRFU1thY2Nlc3Nvci5jb21wb25lbnRUeXBlXTtcbiAgICBjb25zdCBudW1iZXJPZkNvbXBvbmVudHNJbkVsZW1lbnQgPSBDT01QT05FTlRTW2FjY2Vzc29yLnR5cGVdO1xuICAgIHJldHVybiB7IEFycmF5VHlwZSwgbGVuZ3RoLCBieXRlTGVuZ3RoLCBjb21wb25lbnRCeXRlU2l6ZSwgbnVtYmVyT2ZDb21wb25lbnRzSW5FbGVtZW50IH07XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgR1BVIG1lbW9yeSB1c2VkIGJ5IGEgR0xURiB0aWxlLCBmb3IgYm90aCBidWZmZXIgYW5kIHRleHR1cmUgbWVtb3J5XG4gKiBAcGFyYW0gZ2x0ZiAtIHRoZSBnbHRmIGNvbnRlbnQgb2YgYSBHTFRGIHRpbGVcbiAqIEByZXR1cm5zIC0gdG90YWwgbWVtb3J5IHVzYWdlIGluIGJ5dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZW1vcnlVc2FnZUdMVEYoZ2x0Zikge1xuICAgIGxldCB7IGltYWdlcywgYnVmZmVyVmlld3MgfSA9IGdsdGY7XG4gICAgaW1hZ2VzID0gaW1hZ2VzIHx8IFtdO1xuICAgIGJ1ZmZlclZpZXdzID0gYnVmZmVyVmlld3MgfHwgW107XG4gICAgY29uc3QgaW1hZ2VCdWZmZXJWaWV3cyA9IGltYWdlcy5tYXAoKGkpID0+IGkuYnVmZmVyVmlldyk7XG4gICAgYnVmZmVyVmlld3MgPSBidWZmZXJWaWV3cy5maWx0ZXIoKHZpZXcpID0+ICFpbWFnZUJ1ZmZlclZpZXdzLmluY2x1ZGVzKHZpZXcpKTtcbiAgICBjb25zdCBidWZmZXJNZW1vcnkgPSBidWZmZXJWaWV3cy5yZWR1Y2UoKGFjYywgdmlldykgPT4gYWNjICsgdmlldy5ieXRlTGVuZ3RoLCAwKTtcbiAgICAvLyBBc3N1bWUgZWFjaCBwaXhlbCBvZiB0aGUgdGV4dHVyZSBpcyA0IGNoYW5uZWwgd2l0aCBtaW1tYXBzICh3aGljaCBhZGQgMzMlKVxuICAgIC8vIFRPRE8gY29ycmVjdGx5IGhhbmRsZSBjb21wcmVzc2VkIHRleHR1cmVzXG4gICAgY29uc3QgcGl4ZWxDb3VudCA9IGltYWdlcy5yZWR1Y2UoKGFjYywgaW1hZ2UpID0+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGltYWdlLmltYWdlO1xuICAgICAgICByZXR1cm4gYWNjICsgd2lkdGggKiBoZWlnaHQ7XG4gICAgfSwgMCk7XG4gICAgcmV0dXJuIGJ1ZmZlck1lbW9yeSArIE1hdGguY2VpbCg0ICogcGl4ZWxDb3VudCAqIE1JUE1BUF9GQUNUT1IpO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBnZXRCaW5hcnlJbWFnZU1ldGFkYXRhIH0gZnJvbSAnQGxvYWRlcnMuZ2wvaW1hZ2VzJztcbmltcG9ydCB7IHBhZFRvTkJ5dGVzLCBjb3B5VG9BcnJheSB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBnZXRBY2Nlc3NvclR5cGVGcm9tU2l6ZSwgZ2V0Q29tcG9uZW50VHlwZUZyb21BcnJheSB9IGZyb20gXCIuLi9nbHRmLXV0aWxzL2dsdGYtdXRpbHMuanNcIjtcbmltcG9ydCB7IGdldFR5cGVkQXJyYXlGb3JBY2Nlc3NvciBhcyBfZ2V0VHlwZWRBcnJheUZvckFjY2Vzc29yIH0gZnJvbSBcIi4uL2dsdGYtdXRpbHMvZ2V0LXR5cGVkLWFycmF5LmpzXCI7XG5mdW5jdGlvbiBtYWtlRGVmYXVsdEdMVEZKc29uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiAnMi4wJyxcbiAgICAgICAgICAgIGdlbmVyYXRvcjogJ2xvYWRlcnMuZ2wnXG4gICAgICAgIH0sXG4gICAgICAgIGJ1ZmZlcnM6IFtdLFxuICAgICAgICBleHRlbnNpb25zOiB7fSxcbiAgICAgICAgZXh0ZW5zaW9uc1JlcXVpcmVkOiBbXSxcbiAgICAgICAgZXh0ZW5zaW9uc1VzZWQ6IFtdXG4gICAgfTtcbn1cbi8qKlxuICogQ2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YVxuICovXG5leHBvcnQgY2xhc3MgR0xURlNjZW5lZ3JhcGgge1xuICAgIC8vIGludGVybmFsXG4gICAgZ2x0ZjtcbiAgICBzb3VyY2VCdWZmZXJzO1xuICAgIGJ5dGVMZW5ndGg7XG4gICAgLy8gVE9ETyAtIHdoeSBpcyB0aGlzIG5vdCBHTFRGV2l0aEJ1ZmZlcnMgLSB3aGF0IGhhcHBlbnMgdG8gaW1hZ2VzP1xuICAgIGNvbnN0cnVjdG9yKGdsdGYpIHtcbiAgICAgICAgLy8gRGVjbGFyZSBsb2NhbGx5IHNvXG4gICAgICAgIHRoaXMuZ2x0ZiA9IHtcbiAgICAgICAgICAgIGpzb246IGdsdGY/Lmpzb24gfHwgbWFrZURlZmF1bHRHTFRGSnNvbigpLFxuICAgICAgICAgICAgYnVmZmVyczogZ2x0Zj8uYnVmZmVycyB8fCBbXSxcbiAgICAgICAgICAgIGltYWdlczogZ2x0Zj8uaW1hZ2VzIHx8IFtdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc291cmNlQnVmZmVycyA9IFtdO1xuICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSAwO1xuICAgICAgICAvLyBJbml0aWFsaXplIGJ1ZmZlcnNcbiAgICAgICAgaWYgKHRoaXMuZ2x0Zi5idWZmZXJzICYmIHRoaXMuZ2x0Zi5idWZmZXJzWzBdKSB7XG4gICAgICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSB0aGlzLmdsdGYuYnVmZmVyc1swXS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXJzID0gW3RoaXMuZ2x0Zi5idWZmZXJzWzBdXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBY2Nlc3NvcnNcbiAgICBnZXQganNvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2x0Zi5qc29uO1xuICAgIH1cbiAgICBnZXRBcHBsaWNhdGlvbkRhdGEoa2V5KSB7XG4gICAgICAgIC8vIFRPRE8gLSBEYXRhIGlzIGFscmVhZHkgdW5wYWNrZWQgYnkgR0xCUGFyc2VyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmpzb25ba2V5XTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGdldEV4dHJhRGF0YShrZXkpIHtcbiAgICAgICAgLy8gVE9ETyAtIERhdGEgaXMgYWxyZWFkeSB1bnBhY2tlZCBieSBHTEJQYXJzZXJcbiAgICAgICAgY29uc3QgZXh0cmFzID0gKHRoaXMuanNvbi5leHRyYXMgfHwge30pO1xuICAgICAgICByZXR1cm4gZXh0cmFzW2tleV07XG4gICAgfVxuICAgIGhhc0V4dGVuc2lvbihleHRlbnNpb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGlzVXNlZEV4dGVuc2lvbiA9IHRoaXMuZ2V0VXNlZEV4dGVuc2lvbnMoKS5maW5kKChuYW1lKSA9PiBuYW1lID09PSBleHRlbnNpb25OYW1lKTtcbiAgICAgICAgY29uc3QgaXNSZXF1aXJlZEV4dGVuc2lvbiA9IHRoaXMuZ2V0UmVxdWlyZWRFeHRlbnNpb25zKCkuZmluZCgobmFtZSkgPT4gbmFtZSA9PT0gZXh0ZW5zaW9uTmFtZSk7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaXNVc2VkRXh0ZW5zaW9uID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaXNSZXF1aXJlZEV4dGVuc2lvbiA9PT0gJ3N0cmluZyc7XG4gICAgfVxuICAgIGdldEV4dGVuc2lvbihleHRlbnNpb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGlzRXh0ZW5zaW9uID0gdGhpcy5nZXRVc2VkRXh0ZW5zaW9ucygpLmZpbmQoKG5hbWUpID0+IG5hbWUgPT09IGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdGhpcy5qc29uLmV4dGVuc2lvbnMgfHwge307XG4gICAgICAgIHJldHVybiBpc0V4dGVuc2lvbiA/IGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gOiBudWxsO1xuICAgIH1cbiAgICBnZXRSZXF1aXJlZEV4dGVuc2lvbihleHRlbnNpb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGlzUmVxdWlyZWQgPSB0aGlzLmdldFJlcXVpcmVkRXh0ZW5zaW9ucygpLmZpbmQoKG5hbWUpID0+IG5hbWUgPT09IGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICByZXR1cm4gaXNSZXF1aXJlZCA/IHRoaXMuZ2V0RXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0UmVxdWlyZWRFeHRlbnNpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnNSZXF1aXJlZCB8fCBbXTtcbiAgICB9XG4gICAgZ2V0VXNlZEV4dGVuc2lvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24uZXh0ZW5zaW9uc1VzZWQgfHwgW107XG4gICAgfVxuICAgIGdldFJlbW92ZWRFeHRlbnNpb25zKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCB8fCBbXSk7XG4gICAgfVxuICAgIGdldE9iamVjdEV4dGVuc2lvbihvYmplY3QsIGV4dGVuc2lvbk5hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IG9iamVjdC5leHRlbnNpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXTtcbiAgICB9XG4gICAgZ2V0U2NlbmUoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdzY2VuZXMnLCBpbmRleCk7XG4gICAgfVxuICAgIGdldE5vZGUoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdub2RlcycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0U2tpbihpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3QoJ3NraW5zJywgaW5kZXgpO1xuICAgIH1cbiAgICBnZXRNZXNoKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdCgnbWVzaGVzJywgaW5kZXgpO1xuICAgIH1cbiAgICBnZXRNYXRlcmlhbChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3QoJ21hdGVyaWFscycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0QWNjZXNzb3IoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdhY2Nlc3NvcnMnLCBpbmRleCk7XG4gICAgfVxuICAgIC8vIGdldENhbWVyYShpbmRleDogbnVtYmVyKTogb2JqZWN0IHwgbnVsbCB7XG4gICAgLy8gICByZXR1cm4gbnVsbDsgLy8gVE9ETzogZml4IHRoaTogb2JqZWN0ICBhcyBudWxsO1xuICAgIC8vIH1cbiAgICBnZXRUZXh0dXJlKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdCgndGV4dHVyZXMnLCBpbmRleCk7XG4gICAgfVxuICAgIGdldFNhbXBsZXIoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdzYW1wbGVycycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0SW1hZ2UoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdpbWFnZXMnLCBpbmRleCk7XG4gICAgfVxuICAgIGdldEJ1ZmZlclZpZXcoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdidWZmZXJWaWV3cycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0QnVmZmVyKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdCgnYnVmZmVycycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0T2JqZWN0KGFycmF5LCBpbmRleCkge1xuICAgICAgICAvLyBjaGVjayBpZiBhbHJlYWR5IHJlc29sdmVkXG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5qc29uW2FycmF5XSAmJiB0aGlzLmpzb25bYXJyYXldW2luZGV4XTtcbiAgICAgICAgaWYgKCFvYmplY3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZ2xURiBmaWxlIGVycm9yOiBDb3VsZCBub3QgZmluZCAke2FycmF5fVske2luZGV4fV1gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFjY2VwdHMgYnVmZmVyIHZpZXcgaW5kZXggb3IgYnVmZmVyIHZpZXcgb2JqZWN0XG4gICAgICogQHJldHVybnMgYSBgVWludDhBcnJheWBcbiAgICAgKi9cbiAgICBnZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyhidWZmZXJWaWV3KSB7XG4gICAgICAgIGJ1ZmZlclZpZXcgPSB0aGlzLmdldEJ1ZmZlclZpZXcoYnVmZmVyVmlldyk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYnVmZmVySW5kZXggPSBidWZmZXJWaWV3LmJ1ZmZlcjtcbiAgICAgICAgLy8gR2V0IGhvbGQgb2YgdGhlIGFycmF5QnVmZmVyXG4gICAgICAgIC8vIGNvbnN0IGJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKGJ1ZmZlckluZGV4KTtcbiAgICAgICAgY29uc3QgYmluQ2h1bmsgPSB0aGlzLmdsdGYuYnVmZmVyc1tidWZmZXJJbmRleF07XG4gICAgICAgIGFzc2VydChiaW5DaHVuayk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IChidWZmZXJWaWV3LmJ5dGVPZmZzZXQgfHwgMCkgKyBiaW5DaHVuay5ieXRlT2Zmc2V0O1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShiaW5DaHVuay5hcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgYnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqIEFjY2VwdHMgYWNjZXNzb3IgaW5kZXggb3IgYWNjZXNzb3Igb2JqZWN0XG4gICAgICogQHJldHVybnMgYSB0eXBlZCBhcnJheSB3aXRoIHR5cGUgdGhhdCBtYXRjaGVzIHRoZSB0eXBlc1xuICAgICAqL1xuICAgIGdldFR5cGVkQXJyYXlGb3JBY2Nlc3NvcihhY2Nlc3Nvcikge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGdsdGZBY2Nlc3NvciA9IHRoaXMuZ2V0QWNjZXNzb3IoYWNjZXNzb3IpO1xuICAgICAgICByZXR1cm4gX2dldFR5cGVkQXJyYXlGb3JBY2Nlc3Nvcih0aGlzLmdsdGYuanNvbiwgdGhpcy5nbHRmLmJ1ZmZlcnMsIGdsdGZBY2Nlc3Nvcik7XG4gICAgfVxuICAgIC8qKiBhY2NlcHRzIGFjY2Vzc29yIGluZGV4IG9yIGFjY2Vzc29yIG9iamVjdFxuICAgICAqIHJldHVybnMgYSBgVWludDhBcnJheWBcbiAgICAgKi9cbiAgICBnZXRUeXBlZEFycmF5Rm9ySW1hZ2VEYXRhKGltYWdlKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaW1hZ2UgPSB0aGlzLmdldEFjY2Vzc29yKGltYWdlKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBidWZmZXJWaWV3ID0gdGhpcy5nZXRCdWZmZXJWaWV3KGltYWdlLmJ1ZmZlclZpZXcpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmdldEJ1ZmZlcihidWZmZXJWaWV3LmJ1ZmZlcik7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBidWZmZXIuZGF0YTtcbiAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCB8fCAwO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIC8vIE1PRElGRVJTXG4gICAgLyoqXG4gICAgICogQWRkIGFuIGV4dHJhIGFwcGxpY2F0aW9uLWRlZmluZWQga2V5IHRvIHRoZSB0b3AtbGV2ZWwgZGF0YSBzdHJ1Y3R1cmVcbiAgICAgKi9cbiAgICBhZGRBcHBsaWNhdGlvbkRhdGEoa2V5LCBkYXRhKSB7XG4gICAgICAgIHRoaXMuanNvbltrZXldID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGBleHRyYXNgIC0gU3RhbmRhcmQgR0xURiBmaWVsZCBmb3Igc3RvcmluZyBhcHBsaWNhdGlvbiBzcGVjaWZpYyBkYXRhXG4gICAgICovXG4gICAgYWRkRXh0cmFEYXRhKGtleSwgZGF0YSkge1xuICAgICAgICB0aGlzLmpzb24uZXh0cmFzID0gdGhpcy5qc29uLmV4dHJhcyB8fCB7fTtcbiAgICAgICAgdGhpcy5qc29uLmV4dHJhc1trZXldID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFkZE9iamVjdEV4dGVuc2lvbihvYmplY3QsIGV4dGVuc2lvbk5hbWUsIGRhdGEpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBvYmplY3QuZXh0ZW5zaW9ucyA9IG9iamVjdC5leHRlbnNpb25zIHx8IHt9O1xuICAgICAgICAvLyBUT0RPIC0gY2xvYmJlciBvciBtZXJnZT9cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBvYmplY3QuZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IGRhdGE7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVc2VkRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0T2JqZWN0RXh0ZW5zaW9uKG9iamVjdCwgZXh0ZW5zaW9uTmFtZSwgZGF0YSkge1xuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gb2JqZWN0LmV4dGVuc2lvbnMgfHwge307XG4gICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBkYXRhO1xuICAgICAgICAvLyBUT0RPIC0gYWRkIHRvIHVzZWRFeHRlbnNpb25zLi4uXG4gICAgfVxuICAgIHJlbW92ZU9iamVjdEV4dGVuc2lvbihvYmplY3QsIGV4dGVuc2lvbk5hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IG9iamVjdD8uZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCA9IHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbnNSZW1vdmVkID0gdGhpcy5qc29uLmV4dGVuc2lvbnNSZW1vdmVkO1xuICAgICAgICAgICAgaWYgKCFleHRlbnNpb25zUmVtb3ZlZC5pbmNsdWRlcyhleHRlbnNpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnNSZW1vdmVkLnB1c2goZXh0ZW5zaW9uTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCB0byBzdGFuZGFyZCBHTFRGIHRvcCBsZXZlbCBleHRlbnNpb24gb2JqZWN0LCBtYXJrIGFzIHVzZWRcbiAgICAgKi9cbiAgICBhZGRFeHRlbnNpb24oZXh0ZW5zaW9uTmFtZSwgZXh0ZW5zaW9uRGF0YSA9IHt9KSB7XG4gICAgICAgIGFzc2VydChleHRlbnNpb25EYXRhKTtcbiAgICAgICAgdGhpcy5qc29uLmV4dGVuc2lvbnMgPSB0aGlzLmpzb24uZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5qc29uLmV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBleHRlbnNpb25EYXRhO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbihleHRlbnNpb25OYW1lKTtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbkRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIEdMVEYgdG9wIGxldmVsIGV4dGVuc2lvbiBvYmplY3QsIG1hcmsgYXMgdXNlZCBhbmQgcmVxdWlyZWRcbiAgICAgKi9cbiAgICBhZGRSZXF1aXJlZEV4dGVuc2lvbihleHRlbnNpb25OYW1lLCBleHRlbnNpb25EYXRhID0ge30pIHtcbiAgICAgICAgYXNzZXJ0KGV4dGVuc2lvbkRhdGEpO1xuICAgICAgICB0aGlzLmFkZEV4dGVuc2lvbihleHRlbnNpb25OYW1lLCBleHRlbnNpb25EYXRhKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclJlcXVpcmVkRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uRGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGV4dGVuc2lvbk5hbWUgdG8gbGlzdCBvZiB1c2VkIGV4dGVuc2lvbnNcbiAgICAgKi9cbiAgICByZWdpc3RlclVzZWRFeHRlbnNpb24oZXh0ZW5zaW9uTmFtZSkge1xuICAgICAgICB0aGlzLmpzb24uZXh0ZW5zaW9uc1VzZWQgPSB0aGlzLmpzb24uZXh0ZW5zaW9uc1VzZWQgfHwgW107XG4gICAgICAgIGlmICghdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLmZpbmQoKGV4dCkgPT4gZXh0ID09PSBleHRlbnNpb25OYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLnB1c2goZXh0ZW5zaW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGV4dGVuc2lvbk5hbWUgdG8gbGlzdCBvZiByZXF1aXJlZCBleHRlbnNpb25zXG4gICAgICovXG4gICAgcmVnaXN0ZXJSZXF1aXJlZEV4dGVuc2lvbihleHRlbnNpb25OYW1lKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVc2VkRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICB0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkID0gdGhpcy5qc29uLmV4dGVuc2lvbnNSZXF1aXJlZCB8fCBbXTtcbiAgICAgICAgaWYgKCF0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLmZpbmQoKGV4dCkgPT4gZXh0ID09PSBleHRlbnNpb25OYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5qc29uLmV4dGVuc2lvbnNSZXF1aXJlZC5wdXNoKGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXh0ZW5zaW9uIGZyb20gdGhlIHRvcC1sZXZlbCBsaXN0XG4gICAgICovXG4gICAgcmVtb3ZlRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuanNvbi5leHRlbnNpb25zPy5bZXh0ZW5zaW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCA9IHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbnNSZW1vdmVkID0gdGhpcy5qc29uLmV4dGVuc2lvbnNSZW1vdmVkO1xuICAgICAgICAgICAgaWYgKCFleHRlbnNpb25zUmVtb3ZlZC5pbmNsdWRlcyhleHRlbnNpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnNSZW1vdmVkLnB1c2goZXh0ZW5zaW9uTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuanNvbi5leHRlbnNpb25zKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5qc29uLmV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZVN0cmluZ0Zyb21BcnJheSh0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLCBleHRlbnNpb25OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVTdHJpbmdGcm9tQXJyYXkodGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLCBleHRlbnNpb25OYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiAgU2V0IGRlZmF1bHQgc2NlbmUgd2hpY2ggaXMgdG8gYmUgZGlzcGxheWVkIGF0IGxvYWQgdGltZVxuICAgICAqL1xuICAgIHNldERlZmF1bHRTY2VuZShzY2VuZUluZGV4KSB7XG4gICAgICAgIHRoaXMuanNvbi5zY2VuZSA9IHNjZW5lSW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0b2RvOiBhZGQgbW9yZSBwcm9wZXJ0aWVzIGZvciBzY2VuZSBpbml0aWFsaXphdGlvbjpcbiAgICAgKiAgIG5hbWVgLCBgZXh0ZW5zaW9uc2AsIGBleHRyYXNgXG4gICAgICogICBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjcmVmZXJlbmNlLXNjZW5lXG4gICAgICovXG4gICAgYWRkU2NlbmUoc2NlbmUpIHtcbiAgICAgICAgY29uc3QgeyBub2RlSW5kaWNlcyB9ID0gc2NlbmU7XG4gICAgICAgIHRoaXMuanNvbi5zY2VuZXMgPSB0aGlzLmpzb24uc2NlbmVzIHx8IFtdO1xuICAgICAgICB0aGlzLmpzb24uc2NlbmVzLnB1c2goeyBub2Rlczogbm9kZUluZGljZXMgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24uc2NlbmVzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0b2RvOiBhZGQgbW9yZSBwcm9wZXJ0aWVzIGZvciBub2RlIGluaXRpYWxpemF0aW9uOlxuICAgICAqICAgYG5hbWVgLCBgZXh0ZW5zaW9uc2AsIGBleHRyYXNgLCBgY2FtZXJhYCwgYGNoaWxkcmVuYCwgYHNraW5gLCBgcm90YXRpb25gLCBgc2NhbGVgLCBgdHJhbnNsYXRpb25gLCBgd2VpZ2h0c2BcbiAgICAgKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNub2RlXG4gICAgICovXG4gICAgYWRkTm9kZShub2RlKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzaEluZGV4LCBtYXRyaXggfSA9IG5vZGU7XG4gICAgICAgIHRoaXMuanNvbi5ub2RlcyA9IHRoaXMuanNvbi5ub2RlcyB8fCBbXTtcbiAgICAgICAgY29uc3Qgbm9kZURhdGEgPSB7IG1lc2g6IG1lc2hJbmRleCB9O1xuICAgICAgICBpZiAobWF0cml4KSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBub2RlRGF0YS5tYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5qc29uLm5vZGVzLnB1c2gobm9kZURhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5qc29uLm5vZGVzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKiBBZGRzIGEgbWVzaCB0byB0aGUganNvbiBwYXJ0ICovXG4gICAgYWRkTWVzaChtZXNoKSB7XG4gICAgICAgIGNvbnN0IHsgYXR0cmlidXRlcywgaW5kaWNlcywgbWF0ZXJpYWwsIG1vZGUgPSA0IH0gPSBtZXNoO1xuICAgICAgICBjb25zdCBhY2Nlc3NvcnMgPSB0aGlzLl9hZGRBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xuICAgICAgICBjb25zdCBnbFRGTWVzaCA9IHtcbiAgICAgICAgICAgIHByaW1pdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGFjY2Vzc29ycyxcbiAgICAgICAgICAgICAgICAgICAgbW9kZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGluZGljZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGljZXNBY2Nlc3NvciA9IHRoaXMuX2FkZEluZGljZXMoaW5kaWNlcyk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBnbFRGTWVzaC5wcmltaXRpdmVzWzBdLmluZGljZXMgPSBpbmRpY2VzQWNjZXNzb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShtYXRlcmlhbCkpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGdsVEZNZXNoLnByaW1pdGl2ZXNbMF0ubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmpzb24ubWVzaGVzID0gdGhpcy5qc29uLm1lc2hlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLm1lc2hlcy5wdXNoKGdsVEZNZXNoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgYWRkUG9pbnRDbG91ZChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYWNjZXNzb3JJbmRpY2VzID0gdGhpcy5fYWRkQXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgY29uc3QgZ2xURk1lc2ggPSB7XG4gICAgICAgICAgICBwcmltaXRpdmVzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBhY2Nlc3NvckluZGljZXMsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IDAgLy8gR0wuUE9JTlRTXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmpzb24ubWVzaGVzID0gdGhpcy5qc29uLm1lc2hlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLm1lc2hlcy5wdXNoKGdsVEZNZXNoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGJpbmFyeSBpbWFnZS4gQnVpbGRzIGdsVEYgXCJKU09OIG1ldGFkYXRhXCIgYW5kIHNhdmVzIGJ1ZmZlciByZWZlcmVuY2VcbiAgICAgKiBCdWZmZXIgd2lsbCBiZSBjb3BpZWQgaW50byBCSU4gY2h1bmsgZHVyaW5nIFwicGFja1wiXG4gICAgICogQ3VycmVudGx5IGVuY29kZXMgYXMgZ2xURiBpbWFnZVxuICAgICAqIEBwYXJhbSBpbWFnZURhdGFcbiAgICAgKiBAcGFyYW0gbWltZVR5cGVcbiAgICAgKi9cbiAgICBhZGRJbWFnZShpbWFnZURhdGEsIG1pbWVUeXBlT3B0KSB7XG4gICAgICAgIC8vIElmIGltYWdlIGlzIHJlZmVyZW5jaW5nIGEgYnVmZmVyVmlldyBpbnN0ZWFkIG9mIFVSSSwgbWltZVR5cGUgbXVzdCBiZSBkZWZpbmVkOlxuICAgICAgICAvLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNpbWFnZXNcbiAgICAgICAgLy8gICBcImEgcmVmZXJlbmNlIHRvIGEgYnVmZmVyVmlldzsgaW4gdGhhdCBjYXNlIG1pbWVUeXBlIG11c3QgYmUgZGVmaW5lZC5cIlxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGdldEJpbmFyeUltYWdlTWV0YWRhdGEoaW1hZ2VEYXRhKTtcbiAgICAgICAgY29uc3QgbWltZVR5cGUgPSBtaW1lVHlwZU9wdCB8fCBtZXRhZGF0YT8ubWltZVR5cGU7XG4gICAgICAgIGNvbnN0IGJ1ZmZlclZpZXdJbmRleCA9IHRoaXMuYWRkQnVmZmVyVmlldyhpbWFnZURhdGEpO1xuICAgICAgICBjb25zdCBnbFRGSW1hZ2UgPSB7XG4gICAgICAgICAgICBidWZmZXJWaWV3OiBidWZmZXJWaWV3SW5kZXgsXG4gICAgICAgICAgICBtaW1lVHlwZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmpzb24uaW1hZ2VzID0gdGhpcy5qc29uLmltYWdlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLmltYWdlcy5wdXNoKGdsVEZJbWFnZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24uaW1hZ2VzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBvbmUgdW50eXBlZCBzb3VyY2UgYnVmZmVyLCBjcmVhdGUgYSBtYXRjaGluZyBnbFRGIGBidWZmZXJWaWV3YCwgYW5kIHJldHVybiBpdHMgaW5kZXhcbiAgICAgKiBAcGFyYW0gYnVmZmVyXG4gICAgICovXG4gICAgYWRkQnVmZmVyVmlldyhidWZmZXIsIGJ1ZmZlckluZGV4ID0gMCwgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZUxlbmd0aCkge1xuICAgICAgICBjb25zdCBieXRlTGVuZ3RoID0gYnVmZmVyLmJ5dGVMZW5ndGg7XG4gICAgICAgIGFzc2VydChOdW1iZXIuaXNGaW5pdGUoYnl0ZUxlbmd0aCkpO1xuICAgICAgICAvLyBBZGQgdGhpcyBidWZmZXIgdG8gdGhlIGxpc3Qgb2YgYnVmZmVycyB0byBiZSB3cml0dGVuIHRvIHRoZSBib2R5LlxuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnMgPSB0aGlzLnNvdXJjZUJ1ZmZlcnMgfHwgW107XG4gICAgICAgIHRoaXMuc291cmNlQnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IGdsVEZCdWZmZXJWaWV3ID0ge1xuICAgICAgICAgICAgYnVmZmVyOiBidWZmZXJJbmRleCxcbiAgICAgICAgICAgIC8vIFdyaXRlIG9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgYmluYXJ5IGJvZHlcbiAgICAgICAgICAgIGJ5dGVPZmZzZXQsXG4gICAgICAgICAgICBieXRlTGVuZ3RoXG4gICAgICAgIH07XG4gICAgICAgIC8vIFdlJ3ZlIG5vdyBhZGRlZCB0aGUgY29udGVudHMgdG8gdGhlIGJvZHksIHNvIHVwZGF0ZSB0aGUgdG90YWwgbGVuZ3RoXG4gICAgICAgIC8vIEV2ZXJ5IHN1Yi1jaHVuayBuZWVkcyB0byBiZSA0LWJ5dGUgYWxpZ24gZWRcbiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoICs9IHBhZFRvTkJ5dGVzKGJ5dGVMZW5ndGgsIDQpO1xuICAgICAgICAvLyBBZGQgYSBidWZmZXJWaWV3IGluZGljYXRpbmcgc3RhcnQgYW5kIGxlbmd0aCBvZiB0aGlzIGJpbmFyeSBzdWItY2h1bmtcbiAgICAgICAgdGhpcy5qc29uLmJ1ZmZlclZpZXdzID0gdGhpcy5qc29uLmJ1ZmZlclZpZXdzIHx8IFtdO1xuICAgICAgICB0aGlzLmpzb24uYnVmZmVyVmlld3MucHVzaChnbFRGQnVmZmVyVmlldyk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24uYnVmZmVyVmlld3MubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBhY2Nlc3NvciB0byBhIGJ1ZmZlclZpZXdcbiAgICAgKiBAcGFyYW0gYnVmZmVyVmlld0luZGV4XG4gICAgICogQHBhcmFtIGFjY2Vzc29yXG4gICAgICovXG4gICAgYWRkQWNjZXNzb3IoYnVmZmVyVmlld0luZGV4LCBhY2Nlc3Nvcikge1xuICAgICAgICBjb25zdCBnbFRGQWNjZXNzb3IgPSB7XG4gICAgICAgICAgICBidWZmZXJWaWV3OiBidWZmZXJWaWV3SW5kZXgsXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0eXBlOiBnZXRBY2Nlc3NvclR5cGVGcm9tU2l6ZShhY2Nlc3Nvci5zaXplKSxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IGFjY2Vzc29yLmNvbXBvbmVudFR5cGUsXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb3VudDogYWNjZXNzb3IuY291bnQsXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBtYXg6IGFjY2Vzc29yLm1heCxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG1pbjogYWNjZXNzb3IubWluXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuanNvbi5hY2Nlc3NvcnMgPSB0aGlzLmpzb24uYWNjZXNzb3JzIHx8IFtdO1xuICAgICAgICB0aGlzLmpzb24uYWNjZXNzb3JzLnB1c2goZ2xURkFjY2Vzc29yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvbi5hY2Nlc3NvcnMubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgYmluYXJ5IGJ1ZmZlci4gQnVpbGRzIGdsVEYgXCJKU09OIG1ldGFkYXRhXCIgYW5kIHNhdmVzIGJ1ZmZlciByZWZlcmVuY2VcbiAgICAgKiBCdWZmZXIgd2lsbCBiZSBjb3BpZWQgaW50byBCSU4gY2h1bmsgZHVyaW5nIFwicGFja1wiXG4gICAgICogQ3VycmVudGx5IGVuY29kZXMgYnVmZmVycyBhcyBnbFRGIGFjY2Vzc29ycywgYnV0IHRoaXMgY291bGQgYmUgb3B0aW1pemVkXG4gICAgICogQHBhcmFtIHNvdXJjZUJ1ZmZlclxuICAgICAqIEBwYXJhbSBhY2Nlc3NvclxuICAgICAqL1xuICAgIGFkZEJpbmFyeUJ1ZmZlcihzb3VyY2VCdWZmZXIsIGFjY2Vzc29yID0geyBzaXplOiAzIH0pIHtcbiAgICAgICAgY29uc3QgYnVmZmVyVmlld0luZGV4ID0gdGhpcy5hZGRCdWZmZXJWaWV3KHNvdXJjZUJ1ZmZlcik7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbGV0IG1pbk1heCA9IHsgbWluOiBhY2Nlc3Nvci5taW4sIG1heDogYWNjZXNzb3IubWF4IH07XG4gICAgICAgIGlmICghbWluTWF4Lm1pbiB8fCAhbWluTWF4Lm1heCkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgbWluTWF4ID0gdGhpcy5fZ2V0QWNjZXNzb3JNaW5NYXgoc291cmNlQnVmZmVyLCBhY2Nlc3Nvci5zaXplKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY2Nlc3NvckRlZmF1bHRzID0ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgc2l6ZTogYWNjZXNzb3Iuc2l6ZSxcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkoc291cmNlQnVmZmVyKSxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvdW50OiBNYXRoLnJvdW5kKHNvdXJjZUJ1ZmZlci5sZW5ndGggLyBhY2Nlc3Nvci5zaXplKSxcbiAgICAgICAgICAgIG1pbjogbWluTWF4Lm1pbixcbiAgICAgICAgICAgIG1heDogbWluTWF4Lm1heFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRBY2Nlc3NvcihidWZmZXJWaWV3SW5kZXgsIE9iamVjdC5hc3NpZ24oYWNjZXNzb3JEZWZhdWx0cywgYWNjZXNzb3IpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHRleHR1cmUgdG8gdGhlIGpzb24gcGFydFxuICAgICAqIEB0b2RvOiBhZGQgbW9yZSBwcm9wZXJ0aWVzIGZvciB0ZXh0dXJlIGluaXRpYWxpemF0aW9uXG4gICAgICogYHNhbXBsZXJgLCBgbmFtZWAsIGBleHRlbnNpb25zYCwgYGV4dHJhc2BcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjdGV4dHVyZVxuICAgICAqL1xuICAgIGFkZFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICBjb25zdCB7IGltYWdlSW5kZXggfSA9IHRleHR1cmU7XG4gICAgICAgIGNvbnN0IGdsVEZUZXh0dXJlID0ge1xuICAgICAgICAgICAgc291cmNlOiBpbWFnZUluZGV4XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuanNvbi50ZXh0dXJlcyA9IHRoaXMuanNvbi50ZXh0dXJlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLnRleHR1cmVzLnB1c2goZ2xURlRleHR1cmUpO1xuICAgICAgICByZXR1cm4gdGhpcy5qc29uLnRleHR1cmVzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKiBBZGRzIGEgbWF0ZXJpYWwgdG8gdGhlIGpzb24gcGFydCAqL1xuICAgIGFkZE1hdGVyaWFsKHBick1hdGVyaWFsSW5mbykge1xuICAgICAgICB0aGlzLmpzb24ubWF0ZXJpYWxzID0gdGhpcy5qc29uLm1hdGVyaWFscyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLm1hdGVyaWFscy5wdXNoKHBick1hdGVyaWFsSW5mbyk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24ubWF0ZXJpYWxzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKiBQYWNrIHRoZSBiaW5hcnkgY2h1bmsgKi9cbiAgICBjcmVhdGVCaW5hcnlDaHVuaygpIHtcbiAgICAgICAgLy8gQWxsb2NhdGUgdG90YWwgYXJyYXlcbiAgICAgICAgY29uc3QgdG90YWxCeXRlTGVuZ3RoID0gdGhpcy5ieXRlTGVuZ3RoO1xuICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0b3RhbEJ5dGVMZW5ndGgpO1xuICAgICAgICBjb25zdCB0YXJnZXRBcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgLy8gQ29weSBlYWNoIGFycmF5IGludG9cbiAgICAgICAgbGV0IGRzdEJ5dGVPZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZUJ1ZmZlciBvZiB0aGlzLnNvdXJjZUJ1ZmZlcnMgfHwgW10pIHtcbiAgICAgICAgICAgIGRzdEJ5dGVPZmZzZXQgPSBjb3B5VG9BcnJheShzb3VyY2VCdWZmZXIsIHRhcmdldEFycmF5LCBkc3RCeXRlT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdGhlIGdsVEYgQklOIENIVU5LIGJ5dGUgbGVuZ3RoXG4gICAgICAgIGlmICh0aGlzLmpzb24/LmJ1ZmZlcnM/LlswXSkge1xuICAgICAgICAgICAgdGhpcy5qc29uLmJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aCA9IHRvdGFsQnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuanNvbi5idWZmZXJzID0gW3sgYnl0ZUxlbmd0aDogdG90YWxCeXRlTGVuZ3RoIH1dO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhdmUgZ2VuZXJhdGVkIGFycmF5QnVmZmVyXG4gICAgICAgIHRoaXMuZ2x0Zi5iaW5hcnkgPSBhcnJheUJ1ZmZlcjtcbiAgICAgICAgLy8gUHV0IGFycmF5QnVmZmVyIHRvIHNvdXJjZUJ1ZmZlcnMgZm9yIHBvc3NpYmxlIGFkZGl0aW9uYWwgd3JpdGluZyBkYXRhIGluIHRoZSBjaHVua1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnMgPSBbYXJyYXlCdWZmZXJdO1xuICAgICAgICB0aGlzLmdsdGYuYnVmZmVycyA9IFt7IGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0OiAwLCBieXRlTGVuZ3RoOiBhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoIH1dO1xuICAgIH1cbiAgICAvLyBQUklWQVRFXG4gICAgX3JlbW92ZVN0cmluZ0Zyb21BcnJheShhcnJheSwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBmb3VuZCA9IHRydWU7XG4gICAgICAgIHdoaWxlIChmb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKHN0cmluZyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhdHRyaWJ1dGVzIHRvIGJ1ZmZlcnMgYW5kIGNyZWF0ZSBgYXR0cmlidXRlc2Agb2JqZWN0IHdoaWNoIGlzIHBhcnQgb2YgYG1lc2hgXG4gICAgICovXG4gICAgX2FkZEF0dHJpYnV0ZXMoYXR0cmlidXRlcyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZUtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVEYXRhID0gYXR0cmlidXRlc1thdHRyaWJ1dGVLZXldO1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSB0aGlzLl9nZXRHbHRmQXR0cmlidXRlTmFtZShhdHRyaWJ1dGVLZXkpO1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzb3IgPSB0aGlzLmFkZEJpbmFyeUJ1ZmZlcihhdHRyaWJ1dGVEYXRhLnZhbHVlLCBhdHRyaWJ1dGVEYXRhKTtcbiAgICAgICAgICAgIHJlc3VsdFthdHRyTmFtZV0gPSBhY2Nlc3NvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgaW5kaWNlcyB0byBidWZmZXJzXG4gICAgICovXG4gICAgX2FkZEluZGljZXMoaW5kaWNlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRCaW5hcnlCdWZmZXIoaW5kaWNlcywgeyBzaXplOiAxIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWR1Y2UgZ2x0ZiBzcGVjaWZpYyBhdHRyaWJ1ZSBuYW1lIGZyb20gaW5wdXQgYXR0cmlidXRlIG5hbWVcbiAgICAgKi9cbiAgICBfZ2V0R2x0ZkF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBzd2l0Y2ggKGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSAncG9zaXRpb24nOlxuICAgICAgICAgICAgY2FzZSAncG9zaXRpb25zJzpcbiAgICAgICAgICAgIGNhc2UgJ3ZlcnRpY2VzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1BPU0lUSU9OJztcbiAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XG4gICAgICAgICAgICBjYXNlICdub3JtYWxzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ05PUk1BTCc7XG4gICAgICAgICAgICBjYXNlICdjb2xvcic6XG4gICAgICAgICAgICBjYXNlICdjb2xvcnMnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnQ09MT1JfMCc7XG4gICAgICAgICAgICBjYXNlICd0ZXhjb29yZCc6XG4gICAgICAgICAgICBjYXNlICd0ZXhjb29yZHMnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnVEVYQ09PUkRfMCc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVOYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBgbWluYCBhbmQgYG1heGAgYXJyYXlzIG9mIGFjY2Vzc29yIGFjY29yZGluZyB0byBzcGVjOlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNyZWZlcmVuY2UtYWNjZXNzb3JcbiAgICAgKi9cbiAgICBfZ2V0QWNjZXNzb3JNaW5NYXgoYnVmZmVyLCBzaXplKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgbWluOiBudWxsLCBtYXg6IG51bGwgfTtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPCBzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmVzdWx0Lm1pbiA9IFtdO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJlc3VsdC5tYXggPSBbXTtcbiAgICAgICAgY29uc3QgaW5pdFZhbHVlcyA9IGJ1ZmZlci5zdWJhcnJheSgwLCBzaXplKTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBpbml0VmFsdWVzKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICByZXN1bHQubWluLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgcmVzdWx0Lm1heC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IHNpemU7IGluZGV4IDwgYnVmZmVyLmxlbmd0aDsgaW5kZXggKz0gc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcG9uZW50SW5kZXggPSAwOyBjb21wb25lbnRJbmRleCA8IHNpemU7IGNvbXBvbmVudEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgcmVzdWx0Lm1pblswICsgY29tcG9uZW50SW5kZXhdID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHJlc3VsdC5taW5bMCArIGNvbXBvbmVudEluZGV4XSwgYnVmZmVyW2luZGV4ICsgY29tcG9uZW50SW5kZXhdKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgcmVzdWx0Lm1heFswICsgY29tcG9uZW50SW5kZXhdID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHJlc3VsdC5tYXhbMCArIGNvbXBvbmVudEluZGV4XSwgYnVmZmVyW2luZGV4ICsgY29tcG9uZW50SW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbiIsIi8vIFRPRE8gLSBHTFRGU2NlbmVncmFwaCBzaG91bGQgdXNlIHRoZXNlXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBnZXRBY2Nlc3NvckFycmF5VHlwZUFuZExlbmd0aCB9IGZyb20gXCIuL2dsdGYtdXRpbHMuanNcIjtcbi8vIGFjY2VwdHMgYnVmZmVyIHZpZXcgaW5kZXggb3IgYnVmZmVyIHZpZXcgb2JqZWN0XG4vLyByZXR1cm5zIGEgYFVpbnQ4QXJyYXlgXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcoanNvbiwgYnVmZmVycywgYnVmZmVyVmlld0luZGV4KSB7XG4gICAgY29uc3QgYnVmZmVyVmlldyA9IGpzb24uYnVmZmVyVmlld3NbYnVmZmVyVmlld0luZGV4XTtcbiAgICBhc3NlcnQoYnVmZmVyVmlldyk7XG4gICAgLy8gR2V0IGhvbGQgb2YgdGhlIGFycmF5QnVmZmVyXG4gICAgY29uc3QgYnVmZmVySW5kZXggPSBidWZmZXJWaWV3LmJ1ZmZlcjtcbiAgICBjb25zdCBiaW5DaHVuayA9IGJ1ZmZlcnNbYnVmZmVySW5kZXhdO1xuICAgIGFzc2VydChiaW5DaHVuayk7XG4gICAgY29uc3QgYnl0ZU9mZnNldCA9IChidWZmZXJWaWV3LmJ5dGVPZmZzZXQgfHwgMCkgKyBiaW5DaHVuay5ieXRlT2Zmc2V0O1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShiaW5DaHVuay5hcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgYnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcbn1cbi8vIGFjY2VwdHMgYWNjZXNzb3IgaW5kZXggb3IgYWNjZXNzb3Igb2JqZWN0XG4vLyByZXR1cm5zIGEgYFVpbnQ4QXJyYXlgXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZWRBcnJheUZvckltYWdlRGF0YShqc29uLCBidWZmZXJzLCBpbWFnZUluZGV4KSB7XG4gICAgY29uc3QgaW1hZ2UgPSBqc29uLmltYWdlc1tpbWFnZUluZGV4XTtcbiAgICBjb25zdCBidWZmZXJWaWV3SW5kZXggPSBqc29uLmJ1ZmZlclZpZXdzW2ltYWdlLmJ1ZmZlclZpZXddO1xuICAgIHJldHVybiBnZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyhqc29uLCBidWZmZXJzLCBidWZmZXJWaWV3SW5kZXgpO1xufVxuLyoqXG4gKiBHZXRzIGRhdGEgcG9pbnRlZCBieSB0aGUgYWNjZXNzb3IuXG4gKiBAcGFyYW0ganNvbiAtIGpzb24gcGFydCBvZiBnbHRmIGNvbnRlbnQgb2YgYSBHTFRGIHRpbGUuXG4gKiBAcGFyYW0gYnVmZmVycyAtIEFycmF5IGNvbnRhaW5pbmcgYnVmZmVycyBvZiBkYXRhLlxuICogQHBhcmFtIGFjY2Vzc29yIC0gYWNjZXB0cyBhY2Nlc3NvciBpbmRleCBvciBhY2Nlc3NvciBvYmplY3QuXG4gKiBAcmV0dXJucyB7VHlwZWRBcnJheX0gVHlwZWQgYXJyYXkgd2l0aCB0eXBlIG1hdGNoaW5nIHRoZSB0eXBlIG9mIGRhdGEgcG9pdGVkIGJ5IHRoZSBhY2Nlc3Nvci5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IoanNvbiwgYnVmZmVycywgYWNjZXNzb3IpIHtcbiAgICBjb25zdCBnbHRmQWNjZXNzb3IgPSB0eXBlb2YgYWNjZXNzb3IgPT09ICdudW1iZXInID8ganNvbi5hY2Nlc3NvcnM/LlthY2Nlc3Nvcl0gOiBhY2Nlc3NvcjtcbiAgICBpZiAoIWdsdGZBY2Nlc3Nvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGdsdGYgYWNjZXNzb3IgJHtKU09OLnN0cmluZ2lmeShhY2Nlc3Nvcil9YCk7XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlclZpZXcgPSBqc29uLmJ1ZmZlclZpZXdzPy5bZ2x0ZkFjY2Vzc29yLmJ1ZmZlclZpZXcgfHwgMF07XG4gICAgaWYgKCFidWZmZXJWaWV3KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZ2x0ZiBidWZmZXIgdmlldyBmb3IgYWNjZXNzb3IgJHtidWZmZXJWaWV3fWApO1xuICAgIH1cbiAgICAvLyBHZXQgYGFycmF5QnVmZmVyYCB0aGUgYGJ1ZmZlclZpZXdgIGxvb2tzIGF0XG4gICAgY29uc3QgeyBhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldDogYnVmZmVyQnl0ZU9mZnNldCB9ID0gYnVmZmVyc1tidWZmZXJWaWV3LmJ1ZmZlcl07XG4gICAgLy8gUmVzdWx0aW5nIGJ5dGVPZmZzZXQgaXMgc3VtIG9mIHRoZSBidWZmZXIsIGFjY2Vzc29yIGFuZCBidWZmZXJWaWV3IGJ5dGUgb2Zmc2V0c1xuICAgIGNvbnN0IGJ5dGVPZmZzZXQgPSAoYnVmZmVyQnl0ZU9mZnNldCB8fCAwKSArIChnbHRmQWNjZXNzb3IuYnl0ZU9mZnNldCB8fCAwKSArIChidWZmZXJWaWV3LmJ5dGVPZmZzZXQgfHwgMCk7XG4gICAgLy8gRGVkdWNlIFR5cGVkQXJyYXkgdHlwZSBhbmQgaXRzIGxlbmd0aCBmcm9tIGBhY2Nlc3NvcmAgYW5kIGBidWZmZXJWaWV3YCBkYXRhXG4gICAgY29uc3QgeyBBcnJheVR5cGUsIGxlbmd0aCwgY29tcG9uZW50Qnl0ZVNpemUsIG51bWJlck9mQ29tcG9uZW50c0luRWxlbWVudCB9ID0gZ2V0QWNjZXNzb3JBcnJheVR5cGVBbmRMZW5ndGgoZ2x0ZkFjY2Vzc29yLCBidWZmZXJWaWV3KTtcbiAgICAvLyAnbGVuZ3RoJyBpcyBhIHdob2xlIG51bWJlciBvZiBjb21wb25lbnRzIG9mIGFsbCBlbGVtZW50cyBpbiB0aGUgYnVmZmVyIHBvaW50ZWQgYnkgdGhlIGFjY2Vzc29yXG4gICAgLy8gTXVsdGlwbGllciB0byBjYWxjdWxhdGUgdGhlIGFkZHJlc3Mgb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGFycmF5QnVmZmVyXG4gICAgY29uc3QgZWxlbWVudEJ5dGVTaXplID0gY29tcG9uZW50Qnl0ZVNpemUgKiBudW1iZXJPZkNvbXBvbmVudHNJbkVsZW1lbnQ7XG4gICAgY29uc3QgZWxlbWVudEFkZHJlc3NTY2FsZSA9IGJ1ZmZlclZpZXcuYnl0ZVN0cmlkZSB8fCBlbGVtZW50Qnl0ZVNpemU7XG4gICAgLy8gQ3JlYXJlIGFuIGFycmF5IG9mIGNvbXBvbmVudCdzIHR5cGUgd2hlcmUgYWxsIGNvbXBvbmVudHMgKG5vdCBqdXN0IGVsZW1lbnRzKSB3aWxsIHJlc2lkZVxuICAgIGlmICh0eXBlb2YgYnVmZmVyVmlldy5ieXRlU3RyaWRlID09PSAndW5kZWZpbmVkJyB8fCBidWZmZXJWaWV3LmJ5dGVTdHJpZGUgPT09IGVsZW1lbnRCeXRlU2l6ZSkge1xuICAgICAgICAvLyBObyBpdGVybGVhdmluZ1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXlUeXBlKGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBJdGVybGVhdmluZ1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheVR5cGUobGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdsdGZBY2Nlc3Nvci5jb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBBcnJheVR5cGUoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQgKyBpICogZWxlbWVudEFkZHJlc3NTY2FsZSwgbnVtYmVyT2ZDb21wb25lbnRzSW5FbGVtZW50KTtcbiAgICAgICAgcmVzdWx0LnNldCh2YWx1ZXMsIGkgKiBudW1iZXJPZkNvbXBvbmVudHNJbkVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLyoqXG4gKiBsb2FkZXJzLmdsLCBNSVQgbGljZW5zZVxuICpcbiAqIFNoYXJlZCBjb2RlIGZvciAzRFRpbGVzIGV4dGVuc2lvbnM6XG4gKiAqIEVYVF9mZWF0dXJlX21ldGFkYXRhXG4gKiAqIEVYVF9tZXNoX2ZlYXR1cmVzXG4gKiAqIEVYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhXG4gKi9cbmltcG9ydCB7IGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkgfSBmcm9tIFwiLi4vLi4vZ2x0Zi11dGlscy9nbHRmLXV0aWxzLmpzXCI7XG5pbXBvcnQgeyBnZXRJbWFnZURhdGEgfSBmcm9tICdAbG9hZGVycy5nbC9pbWFnZXMnO1xuZnVuY3Rpb24gZW1vZChuKSB7XG4gICAgcmV0dXJuICgobiAlIDEpICsgMSkgJSAxO1xufVxuY29uc3QgQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UUyA9IHtcbiAgICBTQ0FMQVI6IDEsXG4gICAgVkVDMjogMixcbiAgICBWRUMzOiAzLFxuICAgIFZFQzQ6IDQsXG4gICAgTUFUMjogNCxcbiAgICBNQVQzOiA5LFxuICAgIE1BVDQ6IDE2LFxuICAgIEJPT0xFQU46IDEsXG4gICAgU1RSSU5HOiAxLFxuICAgIEVOVU06IDFcbn07XG5jb25zdCBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVkgPSB7XG4gICAgSU5UODogSW50OEFycmF5LFxuICAgIFVJTlQ4OiBVaW50OEFycmF5LFxuICAgIElOVDE2OiBJbnQxNkFycmF5LFxuICAgIFVJTlQxNjogVWludDE2QXJyYXksXG4gICAgSU5UMzI6IEludDMyQXJyYXksXG4gICAgVUlOVDMyOiBVaW50MzJBcnJheSxcbiAgICBJTlQ2NDogQmlnSW50NjRBcnJheSxcbiAgICBVSU5UNjQ6IEJpZ1VpbnQ2NEFycmF5LFxuICAgIEZMT0FUMzI6IEZsb2F0MzJBcnJheSxcbiAgICBGTE9BVDY0OiBGbG9hdDY0QXJyYXlcbn07XG5jb25zdCBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFID0ge1xuICAgIElOVDg6IDEsXG4gICAgVUlOVDg6IDEsXG4gICAgSU5UMTY6IDIsXG4gICAgVUlOVDE2OiAyLFxuICAgIElOVDMyOiA0LFxuICAgIFVJTlQzMjogNCxcbiAgICBJTlQ2NDogOCxcbiAgICBVSU5UNjQ6IDgsXG4gICAgRkxPQVQzMjogNCxcbiAgICBGTE9BVDY0OiA4XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFycmF5RWxlbWVudEJ5dGVTaXplKGF0dHJpYnV0ZVR5cGUsIGNvbXBvbmVudFR5cGUpIHtcbiAgICByZXR1cm4gKEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19CWVRFX1NJWkVbY29tcG9uZW50VHlwZV0gKlxuICAgICAgICBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTW2F0dHJpYnV0ZVR5cGVdKTtcbn1cbi8qKlxuICogR2V0cyBvZmZzZXQgYXJyYXkgZnJvbSBgYXJyYXlPZmZzZXRzYCBvciBgc3RyaW5nT2Zmc2V0c2AuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIGJ1ZmZlclZpZXdJbmRleCAtIEJ1ZmZlciB2aWV3IGluZGV4XG4gKiBAcGFyYW0gb2Zmc2V0VHlwZSAtIFRoZSB0eXBlIG9mIHZhbHVlcyBpbiBgYXJyYXlPZmZzZXRzYCBvciBgc3RyaW5nT2Zmc2V0c2AuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheS5cbiAqIEByZXR1cm5zIEFycmF5IG9mIHZhbHVlcyBvZmZzZXRzLiBUaGUgbnVtYmVyIG9mIG9mZnNldHMgaW4gdGhlIGFycmF5IGlzIGVxdWFsIHRvIGBudW1iZXJPZkVsZW1lbnRzYCBwbHVzIG9uZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE9mZnNldHNGb3JQcm9wZXJ0eShzY2VuZWdyYXBoLCBidWZmZXJWaWV3SW5kZXgsIG9mZnNldFR5cGUsIG51bWJlck9mRWxlbWVudHMpIHtcbiAgICBpZiAob2Zmc2V0VHlwZSAhPT0gJ1VJTlQ4JyAmJlxuICAgICAgICBvZmZzZXRUeXBlICE9PSAnVUlOVDE2JyAmJlxuICAgICAgICBvZmZzZXRUeXBlICE9PSAnVUlOVDMyJyAmJlxuICAgICAgICBvZmZzZXRUeXBlICE9PSAnVUlOVDY0Jykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgYXJyYXlPZmZzZXRzQnl0ZXMgPSBzY2VuZWdyYXBoLmdldFR5cGVkQXJyYXlGb3JCdWZmZXJWaWV3KGJ1ZmZlclZpZXdJbmRleCk7XG4gICAgY29uc3QgYXJyYXlPZmZzZXRzID0gY29udmVydFJhd0J1ZmZlclRvTWV0YWRhdGFBcnJheShhcnJheU9mZnNldHNCeXRlcywgJ1NDQUxBUicsIC8vIG9mZnNldHMgY29uc2lzdCBvZiBPTkUgY29tcG9uZW50XG4gICAgb2Zmc2V0VHlwZSwgbnVtYmVyT2ZFbGVtZW50cyArIDEgLy8gVGhlIG51bWJlciBvZiBvZmZzZXRzIGlzIGVxdWFsIHRvIHRoZSBwcm9wZXJ0eSB0YWJsZSBgY291bnRgIHBsdXMgb25lLlxuICAgICk7XG4gICAgLy8gV2UgZG9uJ3Qgc3VwcG9ydCBCaWdJbnQgb2Zmc2V0cyBhdCB0aGUgbW9tZW50LiBJdCByZXF1aXJlcyBhZGRpdGlvbmFsIGxvZ2ljIGFuZCBwb3RlbnRpYWwgaXNzdWVzIGluIFNhZmFyaVxuICAgIGlmIChhcnJheU9mZnNldHMgaW5zdGFuY2VvZiBCaWdJbnQ2NEFycmF5IHx8IGFycmF5T2Zmc2V0cyBpbnN0YW5jZW9mIEJpZ1VpbnQ2NEFycmF5KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlPZmZzZXRzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyByYXcgYnl0ZXMgdGhhdCBhcmUgaW4gdGhlIGJ1ZmZlciB0byBhbiBhcnJheSBvZiB0aGUgdHlwZSBkZWZpbmVkIGJ5IHRoZSBzY2hlbWEuXG4gKiBAcGFyYW0gZGF0YSAtIFJhdyBieXRlcyBpbiB0aGUgYnVmZmVyLlxuICogQHBhcmFtIGF0dHJpYnV0ZVR5cGUgLSBTQ0FMQVIsIFZFQ04sIE1BVE4uXG4gKiBAcGFyYW0gY29tcG9uZW50VHlwZSAtIFR5cGUgb2YgdGhlIGNvbXBvbmVudCBpbiBlbGVtZW50cywgZS5nLiAnVUlOVDgnIG9yICdGTE9BVDMyJy5cbiAqIEBwYXJhbSBlbGVtZW50Q291bnQgLSBOdW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LiBEZWZhdWx0IHZhbHVlIGlzIDEuXG4gKiBAcmV0dXJucyBEYXRhIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UmF3QnVmZmVyVG9NZXRhZGF0YUFycmF5KGRhdGEsIGF0dHJpYnV0ZVR5cGUsIGNvbXBvbmVudFR5cGUsIGVsZW1lbnRDb3VudCA9IDEpIHtcbiAgICBjb25zdCBudW1iZXJPZkNvbXBvbmVudHMgPSBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTW2F0dHJpYnV0ZVR5cGVdO1xuICAgIGNvbnN0IEFycmF5VHlwZSA9IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWVtjb21wb25lbnRUeXBlXTtcbiAgICBjb25zdCBzaXplID0gQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRVtjb21wb25lbnRUeXBlXTtcbiAgICBjb25zdCBsZW5ndGggPSBlbGVtZW50Q291bnQgKiBudW1iZXJPZkNvbXBvbmVudHM7XG4gICAgY29uc3QgYnl0ZUxlbmd0aCA9IGxlbmd0aCAqIHNpemU7XG4gICAgbGV0IGJ1ZmZlciA9IGRhdGEuYnVmZmVyO1xuICAgIGxldCBvZmZzZXQgPSBkYXRhLmJ5dGVPZmZzZXQ7XG4gICAgaWYgKG9mZnNldCAlIHNpemUgIT09IDApIHtcbiAgICAgICAgY29uc3QgYnVmZmVyQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICBidWZmZXIgPSBidWZmZXJBcnJheS5zbGljZShvZmZzZXQsIG9mZnNldCArIGJ5dGVMZW5ndGgpLmJ1ZmZlcjtcbiAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBcnJheVR5cGUoYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCk7XG59XG4vKipcbiAqIFByb2Nlc3NlcyBkYXRhIGVuY29kZWQgaW4gdGhlIHRleHR1cmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcmltaXRpdmUuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIHRleHR1cmVJbmZvIC0gUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIHdoZXJlIGV4dGVuc2lvbiBkYXRhIGFyZSBzdG9yZWQuXG4gKiBAcGFyYW0gcHJpbWl0aXZlIC0gUHJpbWl0aXZlIG9iamVjdCBpbiB0aGUgbWVzaC5cbiAqIEByZXR1cm5zIEFycmF5IG9mIGRhdGEgdGFrZW4uIE51bGwgaWYgZGF0YSBjYW4ndCBiZSB0YWtlbiBmcm9tIHRoZSB0ZXh0dXJlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJpbWl0aXZlVGV4dHVyZURhdGEoc2NlbmVncmFwaCwgdGV4dHVyZUluZm8sIHByaW1pdGl2ZSkge1xuICAgIC8qXG4gICAgICB0ZXh0dXJlLmluZGV4IGlzIGFuIGluZGV4IGZvciB0aGUgXCJ0ZXh0dXJlc1wiIGFycmF5LlxuICAgICAgVGhlIHRleHR1cmUgb2JqZWN0IHJlZmVyZW5jZWQgYnkgdGhpcyBpbmRleCBsb29rcyBsaWtlIHRoaXM6XG4gICAgICB7XG4gICAgICBcInNhbXBsZXJcIjogMCxcbiAgICAgIFwic291cmNlXCI6IDBcbiAgICAgIH1cbiAgICAgIFwic2FtcGxlclwiIGlzIGFuIGluZGV4IGZvciB0aGUgXCJzYW1wbGVyc1wiIGFycmF5XG4gICAgICBcInNvdXJjZVwiIGlzIGFuIGluZGV4IGZvciB0aGUgXCJpbWFnZXNcIiBhcnJheSB0aGF0IGNvbnRhaW5zIGRhdGEgc3RvcmVkIGluIHJnYmEgY2hhbm5lbHMgb2YgdGhlIGltYWdlLlxuICBcbiAgICAgIHRleHR1cmUudGV4Q29vcmQgaXMgYSBudW1iZXItc3VmZml4IChsaWtlIDEpIGZvciBhbiBhdHRyaWJ1dGUgbGlrZSBcIlRFWENPT1JEXzFcIiBpbiBtZXNoZXMucHJpbWl0aXZlc1xuICAgICAgVGhlIHZhbHVlIG9mIFwiVEVYQ09PUkRfMVwiIGlzIGFuIGFjY2Vzc29yIHRoYXQgaXMgdXNlZCB0byBnZXQgY29vcmRpbmF0ZXMuXG4gICAgICBUaGVzZSBjb29yZGluYXRlcyBhcmUgYmVpbmcgdXNlZCB0byBnZXQgZGF0YSBmcm9tIHRoZSBpbWFnZS5cbiAgICAgIFxuICAgICAgRGVmYXVsdCBmb3IgdGV4dHVyZS50ZXhDb29yZCBpcyAwXG4gICAgICBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvM2QtdGlsZXMtbmV4dC9zcGVjaWZpY2F0aW9uLzIuMC9zY2hlbWEvdGV4dHVyZUluZm8uc2NoZW1hLmpzb25cbiAgICAqL1xuICAgIGNvbnN0IHRleENvb3JkQWNjZXNzb3JLZXkgPSBgVEVYQ09PUkRfJHt0ZXh0dXJlSW5mby50ZXhDb29yZCB8fCAwfWA7XG4gICAgY29uc3QgdGV4Q29vcmRBY2Nlc3NvckluZGV4ID0gcHJpbWl0aXZlLmF0dHJpYnV0ZXNbdGV4Q29vcmRBY2Nlc3NvcktleV07XG4gICAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gc2NlbmVncmFwaC5nZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IodGV4Q29vcmRBY2Nlc3NvckluZGV4KTtcbiAgICBjb25zdCBqc29uID0gc2NlbmVncmFwaC5nbHRmLmpzb247XG4gICAgY29uc3QgdGV4dHVyZUluZGV4ID0gdGV4dHVyZUluZm8uaW5kZXg7XG4gICAgY29uc3QgaW1hZ2VJbmRleCA9IGpzb24udGV4dHVyZXM/Llt0ZXh0dXJlSW5kZXhdPy5zb3VyY2U7XG4gICAgaWYgKHR5cGVvZiBpbWFnZUluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBtaW1lVHlwZSA9IGpzb24uaW1hZ2VzPy5baW1hZ2VJbmRleF0/Lm1pbWVUeXBlO1xuICAgICAgICBjb25zdCBwYXJzZWRJbWFnZSA9IHNjZW5lZ3JhcGguZ2x0Zi5pbWFnZXM/LltpbWFnZUluZGV4XTtcbiAgICAgICAgLy8gQ2hlY2tpbmcgZm9yIHdpZHRoIGlzIHRvIHByZXZlbnQgaGFuZGxpbmcgVW4tcHJvY2Vzc2VkIGltYWdlcyAoZS5nLiBbYW5hbHl6ZV0gc3RhZ2UsIHdoZXJlIGxvYWRJbWFnZXMgb3B0aW9uIGlzIHNldCB0byBmYWxzZSlcbiAgICAgICAgaWYgKHBhcnNlZEltYWdlICYmIHR5cGVvZiBwYXJzZWRJbWFnZS53aWR0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVEYXRhID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaW5kZXggKz0gMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0SW1hZ2VWYWx1ZUJ5Q29vcmRpbmF0ZXMocGFyc2VkSW1hZ2UsIG1pbWVUeXBlLCB0ZXh0dXJlQ29vcmRpbmF0ZXMsIGluZGV4LCB0ZXh0dXJlSW5mby5jaGFubmVscyk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZURhdGEucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZURhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtdO1xufVxuLyoqXG4gKiBQdXRzIHByb3BlcnR5IGRhdGEgdG8gYXR0cmlidXRlcy5cbiAqIEl0IGNyZWF0ZXMgY29ycmVzcG9uZGluZyBidWZmZXIsIGJ1ZmZlclZpZXcgYW5kIGFjY2Vzc29yXG4gKiBzbyB0aGUgZGF0YSBjYW4gYmUgYWNjZXNzZWQgbGlrZSByZWd1bGFyIGRhdGEgc3RvcmVkIGluIGJ1ZmZlcnMuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIFNjZW5lZ3JhcGggb2JqZWN0LlxuICogQHBhcmFtIGF0dHJpYnV0ZU5hbWUgLSBOYW1lIG9mIHRoZSBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0gcHJvcGVydHlEYXRhIC0gUHJvcGVydHkgZGF0YSB0byBzdG9yZS5cbiAqIEBwYXJhbSBmZWF0dXJlVGFibGUgLSBBcnJheSB3aGVyZSB1bmlxdWUgZGF0YSBmcm9tIHRoZSBwcm9wZXJ0eSBkYXRhIGFyZSBiZWluZyBzdG9yZWQuXG4gKiBAcGFyYW0gcHJpbWl0aXZlIC0gUHJpbWl0aXZlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByaW1pdGl2ZVByb3BlcnR5RGF0YVRvQXR0cmlidXRlcyhzY2VuZWdyYXBoLCBhdHRyaWJ1dGVOYW1lLCBwcm9wZXJ0eURhdGEsIGZlYXR1cmVUYWJsZSwgcHJpbWl0aXZlKSB7XG4gICAgLy8gTm8gcmVhc29uIHRvIGNyZWF0ZSBhbiBlbXB0eSBidWZmZXIgaWYgdGhlcmUgaXMgbm8gcHJvcGVydHkgZGF0YSB0byBzdG9yZS5cbiAgICBpZiAoIXByb3BlcnR5RGF0YT8ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLypcbiAgICAgIGZlYXR1cmVUYWJsZSB3aWxsIGNvbnRhaW4gdW5pcXVlIHZhbHVlcywgZS5nLlxuICAgICAgcHJvcGVydHlEYXRhID0gWzI0LCAzNSwgMjgsIDI0XVxuICAgICAgZmVhdHVyZVRhYmxlID0gWzI0LCAzNSwgMjhdXG4gICAgICBmZWF0dXJlSW5kaWNlcyB3aWxsIGNvbnRhaW4gaW5kaWNlcyB0aGF0IHJlZmVyIGZlYXR1cmVUZXh0dXJlVGFibGUsIGUuZy5cbiAgICAgIGZlYXR1cmVJbmRpY2VzID0gWzAsIDEsIDIsIDBdXG4gICAgKi9cbiAgICBjb25zdCBmZWF0dXJlSW5kaWNlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgdGV4ZWxEYXRhIG9mIHByb3BlcnR5RGF0YSkge1xuICAgICAgICBsZXQgaW5kZXggPSBmZWF0dXJlVGFibGUuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtID09PSB0ZXhlbERhdGEpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZlYXR1cmVUYWJsZS5wdXNoKHRleGVsRGF0YSkgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGZlYXR1cmVJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCB0eXBlZEFycmF5ID0gbmV3IFVpbnQzMkFycmF5KGZlYXR1cmVJbmRpY2VzKTtcbiAgICBjb25zdCBidWZmZXJJbmRleCA9IHNjZW5lZ3JhcGguZ2x0Zi5idWZmZXJzLnB1c2goe1xuICAgICAgICBhcnJheUJ1ZmZlcjogdHlwZWRBcnJheS5idWZmZXIsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IHR5cGVkQXJyYXkuYnl0ZU9mZnNldCxcbiAgICAgICAgYnl0ZUxlbmd0aDogdHlwZWRBcnJheS5ieXRlTGVuZ3RoXG4gICAgfSkgLSAxO1xuICAgIGNvbnN0IGJ1ZmZlclZpZXdJbmRleCA9IHNjZW5lZ3JhcGguYWRkQnVmZmVyVmlldyh0eXBlZEFycmF5LCBidWZmZXJJbmRleCwgMCk7XG4gICAgY29uc3QgYWNjZXNzb3JJbmRleCA9IHNjZW5lZ3JhcGguYWRkQWNjZXNzb3IoYnVmZmVyVmlld0luZGV4LCB7XG4gICAgICAgIHNpemU6IDEsXG4gICAgICAgIGNvbXBvbmVudFR5cGU6IGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkodHlwZWRBcnJheSksXG4gICAgICAgIGNvdW50OiB0eXBlZEFycmF5Lmxlbmd0aFxuICAgIH0pO1xuICAgIHByaW1pdGl2ZS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID0gYWNjZXNzb3JJbmRleDtcbn1cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgZnJvbSB0aGUgdGV4dHVyZSBieSBjb29yZGluYXRlcyBwcm92aWRlZC5cbiAqIEBwYXJhbSBwYXJzZWRJbWFnZSAtIEltYWdlIHdoZXJlIHRoZSBkYXRhIGFyZSBzdG9yZWQuXG4gKiBAcGFyYW0gbWltZVR5cGUgLSBNSU1FIHR5cGUuXG4gKiBAcGFyYW0gdGV4dHVyZUNvb3JkaW5hdGVzIC0gdXYgY29vcmRpbmF0ZXMgdG8gYWNjZXNzIGRhdGEgaW4gdGhlIGltYWdlLlxuICogQHBhcmFtIGluZGV4IC0gSW5kZXggb2YgdXYgY29vcmRpbmF0ZXMgaW4gdGhlIGFycmF5IHRleHR1cmVDb29yZGluYXRlcy5cbiAqIEBwYXJhbSBjaGFubmVscyAtIEltYWdlIGNoYW5uZWxzIHdoZXJlIGRhdGEgYXJlIHN0b3JlZC5cbiAqICBDaGFubmVscyBvZiBhbiBSR0JBIHRleHR1cmUgYXJlIG51bWJlcmVkIDAuLjMgcmVzcGVjdGl2ZWx5LlxuICogIEZvciBFeHRfbWVzaF9mZWF0dXJlcyBhbmQgRVhUX3N0cnVjdXJhbF9tZXRhZGF0YSB0aGUgY2hhbm5lbHMgZGVmYXVsdCBpcyBbMF1cbiAqICBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvM2QtdGlsZXMtbmV4dC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX21lc2hfZmVhdHVyZXMvc2NoZW1hL2ZlYXR1cmVJZFRleHR1cmUuc2NoZW1hLmpzb25cbiAqICBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvM2QtdGlsZXMtbmV4dC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEvc2NoZW1hL3Byb3BlcnR5VGV4dHVyZS5wcm9wZXJ0eS5zY2hlbWEuanNvblxuICogQHJldHVybnMgVmFsdWUgdGFrZW4gZnJvbSB0aGUgaW1hZ2UuXG4gKi9cbmZ1bmN0aW9uIGdldEltYWdlVmFsdWVCeUNvb3JkaW5hdGVzKHBhcnNlZEltYWdlLCBtaW1lVHlwZSwgdGV4dHVyZUNvb3JkaW5hdGVzLCBpbmRleCwgY2hhbm5lbHMgPSBbMF0pIHtcbiAgICBjb25zdCBDSEFOTkVMU19NQVAgPSB7XG4gICAgICAgIHI6IHsgb2Zmc2V0OiAwLCBzaGlmdDogMCB9LFxuICAgICAgICBnOiB7IG9mZnNldDogMSwgc2hpZnQ6IDggfSxcbiAgICAgICAgYjogeyBvZmZzZXQ6IDIsIHNoaWZ0OiAxNiB9LFxuICAgICAgICBhOiB7IG9mZnNldDogMywgc2hpZnQ6IDI0IH1cbiAgICB9O1xuICAgIGNvbnN0IHUgPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaW5kZXhdO1xuICAgIGNvbnN0IHYgPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaW5kZXggKyAxXTtcbiAgICBsZXQgY29tcG9uZW50cyA9IDE7XG4gICAgaWYgKG1pbWVUeXBlICYmIChtaW1lVHlwZS5pbmRleE9mKCdpbWFnZS9qcGVnJykgIT09IC0xIHx8IG1pbWVUeXBlLmluZGV4T2YoJ2ltYWdlL3BuZycpICE9PSAtMSkpXG4gICAgICAgIGNvbXBvbmVudHMgPSA0O1xuICAgIGNvbnN0IG9mZnNldCA9IGNvb3JkaW5hdGVzVG9PZmZzZXQodSwgdiwgcGFyc2VkSW1hZ2UsIGNvbXBvbmVudHMpO1xuICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgZm9yIChjb25zdCBjIG9mIGNoYW5uZWxzKSB7XG4gICAgICAgIC8qXG4gICAgICAgIEFjY29yZGluZyB0byB0aGUgRVhUX2ZlYXR1cmVfbWV0YWRhdGEgZXh0ZW5zaW9uIHNwZWNpZmljYXRpb246XG4gICAgICAgICAgQ2hhbm5lbHMgYXJlIGxhYmVsZWQgYnkgcmdiYSBhbmQgYXJlIHN3aXp6bGVkIHdpdGggYSBzdHJpbmcgb2YgMS00IGNoYXJhY3RlcnMuXG4gICAgICAgIEFjY29yZGluZyB0byB0aGUgRVhUX21lc2hfZmVhdHVyZXMgZXh0ZW5zaW9uIHNwZWNpZmljYXRpb246XG4gICAgICAgICAgVGhlIGNoYW5uZWxzIGFycmF5IGNvbnRhaW5zIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGNoYW5uZWxzIG9mIHRoZSBzb3VyY2UgdGV4dHVyZSB0aGF0IHRoZSBmZWF0dXJlIElEIGNvbnNpc3RzIG9mLlxuICAgICAgICAgIENoYW5uZWxzIG9mIGFuIFJHQkEgdGV4dHVyZSBhcmUgbnVtYmVyZWQgMOKAkzMgcmVzcGVjdGl2ZWx5LlxuICAgICAgICBGdW5jdGlvbiBnZXRJbWFnZVZhbHVlQnlDb29yZGluYXRlcyBpcyB1c2VkIHRvIHByb2Nlc3MgYm90aCBleHRlbnNpb25zLlxuICAgICAgICBTbywgdGhlcmUgc2hvdWxkIGJlIHBvc3NpYmxlIHRvIGdldCB0aGUgZWxlbWVudCBvZiBDSEFOTkVMU19NQVAgYnkgZWl0aGVyIGluZGV4ICgwLCAxLCAyLCAzKSBvciBrZXkgKHIsIGcsIGIsIGEpLlxuICAgICAgICAqL1xuICAgICAgICBjb25zdCBtYXAgPSB0eXBlb2YgYyA9PT0gJ251bWJlcicgPyBPYmplY3QudmFsdWVzKENIQU5ORUxTX01BUClbY10gOiBDSEFOTkVMU19NQVBbY107XG4gICAgICAgIGNvbnN0IGltYWdlT2Zmc2V0ID0gb2Zmc2V0ICsgbWFwLm9mZnNldDtcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gZ2V0SW1hZ2VEYXRhKHBhcnNlZEltYWdlKTtcbiAgICAgICAgaWYgKGltYWdlRGF0YS5kYXRhLmxlbmd0aCA8PSBpbWFnZU9mZnNldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2ltYWdlRGF0YS5kYXRhLmxlbmd0aH0gPD0gJHtpbWFnZU9mZnNldH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbWFnZVZhbHVlID0gaW1hZ2VEYXRhLmRhdGFbaW1hZ2VPZmZzZXRdO1xuICAgICAgICB2YWx1ZSB8PSBpbWFnZVZhbHVlIDw8IG1hcC5zaGlmdDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIG9mZnNldCBpbiB0aGUgaW1hZ2Ugd2hlcmUgdGhlIGRhdGEgYXJlIHN0b3JlZC5cbiAqIEBwYXJhbSB1IC0gdS1jb29yZGluYXRlLlxuICogQHBhcmFtIHYgLSB2LWNvb3JkaW5hdGUuXG4gKiBAcGFyYW0gcGFyc2VkSW1hZ2UgLSBJbWFnZSB3aGVyZSB0aGUgZGF0YSBhcmUgc3RvcmVkLlxuICogQHBhcmFtIGNvbXBvbmVudHNDb3VudCAtIE51bWJlciBvZiBjb21wb25lbnRzIHRoZSBkYXRhIGNvbnNpc3RzIG9mLlxuICogQHJldHVybnMgT2Zmc2V0IGluIHRoZSBpbWFnZSB3aGVyZSB0aGUgZGF0YSBhcmUgc3RvcmVkLlxuICovXG5mdW5jdGlvbiBjb29yZGluYXRlc1RvT2Zmc2V0KHUsIHYsIHBhcnNlZEltYWdlLCBjb21wb25lbnRzQ291bnQgPSAxKSB7XG4gICAgY29uc3QgdyA9IHBhcnNlZEltYWdlLndpZHRoO1xuICAgIGNvbnN0IGlYID0gZW1vZCh1KSAqICh3IC0gMSk7XG4gICAgY29uc3QgaW5kWCA9IE1hdGgucm91bmQoaVgpO1xuICAgIGNvbnN0IGggPSBwYXJzZWRJbWFnZS5oZWlnaHQ7XG4gICAgY29uc3QgaVkgPSBlbW9kKHYpICogKGggLSAxKTtcbiAgICBjb25zdCBpbmRZID0gTWF0aC5yb3VuZChpWSk7XG4gICAgY29uc3QgY29tcG9uZW50cyA9IHBhcnNlZEltYWdlLmNvbXBvbmVudHMgPyBwYXJzZWRJbWFnZS5jb21wb25lbnRzIDogY29tcG9uZW50c0NvdW50O1xuICAgIC8vIGNvbXBvbmVudHMgaXMgYSBudW1iZXIgb2YgY2hhbm5lbHMgaW4gdGhlIGltYWdlXG4gICAgY29uc3Qgb2Zmc2V0ID0gKGluZFkgKiB3ICsgaW5kWCkgKiBjb21wb25lbnRzO1xuICAgIHJldHVybiBvZmZzZXQ7XG59XG4vKipcbiAqIFBhcnNlcyB2YXJpYWJsZS1sZW5ndGggYXJyYXkgZGF0YS5cbiAqIEluIHRoaXMgY2FzZSBldmVyeSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgaW4gdGhlIHRhYmxlIHdpbGwgYmUgYW4gYXJyYXlcbiAqIG9mIGFyYml0cmFyeSBsZW5ndGguXG4gKiBAcGFyYW0gdmFsdWVzRGF0YSAtIFZhbHVlcyBpbiBhIGZsYXQgdHlwZWQgYXJyYXkuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIE51bWJlciBvZiByb3dzIGluIHRoZSBwcm9wZXJ0eSB0YWJsZS5cbiAqIEBwYXJhbSBhcnJheU9mZnNldHMgLSBPZmZzZXRzIG9mIG5lc3RlZCBhcnJheXMgaW4gdGhlIGZsYXQgdmFsdWVzIGFycmF5LlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlc0xlbmd0aCAtIERhdGEgYnl0ZSBsZW5ndGguXG4gKiBAcGFyYW0gdmFsdWVTaXplIC0gVmFsdWUgc2l6ZSBpbiBieXRlcy5cbiAqIEByZXR1cm5zIEFycmF5IG9mIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVmFyaWFibGVMZW5ndGhBcnJheU51bWVyaWModmFsdWVzRGF0YSwgbnVtYmVyT2ZFbGVtZW50cywgYXJyYXlPZmZzZXRzLCB2YWx1ZXNEYXRhQnl0ZXNMZW5ndGgsIHZhbHVlU2l6ZSkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlQXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtYmVyT2ZFbGVtZW50czsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBhcnJheU9mZnNldCA9IGFycmF5T2Zmc2V0c1tpbmRleF07XG4gICAgICAgIGNvbnN0IGFycmF5Qnl0ZVNpemUgPSBhcnJheU9mZnNldHNbaW5kZXggKyAxXSAtIGFycmF5T2Zmc2V0c1tpbmRleF07XG4gICAgICAgIGlmIChhcnJheUJ5dGVTaXplICsgYXJyYXlPZmZzZXQgPiB2YWx1ZXNEYXRhQnl0ZXNMZW5ndGgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGVkQXJyYXlPZmZzZXQgPSBhcnJheU9mZnNldCAvIHZhbHVlU2l6ZTtcbiAgICAgICAgY29uc3QgZWxlbWVudENvdW50ID0gYXJyYXlCeXRlU2l6ZSAvIHZhbHVlU2l6ZTtcbiAgICAgICAgYXR0cmlidXRlVmFsdWVBcnJheS5wdXNoKHZhbHVlc0RhdGEuc2xpY2UodHlwZWRBcnJheU9mZnNldCwgdHlwZWRBcnJheU9mZnNldCArIGVsZW1lbnRDb3VudCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVBcnJheTtcbn1cbi8qKlxuICogUGFyc2VzIGZpeGVkLWxlbmd0aCBhcnJheSBkYXRhLlxuICogSW4gdGhpcyBjYXNlIGV2ZXJ5IHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBpbiB0aGUgdGFibGUgd2lsbCBiZSBhbiBhcnJheVxuICogb2YgY29uc3RhbnQgbGVuZ3RoIGVxdWFsIHRvIGBhcnJheUNvdW50YC5cbiAqIEBwYXJhbSB2YWx1ZXNEYXRhIC0gVmFsdWVzIGluIGEgZmxhdCB0eXBlZCBhcnJheS5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gTnVtYmVyIG9mIHJvd3MgaW4gdGhlIHByb3BlcnR5IHRhYmxlLlxuICogQHBhcmFtIGFycmF5Q291bnQgLSBOZXN0ZWQgYXJyYXlzIGxlbmd0aC5cbiAqIEByZXR1cm5zIEFycmF5IG9mIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRml4ZWRMZW5ndGhBcnJheU51bWVyaWModmFsdWVzRGF0YSwgbnVtYmVyT2ZFbGVtZW50cywgYXJyYXlDb3VudCkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlQXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtYmVyT2ZFbGVtZW50czsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50T2Zmc2V0ID0gaW5kZXggKiBhcnJheUNvdW50O1xuICAgICAgICBhdHRyaWJ1dGVWYWx1ZUFycmF5LnB1c2godmFsdWVzRGF0YS5zbGljZShlbGVtZW50T2Zmc2V0LCBlbGVtZW50T2Zmc2V0ICsgYXJyYXlDb3VudCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVBcnJheTtcbn1cbi8qKlxuICogRGVjb2RlcyBwcm9wZXJ0aWVzIG9mIHN0cmluZyB0eXBlIGZyb20gYmluYXJ5IHNvdXJjZS5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5IHRoYXQgcHJvcGVydHlUYWJsZVByb3BlcnR5IGNvbnRhaW5zLiBJdCdzIGEgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIHRhYmxlLlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlcyAtIERhdGEgdGFrZW4gZnJvbSB2YWx1ZXMgcHJvcGVydHkgb2YgdGhlIHByb3BlcnR5IHRhYmxlIHByb3BlcnR5LlxuICogQHBhcmFtIGFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcGFyYW0gc3RyaW5nT2Zmc2V0cyAtIEluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIG9mZnNldHMgZm9yIHN0cmluZ3MuIEl0IHNob3VsZCBiZSBhdmFpbGFibGUgZm9yIHN0cmluZyB0eXBlLlxuICogQHJldHVybnMgU3RyaW5nIHByb3BlcnR5IHZhbHVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcGVydHlEYXRhU3RyaW5nKG51bWJlck9mRWxlbWVudHMsIHZhbHVlc0RhdGFCeXRlcywgYXJyYXlPZmZzZXRzLCBzdHJpbmdPZmZzZXRzKSB7XG4gICAgaWYgKGFycmF5T2Zmc2V0cykge1xuICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgaXQgYXMgc29vbiBhcyB3ZSBoYXZlIHRoZSBjb3JyZXNwb25kaW5nIHRpbGVzZXRcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQgLSBhcnJheU9mZnNldHMgZm9yIHN0cmluZ3MgaXMgc3BlY2lmaWVkJyk7XG4gICAgfVxuICAgIGlmIChzdHJpbmdPZmZzZXRzKSB7XG4gICAgICAgIGNvbnN0IHN0cmluZ3NBcnJheSA9IFtdO1xuICAgICAgICBjb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpO1xuICAgICAgICBsZXQgc3RyaW5nT2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG51bWJlck9mRWxlbWVudHM7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ0J5dGVTaXplID0gc3RyaW5nT2Zmc2V0c1tpbmRleCArIDFdIC0gc3RyaW5nT2Zmc2V0c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc3RyaW5nQnl0ZVNpemUgKyBzdHJpbmdPZmZzZXQgPD0gdmFsdWVzRGF0YUJ5dGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0RhdGEgPSB2YWx1ZXNEYXRhQnl0ZXMuc3ViYXJyYXkoc3RyaW5nT2Zmc2V0LCBzdHJpbmdCeXRlU2l6ZSArIHN0cmluZ09mZnNldCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nQXR0cmlidXRlID0gdGV4dERlY29kZXIuZGVjb2RlKHN0cmluZ0RhdGEpO1xuICAgICAgICAgICAgICAgIHN0cmluZ3NBcnJheS5wdXNoKHN0cmluZ0F0dHJpYnV0ZSk7XG4gICAgICAgICAgICAgICAgc3RyaW5nT2Zmc2V0ICs9IHN0cmluZ0J5dGVTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzQXJyYXk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbiIsImltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IGdldFByaW1pdGl2ZVRleHR1cmVEYXRhIH0gZnJvbSBcIi4vdXRpbHMvM2QtdGlsZXMtdXRpbHMuanNcIjtcbmltcG9ydCB7IGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkgfSBmcm9tIFwiLi4vZ2x0Zi11dGlscy9nbHRmLXV0aWxzLmpzXCI7XG5jb25zdCBFWFRfTUVTSF9GRUFUVVJFU19OQU1FID0gJ0VYVF9tZXNoX2ZlYXR1cmVzJztcbmV4cG9ydCBjb25zdCBuYW1lID0gRVhUX01FU0hfRkVBVFVSRVNfTkFNRTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBkZWNvZGVFeHRNZXNoRmVhdHVyZXMoc2NlbmVncmFwaCwgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKGdsdGZEYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgZW5jb2RlRXh0TWVzaEZlYXR1cmVzKHNjZW5lZ3JhcGgsIG9wdGlvbnMpO1xuICAgIHNjZW5lZ3JhcGguY3JlYXRlQmluYXJ5Q2h1bmsoKTtcbiAgICByZXR1cm4gc2NlbmVncmFwaC5nbHRmO1xufVxuLyoqXG4gKiBEZWNvZGVzIGZlYXR1cmUgbWV0YWRhdGEgZnJvbSBleHRlbnNpb24uXG4gKiBAcGFyYW0ge0dMVEZTY2VuZWdyYXBofSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0ge0dMVEZMb2FkZXJPcHRpb25zfSBvcHRpb25zIC0gR0xURkxvYWRlciBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBkZWNvZGVFeHRNZXNoRmVhdHVyZXMoc2NlbmVncmFwaCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGpzb24gPSBzY2VuZWdyYXBoLmdsdGYuanNvbjtcbiAgICBpZiAoIWpzb24ubWVzaGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBtZXNoZXMvcHJpbWl0aXZlcy5cbiAgICBmb3IgKGNvbnN0IG1lc2ggb2YganNvbi5tZXNoZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmltaXRpdmUgb2YgbWVzaC5wcmltaXRpdmVzKSB7XG4gICAgICAgICAgICBwcm9jZXNzTWVzaFByaW1pdGl2ZUZlYXR1cmVzKHNjZW5lZ3JhcGgsIHByaW1pdGl2ZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFRha2VzIGRhdGEgZnJvbSBFWFRfbWVzaF9mZWF0dXJlcyBhbmQgc3RvcmUgaXQgaW4gJ2RhdGEnIHByb3BlcnR5IG9mIGZlYXR1cmVJZHMuXG4gKiBJZiBjb21iaW5lZCB3aXRoIEVYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhLCBjb3JyZXNwb25kaW5nIGRhdGEgYXJlIHRha2VuIGZyb20gdGhlIHByb3BlcnR5IHRhYmxlcyBvZiB0aGF0IGV4dGVuc2lvbi5cbiAqIEBwYXJhbSB7R0xURlNjZW5lZ3JhcGh9IHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSB7R0xURk1lc2hQcmltaXRpdmV9IHByaW1pdGl2ZSAtIFByaW1pdGl2ZSB0aGF0IGNvbnRhaW5zIGV4dGVuc2lvbnMuXG4gKiBAcGFyYW0ge0dMVEZMb2FkZXJPcHRpb25zfSBvcHRpb25zIC0gR0xURkxvYWRlciBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBwcm9jZXNzTWVzaFByaW1pdGl2ZUZlYXR1cmVzKHNjZW5lZ3JhcGgsIHByaW1pdGl2ZSwgb3B0aW9ucykge1xuICAgIC8vIFByb2Nlc3Npbmcgb2YgbWVzaCBwcmltaXRpdmUgZmVhdHVyZXMgcmVxdWlyZXMgYnVmZmVycyB0byBiZSBsb2FkZWQuXG4gICAgaWYgKCFvcHRpb25zPy5nbHRmPy5sb2FkQnVmZmVycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV4dGVuc2lvbiA9IHByaW1pdGl2ZS5leHRlbnNpb25zPy5bRVhUX01FU0hfRkVBVFVSRVNfTkFNRV07XG4gICAgY29uc3QgZmVhdHVyZUlkcyA9IGV4dGVuc2lvbj8uZmVhdHVyZUlkcztcbiAgICBpZiAoIWZlYXR1cmVJZHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGZlYXR1cmVJZCBvZiBmZWF0dXJlSWRzKSB7XG4gICAgICAgIGxldCBmZWF0dXJlSWREYXRhO1xuICAgICAgICAvLyBQcm9jZXNzIFwiRmVhdHVyZSBJRCBieSBWZXJ0ZXhcIlxuICAgICAgICBpZiAodHlwZW9mIGZlYXR1cmVJZC5hdHRyaWJ1dGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NvcktleSA9IGBfRkVBVFVSRV9JRF8ke2ZlYXR1cmVJZC5hdHRyaWJ1dGV9YDtcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc29ySW5kZXggPSBwcmltaXRpdmUuYXR0cmlidXRlc1thY2Nlc3NvcktleV07XG4gICAgICAgICAgICBmZWF0dXJlSWREYXRhID0gc2NlbmVncmFwaC5nZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IoYWNjZXNzb3JJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJvY2VzcyBcIkZlYXR1cmUgSUQgYnkgVGV4dHVyZSBDb29yZGluYXRlc1wiXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmZWF0dXJlSWQudGV4dHVyZSAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0aW9ucz8uZ2x0Zj8ubG9hZEltYWdlcykge1xuICAgICAgICAgICAgZmVhdHVyZUlkRGF0YSA9IGdldFByaW1pdGl2ZVRleHR1cmVEYXRhKHNjZW5lZ3JhcGgsIGZlYXR1cmVJZC50ZXh0dXJlLCBwcmltaXRpdmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb2Nlc3MgXCJGZWF0dXJlIElEIGJ5IEluZGV4XCJcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgV2hlbiBib3RoIGZlYXR1cmVJZC5hdHRyaWJ1dGUgYW5kIGZlYXR1cmVJZC50ZXh0dXJlIGFyZSB1bmRlZmluZWQsXG4gICAgICAgICAgICB0aGVuIHRoZSBmZWF0dXJlIElEIHZhbHVlIGZvciBlYWNoIHZlcnRleCBpcyBnaXZlbiBpbXBsaWNpdGx5LCB2aWEgdGhlIGluZGV4IG9mIHRoZSB2ZXJ0ZXguXG4gICAgICAgICAgICBJbiB0aGlzIGNhc2UsIHRoZSBmZWF0dXJlQ291bnQgbXVzdCBtYXRjaCB0aGUgbnVtYmVyIG9mIHZlcnRpY2VzIG9mIHRoZSBtZXNoIHByaW1pdGl2ZS5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBUT0RPOiBBdCB0aGUgbW9tZW50IG9mIHdyaXRpbmcgd2UgZG9uJ3QgaGF2ZSBhIHRpbGVzZXQgd2l0aCB0aGUgZGF0YSBvZiB0aGF0IGtpbmQuIEltcGxlbWVudCBpdCBsYXRlci5cbiAgICAgICAgICAgIGZlYXR1cmVJZERhdGEgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBmZWF0dXJlSWQuZGF0YSA9IGZlYXR1cmVJZERhdGE7XG4gICAgfVxufVxuLypcbiAgRW5jb2RpbmcgZGF0YVxuKi9cbmZ1bmN0aW9uIGVuY29kZUV4dE1lc2hGZWF0dXJlcyhzY2VuZWdyYXBoLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbWVzaGVzID0gc2NlbmVncmFwaC5nbHRmLmpzb24ubWVzaGVzO1xuICAgIGlmICghbWVzaGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBtZXNoZXMvcHJpbWl0aXZlcy5cbiAgICBmb3IgKGNvbnN0IG1lc2ggb2YgbWVzaGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIG1lc2gucHJpbWl0aXZlcykge1xuICAgICAgICAgICAgZW5jb2RlRXh0TWVzaEZlYXR1cmVzRm9yUHJpbWl0aXZlKHNjZW5lZ3JhcGgsIHByaW1pdGl2ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgRXh0TWVzaEZlYXR1cmVzLCBjcmVhdGVzIGEgZmVhdHVyZUlkIGNvbnRhaW5pbmcgZmVhdHVyZSBpZHMgcHJvdmlkZWQuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIHByaW1pdGl2ZSAtIHRhcmdldCBwcmltaXRpdmUgaW5zdGFuY2UgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGV4dGVuc2lvblxuICogQHBhcmFtIGZlYXR1cmVJZEFycmF5IC0gQXJyYXkgb2YgZmVhdHVyZSBpZFxuICogQHBhcmFtIHByb3BlcnR5VGFibGVJbmRleCAtIGluZGV4IG9mIHRoZSBwcm9wZXJ0eSB0YWJsZSBjcmVhdGVkIGJ5IHRoZSBFeHRTdHJ1Y3R1cmFsTWV0YWRhdGEgKG9wdGlvbmFsKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4dE1lc2hGZWF0dXJlcyhzY2VuZWdyYXBoLCBwcmltaXRpdmUsIGZlYXR1cmVJZEFycmF5LCBwcm9wZXJ0eVRhYmxlSW5kZXgpIHtcbiAgICBpZiAoIXByaW1pdGl2ZS5leHRlbnNpb25zKSB7XG4gICAgICAgIHByaW1pdGl2ZS5leHRlbnNpb25zID0ge307XG4gICAgfVxuICAgIGxldCBleHRlbnNpb24gPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1tFWFRfTUVTSF9GRUFUVVJFU19OQU1FXTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICBleHRlbnNpb24gPSB7IGZlYXR1cmVJZHM6IFtdIH07XG4gICAgICAgIHByaW1pdGl2ZS5leHRlbnNpb25zW0VYVF9NRVNIX0ZFQVRVUkVTX05BTUVdID0gZXh0ZW5zaW9uO1xuICAgIH1cbiAgICBjb25zdCB7IGZlYXR1cmVJZHMgfSA9IGV4dGVuc2lvbjtcbiAgICBjb25zdCBmZWF0dXJlSWQgPSB7XG4gICAgICAgIGZlYXR1cmVDb3VudDogZmVhdHVyZUlkQXJyYXkubGVuZ3RoLFxuICAgICAgICBwcm9wZXJ0eVRhYmxlOiBwcm9wZXJ0eVRhYmxlSW5kZXgsXG4gICAgICAgIGRhdGE6IGZlYXR1cmVJZEFycmF5XG4gICAgfTtcbiAgICBmZWF0dXJlSWRzLnB1c2goZmVhdHVyZUlkKTtcbiAgICBzY2VuZWdyYXBoLmFkZE9iamVjdEV4dGVuc2lvbihwcmltaXRpdmUsIEVYVF9NRVNIX0ZFQVRVUkVTX05BTUUsIGV4dGVuc2lvbik7XG59XG4vKipcbiAqIEVuY29kZXMgYSBmZWF0dXJlIElEIHNldCB0byBleHRlbnNpb24uXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIHByaW1pdGl2ZSAtIFByaW1pdGl2ZSB0aGF0IHRoZSBkYXRhIGVuY29kZWQgYmVsb25ncyB0by5cbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2dsVEYvdHJlZS8zZC10aWxlcy1uZXh0L2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfbWVzaF9mZWF0dXJlc1xuICovXG5mdW5jdGlvbiBlbmNvZGVFeHRNZXNoRmVhdHVyZXNGb3JQcmltaXRpdmUoc2NlbmVncmFwaCwgcHJpbWl0aXZlKSB7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gcHJpbWl0aXZlLmV4dGVuc2lvbnM/LltFWFRfTUVTSF9GRUFUVVJFU19OQU1FXTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZlYXR1cmVJZHMgPSBleHRlbnNpb24uZmVhdHVyZUlkcztcbiAgICBmZWF0dXJlSWRzLmZvckVhY2goKGZlYXR1cmVJZCwgZWxlbWVudEluZGV4KSA9PiB7XG4gICAgICAgIGlmIChmZWF0dXJlSWQuZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgeyBhY2Nlc3NvcktleSwgaW5kZXggfSA9IGNyZWF0ZUFjY2Vzc29yS2V5KHByaW1pdGl2ZS5hdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVkQXJyYXkgPSBuZXcgVWludDMyQXJyYXkoZmVhdHVyZUlkLmRhdGEpO1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZmVhdHVyZUlkIG9iamVjdC5cbiAgICAgICAgICAgIC8vIEV2ZXJ5dGhpbmcgdGhhdCBjb3VsZCBjb21lIGZyb20gdGhlIG9yaWdpbmFsIGV4dGVuc2lvbiBpbiBjYXNlIG9mIHJvdW5kLXRyaXAgZGVjb2RlL2VuY29kZSBvcGVyYXRpb25zIHNob3VsZCBiZSBkZWxldGVkLlxuICAgICAgICAgICAgLy8gV2UgbmVlZCBtYWtlIHN1cmUgdGhlIGZlYXR1cmVJZCBvYmplY3QgaXMgY2xlYW4uXG4gICAgICAgICAgICBmZWF0dXJlSWRzW2VsZW1lbnRJbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZUNvdW50OiB0eXBlZEFycmF5Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eVRhYmxlOiBmZWF0dXJlSWQucHJvcGVydHlUYWJsZSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6IGluZGV4XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2NlbmVncmFwaC5nbHRmLmJ1ZmZlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgYXJyYXlCdWZmZXI6IHR5cGVkQXJyYXkuYnVmZmVyLFxuICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXQ6IHR5cGVkQXJyYXkuYnl0ZU9mZnNldCxcbiAgICAgICAgICAgICAgICBieXRlTGVuZ3RoOiB0eXBlZEFycmF5LmJ5dGVMZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyVmlld0luZGV4ID0gc2NlbmVncmFwaC5hZGRCdWZmZXJWaWV3KHR5cGVkQXJyYXkpO1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzb3JJbmRleCA9IHNjZW5lZ3JhcGguYWRkQWNjZXNzb3IoYnVmZmVyVmlld0luZGV4LCB7XG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlOiBnZXRDb21wb25lbnRUeXBlRnJvbUFycmF5KHR5cGVkQXJyYXkpLFxuICAgICAgICAgICAgICAgIGNvdW50OiB0eXBlZEFycmF5Lmxlbmd0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcmltaXRpdmUuYXR0cmlidXRlc1thY2Nlc3NvcktleV0gPSBhY2Nlc3NvckluZGV4O1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gYWNjZXNzb3Iga2V5IGZvciB0aGUgYXR0cmlidXRlIGFycmF5IHByb3ZpZGVkLlxuICogVGhlIGdlbmVyYXRlZCBrZXkgaGFzIGEgc3VmZml4IChudW1iZXIpIHRoYXQgaXMgdGhlIG5leHQgY29uc2VxdXRpdmUgaW4gdGhlIGxpc3Qgb2YgZXhpc3RpbmcgYWNjZXNzb3JzLlxuICogQHBhcmFtIGF0dHJpYnV0ZXMgLSBhdHRyaWJ1dGUgYXJyYXlcbiAqIEByZXR1cm5zIGFjY2Vzc29yIGtleSBhbmQgdGhlIGtleSBzdWZmaXggKG51bWJlcikgdXNlZCBpbiB0aGUga2V5LlxuICovXG5mdW5jdGlvbiBjcmVhdGVBY2Nlc3NvcktleShhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgcHJlZml4ID0gJ19GRUFUVVJFX0lEXyc7XG4gICAgLy8gU2VhcmNoIGZvciBhbGwgXCJfRkVBVFVSRV9JRF9uXCIgYXR0cmlidXJlcyBpbiB0aGUgcHJpbWl0aXZlIHByb3ZpZGVkIGlmIGFueS5cbiAgICAvLyBJZiB0aGVyZSBhcmUgc29tZSwgZS5nLiBcIl9GRUFUVVJFX0lEXzBcIiwgXCJfRkVBVFVSRV9JRF8xXCIsXG4gICAgLy8gd2Ugd2lsbCBhZGQgYSBuZXcgb25lIHdpdGggdGhlIG5hbWUgXCJfRkVBVFVSRV9JRF8yXCJcbiAgICBjb25zdCBhdHRycyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pbmRleE9mKHByZWZpeCkgPT09IDApO1xuICAgIGxldCBtYXggPSAtMTtcbiAgICBmb3IgKGNvbnN0IGEgb2YgYXR0cnMpIHtcbiAgICAgICAgY29uc3QgbiA9IE51bWJlcihhLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgIGlmIChuID4gbWF4KSB7XG4gICAgICAgICAgICBtYXggPSBuO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1heCsrO1xuICAgIGNvbnN0IGFjY2Vzc29yS2V5ID0gYCR7cHJlZml4fSR7bWF4fWA7XG4gICAgcmV0dXJuIHsgYWNjZXNzb3JLZXksIGluZGV4OiBtYXggfTtcbn1cbiIsImltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IGNvbnZlcnRSYXdCdWZmZXJUb01ldGFkYXRhQXJyYXksIGdldFByaW1pdGl2ZVRleHR1cmVEYXRhLCBwcmltaXRpdmVQcm9wZXJ0eURhdGFUb0F0dHJpYnV0ZXMsIGdldEFycmF5RWxlbWVudEJ5dGVTaXplLCBnZXRPZmZzZXRzRm9yUHJvcGVydHksIHBhcnNlVmFyaWFibGVMZW5ndGhBcnJheU51bWVyaWMsIHBhcnNlRml4ZWRMZW5ndGhBcnJheU51bWVyaWMsIGdldFByb3BlcnR5RGF0YVN0cmluZyB9IGZyb20gXCIuL3V0aWxzLzNkLXRpbGVzLXV0aWxzLmpzXCI7XG5jb25zdCBFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FID0gJ0VYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhJztcbmV4cG9ydCBjb25zdCBuYW1lID0gRVhUX1NUUlVDVFVSQUxfTUVUQURBVEFfTkFNRTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBkZWNvZGVFeHRTdHJ1Y3R1cmFsTWV0YWRhdGEoc2NlbmVncmFwaCwgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKGdsdGZEYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgZW5jb2RlRXh0U3RydWN0dXJhbE1ldGFkYXRhKHNjZW5lZ3JhcGgsIG9wdGlvbnMpO1xuICAgIHNjZW5lZ3JhcGguY3JlYXRlQmluYXJ5Q2h1bmsoKTtcbiAgICByZXR1cm4gc2NlbmVncmFwaC5nbHRmO1xufVxuLypcbi8vIEV4YW1wbGUgb2YgdGhlIGV4dGVuc2lvbi5cbi8vIFNlZSBtb3JlIGluZm8gYXQgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2dsVEYvdHJlZS8zZC10aWxlcy1uZXh0L2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfc3RydWN0dXJhbF9tZXRhZGF0YVxuY29uc3QgZXh0ZW5zaW9ucyA9IHtcbiAgXCJleHRlbnNpb25zXCI6IHtcbiAgICBcIkVYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhXCI6IHtcbiAgICAgIFwic2NoZW1hXCI6IHtcbiAgICAgICAgXCJjbGFzc2VzXCI6IHtcbiAgICAgICAgICBcInRyZWVcIjoge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVHJlZVwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIldvb2R5LCBwZXJlbm5pYWwgcGxhbnQuXCIsXG4gICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgICBcInNwZWNpZXNcIjoge1xuICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUeXBlIG9mIHRyZWUuXCIsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRU5VTVwiLFxuICAgICAgICAgICAgICAgIFwiZW51bVR5cGVcIjogXCJzcGVjaWVzRW51bVwiLFxuICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBcImFnZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBhZ2Ugb2YgdGhlIHRyZWUsIGluIHllYXJzXCIsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiU0NBTEFSXCIsXG4gICAgICAgICAgICAgICAgXCJjb21wb25lbnRUeXBlXCI6IFwiVUlOVDhcIixcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJlbnVtc1wiOiB7XG4gICAgICAgICAgXCJzcGVjaWVzRW51bVwiOiB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTcGVjaWVzXCIsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQW4gZXhhbXBsZSBlbnVtIGZvciB0cmVlIHNwZWNpZXMuXCIsXG4gICAgICAgICAgICAvLyB2YWx1ZVR5cGUgaXMgbm90IGRlZmluZWQgaGVyZS4gRGVmYXVsdCBpcyBcIlVJTlQxNlwiXG4gICAgICAgICAgICBcInZhbHVlc1wiOiBbXG4gICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiVW5zcGVjaWZpZWRcIiwgXCJ2YWx1ZVwiOiAwIH0sXG4gICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiT2FrXCIsIFwidmFsdWVcIjogMSB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJwcm9wZXJ0eVRhYmxlc1wiOiBbe1xuICAgICAgICBcIm5hbWVcIjogXCJ0cmVlX3N1cnZleV8yMDIxLTA5LTI5XCIsXG4gICAgICAgIFwiY2xhc3NcIjogXCJ0cmVlXCIsXG4gICAgICAgIFwiY291bnRcIjogMTAsICAvLyBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGVhY2ggcHJvcGVydHkgYXJyYXkgKGluIGBzcGVjaWVzYCwgaW4gYGFnZWApLlxuICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgIFwic3BlY2llc1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlc1wiOiAwLCAvLyBJdCdzIGFuIGluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiYWdlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1dXG4gICAgfVxuICB9XG59XG4qL1xuLyoqXG4gKiBEZWNvZGVzIGZlYXR1cmUgbWV0YWRhdGEgZnJvbSBleHRlbnNpb24uXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIG9wdGlvbnMgLSBHTFRGTG9hZGVyIG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGRlY29kZUV4dFN0cnVjdHVyYWxNZXRhZGF0YShzY2VuZWdyYXBoLCBvcHRpb25zKSB7XG4gICAgLy8gRGVjb2RpbmcgbWV0YWRhdGEgaW52b2x2ZXMgYnVmZmVycyBwcm9jZXNzaW5nLlxuICAgIC8vIFNvLCBpZiBidWZmZXJzIGhhdmUgbm90IGJlZW4gbG9hZGVkLCB0aGVyZSBpcyBubyByZWFzb24gdG8gcHJvY2VzcyBtZXRhZGF0YS5cbiAgICBpZiAoIW9wdGlvbnMuZ2x0Zj8ubG9hZEJ1ZmZlcnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBleHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldEV4dGVuc2lvbihFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FKTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmdsdGY/LmxvYWRJbWFnZXMpIHtcbiAgICAgICAgZGVjb2RlUHJvcGVydHlUZXh0dXJlcyhzY2VuZWdyYXBoLCBleHRlbnNpb24pO1xuICAgIH1cbiAgICBkZWNvZGVQcm9wZXJ0eVRhYmxlcyhzY2VuZWdyYXBoLCBleHRlbnNpb24pO1xufVxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSB0ZXh0dXJlc1xuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBleHRlbnNpb24gLSBUb3AtbGV2ZWwgZXh0ZW5zaW9uLlxuICovXG5mdW5jdGlvbiBkZWNvZGVQcm9wZXJ0eVRleHR1cmVzKHNjZW5lZ3JhcGgsIGV4dGVuc2lvbikge1xuICAgIGNvbnN0IHByb3BlcnR5VGV4dHVyZXMgPSBleHRlbnNpb24ucHJvcGVydHlUZXh0dXJlcztcbiAgICBjb25zdCBqc29uID0gc2NlbmVncmFwaC5nbHRmLmpzb247XG4gICAgaWYgKHByb3BlcnR5VGV4dHVyZXMgJiYganNvbi5tZXNoZXMpIHtcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBtZXNoZXMvcHJpbWl0aXZlcy5cbiAgICAgICAgZm9yIChjb25zdCBtZXNoIG9mIGpzb24ubWVzaGVzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiBtZXNoLnByaW1pdGl2ZXMpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzUHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlcyhzY2VuZWdyYXBoLCBwcm9wZXJ0eVRleHR1cmVzLCBwcmltaXRpdmUsIGV4dGVuc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFByb2Nlc3NlcyB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIHByb3BlcnR5IHRhYmxlcy5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gZXh0ZW5zaW9uIC0gVG9wLWxldmVsIGV4dGVuc2lvbi5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlUHJvcGVydHlUYWJsZXMoc2NlbmVncmFwaCwgZXh0ZW5zaW9uKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gZXh0ZW5zaW9uLnNjaGVtYTtcbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtYUNsYXNzZXMgPSBzY2hlbWEuY2xhc3NlcztcbiAgICBjb25zdCBwcm9wZXJ0eVRhYmxlcyA9IGV4dGVuc2lvbi5wcm9wZXJ0eVRhYmxlcztcbiAgICBpZiAoc2NoZW1hQ2xhc3NlcyAmJiBwcm9wZXJ0eVRhYmxlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHNjaGVtYU5hbWUgaW4gc2NoZW1hQ2xhc3Nlcykge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlUYWJsZSA9IGZpbmRQcm9wZXJ0eVRhYmxlQnlDbGFzcyhwcm9wZXJ0eVRhYmxlcywgc2NoZW1hTmFtZSk7XG4gICAgICAgICAgICBpZiAocHJvcGVydHlUYWJsZSkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NQcm9wZXJ0eVRhYmxlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgcHJvcGVydHlUYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEZpbmRzIHRoZSBwcm9wZXJ0eSB0YWJsZSBieSBjbGFzcyBuYW1lLlxuICogQHBhcmFtIHByb3BlcnR5VGFibGVzIC0gcHJvcGVydHlUYWJsZSBkZWZpbml0aW9uIHRha2VuIGZyb20gdGhlIHRvcC1sZXZlbCBleHRlbnNpb24uXG4gKiBAcGFyYW0gc2NoZW1hQ2xhc3NOYW1lIC0gY2xhc3MgbmFtZSBpbiB0aGUgZXh0ZW5zaW9uIHNjaGVtYS5cbiAqL1xuZnVuY3Rpb24gZmluZFByb3BlcnR5VGFibGVCeUNsYXNzKHByb3BlcnR5VGFibGVzLCBzY2hlbWFDbGFzc05hbWUpIHtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5VGFibGUgb2YgcHJvcGVydHlUYWJsZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5VGFibGUuY2xhc3MgPT09IHNjaGVtYUNsYXNzTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5VGFibGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFRha2VzIGRhdGEgZnJvbSBwcm9wZXJ0eSB0ZXh0dXJlcyByZWZmZXJlZCBieSB0aGUgcHJpbWl0aXZlLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRleHR1cmVzIC0gcHJvcGVydHlUZXh0dXJlIGRlZmluaXRpb24gdGFrZW4gZnJvbSB0aGUgdG9wLWxldmVsIGV4dGVudGlvbi5cbiAqIEBwYXJhbSBwcmltaXRpdmUgLSBQcmltaXRpdmUgb2JqZWN0LlxuICogQHBhcmFtIGV4dGVuc2lvbiAtIFRvcC1sZXZlbCBleHRlbnNpb24uXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NQcmltaXRpdmVQcm9wZXJ0eVRleHR1cmVzKHNjZW5lZ3JhcGgsIHByb3BlcnR5VGV4dHVyZXMsIHByaW1pdGl2ZSwgZXh0ZW5zaW9uKSB7XG4gICAgaWYgKCFwcm9wZXJ0eVRleHR1cmVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJpbWl0aXZlRXh0ZW5zaW9uID0gcHJpbWl0aXZlLmV4dGVuc2lvbnM/LltFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FXTtcbiAgICBjb25zdCBwcmltaXRpdmVQcm9wZXJ0eVRleHR1cmVJbmRpY2VzID0gcHJpbWl0aXZlRXh0ZW5zaW9uPy5wcm9wZXJ0eVRleHR1cmVzO1xuICAgIGlmICghcHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlSW5kaWNlcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgcHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlSW5kZXggb2YgcHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlSW5kaWNlcykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eVRleHR1cmUgPSBwcm9wZXJ0eVRleHR1cmVzW3ByaW1pdGl2ZVByb3BlcnR5VGV4dHVyZUluZGV4XTtcbiAgICAgICAgcHJvY2Vzc1ByaW1pdGl2ZVByb3BlcnR5VGV4dHVyZShzY2VuZWdyYXBoLCBwcm9wZXJ0eVRleHR1cmUsIHByaW1pdGl2ZSwgZXh0ZW5zaW9uKTtcbiAgICB9XG59XG4vKipcbiAqIFRha2VzIHByb3BlcnR5IGRhdGEgZnJvbSB0aGUgdGV4dHVyZSBwb2ludGVkIGJ5IHRoZSBwcmltaXRpdmUgYW5kIGFwcGVuZHMgdGhlbSB0byBgZXhlbnNpb24uZGF0YWAuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIHByb3BlcnR5VGV4dHVyZSAtIHByb3BlcnR5VGV4dHVyZSBkZWZpbml0aW9uIHRha2VuIGZyb20gdGhlIHRvcC1sZXZlbCBleHRlbnNpb24uXG4gKiBAcGFyYW0gcHJpbWl0aXZlIC0gUHJpbWl0aXZlIG9iamVjdC5cbiAqIEBwYXJhbSBleHRlbnNpb24gLSBUb3AtbGV2ZWwgZXh0ZW5zaW9uLlxuICovXG5mdW5jdGlvbiBwcm9jZXNzUHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlKHNjZW5lZ3JhcGgsIHByb3BlcnR5VGV4dHVyZSwgcHJpbWl0aXZlLCBleHRlbnNpb24pIHtcbiAgICBpZiAoIXByb3BlcnR5VGV4dHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFleHRlbnNpb24uZGF0YUF0dHJpYnV0ZU5hbWVzKSB7XG4gICAgICAgIGV4dGVuc2lvbi5kYXRhQXR0cmlidXRlTmFtZXMgPSBbXTtcbiAgICB9XG4gICAgLyogSXRlcmF0ZSB0aHJvdWdoIGFsbCBwcm9wZXJ0aWVzIGRlZmluZWQgaW4gcHJvcGVydHlUZXh0dXJlLCBlLmcuIFwic3BlZWRcIiBhbmQgXCJkaXJlY3Rpb25cIjpcbiAgICAgIHtcbiAgICAgICAgXCJjbGFzc1wiOiBcIndpbmRcIixcbiAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICBcInNwZWVkXCI6IHtcbiAgICAgICAgICAgIFwiaW5kZXhcIjogMCxcbiAgICAgICAgICAgIFwidGV4Q29vcmRcIjogMCxcbiAgICAgICAgICAgIFwiY2hhbm5lbHNcIjogWzBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRpcmVjdGlvblwiOiB7XG4gICAgICAgICAgICBcImluZGV4XCI6IDAsXG4gICAgICAgICAgICBcInRleENvb3JkXCI6IDAsXG4gICAgICAgICAgICBcImNoYW5uZWxzXCI6IFsxLCAyXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICovXG4gICAgY29uc3QgY2xhc3NOYW1lID0gcHJvcGVydHlUZXh0dXJlLmNsYXNzO1xuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIHByb3BlcnR5VGV4dHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8vIHByb3BlcnR5TmFtZSBoYXMgdmFsdWVzIGxpa2UgXCJzcGVlZFwiLCBcImRpcmVjdGlvblwiXG4gICAgICAgIC8vIE1ha2UgYXR0cmlidXRlTmFtZSBhcyBhIGNvbWJpbmF0aW9uIG9mIHRoZSBjbGFzcyBuYW1lIGFuZCB0aGUgcHJvcGVydHlOYW1lIGxpa2UgXCJ3aW5kX3NwZWVkXCIgb3IgXCJ3aW5kX2RpcmVjdGlvblwiXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBgJHtjbGFzc05hbWV9XyR7cHJvcGVydHlOYW1lfWA7XG4gICAgICAgIGNvbnN0IHRleHR1cmVJbmZvVG9wTGV2ZWwgPSBwcm9wZXJ0eVRleHR1cmUucHJvcGVydGllcz8uW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGlmICghdGV4dHVyZUluZm9Ub3BMZXZlbCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgZGF0YSB0YWtlbiBmcm9tIGFsbCBtZXNoZXMvcHJpbWl0aXZlcyAodGhlIHNhbWUgcHJvcGVydHksIGUuZy4gXCJzcGVlZFwiIG9yIFwiZGlyZWN0aW9uXCIpIHdpbGwgYmUgY29tYmluZWQgaW50byBvbmUgYXJyYXkgYW5kIHNhdmVkIGluIHRleHR1cmVJbmZvVG9wTGV2ZWwuZGF0YVxuICAgICAgICAvLyBJbml0aWFsbHkgdGV4dHVyZUluZm9Ub3BMZXZlbC5kYXRhIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhbiBlbXB0eSBhcnJheS5cbiAgICAgICAgaWYgKCF0ZXh0dXJlSW5mb1RvcExldmVsLmRhdGEpIHtcbiAgICAgICAgICAgIHRleHR1cmVJbmZvVG9wTGV2ZWwuZGF0YSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZlYXR1cmVUZXh0dXJlVGFibGUgPSB0ZXh0dXJlSW5mb1RvcExldmVsLmRhdGE7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5RGF0YSA9IGdldFByaW1pdGl2ZVRleHR1cmVEYXRhKHNjZW5lZ3JhcGgsIHRleHR1cmVJbmZvVG9wTGV2ZWwsIHByaW1pdGl2ZSk7XG4gICAgICAgIGlmIChwcm9wZXJ0eURhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJpbWl0aXZlUHJvcGVydHlEYXRhVG9BdHRyaWJ1dGVzKHNjZW5lZ3JhcGgsIGF0dHJpYnV0ZU5hbWUsIHByb3BlcnR5RGF0YSwgZmVhdHVyZVRleHR1cmVUYWJsZSwgcHJpbWl0aXZlKTtcbiAgICAgICAgdGV4dHVyZUluZm9Ub3BMZXZlbC5kYXRhID0gZmVhdHVyZVRleHR1cmVUYWJsZTtcbiAgICAgICAgZXh0ZW5zaW9uLmRhdGFBdHRyaWJ1dGVOYW1lcy5wdXNoKGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbn1cbi8qKlxuICogTmF2aWdhdGVzIHRocm91Z2ggYWxsIHByb3BlcmllcyBpbiB0aGUgcHJvcGVydHkgdGFibGUsIGdldHMgcHJvcGVydGllcyBkYXRhLFxuICogYW5kIHB1dCB0aGUgZGF0YSB0byBgcHJvcGVydHlUYWJsZS5kYXRhYCBhcyBhbiBhcnJheS5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gc2NoZW1hIC0gc2NoZW1hIG9iamVjdC5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlIC0gcHJvcGVydHlUYWJsZSBkZWZpbml0aW9uIHRha2VuIGZyb20gdGhlIHRvcC1sZXZlbCBleHRlbnNpb24uXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NQcm9wZXJ0eVRhYmxlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgcHJvcGVydHlUYWJsZSkge1xuICAgIGNvbnN0IHNjaGVtYUNsYXNzID0gc2NoZW1hLmNsYXNzZXM/Lltwcm9wZXJ0eVRhYmxlLmNsYXNzXTtcbiAgICBpZiAoIXNjaGVtYUNsYXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5jb3JyZWN0IGRhdGEgaW4gdGhlIEVYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhIGV4dGVuc2lvbjogbm8gc2NoZW1hIGNsYXNzIHdpdGggbmFtZSAke3Byb3BlcnR5VGFibGUuY2xhc3N9YCk7XG4gICAgfVxuICAgIGNvbnN0IG51bWJlck9mRWxlbWVudHMgPSBwcm9wZXJ0eVRhYmxlLmNvdW50OyAvLyBgcHJvcGVydHlUYWJsZS5jb3VudGAgaXMgYSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheS5cbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBzY2hlbWFDbGFzcy5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzUHJvcGVydHkgPSBzY2hlbWFDbGFzcy5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGNvbnN0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSA9IHByb3BlcnR5VGFibGUucHJvcGVydGllcz8uW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGlmIChwcm9wZXJ0eVRhYmxlUHJvcGVydHkpIHtcbiAgICAgICAgICAgIC8vIEdldHRpbmcgYWxsIGVsZW1lbnRzIChgbnVtYmVyT2ZFbGVtZW50c2ApIG9mIHRoZSBhcnJheSBpbiB0aGUgYHByb3BlcnR5VGFibGVQcm9wZXJ0eWBcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFGcm9tQmluYXJ5U291cmNlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgcHJvcGVydHlUYWJsZVByb3BlcnR5KTtcbiAgICAgICAgICAgIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5kYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGVjb2RlcyBhIHByb3BlcnR5VGFibGUgY29sdW1uIGZyb20gYmluYXJ5IHNvdXJjZSBiYXNlZCBvbiBwcm9wZXJ0eSB0eXBlLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBzY2hlbWEgLSBTY2hlbWEgb2JqZWN0LlxuICogQHBhcmFtIGNsYXNzUHJvcGVydHkgLSBjbGFzcyBwcm9wZXJ0eSBvYmplY3QuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheSB0aGF0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSBjb250YWlucy4gSXQncyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZS5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgLSBwcm9wZXJ0eVRhYmxlJ3MgcHJvcGVydHkgbWV0YWRhdGEuXG4gKiBAcmV0dXJucyB7c3RyaW5nW10gfCBudW1iZXJbXSB8IHN0cmluZ1tdW10gfCBudW1iZXJbXVtdfVxuICovXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eURhdGFGcm9tQmluYXJ5U291cmNlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgcHJvcGVydHlUYWJsZVByb3BlcnR5KSB7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICBjb25zdCB2YWx1ZXNCdWZmZXJWaWV3ID0gcHJvcGVydHlUYWJsZVByb3BlcnR5LnZhbHVlcztcbiAgICBjb25zdCB2YWx1ZXNEYXRhQnl0ZXMgPSBzY2VuZWdyYXBoLmdldFR5cGVkQXJyYXlGb3JCdWZmZXJWaWV3KHZhbHVlc0J1ZmZlclZpZXcpO1xuICAgIGNvbnN0IGFycmF5T2Zmc2V0cyA9IGdldEFycmF5T2Zmc2V0c0ZvclByb3BlcnR5KHNjZW5lZ3JhcGgsIGNsYXNzUHJvcGVydHksIHByb3BlcnR5VGFibGVQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cyk7XG4gICAgY29uc3Qgc3RyaW5nT2Zmc2V0cyA9IGdldFN0cmluZ09mZnNldHNGb3JQcm9wZXJ0eShzY2VuZWdyYXBoLCBwcm9wZXJ0eVRhYmxlUHJvcGVydHksIG51bWJlck9mRWxlbWVudHMpO1xuICAgIHN3aXRjaCAoY2xhc3NQcm9wZXJ0eS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ1NDQUxBUic6XG4gICAgICAgIGNhc2UgJ1ZFQzInOlxuICAgICAgICBjYXNlICdWRUMzJzpcbiAgICAgICAgY2FzZSAnVkVDNCc6XG4gICAgICAgIGNhc2UgJ01BVDInOlxuICAgICAgICBjYXNlICdNQVQzJzpcbiAgICAgICAgY2FzZSAnTUFUNCc6IHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFOdW1lcmljKGNsYXNzUHJvcGVydHksIG51bWJlck9mRWxlbWVudHMsIHZhbHVlc0RhdGFCeXRlcywgYXJyYXlPZmZzZXRzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0JPT0xFQU4nOiB7XG4gICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgaXQgYXMgc29vbiBhcyB3ZSBoYXZlIHRoZSBjb3JyZXNwb25kaW5nIHRpbGVzZXRcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IGltcGxlbWVudGVkIC0gY2xhc3NQcm9wZXJ0eS50eXBlPSR7Y2xhc3NQcm9wZXJ0eS50eXBlfWApO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1NUUklORyc6IHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFTdHJpbmcobnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMsIHN0cmluZ09mZnNldHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnRU5VTSc6IHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFFTlVNKHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjbGFzc1Byb3BlcnR5IHR5cGUgJHtjbGFzc1Byb3BlcnR5LnR5cGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuLyoqXG4gKiBQYXJzZXMgcHJvcGVydHlUYWJsZS5wcm9wZXJ0eS5hcnJheU9mZnNldHMgdGhhdCBhcmUgb2Zmc2V0cyBvZiBzdWItYXJyYXlzIGluIGEgZmxhdHRlbiBhcnJheSBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIGNsYXNzUHJvcGVydHkgLSBjbGFzcyBwcm9wZXJ0eSBvYmplY3QuXG4gKiBAcGFyYW0gcHJvcGVydHlUYWJsZVByb3BlcnR5IC0gcHJvcGVydHlUYWJsZSdzIHByb3BlcnR5IG1ldGFkYXRhLlxuICogQHBhcmFtIG51bWJlck9mRWxlbWVudHMgLSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGVhY2ggcHJvcGVydHkgYXJyYXkgdGhhdCBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgY29udGFpbnMuIEl0J3MgYSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdGFibGUuXG4gKiBAcmV0dXJucyBUeXBlZCBhcnJheSB3aXRoIG9mZnNldCB2YWx1ZXMuXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvMjk3NmYxMTgzMzQzYTQ3YTI5ZTQwNTlhNzA5NjEzNzFjZDJmY2VlOC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEvc2NoZW1hL3Byb3BlcnR5VGFibGUucHJvcGVydHkuc2NoZW1hLmpzb24jTDIxXG4gKi9cbmZ1bmN0aW9uIGdldEFycmF5T2Zmc2V0c0ZvclByb3BlcnR5KHNjZW5lZ3JhcGgsIGNsYXNzUHJvcGVydHksIHByb3BlcnR5VGFibGVQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cykge1xuICAgIGlmIChjbGFzc1Byb3BlcnR5LmFycmF5ICYmXG4gICAgICAgIC8vIGBjb3VudGAgaXMgYSBudW1iZXIgb2YgYXJyYXkgZWxlbWVudHMuIE1heSBvbmx5IGJlIGRlZmluZWQgd2hlbiBgYXJyYXlgIGlzIHRydWUuXG4gICAgICAgIC8vIElmIGBjb3VudGAgaXMgTk9UIGRlZmluZWQsIGl0J3MgYSBWQVJJQUJMRS1sZW5ndGggYXJyYXlcbiAgICAgICAgdHlwZW9mIGNsYXNzUHJvcGVydHkuY291bnQgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIC8vIGBhcnJheU9mZnNldHNgIGlzIGFuIGluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIG9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuXG4gICAgICAgIHR5cGVvZiBwcm9wZXJ0eVRhYmxlUHJvcGVydHkuYXJyYXlPZmZzZXRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBEYXRhIGFyZSBpbiBhIFZBUklBQkxFLWxlbmd0aCBhcnJheVxuICAgICAgICByZXR1cm4gZ2V0T2Zmc2V0c0ZvclByb3BlcnR5KHNjZW5lZ3JhcGgsIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5hcnJheU9mZnNldHMsIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5hcnJheU9mZnNldFR5cGUgfHwgJ1VJTlQzMicsIG51bWJlck9mRWxlbWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUGFyc2VzIHByb3BlcnR5VGFibGUucHJvcGVydHkuc3RyaW5nT2Zmc2V0cy5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gcHJvcGVydHlUYWJsZVByb3BlcnR5IC0gcHJvcGVydHlUYWJsZSdzIHByb3BlcnR5IG1ldGFkYXRhLlxuICogQHBhcmFtIG51bWJlck9mRWxlbWVudHMgLSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGVhY2ggcHJvcGVydHkgYXJyYXkgdGhhdCBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgY29udGFpbnMuIEl0J3MgYSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdGFibGUuXG4gKiBAcmV0dXJucyBUeXBlZCBhcnJheSB3aXRoIG9mZnNldCB2YWx1ZXMuXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvMjk3NmYxMTgzMzQzYTQ3YTI5ZTQwNTlhNzA5NjEzNzFjZDJmY2VlOC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEvc2NoZW1hL3Byb3BlcnR5VGFibGUucHJvcGVydHkuc2NoZW1hLmpzb24jTDI5QzEwLUwyOUMyM1xuICovXG5mdW5jdGlvbiBnZXRTdHJpbmdPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgcHJvcGVydHlUYWJsZVByb3BlcnR5LCBudW1iZXJPZkVsZW1lbnRzKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0eVRhYmxlUHJvcGVydHkuc3RyaW5nT2Zmc2V0cyAhPT0gJ3VuZGVmaW5lZCcgLy8gYHN0cmluZ09mZnNldHNgIGlzIGFuIGluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIG9mZnNldHMgZm9yIHN0cmluZ3MuXG4gICAgKSB7XG4gICAgICAgIC8vIERhdGEgYXJlIGluIGEgRklYRUQtbGVuZ3RoIGFycmF5XG4gICAgICAgIHJldHVybiBnZXRPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgcHJvcGVydHlUYWJsZVByb3BlcnR5LnN0cmluZ09mZnNldHMsIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5zdHJpbmdPZmZzZXRUeXBlIHx8ICdVSU5UMzInLCBudW1iZXJPZkVsZW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIERlY29kZXMgcHJvcGVydGllcyBvZiBTQ0FMQVIsIFZFQy1OLCBNQVQtTiB0eXBlcyBmcm9tIGJpbmFyeSBzb3Vyc2UuXG4gKiBAcGFyYW0gY2xhc3NQcm9wZXJ0eSAtIGNsYXNzIHByb3BlcnR5IG9iamVjdC5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5IHRoYXQgcHJvcGVydHlUYWJsZVByb3BlcnR5IGNvbnRhaW5zLiBJdCdzIGEgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIHRhYmxlLlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlcyAtIERhdGEgdGFrZW4gZnJvbSB2YWx1ZXMgcHJvcGVydHkgb2YgdGhlIHByb3BlcnR5IHRhYmxlIHByb3BlcnR5LlxuICogQHBhcmFtIGFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcmV0dXJucyBQcm9wZXJ0eSB2YWx1ZXMgaW4gYSB0eXBlZCBhcnJheSBvciBpbiBhbiBhcnJheSBvZiB0eXBlZCBhcnJheXMuXG4gKi9cbmZ1bmN0aW9uIGdldFByb3BlcnR5RGF0YU51bWVyaWMoY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMpIHtcbiAgICBjb25zdCBpc0FycmF5ID0gY2xhc3NQcm9wZXJ0eS5hcnJheTtcbiAgICBjb25zdCBhcnJheUNvdW50ID0gY2xhc3NQcm9wZXJ0eS5jb3VudDtcbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IGdldEFycmF5RWxlbWVudEJ5dGVTaXplKGNsYXNzUHJvcGVydHkudHlwZSwgY2xhc3NQcm9wZXJ0eS5jb21wb25lbnRUeXBlKTtcbiAgICBjb25zdCBlbGVtZW50Q291bnQgPSB2YWx1ZXNEYXRhQnl0ZXMuYnl0ZUxlbmd0aCAvIGVsZW1lbnRTaXplO1xuICAgIGxldCB2YWx1ZXNEYXRhO1xuICAgIGlmIChjbGFzc1Byb3BlcnR5LmNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgdmFsdWVzRGF0YSA9IGNvbnZlcnRSYXdCdWZmZXJUb01ldGFkYXRhQXJyYXkodmFsdWVzRGF0YUJ5dGVzLCBjbGFzc1Byb3BlcnR5LnR5cGUsIFxuICAgICAgICAvLyBUaGUgZGF0YXR5cGUgb2YgdGhlIGVsZW1lbnQncyBjb21wb25lbnRzLiBPbmx5IGFwcGxpY2FibGUgdG8gYFNDQUxBUmAsIGBWRUNOYCwgYW5kIGBNQVROYCB0eXBlcy5cbiAgICAgICAgY2xhc3NQcm9wZXJ0eS5jb21wb25lbnRUeXBlLCBlbGVtZW50Q291bnQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVGhlIHNwZWMgZG9lc24ndCBwcm92aWRlIGFueSBpbmZvIHdoYXQgdG8gZG8gaWYgY29tcG9uZW50VHlwZSBpcyBub3Qgc2V0LlxuICAgICAgICB2YWx1ZXNEYXRhID0gdmFsdWVzRGF0YUJ5dGVzO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheSkge1xuICAgICAgICBpZiAoYXJyYXlPZmZzZXRzKSB7XG4gICAgICAgICAgICAvLyBWQVJJQUJMRS1sZW5ndGggYXJyYXlcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVZhcmlhYmxlTGVuZ3RoQXJyYXlOdW1lcmljKHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5T2Zmc2V0cywgdmFsdWVzRGF0YUJ5dGVzLmxlbmd0aCwgZWxlbWVudFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcnJheUNvdW50KSB7XG4gICAgICAgICAgICAvLyBGSVhFRC1sZW5ndGggYXJyYXlcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZpeGVkTGVuZ3RoQXJyYXlOdW1lcmljKHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5Q291bnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlc0RhdGE7XG59XG4vKipcbiAqIERlY29kZXMgcHJvcGVydGllcyBvZiBlbnVtIHR5cGUgZnJvbSBiaW5hcnkgc291cmNlLlxuICogQHBhcmFtIHNjaGVtYSAtIFNjaGVtYSBvYmplY3QuXG4gKiBAcGFyYW0gY2xhc3NQcm9wZXJ0eSAtIENsYXNzIHByb3BlcnR5IG9iamVjdC5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5IHRoYXQgcHJvcGVydHlUYWJsZVByb3BlcnR5IGNvbnRhaW5zLiBJdCdzIGEgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIHRhYmxlLlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlcyAtIERhdGEgdGFrZW4gZnJvbSB2YWx1ZXMgcHJvcGVydHkgb2YgdGhlIHByb3BlcnR5IHRhYmxlIHByb3BlcnR5LlxuICogQHBhcmFtIGFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcmV0dXJucyBTdHJpbmdzIGFycmF5IG9mIG5lc3RlZCBzdHJpbmdzIGFycmF5LlxuICovXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eURhdGFFTlVNKHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMpIHtcbiAgICBjb25zdCBlbnVtVHlwZSA9IGNsYXNzUHJvcGVydHkuZW51bVR5cGU7XG4gICAgLy8gRW51bSBJRCBhcyBkZWNsYXJlZCBpbiB0aGUgYGVudW1zYCBkaWN0aW9uYXJ5LiBSZXF1aXJlZCB3aGVuIGB0eXBlYCBpcyBgRU5VTWAuXG4gICAgaWYgKCFlbnVtVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBkYXRhIGluIHRoZSBFWFRfc3RydWN0dXJhbF9tZXRhZGF0YSBleHRlbnNpb246IGNsYXNzUHJvcGVydHkuZW51bVR5cGUgaXMgbm90IHNldCBmb3IgdHlwZSBFTlVNJyk7XG4gICAgfVxuICAgIGNvbnN0IGVudW1FbnRyeSA9IHNjaGVtYS5lbnVtcz8uW2VudW1UeXBlXTtcbiAgICBpZiAoIWVudW1FbnRyeSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluY29ycmVjdCBkYXRhIGluIHRoZSBFWFRfc3RydWN0dXJhbF9tZXRhZGF0YSBleHRlbnNpb246IHNjaGVtYS5lbnVtcyBkb2VzJ3QgY29udGFpbiAke2VudW1UeXBlfWApO1xuICAgIH1cbiAgICBjb25zdCBlbnVtVmFsdWVUeXBlID0gZW51bUVudHJ5LnZhbHVlVHlwZSB8fCAnVUlOVDE2JztcbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IGdldEFycmF5RWxlbWVudEJ5dGVTaXplKGNsYXNzUHJvcGVydHkudHlwZSwgZW51bVZhbHVlVHlwZSk7XG4gICAgY29uc3QgZWxlbWVudENvdW50ID0gdmFsdWVzRGF0YUJ5dGVzLmJ5dGVMZW5ndGggLyBlbGVtZW50U2l6ZTtcbiAgICBsZXQgdmFsdWVzRGF0YSA9IGNvbnZlcnRSYXdCdWZmZXJUb01ldGFkYXRhQXJyYXkodmFsdWVzRGF0YUJ5dGVzLCBjbGFzc1Byb3BlcnR5LnR5cGUsIGVudW1WYWx1ZVR5cGUsIGVsZW1lbnRDb3VudCk7XG4gICAgaWYgKCF2YWx1ZXNEYXRhKSB7XG4gICAgICAgIHZhbHVlc0RhdGEgPSB2YWx1ZXNEYXRhQnl0ZXM7XG4gICAgfVxuICAgIGlmIChjbGFzc1Byb3BlcnR5LmFycmF5KSB7XG4gICAgICAgIGlmIChhcnJheU9mZnNldHMpIHtcbiAgICAgICAgICAgIC8vIFZBUklBQkxFLWxlbmd0aCBhcnJheVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVmFyaWFibGVMZW5ndGhBcnJheUVOVU0oe1xuICAgICAgICAgICAgICAgIHZhbHVlc0RhdGEsXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBhcnJheU9mZnNldHMsXG4gICAgICAgICAgICAgICAgdmFsdWVzRGF0YUJ5dGVzTGVuZ3RoOiB2YWx1ZXNEYXRhQnl0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGVsZW1lbnRTaXplLFxuICAgICAgICAgICAgICAgIGVudW1FbnRyeVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJyYXlDb3VudCA9IGNsYXNzUHJvcGVydHkuY291bnQ7XG4gICAgICAgIGlmIChhcnJheUNvdW50KSB7XG4gICAgICAgICAgICAvLyBGSVhFRC1sZW5ndGggYXJyYXlcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZpeGVkTGVuZ3RoQXJyYXlFTlVNKHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5Q291bnQsIGVudW1FbnRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvLyBTaW5nbGUgdmFsdWUgKG5vdCBhbiBhcnJheSlcbiAgICByZXR1cm4gZ2V0RW51bXNBcnJheSh2YWx1ZXNEYXRhLCAwLCBudW1iZXJPZkVsZW1lbnRzLCBlbnVtRW50cnkpO1xufVxuLyoqXG4gKiBQYXJzZXMgdmFyaWFibGUgbGVuZ3RoIG5lc3RlZCBFTlVNIGFycmF5cy5cbiAqIEBwYXJhbSBwYXJhbXMudmFsdWVzRGF0YSAtIFZhbHVlcyBpbiBhIGZsYXQgdHlwZWQgYXJyYXkuXG4gKiBAcGFyYW0gcGFyYW1zLm51bWJlck9mRWxlbWVudHMgLSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGVhY2ggcHJvcGVydHkgYXJyYXkgdGhhdCBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgY29udGFpbnMuIEl0J3MgYSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdGFibGUuXG4gKiBAcGFyYW0gcGFyYW1zLmFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcGFyYW0gcGFyYW1zLnZhbHVlc0RhdGFCeXRlc0xlbmd0aCAtIEJ5dGUgbGVuZ3RoIG9mIHZhbHVlcyBhcnJheS5cbiAqIEBwYXJhbSBwYXJhbXMuZWxlbWVudFNpemUgLSBTaW5nbGUgZWxlbWVudCBieXRlIHNpemUuXG4gKiBAcGFyYW0gcGFyYW1zLmVudW1FbnRyeSAtIEVudW1zIGRpY3Rpb25hcnkuXG4gKiBAcmV0dXJucyBOZXN0ZWQgc3RyaW5ncyBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VWYXJpYWJsZUxlbmd0aEFycmF5RU5VTShwYXJhbXMpIHtcbiAgICBjb25zdCB7IHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5T2Zmc2V0cywgdmFsdWVzRGF0YUJ5dGVzTGVuZ3RoLCBlbGVtZW50U2l6ZSwgZW51bUVudHJ5IH0gPSBwYXJhbXM7XG4gICAgY29uc3QgYXR0cmlidXRlVmFsdWVBcnJheSA9IFtdO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1iZXJPZkVsZW1lbnRzOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IGFycmF5T2Zmc2V0ID0gYXJyYXlPZmZzZXRzW2luZGV4XTtcbiAgICAgICAgY29uc3QgYXJyYXlCeXRlU2l6ZSA9IGFycmF5T2Zmc2V0c1tpbmRleCArIDFdIC0gYXJyYXlPZmZzZXRzW2luZGV4XTtcbiAgICAgICAgaWYgKGFycmF5Qnl0ZVNpemUgKyBhcnJheU9mZnNldCA+IHZhbHVlc0RhdGFCeXRlc0xlbmd0aCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHlwZWRBcnJheU9mZnNldCA9IGFycmF5T2Zmc2V0IC8gZWxlbWVudFNpemU7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRDb3VudCA9IGFycmF5Qnl0ZVNpemUgLyBlbGVtZW50U2l6ZTtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBnZXRFbnVtc0FycmF5KHZhbHVlc0RhdGEsIHR5cGVkQXJyYXlPZmZzZXQsIGVsZW1lbnRDb3VudCwgZW51bUVudHJ5KTtcbiAgICAgICAgYXR0cmlidXRlVmFsdWVBcnJheS5wdXNoKGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlQXJyYXk7XG59XG4vKipcbiAqIFBhcnNlcyBmaXhlZCBsZW5ndGggRU5VTSBhcnJheXMuXG4gKiBAcGFyYW0gdmFsdWVzRGF0YSAtIFZhbHVlcyBpbiBhIGZsYXQgdHlwZWQgYXJyYXkuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheSB0aGF0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSBjb250YWlucy4gSXQncyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZS5cbiAqIEBwYXJhbSBhcnJheUNvdW50IC0gTmVzdGVkIGFycmF5cyBsZW5ndGguXG4gKiBAcGFyYW0gZW51bUVudHJ5IC0gRW51bXMgZGljdGlvbmFyeS5cbiAqIEByZXR1cm5zIE5lc3RlZCBzdHJpbmdzIGFycmF5LlxuICovXG5mdW5jdGlvbiBwYXJzZUZpeGVkTGVuZ3RoQXJyYXlFTlVNKHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5Q291bnQsIGVudW1FbnRyeSkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlQXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtYmVyT2ZFbGVtZW50czsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50T2Zmc2V0ID0gYXJyYXlDb3VudCAqIGluZGV4O1xuICAgICAgICBjb25zdCBhcnJheSA9IGdldEVudW1zQXJyYXkodmFsdWVzRGF0YSwgZWxlbWVudE9mZnNldCwgYXJyYXlDb3VudCwgZW51bUVudHJ5KTtcbiAgICAgICAgYXR0cmlidXRlVmFsdWVBcnJheS5wdXNoKGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlQXJyYXk7XG59XG4vKipcbiAqIFBhcnNlcyBFTlVNIHZhbHVlcyBpbnRvIGEgc3RyaW5nIGFycmF5LlxuICogQHBhcmFtIHZhbHVlc0RhdGEgLSBWYWx1ZXMgaW4gYSBmbGF0IHR5cGVkIGFycmF5LlxuICogQHBhcmFtIG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBwYXJzZSBmcm9tLlxuICogQHBhcmFtIGNvdW50IC0gVmFsdWVzIGxlbmd0aCB0byBwYXJzZS5cbiAqIEBwYXJhbSBlbnVtRW50cnkgLSBFbnVtcyBkaWN0aW9uYXJ5LlxuICogQHJldHVybnMgQXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHBhcnNlZCBFTlVNIG5hbWVzLlxuICovXG5mdW5jdGlvbiBnZXRFbnVtc0FycmF5KHZhbHVlc0RhdGEsIG9mZnNldCwgY291bnQsIGVudW1FbnRyeSkge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIC8vIEF0IHRoZSBtb21lbnQgd2UgZG9uJ3Qgc3VwcG9ydCBCaWdJbnQuIEl0IHJlcXVpcmVzIGFkZGl0aW9uYWwgY2FsY3VsYXRpb25zIGxvZ2ljXG4gICAgICAgIC8vIGFuZCBtaWdodCBiZSBhbiBpc3N1ZSBpbiBTYWZhcmlcbiAgICAgICAgaWYgKHZhbHVlc0RhdGEgaW5zdGFuY2VvZiBCaWdJbnQ2NEFycmF5IHx8IHZhbHVlc0RhdGEgaW5zdGFuY2VvZiBCaWdVaW50NjRBcnJheSkge1xuICAgICAgICAgICAgYXJyYXkucHVzaCgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc0RhdGFbb2Zmc2V0ICsgaV07XG4gICAgICAgICAgICBjb25zdCBlbnVtT2JqZWN0ID0gZ2V0RW51bUJ5VmFsdWUoZW51bUVudHJ5LCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoZW51bU9iamVjdCkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZW51bU9iamVjdC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogTG9va3MgdXAgRU5VTSB3aG9zZSBgdmFsdWVgIHByb3BlcnR5IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBudW1iZXIgaW4gdGhlIHBhcmFtZXRlciBgdmFsdWVgLlxuICogQHBhcmFtIHtHTFRGX0VYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhX0VudW19IGVudW1FbnRyeSAtIEVOVU0gZW50cnkgY29udGFpbmluZyB0aGUgYXJyYXkgb2YgcG9zc2libGUgZW51bXMuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgdmFsdWUgb2YgdGhlIEVOVU0gdG8gbG9jYXRlLlxuICogQHJldHVybnMge0dMVEZfRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGFfRW51bVZhbHVlIHwgbnVsbH0gRU5VTSBtYXRjaWhuZyB0aGUgc3BlY2lmaWVkIHZhbHVlIG9yIG51bGwgb2Ygbm8gRU5VTSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBnZXRFbnVtQnlWYWx1ZShlbnVtRW50cnksIHZhbHVlKSB7XG4gICAgZm9yIChjb25zdCBlbnVtVmFsdWUgb2YgZW51bUVudHJ5LnZhbHVlcykge1xuICAgICAgICBpZiAoZW51bVZhbHVlLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGVudW1WYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IFNDSEVNQV9DTEFTU19JRF9ERUZBVUxUID0gJ3NjaGVtYUNsYXNzSWQnO1xuZnVuY3Rpb24gZW5jb2RlRXh0U3RydWN0dXJhbE1ldGFkYXRhKHNjZW5lZ3JhcGgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBleHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldEV4dGVuc2lvbihFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FKTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChleHRlbnNpb24ucHJvcGVydHlUYWJsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCB0YWJsZSBvZiBleHRlbnNpb24ucHJvcGVydHlUYWJsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzSWQgPSB0YWJsZS5jbGFzcztcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYUNsYXNzID0gZXh0ZW5zaW9uLnNjaGVtYT8uY2xhc3Nlcz8uW2NsYXNzSWRdO1xuICAgICAgICAgICAgaWYgKHRhYmxlLnByb3BlcnRpZXMgJiYgc2NoZW1hQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICBlbmNvZGVQcm9wZXJ0aWVzKHRhYmxlLCBzY2hlbWFDbGFzcywgc2NlbmVncmFwaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBlbmNvZGVQcm9wZXJ0aWVzKHRhYmxlLCBzY2hlbWFDbGFzcywgc2NlbmVncmFwaCkge1xuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIHRhYmxlLnByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRhYmxlLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5kYXRhO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NQcm9wZXJ0eSA9IHNjaGVtYUNsYXNzLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgIGlmIChjbGFzc1Byb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFibGVQcm9wZXJ0eSA9IGNyZWF0ZVByb3BlcnR5VGFibGVQcm9wZXJ0eShkYXRhLCBjbGFzc1Byb3BlcnR5LCBzY2VuZWdyYXBoKTtcbiAgICAgICAgICAgICAgICAvLyBPdmVycmlkZSB0YWJsZSBwcm9wZXJ0eSB0aGF0IGNhbWUgd2l0aCBcImRhdGFcIlxuICAgICAgICAgICAgICAgIHRhYmxlLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IHRhYmxlUHJvcGVydHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgRXh0U3RydWN0dXJhbE1ldGFkYXRhLCBjcmVhdGVzIHRoZSBzY2hlbWEgYW5kIGNyZWF0ZXMgYSBwcm9wZXJ0eSB0YWJsZSBjb250YWluaW5nIGZlYXR1cmUgZGF0YSBwcm92aWRlZC5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gcHJvcGVydHlBdHRyaWJ1dGVzIC0gcHJvcGVydHkgYXR0cmlidXRlc1xuICogQHBhcmFtIGNsYXNzSWQgLSBjbGFzc0lkIHRvIHVzZSBmb3IgZW5jb2RpbmcgbWV0YWRhdGEuXG4gKiBAcmV0dXJucyBJbmRleCBvZiB0aGUgdGFibGUgY3JlYXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4dFN0cnVjdHVyYWxNZXRhZGF0YShzY2VuZWdyYXBoLCBwcm9wZXJ0eUF0dHJpYnV0ZXMsIGNsYXNzSWQgPSBTQ0hFTUFfQ0xBU1NfSURfREVGQVVMVCkge1xuICAgIGxldCBleHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldEV4dGVuc2lvbihFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FKTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICBleHRlbnNpb24gPSBzY2VuZWdyYXBoLmFkZEV4dGVuc2lvbihFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FKTtcbiAgICB9XG4gICAgZXh0ZW5zaW9uLnNjaGVtYSA9IGNyZWF0ZVNjaGVtYShwcm9wZXJ0eUF0dHJpYnV0ZXMsIGNsYXNzSWQsIGV4dGVuc2lvbi5zY2hlbWEpO1xuICAgIGNvbnN0IHRhYmxlID0gY3JlYXRlUHJvcGVydHlUYWJsZShwcm9wZXJ0eUF0dHJpYnV0ZXMsIGNsYXNzSWQsIGV4dGVuc2lvbi5zY2hlbWEpO1xuICAgIGlmICghZXh0ZW5zaW9uLnByb3BlcnR5VGFibGVzKSB7XG4gICAgICAgIGV4dGVuc2lvbi5wcm9wZXJ0eVRhYmxlcyA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW5zaW9uLnByb3BlcnR5VGFibGVzLnB1c2godGFibGUpIC0gMTsgLy8gaW5kZXggb2YgdGhlIHRhYmxlXG59XG5mdW5jdGlvbiBjcmVhdGVTY2hlbWEocHJvcGVydHlBdHRyaWJ1dGVzLCBjbGFzc0lkLCBzY2hlbWFUb1VwZGF0ZSkge1xuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYVRvVXBkYXRlID8/IHtcbiAgICAgICAgaWQ6ICdzY2hlbWFfaWQnXG4gICAgfTtcbiAgICBjb25zdCBzY2hlbWFDbGFzcyA9IHtcbiAgICAgICAgcHJvcGVydGllczoge31cbiAgICB9O1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHByb3BlcnR5QXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBjbGFzc1Byb3BlcnR5ID0ge1xuICAgICAgICAgICAgdHlwZTogYXR0cmlidXRlLmVsZW1lbnRUeXBlLFxuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogYXR0cmlidXRlLmNvbXBvbmVudFR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hQ2xhc3MucHJvcGVydGllc1thdHRyaWJ1dGUubmFtZV0gPSBjbGFzc1Byb3BlcnR5O1xuICAgIH1cbiAgICBzY2hlbWEuY2xhc3NlcyA9IHt9O1xuICAgIHNjaGVtYS5jbGFzc2VzW2NsYXNzSWRdID0gc2NoZW1hQ2xhc3M7XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3BlcnR5VGFibGUocHJvcGVydHlBdHRyaWJ1dGVzLCBjbGFzc0lkLCBzY2hlbWEpIHtcbiAgICBjb25zdCB0YWJsZSA9IHtcbiAgICAgICAgY2xhc3M6IGNsYXNzSWQsXG4gICAgICAgIGNvdW50OiAwXG4gICAgfTtcbiAgICAvLyBjb3VudCBpcyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZVxuICAgIGxldCBjb3VudCA9IDA7XG4gICAgY29uc3Qgc2NoZW1hQ2xhc3MgPSBzY2hlbWEuY2xhc3Nlcz8uW2NsYXNzSWRdO1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHByb3BlcnR5QXR0cmlidXRlcykge1xuICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGNvdW50ID0gYXR0cmlidXRlLnZhbHVlcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbGwgcHJvcGVydHlBdHRyaWJ1dGVzIG11c3QgYmUgdGhlIHNhbWVcbiAgICAgICAgaWYgKGNvdW50ICE9PSBhdHRyaWJ1dGUudmFsdWVzLmxlbmd0aCAmJiBhdHRyaWJ1dGUudmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIHZhbHVlcyBpbiBhdHRyaWJ1dGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xhc3NQcm9wZXJ0eSA9IHNjaGVtYUNsYXNzPy5wcm9wZXJ0aWVzW2F0dHJpYnV0ZS5uYW1lXTtcbiAgICAgICAgaWYgKGNsYXNzUHJvcGVydHkpIHtcbiAgICAgICAgICAgIC8vIGNvbnN0IHRhYmxlUHJvcGVydHkgPSBjcmVhdGVQcm9wZXJ0eVRhYmxlUHJvcGVydHkoYXR0cmlidXRlLCBjbGFzc1Byb3BlcnR5LCBzY2VuZWdyYXBoKTtcbiAgICAgICAgICAgIGlmICghdGFibGUucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIHRhYmxlLnByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHZhbHVlcyBpcyBhIHJlcXVpcmVkIGZpZWxkLiBJdHMgcmVhbCB2YWx1ZSB3aWxsIGJlIHNldCB3aGlsZSBlbmNvZGluZyBkYXRhXG4gICAgICAgICAgICB0YWJsZS5wcm9wZXJ0aWVzW2F0dHJpYnV0ZS5uYW1lXSA9IHsgdmFsdWVzOiAwLCBkYXRhOiBhdHRyaWJ1dGUudmFsdWVzIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGFibGUuY291bnQgPSBjb3VudDtcbiAgICByZXR1cm4gdGFibGU7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eVRhYmxlUHJvcGVydHkoXG4vLyBhdHRyaWJ1dGU6IFByb3BlcnR5QXR0cmlidXRlLFxudmFsdWVzLCBjbGFzc1Byb3BlcnR5LCBzY2VuZWdyYXBoKSB7XG4gICAgY29uc3QgcHJvcCA9IHsgdmFsdWVzOiAwIH07XG4gICAgaWYgKGNsYXNzUHJvcGVydHkudHlwZSA9PT0gJ1NUUklORycpIHtcbiAgICAgICAgY29uc3QgeyBzdHJpbmdEYXRhLCBzdHJpbmdPZmZzZXRzIH0gPSBjcmVhdGVQcm9wZXJ0eURhdGFTdHJpbmcodmFsdWVzKTtcbiAgICAgICAgcHJvcC5zdHJpbmdPZmZzZXRzID0gY3JlYXRlQnVmZmVyVmlldyhzdHJpbmdPZmZzZXRzLCBzY2VuZWdyYXBoKTtcbiAgICAgICAgcHJvcC52YWx1ZXMgPSBjcmVhdGVCdWZmZXJWaWV3KHN0cmluZ0RhdGEsIHNjZW5lZ3JhcGgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjbGFzc1Byb3BlcnR5LnR5cGUgPT09ICdTQ0FMQVInICYmIGNsYXNzUHJvcGVydHkuY29tcG9uZW50VHlwZSkge1xuICAgICAgICBjb25zdCBkYXRhID0gY3JlYXRlUHJvcGVydHlEYXRhU2NhbGFyKHZhbHVlcywgY2xhc3NQcm9wZXJ0eS5jb21wb25lbnRUeXBlKTtcbiAgICAgICAgcHJvcC52YWx1ZXMgPSBjcmVhdGVCdWZmZXJWaWV3KGRhdGEsIHNjZW5lZ3JhcGgpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcDtcbn1cbmNvbnN0IENPTVBPTkVOVF9UWVBFX1RPX0FSUkFZX0NPTlNUUlVDVE9SID0ge1xuICAgIElOVDg6IEludDhBcnJheSxcbiAgICBVSU5UODogVWludDhBcnJheSxcbiAgICBJTlQxNjogSW50MTZBcnJheSxcbiAgICBVSU5UMTY6IFVpbnQxNkFycmF5LFxuICAgIElOVDMyOiBJbnQzMkFycmF5LFxuICAgIFVJTlQzMjogVWludDMyQXJyYXksXG4gICAgSU5UNjQ6IEludDMyQXJyYXksXG4gICAgVUlOVDY0OiBVaW50MzJBcnJheSxcbiAgICBGTE9BVDMyOiBGbG9hdDMyQXJyYXksXG4gICAgRkxPQVQ2NDogRmxvYXQ2NEFycmF5XG59O1xuZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlEYXRhU2NhbGFyKGFycmF5LCBjb21wb25lbnRUeXBlKSB7XG4gICAgY29uc3QgbnVtYmVyQXJyYXkgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGFycmF5KSB7XG4gICAgICAgIG51bWJlckFycmF5LnB1c2goTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICAgIGNvbnN0IENvbnN0cnVjdCA9IENPTVBPTkVOVF9UWVBFX1RPX0FSUkFZX0NPTlNUUlVDVE9SW2NvbXBvbmVudFR5cGVdO1xuICAgIGlmICghQ29uc3RydWN0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBjb21wb25lbnQgdHlwZScpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdChudW1iZXJBcnJheSk7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eURhdGFTdHJpbmcoc3RyaW5ncykge1xuICAgIGNvbnN0IHV0ZjhFbmNvZGUgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBsZXQgbGVuID0gMDtcbiAgICBmb3IgKGNvbnN0IHN0ciBvZiBzdHJpbmdzKSB7XG4gICAgICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSB1dGY4RW5jb2RlLmVuY29kZShzdHIpO1xuICAgICAgICBsZW4gKz0gdWludDhBcnJheS5sZW5ndGg7XG4gICAgICAgIGFyci5wdXNoKHVpbnQ4QXJyYXkpO1xuICAgIH1cbiAgICBjb25zdCBzdHJBcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgY29uc3Qgc3RyT2Zmc2V0cyA9IFtdO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAoY29uc3Qgc3RyIG9mIGFycikge1xuICAgICAgICBzdHJBcnJheS5zZXQoc3RyLCBvZmZzZXQpO1xuICAgICAgICBzdHJPZmZzZXRzLnB1c2gob2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IHN0ci5sZW5ndGg7XG4gICAgfVxuICAgIHN0ck9mZnNldHMucHVzaChvZmZzZXQpOyAvLyBUaGUgbGFzdCBvZmZzZXQgcmVwcmVzZW50cyB0aGUgYnl0ZSBvZmZzZXQgYWZ0ZXIgdGhlIGxhc3Qgc3RyaW5nLlxuICAgIGNvbnN0IHN0cmluZ09mZnNldHNUeXBlZEFycmF5ID0gbmV3IFVpbnQzMkFycmF5KHN0ck9mZnNldHMpOyAvLyBJdHMgbGVuZ3RoID0gbGVuKzFcbiAgICByZXR1cm4geyBzdHJpbmdEYXRhOiBzdHJBcnJheSwgc3RyaW5nT2Zmc2V0czogc3RyaW5nT2Zmc2V0c1R5cGVkQXJyYXkgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlclZpZXcodHlwZWRBcnJheSwgc2NlbmVncmFwaCkge1xuICAgIHNjZW5lZ3JhcGguZ2x0Zi5idWZmZXJzLnB1c2goe1xuICAgICAgICBhcnJheUJ1ZmZlcjogdHlwZWRBcnJheS5idWZmZXIsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IHR5cGVkQXJyYXkuYnl0ZU9mZnNldCxcbiAgICAgICAgYnl0ZUxlbmd0aDogdHlwZWRBcnJheS5ieXRlTGVuZ3RoXG4gICAgfSk7XG4gICAgcmV0dXJuIHNjZW5lZ3JhcGguYWRkQnVmZmVyVmlldyh0eXBlZEFycmF5KTtcbn1cbiIsIi8vIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIG1lc2hvcHRpbWl6ZXIgbGlicmFyeSBhbmQgaXMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIE1JVCBMaWNlbnNlLlxuLy8gQ29weXJpZ2h0IChDKSAyMDE2LTIwMjEsIGJ5IEFyc2VueSBLYXBvdWxraW5lIChhcnNlbnkua2Fwb3Vsa2luZUBnbWFpbC5jb20pXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbmNvbnN0IGlzV2ViQXNzZW1ibHlTdXBwb3J0ZWQgPSB0eXBlb2YgV2ViQXNzZW1ibHkgIT09ICdvYmplY3QnO1xuLy8gQnVpbHQgd2l0aCBjbGFuZyB2ZXJzaW9uIDExLjAuMCAoaHR0cHM6Ly9naXRodWIuY29tL2xsdm0vbGx2bS1wcm9qZWN0LmdpdCAwMTYwYWQ4MDJlODk5YzI5MjJiYzliMjk1NjQwODBjMjJlYjA5MDhjKVxuLy8gQnVpbHQgZnJvbSBtZXNob3B0aW1pemVyIDAuMTZcbmNvbnN0IHdhc21fYmFzZSA9ICdCOWg5ejl0RkJCQkY4Zkw5Z0JCOWdMYWFhYWFGYTlnRWFhYUI5Z0ZhRmE5Z0VhYWFGYUVNY0JGRkZHR0dFSUlJTEY5d0ZGRkxFRkJGS05GYUZDeC9JRk1PL0xGVks5dHY5dDl2cTk1R0J0OWY5ZjkzOWg5ejl0OWY5ajloOXM5czlmOWpXOXZxOXpCQnA5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5V3ZxV3Y5NGg5MTltOW12cUJGOFo5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5Sjl1OWt2OTRoOTE5bTltdnFCR3k5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5Sjl1OWt2OTQ5VHZaOTF2OXU5anZCRW45dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y2OXA5c1d2cTlQOWpXQklpOXR2OXo5bzl2OXdXOWY5a3Y5ajl2OWt2NjlwOXNXdnE5UjkxOWhXQkxuOXR2OXo5bzl2OXdXOWY5a3Y5ajl2OWt2NjlwOXNXdnE5Rjk0OXdCS0k5ejlpcWxCT2MreDh5Y0dCTS9xUUZUYThqVVVVVUJDVS9FQmxITDhrVVVVVUJDOStSS0dYQUdDRkpBSTlMUUJDYVJLQUUyQkJDK2dGOUhRQkFMQUVBSUpIT0FHbEFHVGtVVVVCUk5DVW9CQUc5dUMvd2dCWkhLQ1VHQUtDVUc5SnlSVkFFQ0ZKUklDQlJjR1hFWEFjQUY5UFFGQVZBRkFjbEFjQVZKQUY5SnlSTUdYR1hBRzlGUUJBTUNiSkhLQzl3WlJTQUtDSXJDRUpDR3JSUUFOQ1VHSlJmQ0JSYkFJUlRFWEdYQU9BVGxBUTlQUUJDQlJJU0VNQVRBUUpSSUdYQVM5RlFCQ0JSdENCUkVFWEdYQU9BSWxDaTlQUUJDQlJJU0xNQU5DVS9DQkpBRUpSS0dYR1hHWEdYR1hBVEFFQ0tySjJCQkF0Q0tackNFWmZJQkZHRUJNQUtoQjgzRUJBS0NOSmhCODNFQlNFTUFLQUkyQklBSTJCQkhtQ0tySFlBWUNFNkhZeTg2QkJBS0NGSkFJQ0lKQVlKSFkyQkJBbUNJckNFWkhQQVBDRTZIUHk4NkJCQUtDR0pBWUFQSkhZMkJCQW1DR3JDRVpIUEFQQ0U2SFB5ODZCQkFLQ0VKQVlBUEpIWTJCQkFtQ0VaSG1BbUNFNkhteTg2QkJBS0NJSkFZQW1KSFkyQkJBSTJCRkhtQ0tySFBBUENFNkhQeTg2QkJBS0NMSkFZQVBKSFkyQkJBbUNJckNFWkhQQVBDRTZIUHk4NkJCQUtDS0pBWUFQSkhZMkJCQW1DR3JDRVpIUEFQQ0U2SFB5ODZCQkFLQ09KQVlBUEpIWTJCQkFtQ0VaSG1BbUNFNkhteTg2QkJBS0NOSkFZQW1KSFkyQkJBSTJCR0htQ0tySFBBUENFNkhQeTg2QkJBS0NWSkFZQVBKSFkyQkJBbUNJckNFWkhQQVBDRTZIUHk4NkJCQUtDY0pBWUFQSkhZMkJCQW1DR3JDRVpIUEFQQ0U2SFB5ODZCQkFLQ01KQVlBUEpIWTJCQkFtQ0VaSG1BbUNFNkhteTg2QkJBS0NTSkFZQW1KSG0yQkJBSTJCRUhJQ0tySFlBWUNFNkhZeTg2QkJBS0NRSkFtQVlKSG0yQkJBSUNJckNFWkhZQVlDRTZIWXk4NkJCQUtDZkpBbUFZSkhtMkJCQUlDR3JDRVpIWUFZQ0U2SFl5ODZCQkFLQ2JKQW1BWUpISzJCQkFJQ0VaSElBSUNFNkhJeTg2QkJBS0FJSlJJU0dNQUtBSTJCTkFJMkJCSG1DSXJIWUFZQ2I2SFl5ODZCQkFLQ0ZKQUlDTkpBWUpIWTJCQkFtQ2JaSG1BbUNiNkhteTg2QkJBS0NHSkFZQW1KSG0yQkJBSTJCRkhZQ0lySFBBUENiNkhQeTg2QkJBS0NFSkFtQVBKSG0yQkJBWUNiWkhZQVlDYjZIWXk4NkJCQUtDSUpBbUFZSkhtMkJCQUkyQkdIWUNJckhQQVBDYjZIUHk4NkJCQUtDTEpBbUFQSkhtMkJCQVlDYlpIWUFZQ2I2SFl5ODZCQkFLQ0tKQW1BWUpIbTJCQkFJMkJFSFlDSXJIUEFQQ2I2SFB5ODZCQkFLQ09KQW1BUEpIbTJCQkFZQ2JaSFlBWUNiNkhZeTg2QkJBS0NOSkFtQVlKSG0yQkJBSTJCSUhZQ0lySFBBUENiNkhQeTg2QkJBS0NWSkFtQVBKSG0yQkJBWUNiWkhZQVlDYjZIWXk4NkJCQUtDY0pBbUFZSkhtMkJCQUkyQkxIWUNJckhQQVBDYjZIUHk4NkJCQUtDTUpBbUFQSkhtMkJCQVlDYlpIWUFZQ2I2SFl5ODZCQkFLQ1NKQW1BWUpIbTJCQkFJMkJLSFlDSXJIUEFQQ2I2SFB5ODZCQkFLQ1FKQW1BUEpIbTJCQkFZQ2JaSFlBWUNiNkhZeTg2QkJBS0NmSkFtQVlKSG0yQkJBSTJCT0hJQ0lySFlBWUNiNkhZeTg2QkJBS0NiSkFtQVlKSEsyQkJBSUNiWkhJQUlDYjZISXk4NkJCQUtBSUpSSVNGTUFLQUk4cEJCODNCQkFLQ05KQUlDTko4cEJCODNCQkFJQ1RKUklNQXRDR0pSdEFFQ1RKSEVBUzlKUUJNTUdYQUlRQkNCUklTRU1HWEFNOUZRQkFOQWJKMkJCUnRDQlJLQWZSRUVYQUVBTkNVL0NCSkFLSjJCQkhUQ0ZyQ0JBVENGWmw5ekF0Skh0ODZCQkFFQUdKUkVBS0NGSkhLQU05SFFCTU1BZkNGSlJmQUlSVEFiQ0ZKSGJBRzlIUUJNTUFCQWNBRzlzSkFOQ1VHSkFNQUc5c1RrVVVVQnBBTkFOQ1VHSkFNQ2FKQUc5c0pBR1RrVVVVQnBNQU1DQkFJeUFjSlJjQUlRQk1DOStSS1NGTUNCQzk5QU9BSWxBR0NBQUdDQTlMeTZ5UktNQUxDVS9FQko4a1VVVVVCQUtNK09tRlRhOGpVVVVVQkNvRmxITDhrVVVVVUJDOStSS0dYQUZDRTl1SE9DdEpBSTlMUUJDYVJLQUUyQkJITkMvd0ZaQy9nRjlIUUJBTkNiWkhWQ0Y5TFFCQUxDb0JKQ2dGQ1VGVCtKVVVVQnBBTEM4NEpoYTgzRUJBTEM4d0poYTgzRUJBTEM4b0poYTgzRUJBTENBSmhhODNFQkFMQ2lKaGE4M0VCQUxDVEpoYTgzRUJBTGhhODNFTkFMaGE4M0VCQUVBSUpDOXdKUmNBRUNGSkhOQU9KUk1HWEFGOUZRQkNRQ2JBVkNGNnlSU0FCUkVDQlJWQ0JSUUNCUmZDQlJJQ0JSS0VYR1hBTUFjdVFCQzkrUktTRU1HWEdYQU4yQkJIT0MvdkY5TFFCQUxDb0JKQU9DSXJDYTl6QUtKQ2JaQ0VXSkhiOG9HSVJUQWI4b0dCUnRHWEFPQ2JaSGJBUzlQUUJBTEFPQ2E5ekFJSkNiWkNHV0o4b0dCQVZBYnlST0FiOUZSYkdYR1hBR0NHOUhRQkFCQXQ4N0ZCQUJDSUpBTzg3RkJBQkNHSkFUODdGQlNGTUFFQXRqR0JBRUNOSkFPakdCQUVDSUpBVGpHQk1BVkFiSlJWQUxDb0JKQUtDRVdKSG1BT2pHQkFtQVRqR0lBTEFJQ0dXSkFPakdCQUxDb0JKQUtDRkpDYlpIS0NFV0pIVEF0akdCQVRBT2pHSUFJQWJKUklBS0NGSlJLU0dNR1hHWEFiQ2I2UUJBUUFiSkFiQzk4OXpKQ0ZKUlFTRk1BTTFCQkhiQ2dGWlJPR1hHWEFiQ2E5TVFCQU1DRkpSTVNGTUFNMUJGSGJDZ0JaQ09XQU9DZ0JacVJPR1hBYkNhOU1RQkFNQ0dKUk1TRk1BTTFCR0hiQ2dCWkNmV0FPcVJPR1hBYkNhOU1RQkFNQ0VKUk1TRk1BTTFCRUhiQ2dCWkNkV0FPcVJPR1hBYkNhOU1RQkFNQ0lKUk1TRk1BTTJCSUM4Y1dBT3FST0FNQ0xKUk1NQU9DRnJDQkFPQ0ZabDl6QVFKUlFNR1hHWEFHQ0c5SFFCQUJBdDg3RkJBQkNJSkFRODdGQkFCQ0dKQVQ4N0ZCU0ZNQUVBdGpHQkFFQ05KQVFqR0JBRUNJSkFUakdCTUFMQ29CSkFLQ0VXSkhPQVFqR0JBT0FUakdJQUxBSUNHV0pBUWpHQkFMQ29CSkFLQ0ZKQ2JaSEtDRVdKSE9BdGpHQkFPQVFqR0lBSUNGSlJJQUtDRkpSS1NGTUdYQU9DREY5TFFCQUxBSUFjQU9DYlpKMkJCSGJDSXJIVGxDYlpDR1dKOG9HQkFWQ0ZKSHRBVHlST0FMQUlBYmxDYlpDR1dKOG9HQkF0QVQ5RkhtSkh0QWJDYlpIVHlSYkFUOUZSVEdYR1hBR0NHOUhRQkFCQVY4N0ZCQUJDSUpBYjg3RkJBQkNHSkFPODdGQlNGTUFFQVZqR0JBRUNOSkFiakdCQUVDSUpBT2pHQk1BTEFJQ0dXSkFWakdCQUxDb0JKQUtDRVdKSFlBT2pHQkFZQVZqR0lBTEFJQ0ZKSElDYlpDR1dKQU9qR0JBTENvQkpBS0NGSkNiWkNFV0pIWUFiakdCQVlBT2pHSUFMQUlBbUpDYlpISUNHV0pBYmpHQkFMQ29CSkFLQ0dKQ2JaSEtDRVdKSE9BVmpHQkFPQWJqR0lBS0NGSlJLQUlBVEpSSUF0QVRKUlZTRk1BVkNCQU0yQkJIWXlIVEFPQy8rRjZIUEpST0FZQ2JaUnRHWEdYQVlDSXJIbVFCQU9DRkpSYlNGTUFPUmJBTEFJQW1sQ2JaQ0dXSjhvR0JST01HWEdYQXRRQkFiQ0ZKUlZTRk1BYlJWQUxBSUFZbENiWkNHV0o4b0dCUmJNR1hHWEFQOUZRQkFNQ0ZKUllTRk1BTTFCRkhZQ2dGWlJUR1hHWEFZQ2E5TVFCQU1DR0pSWVNGTUFNMUJHSFlDZ0JaQ09XQVRDZ0JacVJUR1hBWUNhOU1RQkFNQ0VKUllTRk1BTTFCRUhZQ2dCWkNmV0FUcVJUR1hBWUNhOU1RQkFNQ0lKUllTRk1BTTFCSUhZQ2dCWkNkV0FUcVJUR1hBWUNhOU1RQkFNQ0xKUllTRk1BTUNLSlJZQU0yQkxDOGNXQVRxUlRNQVRDRnJDQkFUQ0ZabDl6QVFKSFFSVE1HWEdYQW1DYjZRQkFZUlBTRk1BWTFCQkhNQ2dGWlJPR1hHWEFNQ2E5TVFCQVlDRkpSUFNGTUFZMUJGSE1DZ0JaQ09XQU9DZ0JacVJPR1hBTUNhOU1RQkFZQ0dKUlBTRk1BWTFCR0hNQ2dCWkNmV0FPcVJPR1hBTUNhOU1RQkFZQ0VKUlBTRk1BWTFCRUhNQ2dCWkNkV0FPcVJPR1hBTUNhOU1RQkFZQ0lKUlBTRk1BWUNMSlJQQVkyQklDOGNXQU9xUk9NQU9DRnJDQkFPQ0ZabDl6QVFKSFFST01HWEdYQXRDYjZRQkFQUk1TRk1BUDFCQkhNQ2dGWlJiR1hHWEFNQ2E5TVFCQVBDRkpSTVNGTUFQMUJGSE1DZ0JaQ09XQWJDZ0JacVJiR1hBTUNhOU1RQkFQQ0dKUk1TRk1BUDFCR0hNQ2dCWkNmV0FicVJiR1hBTUNhOU1RQkFQQ0VKUk1TRk1BUDFCRUhNQ2dCWkNkV0FicVJiR1hBTUNhOU1RQkFQQ0lKUk1TRk1BUENMSlJNQVAyQklDOGNXQWJxUmJNQWJDRnJDQkFiQ0ZabDl6QVFKSFFSYk1HWEdYQUdDRzlIUUJBQkFUODdGQkFCQ0lKQWI4N0ZCQUJDR0pBTzg3RkJTRk1BRUFUakdCQUVDTkpBYmpHQkFFQ0lKQU9qR0JNQUxDb0JKQUtDRVdKSFlBT2pHQkFZQVRqR0lBTEFJQ0dXSkFUakdCQUxDb0JKQUtDRkpDYlpDRVdKSFlBYmpHQkFZQU9qR0lBTEFJQ0ZKSElDYlpDR1dKQU9qR0JBTENvQkpBS0NHSkNiWkNFV0pIT0FUakdCQU9BYmpHSUFMQUlBbTlGQW1DYjZxSkhJQ2JaQ0dXSkFiakdCQUlBdDlGQXRDYjZxSlJJQUtDRUpSS01BTkNGSlJOQUJDS0pSQkFFQ1NKUkVBS0NiWlJLQUlDYlpSSUFmQ0VKSGZBRjlKUUJNTUNCQzk5QU1BYzZ5UktNQUxDb0ZKOGtVVVVVQkFLTS90SUZHYThqVVVVVUJDVGxSTEM5K1JLR1hBRkNMSkFJOUxRQkNhUktBRTJCQkMvK0ZaQy9RRjlIUUJBTGhCODNFTkFFQ0ZKUktBRUFJSkM5OEpSRUdYQUY5RlFCR1hBR0NHNlFCRVhHWEFLQUU5SlFCQzkrYk1BSzFCQkhHQ2dGWlJJR1hHWEFHQ2E5TVFCQUtDRkpSS1NGTUFLMUJGSEdDZ0JaQ09XQUlDZ0JacVJJR1hBR0NhOU1RQkFLQ0dKUktTRk1BSzFCR0hHQ2dCWkNmV0FJcVJJR1hBR0NhOU1RQkFLQ0VKUktTRk1BSzFCRUhHQ2dCWkNkV0FJcVJJR1hBR0NhOU1RQkFLQ0lKUktTRk1BSzJCSUM4Y1dBSXFSSUFLQ0xKUktNQUxDTkpBSUNGWkNHV3FIR0FJQ0dyQ0JBSUNGckNGWmw5ekFHOG9HQkpISWpHQkFCQUlqR0JBQkNJSlJCQUZDYUpIRlFCU0dNTUVYR1hBS0FFOUpRQkM5K2JNQUsxQkJIR0NnRlpSSUdYR1hBR0NhOU1RQkFLQ0ZKUktTRk1BSzFCRkhHQ2dCWkNPV0FJQ2dCWnFSSUdYQUdDYTlNUUJBS0NHSlJLU0ZNQUsxQkdIR0NnQlpDZldBSXFSSUdYQUdDYTlNUUJBS0NFSlJLU0ZNQUsxQkVIR0NnQlpDZFdBSXFSSUdYQUdDYTlNUUJBS0NJSlJLU0ZNQUsyQklDOGNXQUlxUklBS0NMSlJLTUFCQUlDR3JDQkFJQ0ZyQ0ZabDl6QUxDTkpBSUNGWkNHV3FISThvR0JKSEc4N0ZCQUlBR2pHQkFCQ0dKUkJBRkNhSkhGUUJNTUNCQzk5QUtBRTZ5UktNQUtNK2xMS0ZhRjk5R2FHOTlGYUc5OUdYR1hBR0NJOUhRQkFGOUZRRkVYR1hHWDlEQkJCOC85REJCQisvQUJDR0pIRzFCQit5QUIxQkJIRSt5SEkrTCtUQUJDRkpITDFCQkhLK3lITytMK1RITjlEQkJCQjlnSFZ5QU45REJCLytoQU5BTitVOURCQkJCQU5BVnlIY0FjK01ITUFFQ2EzeUFJK1NISUFJK1VBY0FNQUtDYTN5QU8rU0hjQWMrVStTK1MrUitWSE8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkVTRk1DVVVVVTk0UkVNQUdBRTg2QkJHWEdYOURCQkI4LzlEQkJCKy9BYzlEQkJCQjlneUFjQU8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkdTRk1DVVVVVTk0UkdNQUxBRzg2QkJHWEdYOURCQkI4LzlEQkJCKy9BSTlEQkJCQjlneUFJQU8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkdTRk1DVVVVVTk0UkdNQUJBRzg2QkJBQkNJSlJCQUZDYUpIRlFCU0dNTUFGOUZRQkVYR1hHWDlEQkJCOC85REJCQisvQUJDSUpIRzh1RkIreUFCOHVGQkhFK3lISStMK1RBQkNHSkhMOHVGQkhLK3lITytMK1RITjlEQkJCQjlnSFZ5QU45REIvK2c2QU5BTitVOURCQkJCQU5BVnlIY0FjK01ITUFFQ2EzeUFJK1NISUFJK1VBY0FNQUtDYTN5QU8rU0hjQWMrVStTK1MrUitWSE8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkVTRk1DVVVVVTk0UkVNQUdBRTg3RkJHWEdYOURCQkI4LzlEQkJCKy9BYzlEQkJCQjlneUFjQU8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkdTRk1DVVVVVTk0UkdNQUxBRzg3RkJHWEdYOURCQkI4LzlEQkJCKy9BSTlEQkJCQjlneUFJQU8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkdTRk1DVVVVVTk0UkdNQUJBRzg3RkJBQkNOSlJCQUZDYUpIRlFCTU1NL1NFSUVhRTk5RWFGOTlHWEFGOUZRQkNCUkVBQlJJRVhHWEdYOUQvekk4MTgvQUlDS0o4dUZCSExDRXEreStWSEtBSTh1RkIreStVSE85REIvK2c2K1U5REJCQjgvOURCQkIrL0FPOURCQkJCOWd5K1NITitMOURCQkI5UDlkOUZRQkFOK29SVlNGTUNVVVVVOTRSVk1BSUNJSjh1RkJSY0FJQ0dKOHVGQlJNQUJBTENGSkNFWkFFcUNGV0pBVjg3RkJHWEdYQUtBTSt5K1VITjlEQi8rZzYrVTlEQkJCOC85REJCQisvQU45REJCQkI5Z3krU0hTK0w5REJCQjlQOWQ5RlFCQVMrb1JNU0ZNQ1VVVVU5NFJNTUFCQUxDR0pDRVpBRXFDRldKQU04N0ZCR1hHWEFLQWMreStVSEs5REIvK2c2K1U5REJCQjgvOURCQkIrL0FLOURCQkJCOWd5K1NIUytMOURCQkI5UDlkOUZRQkFTK29SY1NGTUNVVVVVOTRSY01BQkFMQ2FKQ0VaQUVxQ0ZXSkFjODdGQkdYR1g5REJCVTgvQU9BTytVK1RBTkFOK1UrVEFLQUsrVStUSE85REJCQkJBTzlEQkJCQjlneStSOURCLytnNitVOURCQkI4LytTSE8rTDlEQkJCOVA5ZDlGUUJBTytvUmNTRk1DVVVVVTk0UmNNQUJBTENFWkFFcUNGV0pBYzg3RkJBSUNOSlJJQUVDSUpSRUFGQ2FKSEZRQk1NTTlKQkdYQUdDR3JBRjlzSEY5RlFCRVhBQkFCOG9HQkhHQ05XQ045MSt5QUdDaTkxQ25XQ1VVVS84RUorKytVODRHQkFCQ0lKUkJBRkNhSkhGUUJNTU05VEZFYUNCQ0I4b0dVa1VVQkhGQUJDRUpDOThaSkhCakdVa1VVQkdYR1hBQjgvQkNUV0hHdVFCQ2FSRUFCQUdsQ2dnRUpDVHJYQkNhNlFGTUFGUkVNQUVNL2xGRkZhR1hHWEFGQUJxQ0VaOUZRQkFCUkVTRk1HWEdYQUdDVDlQUUJBQlJFU0ZNQUJSRUVYQUVBRjhvR0JqR0JBRUNJSkFGQ0lKOG9HQmpHQkFFQ05KQUZDTko4b0dCakdCQUVDU0pBRkNTSjhvR0JqR0JBRUNUSlJFQUZDVEpSRkFHQzl3SkhHQ2I5TFFCTU1BR0NJOUpRQkVYQUVBRjhvR0JqR0JBRkNJSlJGQUVDSUpSRUFHQzk4SkhHQ0U5TFFCTU1HWEFHOUZRQkVYQUVBRjJCQjg2QkJBRUNGSlJFQUZDRkpSRkFHQ2FKSEdRQk1NQUJNb0ZGR2FHWEdYQUJDRVo5RlFCQUJSRVNGTUFGQ2dGWkMrQndzTjlzUklHWEdYQUdDVDlQUUJBQlJFU0ZNQUJSRUVYQUVBSWpHQkFFQ1NKQUlqR0JBRUNOSkFJakdCQUVDSUpBSWpHQkFFQ1RKUkVBR0M5d0pIR0NiOUxRQk1NQUdDSTlKUUJFWEFFQUlqR0JBRUNJSlJFQUdDOThKSEdDRTlMUUJNTUdYQUc5RlFCRVhBRUFGODZCQkFFQ0ZKUkVBR0NhSkhHUUJNTUFCTU1NRkJDVU5NSVQ5a0JCJztcbmNvbnN0IHdhc21fc2ltZCA9ICdCOWg5ejl0RkJCQkY4ZEw5Z0JCOWdMYWFhYWFGYTlnRWFhYUI5Z0dhYUI5Z0ZhRmFFUVNCQkZCRkZHRUdFR0lJTEY5d0ZGRkxFRkJGS05GYUZDeC9hRk1PL0xGVks5dHY5dDl2cTk1R0J0OWY5ZjkzOWg5ejl0OWY5ajloOXM5czlmOWpXOXZxOXpCQnA5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5V3ZxV3Y5NGg5MTltOW12cUJHOFo5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5Sjl1OWt2OTRoOTE5bTltdnFCSXk5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5Sjl1OWt2OTQ5VHZaOTF2OXU5anZCTG45dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y2OXA5c1d2cTlQOWpXQktpOXR2OXo5bzl2OXdXOWY5a3Y5ajl2OWt2NjlwOXNXdnE5UjkxOWhXQk5uOXR2OXo5bzl2OXdXOWY5a3Y5ajl2OWt2NjlwOXNXdnE5Rjk0OXdCY0k5ejlpcWxCTWMvajlKU0lCVEVNOStGTGE4alVVVVVCQ1RsUkJDQlJGRVhDQlJHQ0JSRUVYQUJDTkpBR0pBRUNVYUFGQUdyQ0ZaSEl5ODZCQkFFQUlKUkVBR0NGSkhHQ045SFFCTUFGQ3grWVVVQkpBRTg2QkJBRkNFV0N4a1VVQkpBQjhwRU44M0VCQUZDRkpIRkNVRzlIUUJNTWtSSWJhRzk3RmFLOTc4alVVVVVCQ1UvS0JsSEw4a1VVVVVCQzkrUktHWEFHQ0ZKQUk5TFFCQ2FSS0FFMkJCQytnRjlIUUJBTEFFQUlKSE9BR2xBRy84Y0JCQ1VvQkFHOXVDL3dnQlpIS0NVR0FLQ1VHOUp5Uk5BRUNGSlJLQ0JSVkdYRVhBVkFGOVBRRkFOQUZBVmxBVkFOSkFGOUp5UmNHWEdYQUc5RlFCQWNDYkpISUM5d1pITUNFOXNSU0FNQ0ZXUlFBSUNJckNFSkNHclJmQ0JSYkVYQUtSVENCUnRHWEVYR1hBT0FUbEFmOVBRQkNCUktTTE1BTENVL0NCSkF0QU05c0pSbUFUQWZKUktDQlJFR1hBTUNvQjlKUUJBT0FLbEMvZ0I5SlFCQ0JSSUVYQW1BSUpSRUdYR1hHWEdYR1hBVEFJQ0tySjJCQkhZQ0VaZklCRkdFQk1BRUNCRHRETUlCU0VNQUVBS0RCQklBS0RCQkJIUENJRCtNRkFQRFFCVEZ0R21FWUlQTGRLZU9uSFBDR0QrTUZBUERRQlRGdEdtRVlJUExkS2VPbkMwK0crTWlEdEQ5T0hkQ0VEYkQ4akhQRDhkQmhVZy84LzQvdy9nb0I5K2g4NGs3SGVDRVdDeGtVVUJKREJFQkFlQ3grWVVVQkpEQkJCSG5BbkRRQkJCQkJCQkJCQkJCQkJCQkFQRDhkRmhVZy84LzQvdy9nb0I5K2g4NGs3SGVDRVdDeGtVVUJKREJFQkQ5dURRQkZHRUlMS09UdG1ZUGRlbkRmQWRBUEQ5U0RNSUJBS0NJSkFuRGVCSkFlQ3grWVVVQkoyQkJKUktTR01BRUFLREJCTkFLREJCQkhQQ0lEK01GQVBEUUJURnRHbUVZSVBMZEtlT25DK1ArZSs4LzRCRHREOU9IZENiRGJEOGpIUEQ4ZEJoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJBZUN4K1lVVUJKREJCQkhuQW5EUUJCQkJCQkJCQkJCQkJCQkJBUEQ4ZEZoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJEOXVEUUJGR0VJTEtPVHRtWVBkZW5EZkFkQVBEOVNETUlCQUtDTkpBbkRlQkpBZUN4K1lVVUJKMkJCSlJLU0ZNQUVBS0RCQkJETUlCQUtDVEpSS01HWEdYR1hHWEdYQVlDR3JDRVpmSUJGR0VCTUFFQ0JEdERNSVRTRU1BRUFLREJCSUFLREJCQkhQQ0lEK01GQVBEUUJURnRHbUVZSVBMZEtlT25IUENHRCtNRkFQRFFCVEZ0R21FWUlQTGRLZU9uQzArRytNaUR0RDlPSGRDRURiRDhqSFBEOGRCaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCQWVDeCtZVVVCSkRCQkJIbkFuRFFCQkJCQkJCQkJCQkJCQkJCQVBEOGRGaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCRDl1RFFCRkdFSUxLT1R0bVlQZGVuRGZBZEFQRDlTRE1JVEFLQ0lKQW5EZUJKQWVDeCtZVVVCSjJCQkpSS1NHTUFFQUtEQkJOQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkMrUCtlKzgvNEJEdEQ5T0hkQ2JEYkQ4akhQRDhkQmhVZy84LzQvdy9nb0I5K2g4NGs3SGVDRVdDeGtVVUJKREJFQkFlQ3grWVVVQkpEQkJCSG5BbkRRQkJCQkJCQkJCQkJCQkJCQkFQRDhkRmhVZy84LzQvdy9nb0I5K2g4NGs3SGVDRVdDeGtVVUJKREJFQkQ5dURRQkZHRUlMS09UdG1ZUGRlbkRmQWRBUEQ5U0RNSVRBS0NOSkFuRGVCSkFlQ3grWVVVQkoyQkJKUktTRk1BRUFLREJCQkRNSVRBS0NUSlJLTUdYR1hHWEdYR1hBWUNJckNFWmZJQkZHRUJNQUVDQkR0RE1JQVNFTUFFQUtEQkJJQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkhQQ0dEK01GQVBEUUJURnRHbUVZSVBMZEtlT25DMCtHK01pRHREOU9IZENFRGJEOGpIUEQ4ZEJoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJBZUN4K1lVVUJKREJCQkhuQW5EUUJCQkJCQkJCQkJCQkJCQkJBUEQ4ZEZoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJEOXVEUUJGR0VJTEtPVHRtWVBkZW5EZkFkQVBEOVNETUlBQUtDSUpBbkRlQkpBZUN4K1lVVUJKMkJCSlJLU0dNQUVBS0RCQk5BS0RCQkJIUENJRCtNRkFQRFFCVEZ0R21FWUlQTGRLZU9uQytQK2UrOC80QkR0RDlPSGRDYkRiRDhqSFBEOGRCaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCQWVDeCtZVVVCSkRCQkJIbkFuRFFCQkJCQkJCQkJCQkJCQkJCQVBEOGRGaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCRDl1RFFCRkdFSUxLT1R0bVlQZGVuRGZBZEFQRDlTRE1JQUFLQ05KQW5EZUJKQWVDeCtZVVVCSjJCQkpSS1NGTUFFQUtEQkJCRE1JQUFLQ1RKUktNR1hHWEdYR1hHWEFZQ0tyZklCRkdFQk1BRUNCRHRETUk4d1NFTUFFQUtEQkJJQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkhQQ0dEK01GQVBEUUJURnRHbUVZSVBMZEtlT25DMCtHK01pRHREOU9IZENFRGJEOGpIUEQ4ZEJoVWcvOC80L3cvZ29COStoODRrN0hZQ0VXQ3hrVVVCSkRCRUJBWUN4K1lVVUJKREJCQkhuQW5EUUJCQkJCQkJCQkJCQkJCQkJBUEQ4ZEZoVWcvOC80L3cvZ29COStoODRrN0hZQ0VXQ3hrVVVCSkRCRUJEOXVEUUJGR0VJTEtPVHRtWVBkZW5EZkFkQVBEOVNETUk4d0FLQ0lKQW5EZUJKQVlDeCtZVVVCSjJCQkpSS1NHTUFFQUtEQkJOQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkMrUCtlKzgvNEJEdEQ5T0hkQ2JEYkQ4akhQRDhkQmhVZy84LzQvdy9nb0I5K2g4NGs3SFlDRVdDeGtVVUJKREJFQkFZQ3grWVVVQkpEQkJCSG5BbkRRQkJCQkJCQkJCQkJCQkJCQkFQRDhkRmhVZy84LzQvdy9nb0I5K2g4NGs3SFlDRVdDeGtVVUJKREJFQkQ5dURRQkZHRUlMS09UdG1ZUGRlbkRmQWRBUEQ5U0RNSTh3QUtDTkpBbkRlQkpBWUN4K1lVVUJKMkJCSlJLU0ZNQUVBS0RCQkJETUk4d0FLQ1RKUktNQUlDb0JKUkVBSUNVRkpBTTlMUUZBRVJJQU9BS2xDL2ZCOUxRQk1NR1hBRUFNOVBRQkFFQ0VyUklFWEdYQU9BS2xDaTlQUUJDQlJLU09NQW1BRUpSWUdYR1hHWEdYR1hBVEFFQ0tySjJCQkFJQ0tackNFWmZJQkZHRUJNQVlDQkR0RE1JQlNFTUFZQUtEQkJJQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkhQQ0dEK01GQVBEUUJURnRHbUVZSVBMZEtlT25DMCtHK01pRHREOU9IZENFRGJEOGpIUEQ4ZEJoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJBZUN4K1lVVUJKREJCQkhuQW5EUUJCQkJCQkJCQkJCQkJCQkJBUEQ4ZEZoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJEOXVEUUJGR0VJTEtPVHRtWVBkZW5EZkFkQVBEOVNETUlCQUtDSUpBbkRlQkpBZUN4K1lVVUJKMkJCSlJLU0dNQVlBS0RCQk5BS0RCQkJIUENJRCtNRkFQRFFCVEZ0R21FWUlQTGRLZU9uQytQK2UrOC80QkR0RDlPSGRDYkRiRDhqSFBEOGRCaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCQWVDeCtZVVVCSkRCQkJIbkFuRFFCQkJCQkJCQkJCQkJCQkJCQVBEOGRGaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCRDl1RFFCRkdFSUxLT1R0bVlQZGVuRGZBZEFQRDlTRE1JQkFLQ05KQW5EZUJKQWVDeCtZVVVCSjJCQkpSS1NGTUFZQUtEQkJCRE1JQkFLQ1RKUktNQUlDR0pSSUFFQ1RKSEVBTTlKUUJNTUdYQUs5RlFCQUtSVEF0Q0ZKSHRDSTZRR1NGTU1DQlJLU0VNR1hBTTlGUUJBTENVR0pBYkpSRUFMQWJKREJHQlJuQ0JSWUVYQUVBTENVL0NCSkFZSkhJREJJQkhkQ0ZEOXRBZENGRGJIUEQ5T0Q5aEQ5UkhkQUlBTUpEQklCSGlDRkQ5dEFpQVBEOU9EOWhEOVJIaURRQlRGdEdtRVlJUExkS2VPbkg4WkFJQVFKREJJQkhwQ0ZEOXRBcEFQRDlPRDloRDlSSHBBSUFTSkRCSUJIeUNGRDl0QXlBUEQ5T0Q5aEQ5Ukh5RFFCVEZ0R21FWUlQTGRLZU9uSDhjRFFCRlR0R0VtWUlMUGRLT2VuSFBBUERRQkZHRUJGR0VCRkdFQkZHRUFuRDl1SG5EeUJqR0JBRUFHSkhJQW5BUEFQRFFJTEtPSUxLT0lMS09JTEtPRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFOVmNNTlZjTU5WY01OVmNNRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFTUWZiU1FmYlNRZmJTUWZiRDl1SG5EeUJqR0JBSUFHSkhJQW5BOFpBOGNEUU5WaThaY01weVNROGM4ZGZiOGU4ZkhQQVBEUUJGR0VCRkdFQkZHRUJGR0VEOXVIbkR5QmpHQkFJQUdKSElBbkFQQVBEUUlMS09JTEtPSUxLT0lMS09EOXVIbkR5QmpHQkFJQUdKSElBbkFQQVBEUU5WY01OVmNNTlZjTU5WY01EOXVIbkR5QmpHQkFJQUdKSElBbkFQQVBEUVNRZmJTUWZiU1FmYlNRZmJEOXVIbkR5QmpHQkFJQUdKSElBbkFkQWlEUU5pVjhaY3BNeVM4Y1E4ZGY4ZWI4ZkhkQXBBeURRTmlWOFpjcE15UzhjUThkZjhlYjhmSGlEUUJGVHRHRW1ZSUxQZEtPZW5IUEFQRFFCRkdFQkZHRUJGR0VCRkdFRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFJTEtPSUxLT0lMS09JTEtPRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFOVmNNTlZjTU5WY01OVmNNRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFTUWZiU1FmYlNRZmJTUWZiRDl1SG5EeUJqR0JBSUFHSkhJQW5BZEFpRFFOVmk4WmNNcHlTUThjOGRmYjhlOGZIUEFQRFFCRkdFQkZHRUJGR0VCRkdFRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFJTEtPSUxLT0lMS09JTEtPRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFOVmNNTlZjTU5WY01OVmNNRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFTUWZiU1FmYlNRZmJTUWZiRDl1SG5EeUJqR0JBSUFHSlJFQVlDVEpIWUFNOUpRQk1NQWJDSUpIYkFHOUpRQk1NQUJBVkFHOXNKQUxDVUdKQWNBRzlzLzhjQkJBTEFMQ1VHSkFjQ2FKQUc5c0pBRy84Y0JCTUFjQ0JBS3lBVkpSVkFLUUJNQzkrUktTRk1DQkM5OUFPQUtsQUdDQUFHQ0E5THk2eVJLTUFMQ1UvS0JKOGtVVVVVQkFLTU5CVCtCVVVVQk0rS21GVGE4alVVVVVCQ29GbEhMOGtVVVVVQkM5K1JLR1hBRkNFOXVIT0N0SkFJOUxRQkNhUktBRTJCQkhOQy93RlpDL2dGOUhRQkFOQ2JaSFZDRjlMUUJBTENvQkpDZ0ZDVUYvOE1CQUxDODRKaGE4M0VCQUxDOHdKaGE4M0VCQUxDOG9KaGE4M0VCQUxDQUpoYTgzRUJBTENpSmhhODNFQkFMQ1RKaGE4M0VCQUxoYTgzRU5BTGhhODNFQkFFQUlKQzl3SlJjQUVDRkpITkFPSlJNR1hBRjlGUUJDUUNiQVZDRjZ5UlNBQlJFQ0JSVkNCUlFDQlJmQ0JSSUNCUktFWEdYQU1BY3VRQkM5K1JLU0VNR1hHWEFOMkJCSE9DL3ZGOUxRQkFMQ29CSkFPQ0lyQ2E5ekFLSkNiWkNFV0pIYjhvR0lSVEFiOG9HQlJ0R1hBT0NiWkhiQVM5UFFCQUxBT0NhOXpBSUpDYlpDR1dKOG9HQkFWQWJ5Uk9BYjlGUmJHWEdYQUdDRzlIUUJBQkF0ODdGQkFCQ0lKQU84N0ZCQUJDR0pBVDg3RkJTRk1BRUF0akdCQUVDTkpBT2pHQkFFQ0lKQVRqR0JNQVZBYkpSVkFMQ29CSkFLQ0VXSkhtQU9qR0JBbUFUakdJQUxBSUNHV0pBT2pHQkFMQ29CSkFLQ0ZKQ2JaSEtDRVdKSFRBdGpHQkFUQU9qR0lBSUFiSlJJQUtDRkpSS1NHTUdYR1hBYkNiNlFCQVFBYkpBYkM5ODl6SkNGSlJRU0ZNQU0xQkJIYkNnRlpST0dYR1hBYkNhOU1RQkFNQ0ZKUk1TRk1BTTFCRkhiQ2dCWkNPV0FPQ2dCWnFST0dYQWJDYTlNUUJBTUNHSlJNU0ZNQU0xQkdIYkNnQlpDZldBT3FST0dYQWJDYTlNUUJBTUNFSlJNU0ZNQU0xQkVIYkNnQlpDZFdBT3FST0dYQWJDYTlNUUJBTUNJSlJNU0ZNQU0yQklDOGNXQU9xUk9BTUNMSlJNTUFPQ0ZyQ0JBT0NGWmw5ekFRSlJRTUdYR1hBR0NHOUhRQkFCQXQ4N0ZCQUJDSUpBUTg3RkJBQkNHSkFUODdGQlNGTUFFQXRqR0JBRUNOSkFRakdCQUVDSUpBVGpHQk1BTENvQkpBS0NFV0pIT0FRakdCQU9BVGpHSUFMQUlDR1dKQVFqR0JBTENvQkpBS0NGSkNiWkhLQ0VXSkhPQXRqR0JBT0FRakdJQUlDRkpSSUFLQ0ZKUktTRk1HWEFPQ0RGOUxRQkFMQUlBY0FPQ2JaSjJCQkhiQ0lySFRsQ2JaQ0dXSjhvR0JBVkNGSkh0QVR5Uk9BTEFJQWJsQ2JaQ0dXSjhvR0JBdEFUOUZIbUpIdEFiQ2JaSFR5UmJBVDlGUlRHWEdYQUdDRzlIUUJBQkFWODdGQkFCQ0lKQWI4N0ZCQUJDR0pBTzg3RkJTRk1BRUFWakdCQUVDTkpBYmpHQkFFQ0lKQU9qR0JNQUxBSUNHV0pBVmpHQkFMQ29CSkFLQ0VXSkhZQU9qR0JBWUFWakdJQUxBSUNGSkhJQ2JaQ0dXSkFPakdCQUxDb0JKQUtDRkpDYlpDRVdKSFlBYmpHQkFZQU9qR0lBTEFJQW1KQ2JaSElDR1dKQWJqR0JBTENvQkpBS0NHSkNiWkhLQ0VXSkhPQVZqR0JBT0FiakdJQUtDRkpSS0FJQVRKUklBdEFUSlJWU0ZNQVZDQkFNMkJCSFl5SFRBT0MvK0Y2SFBKUk9BWUNiWlJ0R1hHWEFZQ0lySG1RQkFPQ0ZKUmJTRk1BT1JiQUxBSUFtbENiWkNHV0o4b0dCUk9NR1hHWEF0UUJBYkNGSlJWU0ZNQWJSVkFMQUlBWWxDYlpDR1dKOG9HQlJiTUdYR1hBUDlGUUJBTUNGSlJZU0ZNQU0xQkZIWUNnRlpSVEdYR1hBWUNhOU1RQkFNQ0dKUllTRk1BTTFCR0hZQ2dCWkNPV0FUQ2dCWnFSVEdYQVlDYTlNUUJBTUNFSlJZU0ZNQU0xQkVIWUNnQlpDZldBVHFSVEdYQVlDYTlNUUJBTUNJSlJZU0ZNQU0xQklIWUNnQlpDZFdBVHFSVEdYQVlDYTlNUUJBTUNMSlJZU0ZNQU1DS0pSWUFNMkJMQzhjV0FUcVJUTUFUQ0ZyQ0JBVENGWmw5ekFRSkhRUlRNR1hHWEFtQ2I2UUJBWVJQU0ZNQVkxQkJITUNnRlpST0dYR1hBTUNhOU1RQkFZQ0ZKUlBTRk1BWTFCRkhNQ2dCWkNPV0FPQ2dCWnFST0dYQU1DYTlNUUJBWUNHSlJQU0ZNQVkxQkdITUNnQlpDZldBT3FST0dYQU1DYTlNUUJBWUNFSlJQU0ZNQVkxQkVITUNnQlpDZFdBT3FST0dYQU1DYTlNUUJBWUNJSlJQU0ZNQVlDTEpSUEFZMkJJQzhjV0FPcVJPTUFPQ0ZyQ0JBT0NGWmw5ekFRSkhRUk9NR1hHWEF0Q2I2UUJBUFJNU0ZNQVAxQkJITUNnRlpSYkdYR1hBTUNhOU1RQkFQQ0ZKUk1TRk1BUDFCRkhNQ2dCWkNPV0FiQ2dCWnFSYkdYQU1DYTlNUUJBUENHSlJNU0ZNQVAxQkdITUNnQlpDZldBYnFSYkdYQU1DYTlNUUJBUENFSlJNU0ZNQVAxQkVITUNnQlpDZFdBYnFSYkdYQU1DYTlNUUJBUENJSlJNU0ZNQVBDTEpSTUFQMkJJQzhjV0FicVJiTUFiQ0ZyQ0JBYkNGWmw5ekFRSkhRUmJNR1hHWEFHQ0c5SFFCQUJBVDg3RkJBQkNJSkFiODdGQkFCQ0dKQU84N0ZCU0ZNQUVBVGpHQkFFQ05KQWJqR0JBRUNJSkFPakdCTUFMQ29CSkFLQ0VXSkhZQU9qR0JBWUFUakdJQUxBSUNHV0pBVGpHQkFMQ29CSkFLQ0ZKQ2JaQ0VXSkhZQWJqR0JBWUFPakdJQUxBSUNGSkhJQ2JaQ0dXSkFPakdCQUxDb0JKQUtDR0pDYlpDRVdKSE9BVGpHQkFPQWJqR0lBTEFJQW05RkFtQ2I2cUpISUNiWkNHV0pBYmpHQkFJQXQ5RkF0Q2I2cUpSSUFLQ0VKUktNQU5DRkpSTkFCQ0tKUkJBRUNTSlJFQUtDYlpSS0FJQ2JaUklBZkNFSkhmQUY5SlFCTU1DQkM5OUFNQWM2eVJLTUFMQ29GSjhrVVVVVUJBS00vdElGR2E4alVVVVVCQ1RsUkxDOStSS0dYQUZDTEpBSTlMUUJDYVJLQUUyQkJDLytGWkMvUUY5SFFCQUxoQjgzRU5BRUNGSlJLQUVBSUpDOThKUkVHWEFGOUZRQkdYQUdDRzZRQkVYR1hBS0FFOUpRQkM5K2JNQUsxQkJIR0NnRlpSSUdYR1hBR0NhOU1RQkFLQ0ZKUktTRk1BSzFCRkhHQ2dCWkNPV0FJQ2dCWnFSSUdYQUdDYTlNUUJBS0NHSlJLU0ZNQUsxQkdIR0NnQlpDZldBSXFSSUdYQUdDYTlNUUJBS0NFSlJLU0ZNQUsxQkVIR0NnQlpDZFdBSXFSSUdYQUdDYTlNUUJBS0NJSlJLU0ZNQUsyQklDOGNXQUlxUklBS0NMSlJLTUFMQ05KQUlDRlpDR1dxSEdBSUNHckNCQUlDRnJDRlpsOXpBRzhvR0JKSElqR0JBQkFJakdCQUJDSUpSQkFGQ2FKSEZRQlNHTU1FWEdYQUtBRTlKUUJDOStiTUFLMUJCSEdDZ0ZaUklHWEdYQUdDYTlNUUJBS0NGSlJLU0ZNQUsxQkZIR0NnQlpDT1dBSUNnQlpxUklHWEFHQ2E5TVFCQUtDR0pSS1NGTUFLMUJHSEdDZ0JaQ2ZXQUlxUklHWEFHQ2E5TVFCQUtDRUpSS1NGTUFLMUJFSEdDZ0JaQ2RXQUlxUklHWEFHQ2E5TVFCQUtDSUpSS1NGTUFLMkJJQzhjV0FJcVJJQUtDTEpSS01BQkFJQ0dyQ0JBSUNGckNGWmw5ekFMQ05KQUlDRlpDR1dxSEk4b0dCSkhHODdGQkFJQUdqR0JBQkNHSlJCQUZDYUpIRlFCTU1DQkM5OUFLQUU2eVJLTUFLTS94TEdFYUs5NzhqVVVVVUJDQWxIRThrVVVVVUJHWEdYQUdDSTlIUUJHWEFGQzk4WkhJOUZRQkFCUkdDQlJMRVhBR0FHREJCQkhLQ2lEK3JGQ2lEK3NGRC82RkhPQUtDTkQrckZDaUQrc0ZELzZGQU9EL2dGQUtDVEQrckZDaUQrc0ZELzZGSE5EL2dGRC9rRkQvbEZIVkNCRHREKzJGSGNBT0NVVVVVOTREdEhNRDlPRDlSRC9rRkhPOURCQi8raERZQU9BT0QvbUZBVkFWRC9tRkFOQWNBTkFNRDlPRDlSRC9rRkhPQU9EL21GRC9rRkQva0ZEL2pGRC9uRkhORC9tRjlEQkJYOUxEWUhjRC9rRkNnRkR0RDlPQUtDVVVVOTREdEQ5T0Q5UUFPQU5EL21GQWNEL2tGQ05EK3JGQ1UvK0VEdEQ5T0Q5UUFWQU5EL21GQWNEL2tGQ1REK3JGQ1VVLzhPRHREOU9EOVFETUJCQUdDVEpSR0FMQ0lKSExBSTlKUUJNTUFJQUY5UFFGQUVBRkNFWkhMQ0dXSEdxQ0JDVEFHbC84TUJBRUFCQUlDR1dKSElBRy84Y0JCR1hBTDlGUUJBRUFFREJJQkhLQ2lEK3JGQ2lEK3NGRC82RkhPQUtDTkQrckZDaUQrc0ZELzZGQU9EL2dGQUtDVEQrckZDaUQrc0ZELzZGSE5EL2dGRC9rRkQvbEZIVkNCRHREKzJGSGNBT0NVVVVVOTREdEhNRDlPRDlSRC9rRkhPOURCQi8raERZQU9BT0QvbUZBVkFWRC9tRkFOQWNBTkFNRDlPRDlSRC9rRkhPQU9EL21GRC9rRkQva0ZEL2pGRC9uRkhORC9tRjlEQkJYOUxEWUhjRC9rRkNnRkR0RDlPQUtDVVVVOTREdEQ5T0Q5UUFPQU5EL21GQWNEL2tGQ05EK3JGQ1UvK0VEdEQ5T0Q5UUFWQU5EL21GQWNEL2tGQ1REK3JGQ1VVLzhPRHREOU9EOVFETUlCTUFJQUVBRy84Y0JCU0ZNQUJBRkM5OFpIR1QrSFVVVUJBR0FGOVBRQkFFQUZDRVpISUNFV0hMSkNCQ0FBTGwvOE1CQUVBQkFHQ0VXSkhHQUwvOGNCQkFFQUlUK0hVVVVCQUdBRUFMLzhjQkJNQUVDQUo4a1VVVVVCTSt5RUdHYU85N0dYQUY5RlFCQ0JSR0VYQUJDVEpIRUFFREJCQkhJQ0JEdEhMQ1VVOThEOGNGQ1VVOThEOGNFSEtEOU9BQkRCQkJIT0FJRFFJTEtPU1FmYlBkZW44YzhkOGU4ZkNnZ0ZEdEQ5T0QvNkZBT0FJRFFCRkdFTlZjTVR0bVlpOFpweUhJQ1REK3NGRC82RkhORC9nRkFJQ1REK3JGQ1REK3NGRC82RkhWRC9nRkQva0ZEL2xGSEk5REIvK2c2RFlBVkFJQUxEKzJGSExBVkNVVVVVOTREdEhjRDlPRDlSRC9rRkhWQVZEL21GQUlBSUQvbUZBTkFMQU5BY0Q5T0Q5UkQva0ZISUFJRC9tRkQva0ZEL2tGRC9qRkQvbkZITkQvbUY5REJCWDlMRFlITEQva0ZDVEQrckZBVkFORC9tRkFMRC9rRkNnZ0VEdEQ5T0Q5UUhWQUlBTkQvbUZBTEQva0ZDYURiQ0JEbkdDQkRuRUNCRG5LQ0JEbk9DQkRuY0NCRG5NQ0JEbmZDQkRuYkQ5T0hJRFFOVmk4WmNNcHlTUThjOGRmYjhlOGZEOVFETUJCQUJBT0FLRDlPQVZBSURRQkZUdEdFbVlJTFBkS09lbkQ5UURNQkJBQkNBSlJCQUdDSUpIR0FGOUpRQk1NTTk0RkVhOGpVVVVVQkNBbEhFOGtVVVVVQkFCQUZDOThaSElUK0pVVVVCR1hBSUFGOVBRQkFFQUZDRVpITENFV0hGSkNCQ0FBRmwvOE1CQUVBQkFJQ0VXSkhCQUYvOGNCQkFFQUxUK0pVVVVCQUJBRUFGLzhjQkJNQUVDQUo4a1VVVVVCTS9oRUlHYUY5N0ZhTDk3OGpVVVVVQkNUbFJHR1hBRjlGUUJDQlJFRVhBR0FCREJCQkhJQUJDVEpITERCQkJIS0RRSUxLT1NRZmJQZGVuOGM4ZDhlOGZIT0NURCtzRkhOQ0lEK3JGRE1JQkFCOURCQlU4L0RZOUQvekk4MTgvRFlBTkNFRHREOVFELzZGRC9uRkhOQUlBS0RRQkZHRU5WY01UdG1ZaThacHlISUNURCtyRkNURCtzRkQvNkZEL21GSEtBS0QvbUZBTkFJQ1REK3NGRC82RkQvbUZIVkFWRC9tRkFOQU9DVEQrckZDVEQrc0ZELzZGRC9tRkhPQU9EL21GRC9rRkQva0ZEL2xGQ0JEdEQrNEZEL2pGOURCLytnNkRZSE5EL21GOURCQlg5TERZSElEL2tGQ2dnRUR0SGNEOU9BVkFORC9tRkFJRC9rRkNURCtyRkQ5UUhWQU9BTkQvbUZBSUQva0ZDVEQrckZBS0FORC9tRkFJRC9rRkFjRDlPRDlRSE5EUUJGVHRHRW1ZSUxQZEtPZW5ISUQ4ZEJBR0RCSUJEeUIrdCtKODNFQkFCQ05KQUlEOGRGQUdEQklCRHlGK3QrSjgzRUJBTEFWQU5EUU5WaThaY01weVNROGM4ZGZiOGU4ZkhORDhkQkFHREJJQkR5Ryt0K0o4M0VCQUJDaUpBTkQ4ZEZBR0RCSUJEeUUrdCtKODNFQkFCQ0FKUkJBRUNJSkhFQUY5SlFCTU1NLzNGR0VhRjk3OGpVVVVVQkNvQmxSRUdYQUdDR3JBRjlzSElDOThaSEw5RlFCQ0JSR0FCUkZFWEFGQUZEQkJCSEtDTkQrckZDTkQrc0ZELzZGQUtDaUQrc0ZDbkQrckZDVVVVLzhFRHREK3VGRC9tRkRNQkJBRkNUSlJGQUdDSUpIR0FMOUpRQk1NR1hBTEFJOVBRQkFFQUlDRVpIR0NHV0hGcUNCQ29CQUZsLzhNQkFFQUJBTENHV0pITEFGLzhjQkJHWEFHOUZRQkFFQUVEQklCSEtDTkQrckZDTkQrc0ZELzZGQUtDaUQrc0ZDbkQrckZDVVVVLzhFRHREK3VGRC9tRkRNSUJNQUxBRUFGLzhjQkJNTTlURkVhQ0JDQjhvR1VrVVVCSEZBQkNFSkM5OFpKSEJqR1VrVVVCR1hHWEFCOC9CQ1RXSEd1UUJDYVJFQUJBR2xDZ2dFSkNUclhCQ2E2UUZNQUZSRU1BRU1NTUZCQ1VOTUlUOXRCQic7XG4vLyBVc2VzIGJ1bGstbWVtb3J5IGFuZCBzaW1kIGV4dGVuc2lvbnNcbmNvbnN0IGRldGVjdG9yID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgIDAsIDk3LCAxMTUsIDEwOSwgMSwgMCwgMCwgMCwgMSwgNCwgMSwgOTYsIDAsIDAsIDMsIDMsIDIsIDAsIDAsIDUsIDMsIDEsIDAsIDEsIDEyLCAxLCAwLCAxMCwgMjIsIDIsXG4gICAgMTIsIDAsIDY1LCAwLCA2NSwgMCwgNjUsIDAsIDI1MiwgMTAsIDAsIDAsIDExLCA3LCAwLCA2NSwgMCwgMjUzLCAxNSwgMjYsIDExXG5dKTtcbi8vIFVzZWQgdG8gdW5wYWNrIHdhc21cbmNvbnN0IHdhc21wYWNrID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgIDMyLCAwLCA2NSwgMjUzLCAzLCAxLCAyLCAzNCwgNCwgMTA2LCA2LCA1LCAxMSwgOCwgNywgMjAsIDEzLCAzMywgMTIsIDE2LCAxMjgsIDksIDExNiwgNjQsIDE5LCAxMTMsXG4gICAgMTI3LCAxNSwgMTAsIDIxLCAyMiwgMTQsIDI1NSwgNjYsIDI0LCA1NCwgMTM2LCAxMDcsIDE4LCAyMywgMTkyLCAyNiwgMTE0LCAxMTgsIDEzMiwgMTcsIDc3LCAxMDEsXG4gICAgMTMwLCAxNDQsIDI3LCA4NywgMTMxLCA0NCwgNDUsIDc0LCAxNTYsIDE1NCwgNzAsIDE2N1xuXSk7XG5jb25zdCBGSUxURVJTID0ge1xuICAgIC8vIGxlZ2FjeSBpbmRleC1iYXNlZCBlbnVtcyBmb3IgZ2xURlxuICAgIDA6ICcnLFxuICAgIDE6ICdtZXNob3B0X2RlY29kZUZpbHRlck9jdCcsXG4gICAgMjogJ21lc2hvcHRfZGVjb2RlRmlsdGVyUXVhdCcsXG4gICAgMzogJ21lc2hvcHRfZGVjb2RlRmlsdGVyRXhwJyxcbiAgICAvLyBzdHJpbmctYmFzZWQgZW51bXMgZm9yIGdsVEZcbiAgICBOT05FOiAnJyxcbiAgICBPQ1RBSEVEUkFMOiAnbWVzaG9wdF9kZWNvZGVGaWx0ZXJPY3QnLFxuICAgIFFVQVRFUk5JT046ICdtZXNob3B0X2RlY29kZUZpbHRlclF1YXQnLFxuICAgIEVYUE9ORU5USUFMOiAnbWVzaG9wdF9kZWNvZGVGaWx0ZXJFeHAnXG59O1xuY29uc3QgREVDT0RFUlMgPSB7XG4gICAgLy8gbGVnYWN5IGluZGV4LWJhc2VkIGVudW1zIGZvciBnbFRGXG4gICAgMDogJ21lc2hvcHRfZGVjb2RlVmVydGV4QnVmZmVyJyxcbiAgICAxOiAnbWVzaG9wdF9kZWNvZGVJbmRleEJ1ZmZlcicsXG4gICAgMjogJ21lc2hvcHRfZGVjb2RlSW5kZXhTZXF1ZW5jZScsXG4gICAgLy8gc3RyaW5nLWJhc2VkIGVudW1zIGZvciBnbFRGXG4gICAgQVRUUklCVVRFUzogJ21lc2hvcHRfZGVjb2RlVmVydGV4QnVmZmVyJyxcbiAgICBUUklBTkdMRVM6ICdtZXNob3B0X2RlY29kZUluZGV4QnVmZmVyJyxcbiAgICBJTkRJQ0VTOiAnbWVzaG9wdF9kZWNvZGVJbmRleFNlcXVlbmNlJ1xufTtcbmV4cG9ydCBmdW5jdGlvbiBpc01lc2hvcHRTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIGlzV2ViQXNzZW1ibHlTdXBwb3J0ZWQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWVzaG9wdERlY29kZVZlcnRleEJ1ZmZlcih0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UsIGZpbHRlciA9ICdOT05FJykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gYXdhaXQgbG9hZFdhc21JbnN0YW5jZSgpO1xuICAgIGRlY29kZShpbnN0YW5jZSwgaW5zdGFuY2UuZXhwb3J0cy5tZXNob3B0X2RlY29kZVZlcnRleEJ1ZmZlciwgdGFyZ2V0LCBjb3VudCwgc2l6ZSwgc291cmNlLCBpbnN0YW5jZS5leHBvcnRzW0ZJTFRFUlNbZmlsdGVyXV0pO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1lc2hvcHREZWNvZGVJbmRleEJ1ZmZlcih0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGF3YWl0IGxvYWRXYXNtSW5zdGFuY2UoKTtcbiAgICBkZWNvZGUoaW5zdGFuY2UsIGluc3RhbmNlLmV4cG9ydHMubWVzaG9wdF9kZWNvZGVJbmRleEJ1ZmZlciwgdGFyZ2V0LCBjb3VudCwgc2l6ZSwgc291cmNlKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtZXNob3B0RGVjb2RlSW5kZXhTZXF1ZW5jZSh0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGF3YWl0IGxvYWRXYXNtSW5zdGFuY2UoKTtcbiAgICBkZWNvZGUoaW5zdGFuY2UsIGluc3RhbmNlLmV4cG9ydHMubWVzaG9wdF9kZWNvZGVJbmRleFNlcXVlbmNlLCB0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UpO1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1wYXJhbXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtZXNob3B0RGVjb2RlR2x0ZkJ1ZmZlcih0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UsIG1vZGUsIGZpbHRlciA9ICdOT05FJykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gYXdhaXQgbG9hZFdhc21JbnN0YW5jZSgpO1xuICAgIGRlY29kZShpbnN0YW5jZSwgaW5zdGFuY2UuZXhwb3J0c1tERUNPREVSU1ttb2RlXV0sIHRhcmdldCwgY291bnQsIHNpemUsIHNvdXJjZSwgaW5zdGFuY2UuZXhwb3J0c1tGSUxURVJTW2ZpbHRlciB8fCAnTk9ORSddXSk7XG59XG5sZXQgd2FzbVByb21pc2U7XG5hc3luYyBmdW5jdGlvbiBsb2FkV2FzbUluc3RhbmNlKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGlmICghd2FzbVByb21pc2UpIHtcbiAgICAgICAgd2FzbVByb21pc2UgPSBsb2FkV2FzbU1vZHVsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gd2FzbVByb21pc2U7XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkV2FzbU1vZHVsZSgpIHtcbiAgICBsZXQgd2FzbSA9IHdhc21fYmFzZTtcbiAgICBpZiAoV2ViQXNzZW1ibHkudmFsaWRhdGUoZGV0ZWN0b3IpKSB7XG4gICAgICAgIHdhc20gPSB3YXNtX3NpbWQ7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUubG9nKCdXYXJuaW5nOiBtZXNob3B0X2RlY29kZXIgaXMgdXNpbmcgZXhwZXJpbWVudGFsIFNJTUQgc3VwcG9ydCcpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSh1bnBhY2sod2FzbSksIHt9KTtcbiAgICBhd2FpdCByZXN1bHQuaW5zdGFuY2UuZXhwb3J0cy5fX3dhc21fY2FsbF9jdG9ycygpO1xuICAgIHJldHVybiByZXN1bHQuaW5zdGFuY2U7XG59XG5mdW5jdGlvbiB1bnBhY2soZGF0YSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgY2ggPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIHJlc3VsdFtpXSA9IGNoID4gOTYgPyBjaCAtIDcxIDogY2ggPiA2NCA/IGNoIC0gNjUgOiBjaCA+IDQ3ID8gY2ggKyA0IDogY2ggPiA0NiA/IDYzIDogNjI7XG4gICAgfVxuICAgIGxldCB3cml0ZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc3VsdFt3cml0ZSsrXSA9IHJlc3VsdFtpXSA8IDYwID8gd2FzbXBhY2tbcmVzdWx0W2ldXSA6IChyZXN1bHRbaV0gLSA2MCkgKiA2NCArIHJlc3VsdFsrK2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmJ1ZmZlci5zbGljZSgwLCB3cml0ZSk7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuZnVuY3Rpb24gZGVjb2RlKGluc3RhbmNlLCBmdW4sIHRhcmdldCwgY291bnQsIHNpemUsIHNvdXJjZSwgZmlsdGVyKSB7XG4gICAgY29uc3Qgc2JyayA9IGluc3RhbmNlLmV4cG9ydHMuc2JyaztcbiAgICBjb25zdCBjb3VudDQgPSAoY291bnQgKyAzKSAmIH4zOyAvLyBwYWQgZm9yIFNJTUQgZmlsdGVyXG4gICAgY29uc3QgdHAgPSBzYnJrKGNvdW50NCAqIHNpemUpO1xuICAgIGNvbnN0IHNwID0gc2Jyayhzb3VyY2UubGVuZ3RoKTtcbiAgICBjb25zdCBoZWFwID0gbmV3IFVpbnQ4QXJyYXkoaW5zdGFuY2UuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKTtcbiAgICBoZWFwLnNldChzb3VyY2UsIHNwKTtcbiAgICBjb25zdCByZXMgPSBmdW4odHAsIGNvdW50LCBzaXplLCBzcCwgc291cmNlLmxlbmd0aCk7XG4gICAgaWYgKHJlcyA9PT0gMCAmJiBmaWx0ZXIpIHtcbiAgICAgICAgZmlsdGVyKHRwLCBjb3VudDQsIHNpemUpO1xuICAgIH1cbiAgICB0YXJnZXQuc2V0KGhlYXAuc3ViYXJyYXkodHAsIHRwICsgY291bnQgKiBzaXplKSk7XG4gICAgc2Jyayh0cCAtIHNicmsoMCkpO1xuICAgIGlmIChyZXMgIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYWxmb3JtZWQgYnVmZmVyIGRhdGE6ICR7cmVzfWApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IG1lc2hvcHREZWNvZGVHbHRmQnVmZmVyIH0gZnJvbSBcIi4uLy4uL21lc2hvcHQvbWVzaG9wdC1kZWNvZGVyLmpzXCI7XG4vLyBAdHMtaWdub3JlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbmNvbnN0IERFRkFVTFRfTUVTSE9QVF9PUFRJT05TID0ge1xuICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgZmlsdGVyOiAnTk9ORSdcbn07XG4vKiogRXh0ZW5zaW9uIG5hbWUgKi9cbmNvbnN0IEVYVF9NRVNIT1BUX0NPTVBSRVNTSU9OID0gJ0VYVF9tZXNob3B0X2NvbXByZXNzaW9uJztcbmV4cG9ydCBjb25zdCBuYW1lID0gRVhUX01FU0hPUFRfQ09NUFJFU1NJT047XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVjb2RlKGdsdGZEYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgaWYgKCFvcHRpb25zPy5nbHRmPy5kZWNvbXByZXNzTWVzaGVzIHx8ICFvcHRpb25zLmdsdGY/LmxvYWRCdWZmZXJzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGJ1ZmZlclZpZXdJbmRleCBvZiBnbHRmRGF0YS5qc29uLmJ1ZmZlclZpZXdzIHx8IFtdKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goZGVjb2RlTWVzaG9wdEJ1ZmZlclZpZXcoc2NlbmVncmFwaCwgYnVmZmVyVmlld0luZGV4KSk7XG4gICAgfVxuICAgIC8vIERlY29tcHJlc3MgbWVzaGVzIGluIHBhcmFsbGVsXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIC8vIFdlIGhhdmUgbm93IGRlY29tcHJlc3NlZCBhbGwgcHJpbWl0aXZlcywgc28gcmVtb3ZlIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uXG4gICAgc2NlbmVncmFwaC5yZW1vdmVFeHRlbnNpb24oRVhUX01FU0hPUFRfQ09NUFJFU1NJT04pO1xufVxuLyoqIERlY29kZSBvbmUgbWVzaG9wdCBidWZmZXIgdmlldyAqL1xuYXN5bmMgZnVuY3Rpb24gZGVjb2RlTWVzaG9wdEJ1ZmZlclZpZXcoc2NlbmVncmFwaCwgYnVmZmVyVmlldykge1xuICAgIGNvbnN0IG1lc2hvcHRFeHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldE9iamVjdEV4dGVuc2lvbihidWZmZXJWaWV3LCBFWFRfTUVTSE9QVF9DT01QUkVTU0lPTik7XG4gICAgaWYgKG1lc2hvcHRFeHRlbnNpb24pIHtcbiAgICAgICAgY29uc3QgeyBieXRlT2Zmc2V0ID0gMCwgYnl0ZUxlbmd0aCA9IDAsIGJ5dGVTdHJpZGUsIGNvdW50LCBtb2RlLCBmaWx0ZXIgPSAnTk9ORScsIGJ1ZmZlcjogYnVmZmVySW5kZXggfSA9IG1lc2hvcHRFeHRlbnNpb247XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHNjZW5lZ3JhcGguZ2x0Zi5idWZmZXJzW2J1ZmZlckluZGV4XTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLmFycmF5QnVmZmVyLCBidWZmZXIuYnl0ZU9mZnNldCArIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShzY2VuZWdyYXBoLmdsdGYuYnVmZmVyc1tidWZmZXJWaWV3LmJ1ZmZlcl0uYXJyYXlCdWZmZXIsIGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCwgYnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcbiAgICAgICAgYXdhaXQgbWVzaG9wdERlY29kZUdsdGZCdWZmZXIocmVzdWx0LCBjb3VudCwgYnl0ZVN0cmlkZSwgc291cmNlLCBtb2RlLCBmaWx0ZXIpO1xuICAgICAgICBzY2VuZWdyYXBoLnJlbW92ZU9iamVjdEV4dGVuc2lvbihidWZmZXJWaWV3LCBFWFRfTUVTSE9QVF9DT01QUkVTU0lPTik7XG4gICAgfVxufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuY29uc3QgTUlNRV9UWVBFUyA9IFtcbiAgICAnaW1hZ2UvcG5nJyxcbiAgICAnaW1hZ2UvanBlZycsXG4gICAgJ2ltYWdlL2dpZicsXG4gICAgJ2ltYWdlL3dlYnAnLFxuICAgICdpbWFnZS9hdmlmJyxcbiAgICAnaW1hZ2UvdGlmZicsXG4gICAgLy8gVE9ETyAtIHdoYXQgaXMgdGhlIGNvcnJlY3QgdHlwZSBmb3IgU1ZHXG4gICAgJ2ltYWdlL3N2ZycsXG4gICAgJ2ltYWdlL3N2Zyt4bWwnLFxuICAgICdpbWFnZS9ibXAnLFxuICAgICdpbWFnZS92bmQubWljcm9zb2Z0Lmljb24nXG5dO1xuLyoqIE9ubHkgb25lIHJvdW5kIG9mIHRlc3RzIGlzIHBlcmZvcm1lZCAqL1xuY29uc3QgbWltZVR5cGVTdXBwb3J0ZWRQcm9taXNlID0gbnVsbDtcbi8qKiBSdW4tdGltZSBicm93c2VyIGRldGVjdGlvbiBvZiBmaWxlIGZvcm1hdHMgcmVxdWlyZXMgYXN5bmMgdGVzdHMgZm9yIG1vc3QgcHJlY2lzZSByZXN1bHRzICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3VwcG9ydGVkSW1hZ2VGb3JtYXRzKCkge1xuICAgIGlmIChtaW1lVHlwZVN1cHBvcnRlZFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IG1pbWVUeXBlU3VwcG9ydGVkUHJvbWlzZTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydGVkTWltZVR5cGVzID0gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3QgbWltZVR5cGUgb2YgTUlNRV9UWVBFUykge1xuICAgICAgICBjb25zdCBzdXBwb3J0ZWQgPSBpc0Jyb3dzZXJcbiAgICAgICAgICAgID8gYXdhaXQgY2hlY2tCcm93c2VySW1hZ2VGb3JtYXRTdXBwb3J0QXN5bmMobWltZVR5cGUpXG4gICAgICAgICAgICA6IGNoZWNrTm9kZUltYWdlRm9ybWF0U3VwcG9ydChtaW1lVHlwZSk7XG4gICAgICAgIGlmIChzdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHN1cHBvcnRlZE1pbWVUeXBlcy5hZGQobWltZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBwb3J0ZWRNaW1lVHlwZXM7XG59XG4vKiogQ2FjaGUgc3luYyB2YWx1ZXMgZm9yIHNwZWVkICovXG5jb25zdCBtaW1lVHlwZVN1cHBvcnRlZFN5bmMgPSB7fTtcbi8qKlxuICogQ2hlY2sgaWYgaW1hZ2UgTUlNRSB0eXBlIGlzIHN1cHBvcnRlZC4gUmVzdWx0IGlzIGNhY2hlZCB0byBhdm9pZCByZXBlYXRlZCB0ZXN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW1hZ2VGb3JtYXRTdXBwb3J0ZWQobWltZVR5cGUpIHtcbiAgICBpZiAobWltZVR5cGVTdXBwb3J0ZWRTeW5jW21pbWVUeXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHN1cHBvcnRlZCA9IGlzQnJvd3NlclxuICAgICAgICAgICAgPyBjaGVja0Jyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQobWltZVR5cGUpXG4gICAgICAgICAgICA6IGNoZWNrTm9kZUltYWdlRm9ybWF0U3VwcG9ydChtaW1lVHlwZSk7XG4gICAgICAgIG1pbWVUeXBlU3VwcG9ydGVkU3luY1ttaW1lVHlwZV0gPSBzdXBwb3J0ZWQ7XG4gICAgfVxuICAgIHJldHVybiBtaW1lVHlwZVN1cHBvcnRlZFN5bmNbbWltZVR5cGVdO1xufVxuLyoqXG4gKiBDaGVja3MgdGhhdCBwb2x5ZmlsbHMgYXJlIGluc3RhbGxlZCBhbmQgdGhhdCBtaW1lVHlwZSBpcyBzdXBwb3J0ZWQgYnkgcG9seWZpbGxzXG4gKiBAdG9kbyBJZGVhbGx5IHBvbHlmaWxscyBzaG91bGQgZGVjbGFyZSB3aGF0IGZvcm1hdHMgdGhleSBzdXBwb3J0LCBpbnN0ZWFkIG9mIHN0b3JpbmcgdGhhdCBkYXRhIGhlcmUuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrTm9kZUltYWdlRm9ybWF0U3VwcG9ydChtaW1lVHlwZSkge1xuICAgIGNvbnN0IE5PREVfRk9STUFUX1NVUFBPUlQgPSBbJ2ltYWdlL3BuZycsICdpbWFnZS9qcGVnJywgJ2ltYWdlL2dpZiddO1xuICAgIGNvbnN0IGltYWdlRm9ybWF0c05vZGUgPSBnbG9iYWxUaGlzLmxvYWRlcnM/LmltYWdlRm9ybWF0c05vZGUgfHwgTk9ERV9GT1JNQVRfU1VQUE9SVDtcbiAgICBjb25zdCBwYXJzZUltYWdlTm9kZSA9IGdsb2JhbFRoaXMubG9hZGVycz8ucGFyc2VJbWFnZU5vZGU7XG4gICAgcmV0dXJuIEJvb2xlYW4ocGFyc2VJbWFnZU5vZGUpICYmIGltYWdlRm9ybWF0c05vZGUuaW5jbHVkZXMobWltZVR5cGUpO1xufVxuLyoqIENoZWNrcyBpbWFnZSBmb3JtYXQgc3VwcG9ydCBzeW5jaHJvbm91c2x5LlxuICogQG5vdGUgVW5yZWxpYWJsZSwgZmFpbHMgb24gQVZJRlxuICovXG5mdW5jdGlvbiBjaGVja0Jyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQobWltZVR5cGUpIHtcbiAgICBzd2l0Y2ggKG1pbWVUeXBlKSB7XG4gICAgICAgIGNhc2UgJ2ltYWdlL2F2aWYnOiAvLyBXaWxsIGZhaWxcbiAgICAgICAgY2FzZSAnaW1hZ2Uvd2VicCc6XG4gICAgICAgICAgICByZXR1cm4gdGVzdEJyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQobWltZVR5cGUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuY29uc3QgVEVTVF9JTUFHRSA9IHtcbiAgICAnaW1hZ2UvYXZpZic6ICdkYXRhOmltYWdlL2F2aWY7YmFzZTY0LEFBQUFJR1owZVhCaGRtbG1BQUFBQUdGMmFXWnRhV1l4YldsaFprMUJNVUlBQUFEeWJXVjBZUUFBQUFBQUFBQW9hR1JzY2dBQUFBQUFBQUFBY0dsamRBQUFBQUFBQUFBQUFBQUFBR3hwWW1GMmFXWUFBQUFBRG5CcGRHMEFBQUFBQUFFQUFBQWVhV3h2WXdBQUFBQkVBQUFCQUFFQUFBQUJBQUFCR2dBQUFCMEFBQUFvYVdsdVpnQUFBQUFBQVFBQUFCcHBibVpsQWdBQUFBQUJBQUJoZGpBeFEyOXNiM0lBQUFBQWFtbHdjbkFBQUFCTGFYQmpid0FBQUJScGMzQmxBQUFBQUFBQUFBSUFBQUFDQUFBQUVIQnBlR2tBQUFBQUF3Z0lDQUFBQUF4aGRqRkRnUTBNQUFBQUFCTmpiMnh5Ym1Oc2VBQUNBQUlBQVlBQUFBQVhhWEJ0WVFBQUFBQUFBQUFCQUFFRUFRS0RCQUFBQUNWdFpHRjBFZ0FLQ0JnQU5vZ1FFQXdnTWc4ZjhELy8vOFdmaHdCOCtFcks0MkE9JyxcbiAgICAvLyBMb3NzeSB0ZXN0IGltYWdlLiBTdXBwb3J0IGZvciBsb3NzeSBpbWFnZXMgZG9lc24ndCBndWFyYW50ZWUgc3VwcG9ydCBmb3IgYWxsIFdlYlAgaW1hZ2VzLlxuICAgICdpbWFnZS93ZWJwJzogJ2RhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JpSUFBQUJYUlVKUVZsQTRJQllBQUFBd0FRQ2RBU29CQUFFQURzRCtKYVFBQTNBQUFBQUEnXG59O1xuLyoqIENoZWNrcyBXZWJQIGFuZCBBVklGIHN1cHBvcnQgYXN5bmNocm9ub3VzbHkgKi9cbmFzeW5jIGZ1bmN0aW9uIGNoZWNrQnJvd3NlckltYWdlRm9ybWF0U3VwcG9ydEFzeW5jKG1pbWVUeXBlKSB7XG4gICAgY29uc3QgZGF0YVVSTCA9IFRFU1RfSU1BR0VbbWltZVR5cGVdO1xuICAgIHJldHVybiBkYXRhVVJMID8gYXdhaXQgdGVzdEJyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnRBc3luYyhkYXRhVVJMKSA6IHRydWU7XG59XG4vKipcbiAqIENoZWNrcyBicm93c2VyIHN5bmNocm9ub3VzbHlcbiAqIENoZWNrcyBpZiB0b0RhdGFVUkwgc3VwcG9ydHMgdGhlIG1pbWVUeXBlLlxuICogQG5vdGUgSW1wZXJmZWN0IHRlc3RPbiBDaHJvbWUgdGhpcyBpcyB0cnVlIGZvciBXZWJQIGJ1dCBub3QgZm9yIEFWSUZcbiAqL1xuZnVuY3Rpb24gdGVzdEJyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQobWltZVR5cGUpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnN0IGRhdGFVUkwgPSBlbGVtZW50LnRvRGF0YVVSTChtaW1lVHlwZSk7XG4gICAgICAgIHJldHVybiBkYXRhVVJMLmluZGV4T2YoYGRhdGE6JHttaW1lVHlwZX1gKSA9PT0gMDtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICAvLyBQcm9iYWJseSBTYWZhcmkuLi5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8vIENoZWNrIFdlYlBTdXBwb3J0IGFzeW5jaHJvbm91c2x5XG5hc3luYyBmdW5jdGlvbiB0ZXN0QnJvd3NlckltYWdlRm9ybWF0U3VwcG9ydEFzeW5jKHRlc3RJbWFnZURhdGFVUkwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gdGVzdEltYWdlRGF0YVVSTDtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4gcmVzb2x2ZShpbWFnZS5oZWlnaHQgPiAwKTtcbiAgICAgICAgaW1hZ2Uub25lcnJvciA9ICgpID0+IHJlc29sdmUoZmFsc2UpO1xuICAgIH0pO1xufVxuIiwiLy8gR0xURiBFWFRFTlNJT046IEVYVF9URVhUVVJFX1dFQlBcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0VYVF9URVhUVVJFX1dFQlBcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0IHsgaXNJbWFnZUZvcm1hdFN1cHBvcnRlZCB9IGZyb20gJ0Bsb2FkZXJzLmdsL2ltYWdlcyc7XG5pbXBvcnQgeyBHTFRGU2NlbmVncmFwaCB9IGZyb20gXCIuLi9hcGkvZ2x0Zi1zY2VuZWdyYXBoLmpzXCI7XG5jb25zdCBFWFRfVEVYVFVSRV9XRUJQID0gJ0VYVF90ZXh0dXJlX3dlYnAnO1xuLyoqIEV4dGVuc2lvbiBuYW1lICovXG5leHBvcnQgY29uc3QgbmFtZSA9IEVYVF9URVhUVVJFX1dFQlA7XG4vKipcbiAqIFJlcGxhY2VzIGEgdGV4dHVyZSBzb3VyY2UgcmVmZXJlbmNlIHdpdGggdGhlIGV4dGVuc2lvbiB0ZXh0dXJlXG4gKiBEb25lIGluIHByZXByb2Nlc3MoKSB0byBwcmV2ZW50IGxvYWQgb2YgZGVmYXVsdCBpbWFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcHJvY2VzcyhnbHRmRGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHNjZW5lZ3JhcGggPSBuZXcgR0xURlNjZW5lZ3JhcGgoZ2x0ZkRhdGEpO1xuICAgIGlmICghaXNJbWFnZUZvcm1hdFN1cHBvcnRlZCgnaW1hZ2Uvd2VicCcpKSB7XG4gICAgICAgIGlmIChzY2VuZWdyYXBoLmdldFJlcXVpcmVkRXh0ZW5zaW9ucygpLmluY2x1ZGVzKEVYVF9URVhUVVJFX1dFQlApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGdsdGY6IFJlcXVpcmVkIGV4dGVuc2lvbiAke0VYVF9URVhUVVJFX1dFQlB9IG5vdCBzdXBwb3J0ZWQgYnkgYnJvd3NlcmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBqc29uIH0gPSBzY2VuZWdyYXBoO1xuICAgIGZvciAoY29uc3QgdGV4dHVyZSBvZiBqc29uLnRleHR1cmVzIHx8IFtdKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKHRleHR1cmUsIEVYVF9URVhUVVJFX1dFQlApO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gaWYgbXVsdGlwbGUgdGV4dHVyZSBleHRlbnNpb25zIGFyZSBwcmVzZW50IHdoaWNoIG9uZSB3aW5zP1xuICAgICAgICAgICAgdGV4dHVyZS5zb3VyY2UgPSBleHRlbnNpb24uc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIHNjZW5lZ3JhcGgucmVtb3ZlT2JqZWN0RXh0ZW5zaW9uKHRleHR1cmUsIEVYVF9URVhUVVJFX1dFQlApO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIHRvcC1sZXZlbCBleHRlbnNpb25cbiAgICBzY2VuZWdyYXBoLnJlbW92ZUV4dGVuc2lvbihFWFRfVEVYVFVSRV9XRUJQKTtcbn1cbiIsIi8vIEdMVEYgRVhURU5TSU9OOiBLSFJfdGV4dHVyZV9iYXNpc3Vcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21haW4vZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV9iYXNpc3Vcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0IHsgR0xURlNjZW5lZ3JhcGggfSBmcm9tIFwiLi4vYXBpL2dsdGYtc2NlbmVncmFwaC5qc1wiO1xuY29uc3QgS0hSX1RFWFRVUkVfQkFTSVNVID0gJ0tIUl90ZXh0dXJlX2Jhc2lzdSc7XG4vKiogRXh0ZW5zaW9uIG5hbWUgKi9cbmV4cG9ydCBjb25zdCBuYW1lID0gS0hSX1RFWFRVUkVfQkFTSVNVO1xuLyoqXG4gKiBSZXBsYWNlcyBhIHRleHR1cmUgc291cmNlIHJlZmVyZW5jZSB3aXRoIHRoZSBleHRlbnNpb24gdGV4dHVyZVxuICogRG9uZSBpbiBwcmVwcm9jZXNzKCkgdG8gcHJldmVudCBsb2FkIG9mIGRlZmF1bHQgaW1hZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXByb2Nlc3MoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgeyBqc29uIH0gPSBzY2VuZTtcbiAgICBmb3IgKGNvbnN0IHRleHR1cmUgb2YganNvbi50ZXh0dXJlcyB8fCBbXSkge1xuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBzY2VuZS5nZXRPYmplY3RFeHRlbnNpb24odGV4dHVyZSwgS0hSX1RFWFRVUkVfQkFTSVNVKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICAgICAgLy8gVE9ETyAtIGlmIG11bHRpcGxlIHRleHR1cmUgZXh0ZW5zaW9ucyBhcmUgcHJlc2VudCB3aGljaCBvbmUgd2lucz9cbiAgICAgICAgICAgIHRleHR1cmUuc291cmNlID0gZXh0ZW5zaW9uLnNvdXJjZTtcbiAgICAgICAgICAgIHNjZW5lLnJlbW92ZU9iamVjdEV4dGVuc2lvbih0ZXh0dXJlLCBLSFJfVEVYVFVSRV9CQVNJU1UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgdG9wLWxldmVsIGV4dGVuc2lvblxuICAgIHNjZW5lLnJlbW92ZUV4dGVuc2lvbihLSFJfVEVYVFVSRV9CQVNJU1UpO1xufVxuIiwiLy8gVE9ETyAtIHJlbW92ZVxuaW1wb3J0IHsgZ2V0QWNjZXNzb3JUeXBlRnJvbVNpemUsIGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkgfSBmcm9tIFwiLi9nbHRmLXV0aWxzLmpzXCI7XG4vLyBSZXR1cm5zIGEgZnJlc2ggYXR0cmlidXRlcyBvYmplY3Qgd2l0aCBnbFRGLXN0YW5kYXJkaXplZCBhdHRyaWJ1dGVzIG5hbWVzXG4vLyBBdHRyaWJ1dGVzIHRoYXQgY2Fubm90IGJlIGlkZW50aWZpZWQgd2lsbCBub3QgYmUgaW5jbHVkZWRcbi8vIFJlbW92ZXMgYGluZGljZXNgIGlmIHByZXNlbnQsIGFzIGl0IHNob3VsZCBiZSBzdG9yZWQgc2VwYXJhdGVseSBmcm9tIHRoZSBhdHRyaWJ1dGVzXG5leHBvcnQgZnVuY3Rpb24gZ2V0R0xURkFjY2Vzc29ycyhhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgYWNjZXNzb3JzID0ge307XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgaWYgKG5hbWUgIT09ICdpbmRpY2VzJykge1xuICAgICAgICAgICAgY29uc3QgZ2xURkFjY2Vzc29yID0gZ2V0R0xURkFjY2Vzc29yKGF0dHJpYnV0ZSk7XG4gICAgICAgICAgICBhY2Nlc3NvcnNbbmFtZV0gPSBnbFRGQWNjZXNzb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjY2Vzc29ycztcbn1cbi8vIEZpeCB1cCBhIHNpbmdsZSBhY2Nlc3Nvci5cbi8vIElucHV0OiB0eXBlZCBhcnJheSBvciBhIHBhcnRpYWwgYWNjZXNzb3Igb2JqZWN0XG4vLyBSZXR1cm46IGFjY2Vzc29yIG9iamVjdFxuZXhwb3J0IGZ1bmN0aW9uIGdldEdMVEZBY2Nlc3NvcihhdHRyaWJ1dGUpIHtcbiAgICBjb25zdCB7IGJ1ZmZlciwgc2l6ZSwgY291bnQgfSA9IGdldEFjY2Vzc29yRGF0YShhdHRyaWJ1dGUpO1xuICAgIGNvbnN0IGdsVEZBY2Nlc3NvciA9IHtcbiAgICAgICAgLy8gZ2xURiBBY2Nlc3NvciB2YWx1ZXNcbiAgICAgICAgLy8gVE9ETzogSW5zdGVhZCBvZiBhIGJ1ZmZlclZpZXcgaW5kZXggd2UgY291bGQgaGF2ZSBhbiBhY3R1YWwgYnVmZmVyICh0eXBlZCBhcnJheSlcbiAgICAgICAgLy8gYnVmZmVyVmlldzogbnVsbCxcbiAgICAgICAgLy8gVE9ETzogRGVwcmVjYXRlIGB2YWx1ZWAgaW4gZmF2b3Igb2YgYnVmZmVyVmlldz9cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB2YWx1ZTogYnVmZmVyLFxuICAgICAgICBzaXplLCAvLyBEZWNvZGVkIGB0eXBlYCAoZS5nLiBTQ0FMQVIpXG4gICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgIGNvdW50LFxuICAgICAgICB0eXBlOiBnZXRBY2Nlc3NvclR5cGVGcm9tU2l6ZShzaXplKSxcbiAgICAgICAgY29tcG9uZW50VHlwZTogZ2V0Q29tcG9uZW50VHlwZUZyb21BcnJheShidWZmZXIpXG4gICAgfTtcbiAgICByZXR1cm4gZ2xURkFjY2Vzc29yO1xufVxuLy8gZXhwb3J0IGZ1bmN0aW9uIGdldEdMVEZBdHRyaWJ1dGUoZGF0YSwgZ2x0ZkF0dHJpYnV0ZU5hbWUpOiBHTFRGQWNjZXNzb3Ige1xuLy8gICByZXR1cm4gZGF0YS5hdHRyaWJ1dGVzW2RhdGEuZ2xURkF0dHJpYnV0ZU1hcFtnbHRmQXR0cmlidXRlTmFtZV1dO1xuLy8gfVxuZnVuY3Rpb24gZ2V0QWNjZXNzb3JEYXRhKGF0dHJpYnV0ZSkge1xuICAgIGxldCBidWZmZXIgPSBhdHRyaWJ1dGU7XG4gICAgbGV0IHNpemUgPSAxO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgaWYgKGF0dHJpYnV0ZSAmJiBhdHRyaWJ1dGUudmFsdWUpIHtcbiAgICAgICAgYnVmZmVyID0gYXR0cmlidXRlLnZhbHVlO1xuICAgICAgICBzaXplID0gYXR0cmlidXRlLnNpemUgfHwgMTtcbiAgICB9XG4gICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICBpZiAoIUFycmF5QnVmZmVyLmlzVmlldyhidWZmZXIpKSB7XG4gICAgICAgICAgICBidWZmZXIgPSB0b1R5cGVkQXJyYXkoYnVmZmVyLCBGbG9hdDMyQXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50ID0gYnVmZmVyLmxlbmd0aCAvIHNpemU7XG4gICAgfVxuICAgIHJldHVybiB7IGJ1ZmZlciwgc2l6ZSwgY291bnQgfTtcbn1cbi8vIENvbnZlcnQgbm9uLXR5cGVkIGFycmF5cyB0byBhcnJheXMgb2Ygc3BlY2lmaWVkIGZvcm1hdFxuZnVuY3Rpb24gdG9UeXBlZEFycmF5KGFycmF5LCBBcnJheVR5cGUsIGNvbnZlcnRUeXBlZEFycmF5cyA9IGZhbHNlKSB7XG4gICAgaWYgKCFhcnJheSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlUeXBlKGFycmF5KTtcbiAgICB9XG4gICAgaWYgKGNvbnZlcnRUeXBlZEFycmF5cyAmJiAhKGFycmF5IGluc3RhbmNlb2YgQXJyYXlUeXBlKSkge1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5VHlwZShhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uXG4vLyBPbmx5IFRSSUFOR0xFUzogMHgwMDA0IGFuZCBUUklBTkdMRV9TVFJJUDogMHgwMDA1IGFyZSBzdXBwb3J0ZWRcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0IHsgc2xpY2VBcnJheUJ1ZmZlciwgcGFyc2VGcm9tQ29udGV4dCB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBEcmFjb0xvYWRlciB9IGZyb20gJ0Bsb2FkZXJzLmdsL2RyYWNvJztcbmltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IGdldEdMVEZBY2Nlc3NvcnMsIGdldEdMVEZBY2Nlc3NvciB9IGZyb20gXCIuLi9nbHRmLXV0aWxzL2dsdGYtYXR0cmlidXRlLXV0aWxzLmpzXCI7XG5jb25zdCBLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiA9ICdLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbic7XG4vKiogRXh0ZW5zaW9uIG5hbWUgKi9cbmV4cG9ydCBjb25zdCBuYW1lID0gS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT047XG5leHBvcnQgZnVuY3Rpb24gcHJlcHJvY2VzcyhnbHRmRGF0YSwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGNvbnN0IHNjZW5lZ3JhcGggPSBuZXcgR0xURlNjZW5lZ3JhcGgoZ2x0ZkRhdGEpO1xuICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIG1ha2VNZXNoUHJpbWl0aXZlSXRlcmF0b3Ioc2NlbmVncmFwaCkpIHtcbiAgICAgICAgaWYgKHNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKHByaW1pdGl2ZSwgS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT04pKSB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gUmVtb3ZlIGZhbGxiYWNrIGFjY2Vzc29ycyB0byBtYWtlIHN1cmUgd2UgZG9uJ3QgbG9hZCB1bm5lY2Vzc2FyeSBidWZmZXJzXG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVjb2RlKGdsdGZEYXRhLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgaWYgKCFvcHRpb25zPy5nbHRmPy5kZWNvbXByZXNzTWVzaGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiBtYWtlTWVzaFByaW1pdGl2ZUl0ZXJhdG9yKHNjZW5lZ3JhcGgpKSB7XG4gICAgICAgIGlmIChzY2VuZWdyYXBoLmdldE9iamVjdEV4dGVuc2lvbihwcmltaXRpdmUsIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OKSkge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChkZWNvbXByZXNzUHJpbWl0aXZlKHNjZW5lZ3JhcGgsIHByaW1pdGl2ZSwgb3B0aW9ucywgY29udGV4dCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIERlY29tcHJlc3MgbWVzaGVzIGluIHBhcmFsbGVsXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIC8vIFdlIGhhdmUgbm93IGRlY29tcHJlc3NlZCBhbGwgcHJpbWl0aXZlcywgc28gcmVtb3ZlIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uXG4gICAgc2NlbmVncmFwaC5yZW1vdmVFeHRlbnNpb24oS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT04pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShnbHRmRGF0YSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgZm9yIChjb25zdCBtZXNoIG9mIHNjZW5lZ3JhcGguanNvbi5tZXNoZXMgfHwgW10pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbXByZXNzTWVzaChtZXNoLCBvcHRpb25zKTtcbiAgICAgICAgLy8gTk9URTogT25seSBhZGQgdGhlIGV4dGVuc2lvbiBpZiBzb21ldGhpbmcgd2FzIGFjdHVhbGx5IGNvbXByZXNzZWRcbiAgICAgICAgc2NlbmVncmFwaC5hZGRSZXF1aXJlZEV4dGVuc2lvbihLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTik7XG4gICAgfVxufVxuLy8gREVDT0RFXG4vLyBVbnBhY2tzIG9uZSBtZXNoIHByaW1pdGl2ZSBhbmQgcmVtb3ZlcyB0aGUgZXh0ZW5zaW9uIGZyb20gdGhlIHByaW1pdGl2ZVxuLy8gRHJhY29EZWNvZGVyIG5lZWRzIHRvIGJlIGltcG9ydGVkIGFuZCByZWdpc3RlcmVkIGJ5IGFwcFxuLy8gUmV0dXJuczogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIHBlbmRpbmcgZHJhY28gZGVjb2RlciBqb2JzIGZvciB0aGlzIG1lc2ggY29tcGxldGVcbi8vIFRPRE8gLSBJbXBsZW1lbnQgZmFsbGJhY2sgYmVoYXZpb3IgcGVyIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIHNwZWNcbmFzeW5jIGZ1bmN0aW9uIGRlY29tcHJlc3NQcmltaXRpdmUoc2NlbmVncmFwaCwgcHJpbWl0aXZlLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgY29uc3QgZHJhY29FeHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldE9iamVjdEV4dGVuc2lvbihwcmltaXRpdmUsIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OKTtcbiAgICBpZiAoIWRyYWNvRXh0ZW5zaW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYnVmZmVyID0gc2NlbmVncmFwaC5nZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyhkcmFjb0V4dGVuc2lvbi5idWZmZXJWaWV3KTtcbiAgICAvLyBUT0RPIC0gcGFyc2UgZG9lcyBub3QgeWV0IGRlYWwgd2VsbCB3aXRoIGJ5dGUgb2Zmc2V0cyBlbWJlZGRlZCBpbiB0eXBlZCBhcnJheXMuIENvcHkgYnVmZmVyXG4gICAgLy8gVE9ETyAtIHJlbW92ZSB3aGVuIGBwYXJzZWAgaXMgZml4ZWQgdG8gaGFuZGxlIGBieXRlT2Zmc2V0YHNcbiAgICBjb25zdCBidWZmZXJDb3B5ID0gc2xpY2VBcnJheUJ1ZmZlcihidWZmZXIuYnVmZmVyLCBidWZmZXIuYnl0ZU9mZnNldCk7IC8vICwgYnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgIGNvbnN0IGRyYWNvT3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9O1xuICAgIC8vIFRPRE8gLSByZW1vdmUgaGFjazogVGhlIGVudGlyZSB0aWxlc2V0IG1pZ2h0IGJlIGluY2x1ZGVkLCB0b28gZXhwZW5zaXZlIHRvIHNlcmlhbGl6ZVxuICAgIGRlbGV0ZSBkcmFjb09wdGlvbnNbJzNkLXRpbGVzJ107XG4gICAgY29uc3QgZGVjb2RlZERhdGEgPSBhd2FpdCBwYXJzZUZyb21Db250ZXh0KGJ1ZmZlckNvcHksIERyYWNvTG9hZGVyLCBkcmFjb09wdGlvbnMsIGNvbnRleHQpO1xuICAgIGNvbnN0IGRlY29kZWRBdHRyaWJ1dGVzID0gZ2V0R0xURkFjY2Vzc29ycyhkZWNvZGVkRGF0YS5hdHRyaWJ1dGVzKTtcbiAgICAvLyBSZXN0b3JlIG1pbi9tYXggdmFsdWVzXG4gICAgZm9yIChjb25zdCBbYXR0cmlidXRlTmFtZSwgZGVjb2RlZEF0dHJpYnV0ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGVjb2RlZEF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lIGluIHByaW1pdGl2ZS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NvckluZGV4ID0gcHJpbWl0aXZlLmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NvciA9IHNjZW5lZ3JhcGguZ2V0QWNjZXNzb3IoYWNjZXNzb3JJbmRleCk7XG4gICAgICAgICAgICBpZiAoYWNjZXNzb3I/Lm1pbiAmJiBhY2Nlc3Nvcj8ubWF4KSB7XG4gICAgICAgICAgICAgICAgZGVjb2RlZEF0dHJpYnV0ZS5taW4gPSBhY2Nlc3Nvci5taW47XG4gICAgICAgICAgICAgICAgZGVjb2RlZEF0dHJpYnV0ZS5tYXggPSBhY2Nlc3Nvci5tYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHByaW1pdGl2ZS5hdHRyaWJ1dGVzID0gZGVjb2RlZEF0dHJpYnV0ZXM7XG4gICAgaWYgKGRlY29kZWREYXRhLmluZGljZXMpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBwcmltaXRpdmUuaW5kaWNlcyA9IGdldEdMVEZBY2Nlc3NvcihkZWNvZGVkRGF0YS5pbmRpY2VzKTtcbiAgICB9XG4gICAgLy8gRXh0ZW5zaW9uIGhhcyBiZWVuIHByb2Nlc3NlZCwgZGVsZXRlIGl0XG4gICAgc2NlbmVncmFwaC5yZW1vdmVPYmplY3RFeHRlbnNpb24ocHJpbWl0aXZlLCBLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTik7XG4gICAgY2hlY2tQcmltaXRpdmUocHJpbWl0aXZlKTtcbn1cbi8vIEVOQ09ERVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbi8vIE9ubHkgVFJJQU5HTEVTOiAweDAwMDQgYW5kIFRSSUFOR0xFX1NUUklQOiAweDAwMDUgYXJlIHN1cHBvcnRlZFxuZnVuY3Rpb24gY29tcHJlc3NNZXNoKGF0dHJpYnV0ZXMsIGluZGljZXMsIG1vZGUgPSA0LCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgaWYgKCFvcHRpb25zLkRyYWNvV3JpdGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb3B0aW9ucy5nbHRmLkRyYWNvV3JpdGVyIG5vdCBwcm92aWRlZCcpO1xuICAgIH1cbiAgICAvLyBUT0RPIC0gdXNlIERyYWNvV3JpdGVyIHVzaW5nIGVuY29kZSB3LyByZWdpc3RlcmVkIERyYWNvV3JpdGVyLi4uXG4gICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBvcHRpb25zLkRyYWNvV3JpdGVyLmVuY29kZVN5bmMoeyBhdHRyaWJ1dGVzIH0pO1xuICAgIC8vIERyYWNvIGNvbXByZXNzaW9uIG1heSBjaGFuZ2UgdGhlIG9yZGVyIGFuZCBudW1iZXIgb2YgdmVydGljZXMgaW4gYSBtZXNoLlxuICAgIC8vIFRvIHNhdGlzZnkgdGhlIHJlcXVpcmVtZW50IHRoYXQgYWNjZXNzb3JzIHByb3BlcnRpZXMgYmUgY29ycmVjdCBmb3IgYm90aFxuICAgIC8vIGNvbXByZXNzZWQgYW5kIHVuY29tcHJlc3NlZCBkYXRhLCBnZW5lcmF0b3JzIHNob3VsZCBjcmVhdGUgdW5jb21wcmVzc2VkXG4gICAgLy8gYXR0cmlidXRlcyBhbmQgaW5kaWNlcyB1c2luZyBkYXRhIHRoYXQgaGFzIGJlZW4gZGVjb21wcmVzc2VkIGZyb20gdGhlIERyYWNvIGJ1ZmZlcixcbiAgICAvLyByYXRoZXIgdGhhbiB0aGUgb3JpZ2luYWwgc291cmNlIGRhdGEuXG4gICAgLy8gQHRzLWlnbm9yZSBUT0RPIHRoaXMgbmVlZHMgdG8gYmUgZml4ZWRcbiAgICBjb25zdCBkZWNvZGVkRGF0YSA9IGNvbnRleHQ/LnBhcnNlU3luYz8uKHsgYXR0cmlidXRlcyB9KTtcbiAgICBjb25zdCBmYXV4QWNjZXNzb3JzID0gb3B0aW9ucy5fYWRkRmF1eEF0dHJpYnV0ZXMoZGVjb2RlZERhdGEuYXR0cmlidXRlcyk7XG4gICAgY29uc3QgYnVmZmVyVmlld0luZGV4ID0gb3B0aW9ucy5hZGRCdWZmZXJWaWV3KGNvbXByZXNzZWREYXRhKTtcbiAgICBjb25zdCBnbFRGTWVzaCA9IHtcbiAgICAgICAgcHJpbWl0aXZlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGZhdXhBY2Nlc3NvcnMsIC8vIFRPRE8gLSB2ZXJpZnkgd2l0aCBzcGVjXG4gICAgICAgICAgICAgICAgbW9kZSwgLy8gR0wuUE9JTlRTXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uczoge1xuICAgICAgICAgICAgICAgICAgICBbS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT05dOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJWaWV3OiBidWZmZXJWaWV3SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBmYXV4QWNjZXNzb3JzIC8vIFRPRE8gLSB2ZXJpZnkgd2l0aCBzcGVjXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xuICAgIHJldHVybiBnbFRGTWVzaDtcbn1cbi8vIFVUSUxTXG5mdW5jdGlvbiBjaGVja1ByaW1pdGl2ZShwcmltaXRpdmUpIHtcbiAgICBpZiAoIXByaW1pdGl2ZS5hdHRyaWJ1dGVzICYmIE9iamVjdC5rZXlzKHByaW1pdGl2ZS5hdHRyaWJ1dGVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZ2xURjogRW1wdHkgcHJpbWl0aXZlIGRldGVjdGVkOiBEcmFjbyBkZWNvbXByZXNzaW9uIGZhaWx1cmU/Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24qIG1ha2VNZXNoUHJpbWl0aXZlSXRlcmF0b3Ioc2NlbmVncmFwaCkge1xuICAgIGZvciAoY29uc3QgbWVzaCBvZiBzY2VuZWdyYXBoLmpzb24ubWVzaGVzIHx8IFtdKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIG1lc2gucHJpbWl0aXZlcykge1xuICAgICAgICAgICAgeWllbGQgcHJpbWl0aXZlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5jb25zdCBSQURJQU5TX1RPX0RFR1JFRVMgPSAoMSAvIE1hdGguUEkpICogMTgwO1xuY29uc3QgREVHUkVFU19UT19SQURJQU5TID0gKDEgLyAxODApICogTWF0aC5QSTtcbmNvbnN0IERFRkFVTFRfQ09ORklHID0ge1xuICAgIEVQU0lMT046IDFlLTEyLFxuICAgIGRlYnVnOiBmYWxzZSxcbiAgICBwcmVjaXNpb246IDQsXG4gICAgcHJpbnRUeXBlczogZmFsc2UsXG4gICAgcHJpbnREZWdyZWVzOiBmYWxzZSxcbiAgICBwcmludFJvd01ham9yOiB0cnVlLFxuICAgIF9jYXJ0b2dyYXBoaWNSYWRpYW5zOiBmYWxzZVxufTtcbi8vIENvbmZpZ3VyYXRpb24gaXMgdHJ1bHkgZ2xvYmFsIGFzIG9mIHYzLjYgdG8gZW5zdXJlIHNpbmdsZSBjb25maWcgZXZlbiBpZiBtdWx0aXBsZSBjb3BpZXMgb2YgbWF0aC5nbFxuLy8gTXVsdGlwbGUgY29waWVzIG9mIGNvbmZpZyBjYW4gYmUgcXVpdGUgdHJpY2t5IHRvIGRlYnVnLi4uXG5nbG9iYWxUaGlzLm1hdGhnbCA9IGdsb2JhbFRoaXMubWF0aGdsIHx8IHsgY29uZmlnOiB7IC4uLkRFRkFVTFRfQ09ORklHIH0gfTtcbmV4cG9ydCBjb25zdCBjb25maWcgPSBnbG9iYWxUaGlzLm1hdGhnbC5jb25maWc7XG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlKG9wdGlvbnMpIHtcbiAgICAvLyBPbmx5IGNvcHkgZXhpc3Rpbmcga2V5c1xuICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCBvcHRpb25zKTtcbiAgICByZXR1cm4gY29uZmlnO1xufVxuLyoqXG4gKiBGb3JtYXRzIGEgdmFsdWUgaW50byBhIHN0cmluZ1xuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gcGFyYW0xXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VmFsdWUodmFsdWUsIHsgcHJlY2lzaW9uID0gY29uZmlnLnByZWNpc2lvbiB9ID0ge30pIHtcbiAgICB2YWx1ZSA9IHJvdW5kKHZhbHVlKTtcbiAgICAvLyBnZXQgcmlkIG9mIHRyYWlsaW5nIHplcm9zXG4gICAgcmV0dXJuIGAke3BhcnNlRmxvYXQodmFsdWUudG9QcmVjaXNpb24ocHJlY2lzaW9uKSl9YDtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdmFsdWUgaXMgYW4gXCJhcnJheVwiXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB2YWx1ZSBpcyBlaXRoZXIgYW4gYXJyYXkgb3IgYSB0eXBlZCBhcnJheVxuICogTm90ZTogcmV0dXJucyBgZmFsc2VgIGZvciBgQXJyYXlCdWZmZXJgIGFuZCBgRGF0YVZpZXdgIGluc3RhbmNlc1xuICogQG5vdGUgaXNUeXBlZEFycmF5IGFuZCBpc051bWVyaWNBcnJheSBhcmUgb2Z0ZW4gbW9yZSB1c2VmdWwgaW4gVHlwZVNjcmlwdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSB8fCAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRGF0YVZpZXcpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhcnJheSkge1xuICAgIHJldHVybiAnY2xvbmUnIGluIGFycmF5ID8gYXJyYXkuY2xvbmUoKSA6IGFycmF5LnNsaWNlKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW5zKGRlZ3JlZXMpIHtcbiAgICByZXR1cm4gcmFkaWFucyhkZWdyZWVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZXMocmFkaWFucykge1xuICAgIHJldHVybiBkZWdyZWVzKHJhZGlhbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhZGlhbnMoZGVncmVlcywgcmVzdWx0KSB7XG4gICAgcmV0dXJuIG1hcChkZWdyZWVzLCAoZGVncmVlcykgPT4gZGVncmVlcyAqIERFR1JFRVNfVE9fUkFESUFOUywgcmVzdWx0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWdyZWVzKHJhZGlhbnMsIHJlc3VsdCkge1xuICAgIHJldHVybiBtYXAocmFkaWFucywgKHJhZGlhbnMpID0+IHJhZGlhbnMgKiBSQURJQU5TX1RPX0RFR1JFRVMsIHJlc3VsdCk7XG59XG4vKipcbiAqIFwiR0xTTCBlcXVpdmFsZW50XCIgb2YgYE1hdGguc2luYDogV29ya3Mgb24gc2luZ2xlIHZhbHVlcyBhbmQgdmVjdG9yc1xuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbihyYWRpYW5zLCByZXN1bHQpIHtcbiAgICByZXR1cm4gbWFwKHJhZGlhbnMsIChhbmdsZSkgPT4gTWF0aC5zaW4oYW5nbGUpLCByZXN1bHQpO1xufVxuLyoqXG4gKiBcIkdMU0wgZXF1aXZhbGVudFwiIG9mIGBNYXRoLmNvc2A6IFdvcmtzIG9uIHNpbmdsZSB2YWx1ZXMgYW5kIHZlY3RvcnNcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3MocmFkaWFucywgcmVzdWx0KSB7XG4gICAgcmV0dXJuIG1hcChyYWRpYW5zLCAoYW5nbGUpID0+IE1hdGguY29zKGFuZ2xlKSwgcmVzdWx0KTtcbn1cbi8qKlxuICogXCJHTFNMIGVxdWl2YWxlbnRcIiBvZiBgTWF0aC50YW5gOiBXb3JrcyBvbiBzaW5nbGUgdmFsdWVzIGFuZCB2ZWN0b3JzXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFuKHJhZGlhbnMsIHJlc3VsdCkge1xuICAgIHJldHVybiBtYXAocmFkaWFucywgKGFuZ2xlKSA9PiBNYXRoLnRhbihhbmdsZSksIHJlc3VsdCk7XG59XG4vKipcbiAqIFwiR0xTTCBlcXVpdmFsZW50XCIgb2YgYE1hdGguYXNpbmA6IFdvcmtzIG9uIHNpbmdsZSB2YWx1ZXMgYW5kIHZlY3RvcnNcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc2luKHJhZGlhbnMsIHJlc3VsdCkge1xuICAgIHJldHVybiBtYXAocmFkaWFucywgKGFuZ2xlKSA9PiBNYXRoLmFzaW4oYW5nbGUpLCByZXN1bHQpO1xufVxuLyoqXG4gKiBcIkdMU0wgZXF1aXZhbGVudFwiIG9mIGBNYXRoLmFjb3NgOiBXb3JrcyBvbiBzaW5nbGUgdmFsdWVzIGFuZCB2ZWN0b3JzXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWNvcyhyYWRpYW5zLCByZXN1bHQpIHtcbiAgICByZXR1cm4gbWFwKHJhZGlhbnMsIChhbmdsZSkgPT4gTWF0aC5hY29zKGFuZ2xlKSwgcmVzdWx0KTtcbn1cbi8qKlxuICogXCJHTFNMIGVxdWl2YWxlbnRcIiBvZiBgTWF0aC5hdGFuYDogV29ya3Mgb24gc2luZ2xlIHZhbHVlcyBhbmQgdmVjdG9yc1xuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0YW4ocmFkaWFucywgcmVzdWx0KSB7XG4gICAgcmV0dXJuIG1hcChyYWRpYW5zLCAoYW5nbGUpID0+IE1hdGguYXRhbihhbmdsZSksIHJlc3VsdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIG1hcCh2YWx1ZSwgKHZhbHVlKSA9PiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbGVycChhLCBiLCB0KSB7XG4gICAgaWYgKGlzQXJyYXkoYSkpIHtcbiAgICAgICAgcmV0dXJuIGEubWFwKChhaSwgaSkgPT4gbGVycChhaSwgYltpXSwgdCkpO1xuICAgIH1cbiAgICByZXR1cm4gdCAqIGIgKyAoMSAtIHQpICogYTtcbn1cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIENvbXBhcmVzIGFueSB0d28gbWF0aCBvYmplY3RzLCB1c2luZyBgZXF1YWxzYCBtZXRob2QgaWYgYXZhaWxhYmxlLlxuICogQHBhcmFtIGFcbiAqIEBwYXJhbSBiXG4gKiBAcGFyYW0gZXBzaWxvblxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiLCBlcHNpbG9uKSB7XG4gICAgY29uc3Qgb2xkRXBzaWxvbiA9IGNvbmZpZy5FUFNJTE9OO1xuICAgIGlmIChlcHNpbG9uKSB7XG4gICAgICAgIGNvbmZpZy5FUFNJTE9OID0gZXBzaWxvbjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KGEpICYmIGlzQXJyYXkoYikpIHtcbiAgICAgICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWRlcHRoXG4gICAgICAgICAgICAgICAgaWYgKCFlcXVhbHMoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhICYmIGEuZXF1YWxzKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5lcXVhbHMoYik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGIgJiYgYi5lcXVhbHMpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmVxdWFscyhhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBiID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBjb25maWcuRVBTSUxPTiAqIE1hdGgubWF4KDEsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgY29uZmlnLkVQU0lMT04gPSBvbGRFcHNpbG9uO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiBiICYmIHR5cGVvZiBiID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhLmV4YWN0RXF1YWxzKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5leGFjdEVxdWFscyhiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNBcnJheShhKSAmJiBpc0FycmF5KGIpKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghZXhhY3RFcXVhbHMoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qIGVzbGludC1lbmFibGUgKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoRXBzaWxvbihlcHNpbG9uLCBmdW5jKSB7XG4gICAgY29uc3Qgb2xkUHJlY2lzaW9uID0gY29uZmlnLkVQU0lMT047XG4gICAgY29uZmlnLkVQU0lMT04gPSBlcHNpbG9uO1xuICAgIGxldCB2YWx1ZTtcbiAgICB0cnkge1xuICAgICAgICB2YWx1ZSA9IGZ1bmMoKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGNvbmZpZy5FUFNJTE9OID0gb2xkUHJlY2lzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vLyBIRUxQRVJTXG5mdW5jdGlvbiByb3VuZCh2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gY29uZmlnLkVQU0lMT04pICogY29uZmlnLkVQU0lMT047XG59XG4vLyBJZiB0aGUgYXJyYXkgaGFzIGEgY2xvbmUgZnVuY3Rpb24sIGNhbGxzIGl0LCBvdGhlcndpc2UgcmV0dXJucyBhIGNvcHlcbmZ1bmN0aW9uIGR1cGxpY2F0ZUFycmF5KGFycmF5KSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBXZSBjaGVjayBmb3IgbWF0aC5nbCBjbGFzcyBtZXRob2RzXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbFxuICAgIHJldHVybiBhcnJheS5jbG9uZSA/IGFycmF5LmNsb25lKCkgOiBuZXcgQXJyYXkoYXJyYXkubGVuZ3RoKTtcbn1cbi8vIElmIHRoZSBhcmd1bWVudCB2YWx1ZSBpcyBhbiBhcnJheSwgYXBwbGllcyB0aGUgZnVuYyBlbGVtZW50IHdpc2UsXG4vLyBvdGhlcndpc2UgYXBwbGllcyBmdW5jIHRvIHRoZSBhcmd1bWVudCB2YWx1ZVxuZnVuY3Rpb24gbWFwKHZhbHVlLCBmdW5jLCByZXN1bHQpIHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSB2YWx1ZTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0IHx8IGR1cGxpY2F0ZUFycmF5KGFycmF5KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoICYmIGkgPCBhcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgdmFsID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IHZhbHVlIDogdmFsdWVbaV07XG4gICAgICAgICAgICByZXN1bHRbaV0gPSBmdW5jKHZhbCwgaSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBjb25maWcsIGZvcm1hdFZhbHVlLCBlcXVhbHMsIGlzQXJyYXkgfSBmcm9tIFwiLi4vLi4vbGliL2NvbW1vbi5qc1wiO1xuLyoqIEJhc2UgY2xhc3MgZm9yIHZlY3RvcnMgYW5kIG1hdHJpY2VzICovXG5leHBvcnQgY2xhc3MgTWF0aEFycmF5IGV4dGVuZHMgQXJyYXkge1xuICAgIC8vIENvbW1vbiBtZXRob2RzXG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhlIGN1cnJlbnQgb2JqZWN0XG4gICAgICogQHJldHVybnMgYSBuZXcgY29weSBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTMjM1MTogQ2Fubm90IHVzZSAnbmV3JyB3aXRoIGFuIGV4cHJlc3Npb24gd2hvc2UgdHlwZSBsYWNrcyBhIGNhbGwgb3IgY29uc3RydWN0IHNpZ25hdHVyZS5cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cbiAgICBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBhcnJheVtpICsgb2Zmc2V0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICB0b0FycmF5KHRhcmdldEFycmF5ID0gW10sIG9mZnNldCA9IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRhcmdldEFycmF5W29mZnNldCArIGldID0gdGhpc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0QXJyYXk7XG4gICAgfVxuICAgIHRvT2JqZWN0KHRhcmdldE9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0T2JqZWN0O1xuICAgIH1cbiAgICBmcm9tKGFycmF5T3JPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyYXlPck9iamVjdClcbiAgICAgICAgICAgID8gdGhpcy5jb3B5KGFycmF5T3JPYmplY3QpXG4gICAgICAgICAgICA6IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB0aGlzLmZyb21PYmplY3QoYXJyYXlPck9iamVjdCk7XG4gICAgfVxuICAgIHRvKGFycmF5T3JPYmplY3QpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoYXJyYXlPck9iamVjdCA9PT0gdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUUzIzMzk6IFByb3BlcnR5ICd0b09iamVjdCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnTWF0aEFycmF5Jy5cbiAgICAgICAgcmV0dXJuIGlzQXJyYXkoYXJyYXlPck9iamVjdCkgPyB0aGlzLnRvQXJyYXkoYXJyYXlPck9iamVjdCkgOiB0aGlzLnRvT2JqZWN0KGFycmF5T3JPYmplY3QpO1xuICAgIH1cbiAgICB0b1RhcmdldCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldCA/IHRoaXMudG8odGFyZ2V0KSA6IHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHRvRmxvYXQzMkFycmF5KCkge1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFN0cmluZyhjb25maWcpO1xuICAgIH1cbiAgICAvKiogRm9ybWF0cyBzdHJpbmcgYWNjb3JkaW5nIHRvIG9wdGlvbnMgKi9cbiAgICBmb3JtYXRTdHJpbmcob3B0cykge1xuICAgICAgICBsZXQgc3RyaW5nID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICBzdHJpbmcgKz0gKGkgPiAwID8gJywgJyA6ICcnKSArIGZvcm1hdFZhbHVlKHRoaXNbaV0sIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtvcHRzLnByaW50VHlwZXMgPyB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgOiAnJ31bJHtzdHJpbmd9XWA7XG4gICAgfVxuICAgIGVxdWFscyhhcnJheSkge1xuICAgICAgICBpZiAoIWFycmF5IHx8IHRoaXMubGVuZ3RoICE9PSBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgaWYgKCFlcXVhbHModGhpc1tpXSwgYXJyYXlbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBleGFjdEVxdWFscyhhcnJheSkge1xuICAgICAgICBpZiAoIWFycmF5IHx8IHRoaXMubGVuZ3RoICE9PSBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gIT09IGFycmF5W2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBNb2RpZmllcnNcbiAgICAvKiogTmVnYXRlcyBhbGwgdmFsdWVzIGluIHRoaXMgb2JqZWN0ICovXG4gICAgbmVnYXRlKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgdGhpc1tpXSA9IC10aGlzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIGxlcnAoYSwgYiwgdCkge1xuICAgICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZXJwKHRoaXMsIGEsIGIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBhaSA9IGFbaV07XG4gICAgICAgICAgICBjb25zdCBlbmRWYWx1ZSA9IHR5cGVvZiBiID09PSAnbnVtYmVyJyA/IGIgOiBiW2ldO1xuICAgICAgICAgICAgdGhpc1tpXSA9IGFpICsgdCAqIChlbmRWYWx1ZSAtIGFpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvKiogTWluaW1hbCAqL1xuICAgIG1pbih2ZWN0b3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBNYXRoLm1pbih2ZWN0b3JbaV0sIHRoaXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8qKiBNYXhpbWFsICovXG4gICAgbWF4KHZlY3Rvcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgdGhpc1tpXSA9IE1hdGgubWF4KHZlY3RvcltpXSwgdGhpc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgY2xhbXAobWluVmVjdG9yLCBtYXhWZWN0b3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBNYXRoLm1pbihNYXRoLm1heCh0aGlzW2ldLCBtaW5WZWN0b3JbaV0pLCBtYXhWZWN0b3JbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIGFkZCguLi52ZWN0b3JzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdmVjdG9yIG9mIHZlY3RvcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSArPSB2ZWN0b3JbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgc3VidHJhY3QoLi4udmVjdG9ycykge1xuICAgICAgICBmb3IgKGNvbnN0IHZlY3RvciBvZiB2ZWN0b3JzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXNbaV0gLT0gdmVjdG9yW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHNjYWxlKHNjYWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NhbGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXNbaV0gKj0gc2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFMgJiYgaSA8IHNjYWxlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSAqPSBzY2FsZVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIGFsbCBlbGVtZW50cyBieSBgc2NhbGVgXG4gICAgICogTm90ZTogYE1hdHJpeDQubXVsdGlwbHlCeVNjYWxhcmAgb25seSBzY2FsZXMgaXRzIDN4MyBcIm1pbm9yXCJcbiAgICAgKi9cbiAgICBtdWx0aXBseUJ5U2NhbGFyKHNjYWxhcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgdGhpc1tpXSAqPSBzY2FsYXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLy8gRGVidWcgY2hlY2tzXG4gICAgLyoqIFRocm93cyBhbiBlcnJvciBpZiBhcnJheSBsZW5ndGggaXMgaW5jb3JyZWN0IG9yIGNvbnRhaW5zIGlsbGVnYWwgdmFsdWVzICovXG4gICAgY2hlY2soKSB7XG4gICAgICAgIGlmIChjb25maWcuZGVidWcgJiYgIXRoaXMudmFsaWRhdGUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtYXRoLmdsOiAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gc29tZSBmaWVsZHMgc2V0IHRvIGludmFsaWQgbnVtYmVycydgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIFJldHVybnMgZmFsc2UgaWYgdGhlIGFycmF5IGxlbmd0aCBpcyBpbmNvcnJlY3Qgb3IgY29udGFpbnMgaWxsZWdhbCB2YWx1ZXMgKi9cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgbGV0IHZhbGlkID0gdGhpcy5sZW5ndGggPT09IHRoaXMuRUxFTUVOVFM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICB2YWxpZCA9IHZhbGlkICYmIE51bWJlci5pc0Zpbml0ZSh0aGlzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfVxuICAgIC8vIHRocmVlLmpzIGNvbXBhdGliaWxpdHlcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBzdWIoYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJ0cmFjdChhKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgc2V0U2NhbGFyKGEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIGFkZFNjYWxhcihhKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICB0aGlzW2ldICs9IGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgc3ViU2NhbGFyKGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkU2NhbGFyKC1hKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgbXVsdGlwbHlTY2FsYXIoc2NhbGFyKSB7XG4gICAgICAgIC8vIE11bHRpcGxpZXMgYWxsIGVsZW1lbnRzXG4gICAgICAgIC8vIGBNYXRyaXg0LnNjYWxlYCBvbmx5IHNjYWxlcyBpdHMgM3gzIFwibWlub3JcIlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgdGhpc1tpXSAqPSBzY2FsYXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgZGl2aWRlU2NhbGFyKGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlCeVNjYWxhcigxIC8gYSk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIGNsYW1wU2NhbGFyKG1pbiwgbWF4KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gTWF0aC5taW4oTWF0aC5tYXgodGhpc1tpXSwgbWluKSwgbWF4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBnZXQgZWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGgtYXJyYXkuanMubWFwIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi9jb21tb24uanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVZlY3Rvcih2LCBsZW5ndGgpIHtcbiAgICBpZiAodi5sZW5ndGggIT09IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIENvdWxkIGJlIGFyZ3VtZW50cyBcImFycmF5XCIgKHYuZXZlcnkgbm90IGF2YWlsYXNibGUpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHZbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gY2hlY2tOdW1iZXIodmFsdWUpIHtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG51bWJlciAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrVmVjdG9yKHYsIGxlbmd0aCwgY2FsbGVyTmFtZSA9ICcnKSB7XG4gICAgaWYgKGNvbmZpZy5kZWJ1ZyAmJiAhdmFsaWRhdGVWZWN0b3IodiwgbGVuZ3RoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1hdGguZ2w6ICR7Y2FsbGVyTmFtZX0gc29tZSBmaWVsZHMgc2V0IHRvIGludmFsaWQgbnVtYmVycydgKTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5jb25zdCBtYXAgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBkZXByZWNhdGVkKG1ldGhvZCwgdmVyc2lvbikge1xuICAgIGlmICghbWFwW21ldGhvZF0pIHtcbiAgICAgICAgbWFwW21ldGhvZF0gPSB0cnVlO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgY29uc29sZS53YXJuKGAke21ldGhvZH0gaGFzIGJlZW4gcmVtb3ZlZCBpbiB2ZXJzaW9uICR7dmVyc2lvbn0sIHNlZSB1cGdyYWRlIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9uYCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdG9ycy5qcy5tYXAiLCIvLyBtYXRoLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtYXRoLmdsIGFzc2VydGlvbiAke21lc3NhZ2V9YCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0LmpzLm1hcCIsIi8vIG1hdGguZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gQ29weXJpZ2h0IChjKSAyMDE3IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG5pbXBvcnQgeyBNYXRoQXJyYXkgfSBmcm9tIFwiLi9tYXRoLWFycmF5LmpzXCI7XG5pbXBvcnQgeyBjaGVja051bWJlciB9IGZyb20gXCIuLi8uLi9saWIvdmFsaWRhdG9ycy5qc1wiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uLy4uL2xpYi9hc3NlcnQuanNcIjtcbi8qKiBCYXNlIGNsYXNzIGZvciB2ZWN0b3JzIHdpdGggYXQgbGVhc3QgMiBlbGVtZW50cyAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvciBleHRlbmRzIE1hdGhBcnJheSB7XG4gICAgLy8gQUNDRVNTT1JTXG4gICAgZ2V0IHgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWzBdO1xuICAgIH1cbiAgICBzZXQgeCh2YWx1ZSkge1xuICAgICAgICB0aGlzWzBdID0gY2hlY2tOdW1iZXIodmFsdWUpO1xuICAgIH1cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbMV07XG4gICAgfVxuICAgIHNldCB5KHZhbHVlKSB7XG4gICAgICAgIHRoaXNbMV0gPSBjaGVja051bWJlcih2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgdmVjdG9yIGZyb20gdGhlIG9yaWdpbiB0byB0aGUgcG9pbnQgZGVzY3JpYmVkIGJ5IHRoaXMgdmVjdG9yXG4gICAgICpcbiAgICAgKiBAbm90ZSBgbGVuZ3RoYCBpcyBhIHJlc2VydmVkIHdvcmQgZm9yIEFycmF5cywgc28gYHYubGVuZ3RoKClgIHdpbGwgcmV0dXJuIG51bWJlciBvZiBlbGVtZW50c1xuICAgICAqIEluc3RlYWQgd2UgcHJvdmlkZSBgbGVuYCBhbmQgYG1hZ25pdHVkZWBcbiAgICAgKi9cbiAgICBsZW4oKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvciBmcm9tIHRoZSBvcmlnaW4gdG8gdGhlIHBvaW50IGRlc2NyaWJlZCBieSB0aGlzIHZlY3RvclxuICAgICAqL1xuICAgIG1hZ25pdHVkZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSB2ZWN0b3IgZnJvbSB0aGUgb3JpZ2luIHRvIHRoZSBwb2ludCBkZXNjcmliZWQgYnkgdGhpcyB2ZWN0b3JcbiAgICAgKi9cbiAgICBsZW5ndGhTcXVhcmVkKCkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIGxlbmd0aCArPSB0aGlzW2ldICogdGhpc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiB0aGUgdmVjdG9yIGZyb20gdGhlIG9yaWdpbiB0byB0aGUgcG9pbnQgZGVzY3JpYmVkIGJ5IHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgbWFnbml0dWRlU3F1YXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoU3F1YXJlZCgpO1xuICAgIH1cbiAgICBkaXN0YW5jZShtYXRoQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlU3F1YXJlZChtYXRoQXJyYXkpKTtcbiAgICB9XG4gICAgZGlzdGFuY2VTcXVhcmVkKG1hdGhBcnJheSkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSB0aGlzW2ldIC0gbWF0aEFycmF5W2ldO1xuICAgICAgICAgICAgbGVuZ3RoICs9IGRpc3QgKiBkaXN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja051bWJlcihsZW5ndGgpO1xuICAgIH1cbiAgICBkb3QobWF0aEFycmF5KSB7XG4gICAgICAgIGxldCBwcm9kdWN0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHByb2R1Y3QgKz0gdGhpc1tpXSAqIG1hdGhBcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tOdW1iZXIocHJvZHVjdCk7XG4gICAgfVxuICAgIC8vIE1PRElGSUVSU1xuICAgIG5vcm1hbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5tYWduaXR1ZGUoKTtcbiAgICAgICAgaWYgKGxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2ldIC89IGxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICBtdWx0aXBseSguLi52ZWN0b3JzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdmVjdG9yIG9mIHZlY3RvcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSAqPSB2ZWN0b3JbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgZGl2aWRlKC4uLnZlY3RvcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCB2ZWN0b3Igb2YgdmVjdG9ycykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2ldIC89IHZlY3RvcltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvLyBUSFJFRS5qcyBjb21wYXRpYmlsaXR5XG4gICAgbGVuZ3RoU3EoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aFNxdWFyZWQoKTtcbiAgICB9XG4gICAgZGlzdGFuY2VUbyh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzdGFuY2UodmVjdG9yKTtcbiAgICB9XG4gICAgZGlzdGFuY2VUb1NxdWFyZWQodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3RhbmNlU3F1YXJlZCh2ZWN0b3IpO1xuICAgIH1cbiAgICBnZXRDb21wb25lbnQoaSkge1xuICAgICAgICBhc3NlcnQoaSA+PSAwICYmIGkgPCB0aGlzLkVMRU1FTlRTLCAnaW5kZXggaXMgb3V0IG9mIHJhbmdlJyk7XG4gICAgICAgIHJldHVybiBjaGVja051bWJlcih0aGlzW2ldKTtcbiAgICB9XG4gICAgc2V0Q29tcG9uZW50KGksIHZhbHVlKSB7XG4gICAgICAgIGFzc2VydChpID49IDAgJiYgaSA8IHRoaXMuRUxFTUVOVFMsICdpbmRleCBpcyBvdXQgb2YgcmFuZ2UnKTtcbiAgICAgICAgdGhpc1tpXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICBhZGRWZWN0b3JzKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weShhKS5hZGQoYik7XG4gICAgfVxuICAgIHN1YlZlY3RvcnMoYSwgYikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5KGEpLnN1YnRyYWN0KGIpO1xuICAgIH1cbiAgICBtdWx0aXBseVZlY3RvcnMoYSwgYikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5KGEpLm11bHRpcGx5KGIpO1xuICAgIH1cbiAgICBhZGRTY2FsZWRWZWN0b3IoYSwgYikge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGVycm9yIFRTMjM1MTogQ2Fubm90IHVzZSAnbmV3JyB3aXRoIGFuIGV4cHJlc3Npb24gd2hvc2UgdHlwZSBsYWNrcyBhIGNhbGwgb3IgY29uc3RydWN0IHNpZ25hdHVyZS5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKG5ldyB0aGlzLmNvbnN0cnVjdG9yKGEpLm11bHRpcGx5U2NhbGFyKGIpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3IuanMubWFwIiwiLy8gQGVzbGludC1kaXNhYmxlXG4vLyBAdHMtbm9jaGVja1xuLyoqXG4gKiBDb21tb24gdXRpbGl0aWVzXG4gKiBAbW9kdWxlIGdsTWF0cml4XG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgY29uc3QgRVBTSUxPTiA9IDAuMDAwMDAxO1xuZXhwb3J0IGxldCBBUlJBWV9UWVBFID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcbmV4cG9ydCBjb25zdCBSQU5ET00gPSBNYXRoLnJhbmRvbTtcbmV4cG9ydCBjb25zdCBBTkdMRV9PUkRFUiA9ICd6eXgnO1xuLyoqXG4gKiBTeW1tZXRyaWMgcm91bmRcbiAqIHNlZSBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yb3VuZC1oYWxmLXVwLXN5bW1ldHJpYyN1c2VyLWNvbnRlbnQtZGV0YWlsZWQtYmFja2dyb3VuZFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIHZhbHVlIHRvIHJvdW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChhKSB7XG4gICAgaWYgKGEgPj0gMClcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoYSk7XG4gICAgcmV0dXJuIGEgJSAwLjUgPT09IDAgPyBNYXRoLmZsb29yKGEpIDogTWF0aC5yb3VuZChhKTtcbn1cbi8qKlxuICogU2V0cyB0aGUgdHlwZSBvZiBhcnJheSB1c2VkIHdoZW4gY3JlYXRpbmcgbmV3IHZlY3RvcnMgYW5kIG1hdHJpY2VzXG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXlDb25zdHJ1Y3RvciB8IEFycmF5Q29uc3RydWN0b3J9IHR5cGUgQXJyYXkgdHlwZSwgc3VjaCBhcyBGbG9hdDMyQXJyYXkgb3IgQXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gICAgQVJSQVlfVFlQRSA9IHR5cGU7XG59XG5jb25zdCBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb252ZXJ0IERlZ3JlZSBUbyBSYWRpYW5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBEZWdyZWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gICAgcmV0dXJuIGEgKiBkZWdyZWU7XG59XG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcGFyYW0ge051bWJlcn0gYiBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBFUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIi8vIEBlc2xpbnQtZGlzYWJsZVxuLy8gQHRzLW5vY2hlY2tcbmltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gJy4vY29tbW9uLmpzJztcbi8qKlxuICogMyBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjM1xuICovXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcbiAqXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gICAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgICAgIG91dFswXSA9IDA7XG4gICAgICAgIG91dFsxXSA9IDA7XG4gICAgICAgIG91dFsyXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICAgIGNvbnN0IG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVsxXTtcbiAgICBvdXRbMl0gPSBhWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgY29uc3QgeiA9IGFbMl07XG4gICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gICAgb3V0WzBdID0geDtcbiAgICBvdXRbMV0gPSB5O1xuICAgIG91dFsyXSA9IHo7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICAgIG91dFswXSA9IHg7XG4gICAgb3V0WzFdID0geTtcbiAgICBvdXRbMl0gPSB6O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gICAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gICAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gICAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gICAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICAgIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICAgIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gICAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gICAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gICAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICAgIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICAgIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gICAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gICAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gICAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBzeW1tZXRyaWMgcm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByb3VuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gZ2xNYXRyaXgucm91bmQoYVswXSk7XG4gICAgb3V0WzFdID0gZ2xNYXRyaXgucm91bmQoYVsxXSk7XG4gICAgb3V0WzJdID0gZ2xNYXRyaXgucm91bmQoYVsyXSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIGEgdmVjMyBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gKiBiO1xuICAgIG91dFsxXSA9IGFbMV0gKiBiO1xuICAgIG91dFsyXSA9IGFbMl0gKiBiO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICAgIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gICAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gICAgY29uc3QgeCA9IGJbMF0gLSBhWzBdO1xuICAgIGNvbnN0IHkgPSBiWzFdIC0gYVsxXTtcbiAgICBjb25zdCB6ID0gYlsyXSAtIGFbMl07XG4gICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgICBjb25zdCB4ID0gYlswXSAtIGFbMF07XG4gICAgY29uc3QgeSA9IGJbMV0gLSBhWzFdO1xuICAgIGNvbnN0IHogPSBiWzJdIC0gYVsyXTtcbiAgICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gLWFbMF07XG4gICAgb3V0WzFdID0gLWFbMV07XG4gICAgb3V0WzJdID0gLWFbMl07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICAgIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gICAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICBsZXQgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgIC8vIFRPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgICAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgfVxuICAgIG91dFswXSA9IGFbMF0gKiBsZW47XG4gICAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICAgIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gICAgY29uc3QgYXggPSBhWzBdO1xuICAgIGNvbnN0IGF5ID0gYVsxXTtcbiAgICBjb25zdCBheiA9IGFbMl07XG4gICAgY29uc3QgYnggPSBiWzBdO1xuICAgIGNvbnN0IGJ5ID0gYlsxXTtcbiAgICBjb25zdCBieiA9IGJbMl07XG4gICAgb3V0WzBdID0gYXkgKiBieiAtIGF6ICogYnk7XG4gICAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gICAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgICBjb25zdCBheCA9IGFbMF07XG4gICAgY29uc3QgYXkgPSBhWzFdO1xuICAgIGNvbnN0IGF6ID0gYVsyXTtcbiAgICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2xlcnAob3V0LCBhLCBiLCB0KSB7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoZG90KGEsIGIpLCAtMSksIDEpKTtcbiAgICBjb25zdCBzaW5Ub3RhbCA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICBjb25zdCByYXRpb0EgPSBNYXRoLnNpbigoMSAtIHQpICogYW5nbGUpIC8gc2luVG90YWw7XG4gICAgY29uc3QgcmF0aW9CID0gTWF0aC5zaW4odCAqIGFuZ2xlKSAvIHNpblRvdGFsO1xuICAgIG91dFswXSA9IHJhdGlvQSAqIGFbMF0gKyByYXRpb0IgKiBiWzBdO1xuICAgIG91dFsxXSA9IHJhdGlvQSAqIGFbMV0gKyByYXRpb0IgKiBiWzFdO1xuICAgIG91dFsyXSA9IHJhdGlvQSAqIGFbMl0gKyByYXRpb0IgKiBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gICAgY29uc3QgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gICAgY29uc3QgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgICBjb25zdCBmYWN0b3IyID0gZmFjdG9yVGltZXMyICogKHQgLSAyKSArIHQ7XG4gICAgY29uc3QgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XG4gICAgY29uc3QgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICAgIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICAgIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICAgIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICAgIGNvbnN0IGludmVyc2VGYWN0b3IgPSAxIC0gdDtcbiAgICBjb25zdCBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgICBjb25zdCBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgICBjb25zdCBmYWN0b3IxID0gaW52ZXJzZUZhY3RvclRpbWVzVHdvICogaW52ZXJzZUZhY3RvcjtcbiAgICBjb25zdCBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gICAgY29uc3QgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICAgIGNvbnN0IGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiB0O1xuICAgIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICAgIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICAgIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gICAgc2NhbGUgPSBzY2FsZSA9PT0gdW5kZWZpbmVkID8gMS4wIDogc2NhbGU7XG4gICAgY29uc3QgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcbiAgICBjb25zdCB6ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgLSAxLjA7XG4gICAgY29uc3QgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICAgIG91dFswXSA9IE1hdGguY29zKHIpICogelNjYWxlO1xuICAgIG91dFsxXSA9IE1hdGguc2luKHIpICogelNjYWxlO1xuICAgIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICBsZXQgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcbiAgICB3ID0gdyB8fCAxLjA7XG4gICAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XG4gICAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XG4gICAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gICAgb3V0WzFdID0geCAqIG1bMV0gKyB5ICogbVs0XSArIHogKiBtWzddO1xuICAgIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcbiAgICBjb25zdCBxeCA9IHFbMF07XG4gICAgY29uc3QgcXkgPSBxWzFdO1xuICAgIGNvbnN0IHF6ID0gcVsyXTtcbiAgICBjb25zdCBxdyA9IHFbM107XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgY29uc3QgeiA9IGFbMl07XG4gICAgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XG4gICAgLy8gdmFyIHV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgYSk7XG4gICAgbGV0IHV2eCA9IHF5ICogeiAtIHF6ICogeTtcbiAgICBsZXQgdXZ5ID0gcXogKiB4IC0gcXggKiB6O1xuICAgIGxldCB1dnogPSBxeCAqIHkgLSBxeSAqIHg7XG4gICAgLy8gdmFyIHV1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIHV2KTtcbiAgICBsZXQgdXV2eCA9IHF5ICogdXZ6IC0gcXogKiB1dnk7XG4gICAgbGV0IHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6O1xuICAgIGxldCB1dXZ6ID0gcXggKiB1dnkgLSBxeSAqIHV2eDtcbiAgICAvLyB2ZWMzLnNjYWxlKHV2LCB1diwgMiAqIHcpO1xuICAgIGNvbnN0IHcyID0gcXcgKiAyO1xuICAgIHV2eCAqPSB3MjtcbiAgICB1dnkgKj0gdzI7XG4gICAgdXZ6ICo9IHcyO1xuICAgIC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xuICAgIHV1dnggKj0gMjtcbiAgICB1dXZ5ICo9IDI7XG4gICAgdXV2eiAqPSAyO1xuICAgIC8vIHJldHVybiB2ZWMzLmFkZChvdXQsIGEsIHZlYzMuYWRkKG91dCwgdXYsIHV1dikpO1xuICAgIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xuICAgIG91dFsxXSA9IHkgKyB1dnkgKyB1dXZ5O1xuICAgIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gICAgY29uc3QgcCA9IFtdO1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICAvLyBUcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuICAgIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBwWzFdID0gYVsxXSAtIGJbMV07XG4gICAgcFsyXSA9IGFbMl0gLSBiWzJdO1xuICAgIC8vIHBlcmZvcm0gcm90YXRpb25cbiAgICByWzBdID0gcFswXTtcbiAgICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgICByWzJdID0gcFsxXSAqIE1hdGguc2luKHJhZCkgKyBwWzJdICogTWF0aC5jb3MocmFkKTtcbiAgICAvLyB0cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICAgIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICAgIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICAgIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gICAgY29uc3QgcCA9IFtdO1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICAvLyBUcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuICAgIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBwWzFdID0gYVsxXSAtIGJbMV07XG4gICAgcFsyXSA9IGFbMl0gLSBiWzJdO1xuICAgIC8vIHBlcmZvcm0gcm90YXRpb25cbiAgICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgICByWzFdID0gcFsxXTtcbiAgICByWzJdID0gcFsyXSAqIE1hdGguY29zKHJhZCkgLSBwWzBdICogTWF0aC5zaW4ocmFkKTtcbiAgICAvLyB0cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICAgIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICAgIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICAgIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgYiwgcmFkKSB7XG4gICAgY29uc3QgcCA9IFtdO1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICAvLyBUcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuICAgIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBwWzFdID0gYVsxXSAtIGJbMV07XG4gICAgcFsyXSA9IGFbMl0gLSBiWzJdO1xuICAgIC8vIHBlcmZvcm0gcm90YXRpb25cbiAgICByWzBdID0gcFswXSAqIE1hdGguY29zKHJhZCkgLSBwWzFdICogTWF0aC5zaW4ocmFkKTtcbiAgICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgICByWzJdID0gcFsyXTtcbiAgICAvLyB0cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICAgIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICAgIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICAgIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcbiAgICBjb25zdCBheCA9IGFbMF07XG4gICAgY29uc3QgYXkgPSBhWzFdO1xuICAgIGNvbnN0IGF6ID0gYVsyXTtcbiAgICBjb25zdCBieCA9IGJbMF07XG4gICAgY29uc3QgYnkgPSBiWzFdO1xuICAgIGNvbnN0IGJ6ID0gYlsyXTtcbiAgICBjb25zdCBtYWcgPSBNYXRoLnNxcnQoKGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheikgKiAoYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6KSk7XG4gICAgY29uc3QgY29zaW5lID0gbWFnICYmIGRvdChhLCBiKSAvIG1hZztcbiAgICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICAgIG91dFswXSA9IDAuMDtcbiAgICBvdXRbMV0gPSAwLjA7XG4gICAgb3V0WzJdID0gMC4wO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgICByZXR1cm4gYHZlYzMoJHthWzBdfSwgJHthWzFdfSwgJHthWzJdfSlgO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgICBjb25zdCBhMCA9IGFbMF07XG4gICAgY29uc3QgYTEgPSBhWzFdO1xuICAgIGNvbnN0IGEyID0gYVsyXTtcbiAgICBjb25zdCBiMCA9IGJbMF07XG4gICAgY29uc3QgYjEgPSBiWzFdO1xuICAgIGNvbnN0IGIyID0gYlsyXTtcbiAgICByZXR1cm4gKE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJlxuICAgICAgICBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiZcbiAgICAgICAgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3Qgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3Qgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGZvckVhY2ggPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHZlYyA9IGNyZWF0ZSgpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgICAgICAgIHN0cmlkZSA9IDM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgICAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICAgICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgICAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICAgICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgICAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgIH07XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjMy5qcy5tYXAiLCIvLyBtYXRoLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbi8vIENvcHlyaWdodCAoYykgMjAxNyBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vYmFzZS92ZWN0b3IuanNcIjtcbmltcG9ydCB7IGNvbmZpZywgaXNBcnJheSB9IGZyb20gXCIuLi9saWIvY29tbW9uLmpzXCI7XG5pbXBvcnQgeyBjaGVja051bWJlciB9IGZyb20gXCIuLi9saWIvdmFsaWRhdG9ycy5qc1wiO1xuLy8gQHRzLWlnbm9yZSBnbC1tYXRyaXggdHlwZXNcbmltcG9ydCB7IGFuZ2xlIGFzIHZlYzNfYW5nbGUsIGNyb3NzIGFzIHZlYzNfY3Jvc3MsIHJvdGF0ZVggYXMgdmVjM19yb3RhdGVYLCByb3RhdGVZIGFzIHZlYzNfcm90YXRlWSwgcm90YXRlWiBhcyB2ZWMzX3JvdGF0ZVosIHRyYW5zZm9ybU1hdDQgYXMgdmVjM190cmFuc2Zvcm1NYXQ0LCB0cmFuc2Zvcm1NYXQzIGFzIHZlYzNfdHJhbnNmb3JtTWF0MywgdHJhbnNmb3JtUXVhdCBhcyB2ZWMzX3RyYW5zZm9ybVF1YXQgfSBmcm9tIFwiLi4vZ2wtbWF0cml4L3ZlYzMuanNcIjtcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0IHsgdmVjM190cmFuc2Zvcm1NYXQyLCB2ZWMzX3RyYW5zZm9ybU1hdDRBc1ZlY3RvciB9IGZyb20gXCIuLi9saWIvZ2wtbWF0cml4LWV4dHJhcy5qc1wiO1xuY29uc3QgT1JJR0lOID0gWzAsIDAsIDBdO1xubGV0IFpFUk87XG4vKipcbiAqIFRocmVlLWVsZW1lbnQgdmVjdG9yIGNsYXNzIHdpdGggY29tbW9uIGxpbmVhciBhbGdlYnJhIG9wZXJhdGlvbnMuXG4gKiBTdWJjbGFzcyBvZiBBcnJheTxudW1iZXI+IG1lYW5pbmcgdGhhdCBpdCBpcyBoaWdobHkgY29tcGF0aWJsZSB3aXRoIG90aGVyIGxpYnJhcmllc1xuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yMyBleHRlbmRzIFZlY3RvciB7XG4gICAgc3RhdGljIGdldCBaRVJPKCkge1xuICAgICAgICBpZiAoIVpFUk8pIHtcbiAgICAgICAgICAgIFpFUk8gPSBuZXcgVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUoWkVSTyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFpFUk87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBjbGFzc1xuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHBhcmFtIHlcbiAgICAgKiBAcGFyYW0gelxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDApIHtcbiAgICAgICAgLy8gUEVSRiBOT1RFOiBpbml0aWFsaXplIGVsZW1lbnRzIGFzIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyc1xuICAgICAgICBzdXBlcigtMCwgLTAsIC0wKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheSh4KSkge1xuICAgICAgICAgICAgdGhpcy5jb3B5KHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcy5zZXQoeCwgeSwgeik7XG4gICAgICAgICAgICBpZiAoY29uZmlnLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tOdW1iZXIoeCk7XG4gICAgICAgICAgICAgICAgY2hlY2tOdW1iZXIoeSk7XG4gICAgICAgICAgICAgICAgY2hlY2tOdW1iZXIoeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTMjQxMjogUHJvcGVydHkgJzAnIG9mIHR5cGUgJ251bWJlciB8IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXScgaXMgbm90IGFzc2lnbmFibGUgdG8gbnVtZXJpYyBpbmRleCB0eXBlICdudW1iZXInXG4gICAgICAgICAgICB0aGlzWzBdID0geDtcbiAgICAgICAgICAgIHRoaXNbMV0gPSB5O1xuICAgICAgICAgICAgdGhpc1syXSA9IHo7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0KHgsIHksIHopIHtcbiAgICAgICAgdGhpc1swXSA9IHg7XG4gICAgICAgIHRoaXNbMV0gPSB5O1xuICAgICAgICB0aGlzWzJdID0gejtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgY29weShhcnJheSkge1xuICAgICAgICB0aGlzWzBdID0gYXJyYXlbMF07XG4gICAgICAgIHRoaXNbMV0gPSBhcnJheVsxXTtcbiAgICAgICAgdGhpc1syXSA9IGFycmF5WzJdO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICBpZiAoY29uZmlnLmRlYnVnKSB7XG4gICAgICAgICAgICBjaGVja051bWJlcihvYmplY3QueCk7XG4gICAgICAgICAgICBjaGVja051bWJlcihvYmplY3QueSk7XG4gICAgICAgICAgICBjaGVja051bWJlcihvYmplY3Queik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1swXSA9IG9iamVjdC54O1xuICAgICAgICB0aGlzWzFdID0gb2JqZWN0Lnk7XG4gICAgICAgIHRoaXNbMl0gPSBvYmplY3QuejtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgdG9PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC54ID0gdGhpc1swXTtcbiAgICAgICAgb2JqZWN0LnkgPSB0aGlzWzFdO1xuICAgICAgICBvYmplY3QueiA9IHRoaXNbMl07XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIC8vIEdldHRlcnMvc2V0dGVyc1xuICAgIGdldCBFTEVNRU5UUygpIHtcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgfVxuICAgIGdldCB6KCkge1xuICAgICAgICByZXR1cm4gdGhpc1syXTtcbiAgICB9XG4gICAgc2V0IHoodmFsdWUpIHtcbiAgICAgICAgdGhpc1syXSA9IGNoZWNrTnVtYmVyKHZhbHVlKTtcbiAgICB9XG4gICAgLy8gQUNDRVNTT1JTXG4gICAgYW5nbGUodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiB2ZWMzX2FuZ2xlKHRoaXMsIHZlY3Rvcik7XG4gICAgfVxuICAgIC8vIE1PRElGSUVSU1xuICAgIGNyb3NzKHZlY3Rvcikge1xuICAgICAgICB2ZWMzX2Nyb3NzKHRoaXMsIHRoaXMsIHZlY3Rvcik7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHJvdGF0ZVgoeyByYWRpYW5zLCBvcmlnaW4gPSBPUklHSU4gfSkge1xuICAgICAgICB2ZWMzX3JvdGF0ZVgodGhpcywgdGhpcywgb3JpZ2luLCByYWRpYW5zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgcm90YXRlWSh7IHJhZGlhbnMsIG9yaWdpbiA9IE9SSUdJTiB9KSB7XG4gICAgICAgIHZlYzNfcm90YXRlWSh0aGlzLCB0aGlzLCBvcmlnaW4sIHJhZGlhbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICByb3RhdGVaKHsgcmFkaWFucywgb3JpZ2luID0gT1JJR0lOIH0pIHtcbiAgICAgICAgdmVjM19yb3RhdGVaKHRoaXMsIHRoaXMsIG9yaWdpbiwgcmFkaWFucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8vIFRyYW5zZm9ybXNcbiAgICAvLyB0cmFuc2Zvcm1zIGFzIHBvaW50ICg0dGggY29tcG9uZW50IGlzIGltcGxpY2l0bHkgMSlcbiAgICB0cmFuc2Zvcm0obWF0cml4NCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Bc1BvaW50KG1hdHJpeDQpO1xuICAgIH1cbiAgICAvLyB0cmFuc2Zvcm1zIGFzIHBvaW50ICg0dGggY29tcG9uZW50IGlzIGltcGxpY2l0bHkgMSlcbiAgICB0cmFuc2Zvcm1Bc1BvaW50KG1hdHJpeDQpIHtcbiAgICAgICAgdmVjM190cmFuc2Zvcm1NYXQ0KHRoaXMsIHRoaXMsIG1hdHJpeDQpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvLyB0cmFuc2Zvcm1zIGFzIHZlY3RvciAgKDR0aCBjb21wb25lbnQgaXMgaW1wbGljaXRseSAwLCBpZ25vcmVzIHRyYW5zbGF0aW9uLiBzbGlnaHRseSBmYXN0ZXIpXG4gICAgdHJhbnNmb3JtQXNWZWN0b3IobWF0cml4NCkge1xuICAgICAgICB2ZWMzX3RyYW5zZm9ybU1hdDRBc1ZlY3Rvcih0aGlzLCB0aGlzLCBtYXRyaXg0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtQnlNYXRyaXgzKG1hdHJpeDMpIHtcbiAgICAgICAgdmVjM190cmFuc2Zvcm1NYXQzKHRoaXMsIHRoaXMsIG1hdHJpeDMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm1CeU1hdHJpeDIobWF0cml4Mikge1xuICAgICAgICB2ZWMzX3RyYW5zZm9ybU1hdDIodGhpcywgdGhpcywgbWF0cml4Mik7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHRyYW5zZm9ybUJ5UXVhdGVybmlvbihxdWF0ZXJuaW9uKSB7XG4gICAgICAgIHZlYzNfdHJhbnNmb3JtUXVhdCh0aGlzLCB0aGlzLCBxdWF0ZXJuaW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3IzLmpzLm1hcCIsIi8vIG1hdGguZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gdmVjMiBhZGRpdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiB2ZWMyX3RyYW5zZm9ybU1hdDRBc1ZlY3RvcihvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB3ID0gbVszXSAqIHggKyBtWzddICogeSB8fCAxLjA7XG4gICAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkpIC8gdztcbiAgICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSkgLyB3O1xuICAgIHJldHVybiBvdXQ7XG59XG4vLyB2ZWMzIGFkZGl0aW9uc1xuLy8gVHJhbnNmb3JtIGFzIHZlY3Rvciwgb25seSB1c2VzIDN4MyBtaW5vciBtYXRyaXhcbmV4cG9ydCBmdW5jdGlvbiB2ZWMzX3RyYW5zZm9ybU1hdDRBc1ZlY3RvcihvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICBjb25zdCB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiB8fCAxLjA7XG4gICAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeikgLyB3O1xuICAgIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHopIC8gdztcbiAgICBvdXRbMl0gPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeikgLyB3O1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdmVjM190cmFuc2Zvcm1NYXQyKG91dCwgYSwgbSkge1xuICAgIGNvbnN0IHggPSBhWzBdO1xuICAgIGNvbnN0IHkgPSBhWzFdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVsyXSAqIHk7XG4gICAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzNdICogeTtcbiAgICBvdXRbMl0gPSBhWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vLyB2ZWM0IGFkZGl0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIHZlYzRfdHJhbnNmb3JtTWF0MihvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBvdXRbMF0gPSBtWzBdICogeCArIG1bMl0gKiB5O1xuICAgIG91dFsxXSA9IG1bMV0gKiB4ICsgbVszXSAqIHk7XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdmVjNF90cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICAgIGNvbnN0IHggPSBhWzBdO1xuICAgIGNvbnN0IHkgPSBhWzFdO1xuICAgIGNvbnN0IHogPSBhWzJdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVszXSAqIHkgKyBtWzZdICogejtcbiAgICBvdXRbMV0gPSBtWzFdICogeCArIG1bNF0gKiB5ICsgbVs3XSAqIHo7XG4gICAgb3V0WzJdID0gbVsyXSAqIHggKyBtWzVdICogeSArIG1bOF0gKiB6O1xuICAgIG91dFszXSA9IGFbM107XG4gICAgcmV0dXJuIG91dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsLW1hdHJpeC1leHRyYXMuanMubWFwIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTcgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbmltcG9ydCB7IE1hdGhBcnJheSB9IGZyb20gXCIuL21hdGgtYXJyYXkuanNcIjtcbmltcG9ydCB7IGNoZWNrTnVtYmVyIH0gZnJvbSBcIi4uLy4uL2xpYi92YWxpZGF0b3JzLmpzXCI7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vLi4vbGliL2NvbW1vbi5qc1wiO1xuLyoqIEJhc2UgY2xhc3MgZm9yIG1hdHJpY2VzICovXG5leHBvcnQgY2xhc3MgTWF0cml4IGV4dGVuZHMgTWF0aEFycmF5IHtcbiAgICAvLyBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgIC8vICAgY29uc3QgYXJyYXkgPSBvYmplY3QuZWxlbWVudHM7XG4gICAgLy8gICByZXR1cm4gdGhpcy5mcm9tUm93TWFqb3IoYXJyYXkpO1xuICAgIC8vIH1cbiAgICAvLyB0b09iamVjdChvYmplY3QpIHtcbiAgICAvLyAgIGNvbnN0IGFycmF5ID0gb2JqZWN0LmVsZW1lbnRzO1xuICAgIC8vICAgdGhpcy50b1Jvd01ham9yKGFycmF5KTtcbiAgICAvLyAgIHJldHVybiBvYmplY3Q7XG4gICAgLy8gfVxuICAgIC8vIFRPRE8gYmV0dGVyIG92ZXJyaWRlIGZvcm1hdFN0cmluZz9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHN0cmluZyA9ICdbJztcbiAgICAgICAgaWYgKGNvbmZpZy5wcmludFJvd01ham9yKSB7XG4gICAgICAgICAgICBzdHJpbmcgKz0gJ3Jvdy1tYWpvcjonO1xuICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5SQU5LOyArK3Jvdykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHRoaXMuUkFOSzsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGAgJHt0aGlzW2NvbCAqIHRoaXMuUkFOSyArIHJvd119YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJpbmcgKz0gJ2NvbHVtbi1tYWpvcjonO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gYCAke3RoaXNbaV19YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdHJpbmcgKz0gJ10nO1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cbiAgICBnZXRFbGVtZW50SW5kZXgocm93LCBjb2wpIHtcbiAgICAgICAgcmV0dXJuIGNvbCAqIHRoaXMuUkFOSyArIHJvdztcbiAgICB9XG4gICAgLy8gQnkgZGVmYXVsdCBhc3N1bWVzIHJvdyBtYWpvciBpbmRpY2VzXG4gICAgZ2V0RWxlbWVudChyb3csIGNvbCkge1xuICAgICAgICByZXR1cm4gdGhpc1tjb2wgKiB0aGlzLlJBTksgKyByb3ddO1xuICAgIH1cbiAgICAvLyBCeSBkZWZhdWx0IGFzc3VtZXMgcm93IG1ham9yIGluZGljZXNcbiAgICBzZXRFbGVtZW50KHJvdywgY29sLCB2YWx1ZSkge1xuICAgICAgICB0aGlzW2NvbCAqIHRoaXMuUkFOSyArIHJvd10gPSBjaGVja051bWJlcih2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRDb2x1bW4oY29sdW1uSW5kZXgsIHJlc3VsdCA9IG5ldyBBcnJheSh0aGlzLlJBTkspLmZpbGwoLTApKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0SW5kZXggPSBjb2x1bW5JbmRleCAqIHRoaXMuUkFOSztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLlJBTks7ICsraSkge1xuICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpc1tmaXJzdEluZGV4ICsgaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc2V0Q29sdW1uKGNvbHVtbkluZGV4LCBjb2x1bW5WZWN0b3IpIHtcbiAgICAgICAgY29uc3QgZmlyc3RJbmRleCA9IGNvbHVtbkluZGV4ICogdGhpcy5SQU5LO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuUkFOSzsgKytpKSB7XG4gICAgICAgICAgICB0aGlzW2ZpcnN0SW5kZXggKyBpXSA9IGNvbHVtblZlY3RvcltpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRyaXguanMubWFwIiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSAnLi9jb21tb24uanMnO1xuLyoqXG4gKiAzeDMgTWF0cml4XG4gKiBAbW9kdWxlIG1hdDNcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDNcbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gYSBuZXcgM3gzIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIGNvbnN0IG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xuICAgIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgICAgICBvdXRbMV0gPSAwO1xuICAgICAgICBvdXRbMl0gPSAwO1xuICAgICAgICBvdXRbM10gPSAwO1xuICAgICAgICBvdXRbNV0gPSAwO1xuICAgICAgICBvdXRbNl0gPSAwO1xuICAgICAgICBvdXRbN10gPSAwO1xuICAgIH1cbiAgICBvdXRbMF0gPSAxO1xuICAgIG91dFs0XSA9IDE7XG4gICAgb3V0WzhdID0gMTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3BpZXMgdGhlIHVwcGVyLWxlZnQgM3gzIHZhbHVlcyBpbnRvIHRoZSBnaXZlbiBtYXQzLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgM3gzIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgICB0aGUgc291cmNlIDR4NCBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQ0KG91dCwgYSkge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVsxXTtcbiAgICBvdXRbMl0gPSBhWzJdO1xuICAgIG91dFszXSA9IGFbNF07XG4gICAgb3V0WzRdID0gYVs1XTtcbiAgICBvdXRbNV0gPSBhWzZdO1xuICAgIG91dFs2XSA9IGFbOF07XG4gICAgb3V0WzddID0gYVs5XTtcbiAgICBvdXRbOF0gPSBhWzEwXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IGFbMl07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFs0XSA9IGFbNF07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzZdO1xuICAgIG91dFs3XSA9IGFbN107XG4gICAgb3V0WzhdID0gYVs4XTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0MyB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcmV0dXJucyB7bWF0M30gQSBuZXcgbWF0M1xuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG4gICAgb3V0WzBdID0gbTAwO1xuICAgIG91dFsxXSA9IG0wMTtcbiAgICBvdXRbMl0gPSBtMDI7XG4gICAgb3V0WzNdID0gbTEwO1xuICAgIG91dFs0XSA9IG0xMTtcbiAgICBvdXRbNV0gPSBtMTI7XG4gICAgb3V0WzZdID0gbTIwO1xuICAgIG91dFs3XSA9IG0yMTtcbiAgICBvdXRbOF0gPSBtMjI7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0MyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcbiAgICBvdXRbMF0gPSBtMDA7XG4gICAgb3V0WzFdID0gbTAxO1xuICAgIG91dFsyXSA9IG0wMjtcbiAgICBvdXRbM10gPSBtMTA7XG4gICAgb3V0WzRdID0gbTExO1xuICAgIG91dFs1XSA9IG0xMjtcbiAgICBvdXRbNl0gPSBtMjA7XG4gICAgb3V0WzddID0gbTIxO1xuICAgIG91dFs4XSA9IG0yMjtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQzIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gICAgb3V0WzBdID0gMTtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSAxO1xuICAgIG91dFs1XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gICAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICAgIGlmIChvdXQgPT09IGEpIHtcbiAgICAgICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICAgICAgY29uc3QgYTAyID0gYVsyXTtcbiAgICAgICAgY29uc3QgYTEyID0gYVs1XTtcbiAgICAgICAgb3V0WzFdID0gYVszXTtcbiAgICAgICAgb3V0WzJdID0gYVs2XTtcbiAgICAgICAgb3V0WzNdID0gYTAxO1xuICAgICAgICBvdXRbNV0gPSBhWzddO1xuICAgICAgICBvdXRbNl0gPSBhMDI7XG4gICAgICAgIG91dFs3XSA9IGExMjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG91dFswXSA9IGFbMF07XG4gICAgICAgIG91dFsxXSA9IGFbM107XG4gICAgICAgIG91dFsyXSA9IGFbNl07XG4gICAgICAgIG91dFszXSA9IGFbMV07XG4gICAgICAgIG91dFs0XSA9IGFbNF07XG4gICAgICAgIG91dFs1XSA9IGFbN107XG4gICAgICAgIG91dFs2XSA9IGFbMl07XG4gICAgICAgIG91dFs3XSA9IGFbNV07XG4gICAgICAgIG91dFs4XSA9IGFbOF07XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEludmVydHMgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gICAgY29uc3QgYTAwID0gYVswXTtcbiAgICBjb25zdCBhMDEgPSBhWzFdO1xuICAgIGNvbnN0IGEwMiA9IGFbMl07XG4gICAgY29uc3QgYTEwID0gYVszXTtcbiAgICBjb25zdCBhMTEgPSBhWzRdO1xuICAgIGNvbnN0IGExMiA9IGFbNV07XG4gICAgY29uc3QgYTIwID0gYVs2XTtcbiAgICBjb25zdCBhMjEgPSBhWzddO1xuICAgIGNvbnN0IGEyMiA9IGFbOF07XG4gICAgY29uc3QgYjAxID0gYTIyICogYTExIC0gYTEyICogYTIxO1xuICAgIGNvbnN0IGIxMSA9IC1hMjIgKiBhMTAgKyBhMTIgKiBhMjA7XG4gICAgY29uc3QgYjIxID0gYTIxICogYTEwIC0gYTExICogYTIwO1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcbiAgICBsZXQgZGV0ID0gYTAwICogYjAxICsgYTAxICogYjExICsgYTAyICogYjIxO1xuICAgIGlmICghZGV0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBkZXQgPSAxLjAgLyBkZXQ7XG4gICAgb3V0WzBdID0gYjAxICogZGV0O1xuICAgIG91dFsxXSA9ICgtYTIyICogYTAxICsgYTAyICogYTIxKSAqIGRldDtcbiAgICBvdXRbMl0gPSAoYTEyICogYTAxIC0gYTAyICogYTExKSAqIGRldDtcbiAgICBvdXRbM10gPSBiMTEgKiBkZXQ7XG4gICAgb3V0WzRdID0gKGEyMiAqIGEwMCAtIGEwMiAqIGEyMCkgKiBkZXQ7XG4gICAgb3V0WzVdID0gKC1hMTIgKiBhMDAgKyBhMDIgKiBhMTApICogZGV0O1xuICAgIG91dFs2XSA9IGIyMSAqIGRldDtcbiAgICBvdXRbN10gPSAoLWEyMSAqIGEwMCArIGEwMSAqIGEyMCkgKiBkZXQ7XG4gICAgb3V0WzhdID0gKGExMSAqIGEwMCAtIGEwMSAqIGExMCkgKiBkZXQ7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICAgIGNvbnN0IGEwMCA9IGFbMF07XG4gICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICBjb25zdCBhMDIgPSBhWzJdO1xuICAgIGNvbnN0IGExMCA9IGFbM107XG4gICAgY29uc3QgYTExID0gYVs0XTtcbiAgICBjb25zdCBhMTIgPSBhWzVdO1xuICAgIGNvbnN0IGEyMCA9IGFbNl07XG4gICAgY29uc3QgYTIxID0gYVs3XTtcbiAgICBjb25zdCBhMjIgPSBhWzhdO1xuICAgIG91dFswXSA9IGExMSAqIGEyMiAtIGExMiAqIGEyMTtcbiAgICBvdXRbMV0gPSBhMDIgKiBhMjEgLSBhMDEgKiBhMjI7XG4gICAgb3V0WzJdID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICAgIG91dFszXSA9IGExMiAqIGEyMCAtIGExMCAqIGEyMjtcbiAgICBvdXRbNF0gPSBhMDAgKiBhMjIgLSBhMDIgKiBhMjA7XG4gICAgb3V0WzVdID0gYTAyICogYTEwIC0gYTAwICogYTEyO1xuICAgIG91dFs2XSA9IGExMCAqIGEyMSAtIGExMSAqIGEyMDtcbiAgICBvdXRbN10gPSBhMDEgKiBhMjAgLSBhMDAgKiBhMjE7XG4gICAgb3V0WzhdID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gICAgY29uc3QgYTAwID0gYVswXTtcbiAgICBjb25zdCBhMDEgPSBhWzFdO1xuICAgIGNvbnN0IGEwMiA9IGFbMl07XG4gICAgY29uc3QgYTEwID0gYVszXTtcbiAgICBjb25zdCBhMTEgPSBhWzRdO1xuICAgIGNvbnN0IGExMiA9IGFbNV07XG4gICAgY29uc3QgYTIwID0gYVs2XTtcbiAgICBjb25zdCBhMjEgPSBhWzddO1xuICAgIGNvbnN0IGEyMiA9IGFbOF07XG4gICAgcmV0dXJuIChhMDAgKiAoYTIyICogYTExIC0gYTEyICogYTIxKSArIGEwMSAqICgtYTIyICogYTEwICsgYTEyICogYTIwKSArIGEwMiAqIChhMjEgKiBhMTAgLSBhMTEgKiBhMjApKTtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0MydzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICAgIGNvbnN0IGEwMCA9IGFbMF07XG4gICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICBjb25zdCBhMDIgPSBhWzJdO1xuICAgIGNvbnN0IGExMCA9IGFbM107XG4gICAgY29uc3QgYTExID0gYVs0XTtcbiAgICBjb25zdCBhMTIgPSBhWzVdO1xuICAgIGNvbnN0IGEyMCA9IGFbNl07XG4gICAgY29uc3QgYTIxID0gYVs3XTtcbiAgICBjb25zdCBhMjIgPSBhWzhdO1xuICAgIGNvbnN0IGIwMCA9IGJbMF07XG4gICAgY29uc3QgYjAxID0gYlsxXTtcbiAgICBjb25zdCBiMDIgPSBiWzJdO1xuICAgIGNvbnN0IGIxMCA9IGJbM107XG4gICAgY29uc3QgYjExID0gYls0XTtcbiAgICBjb25zdCBiMTIgPSBiWzVdO1xuICAgIGNvbnN0IGIyMCA9IGJbNl07XG4gICAgY29uc3QgYjIxID0gYls3XTtcbiAgICBjb25zdCBiMjIgPSBiWzhdO1xuICAgIG91dFswXSA9IGIwMCAqIGEwMCArIGIwMSAqIGExMCArIGIwMiAqIGEyMDtcbiAgICBvdXRbMV0gPSBiMDAgKiBhMDEgKyBiMDEgKiBhMTEgKyBiMDIgKiBhMjE7XG4gICAgb3V0WzJdID0gYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyO1xuICAgIG91dFszXSA9IGIxMCAqIGEwMCArIGIxMSAqIGExMCArIGIxMiAqIGEyMDtcbiAgICBvdXRbNF0gPSBiMTAgKiBhMDEgKyBiMTEgKiBhMTEgKyBiMTIgKiBhMjE7XG4gICAgb3V0WzVdID0gYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyO1xuICAgIG91dFs2XSA9IGIyMCAqIGEwMCArIGIyMSAqIGExMCArIGIyMiAqIGEyMDtcbiAgICBvdXRbN10gPSBiMjAgKiBhMDEgKyBiMjEgKiBhMTEgKyBiMjIgKiBhMjE7XG4gICAgb3V0WzhdID0gYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDMgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICAgIGNvbnN0IGEwMCA9IGFbMF07XG4gICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICBjb25zdCBhMDIgPSBhWzJdO1xuICAgIGNvbnN0IGExMCA9IGFbM107XG4gICAgY29uc3QgYTExID0gYVs0XTtcbiAgICBjb25zdCBhMTIgPSBhWzVdO1xuICAgIGNvbnN0IGEyMCA9IGFbNl07XG4gICAgY29uc3QgYTIxID0gYVs3XTtcbiAgICBjb25zdCBhMjIgPSBhWzhdO1xuICAgIGNvbnN0IHggPSB2WzBdO1xuICAgIGNvbnN0IHkgPSB2WzFdO1xuICAgIG91dFswXSA9IGEwMDtcbiAgICBvdXRbMV0gPSBhMDE7XG4gICAgb3V0WzJdID0gYTAyO1xuICAgIG91dFszXSA9IGExMDtcbiAgICBvdXRbNF0gPSBhMTE7XG4gICAgb3V0WzVdID0gYTEyO1xuICAgIG91dFs2XSA9IHggKiBhMDAgKyB5ICogYTEwICsgYTIwO1xuICAgIG91dFs3XSA9IHggKiBhMDEgKyB5ICogYTExICsgYTIxO1xuICAgIG91dFs4XSA9IHggKiBhMDIgKyB5ICogYTEyICsgYTIyO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXQzIGJ5IHRoZSBnaXZlbiBhbmdsZVxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCkge1xuICAgIGNvbnN0IGEwMCA9IGFbMF07XG4gICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICBjb25zdCBhMDIgPSBhWzJdO1xuICAgIGNvbnN0IGExMCA9IGFbM107XG4gICAgY29uc3QgYTExID0gYVs0XTtcbiAgICBjb25zdCBhMTIgPSBhWzVdO1xuICAgIGNvbnN0IGEyMCA9IGFbNl07XG4gICAgY29uc3QgYTIxID0gYVs3XTtcbiAgICBjb25zdCBhMjIgPSBhWzhdO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihyYWQpO1xuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhyYWQpO1xuICAgIG91dFswXSA9IGMgKiBhMDAgKyBzICogYTEwO1xuICAgIG91dFsxXSA9IGMgKiBhMDEgKyBzICogYTExO1xuICAgIG91dFsyXSA9IGMgKiBhMDIgKyBzICogYTEyO1xuICAgIG91dFszXSA9IGMgKiBhMTAgLSBzICogYTAwO1xuICAgIG91dFs0XSA9IGMgKiBhMTEgLSBzICogYTAxO1xuICAgIG91dFs1XSA9IGMgKiBhMTIgLSBzICogYTAyO1xuICAgIG91dFs2XSA9IGEyMDtcbiAgICBvdXRbN10gPSBhMjE7XG4gICAgb3V0WzhdID0gYTIyO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0MyBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gICAgY29uc3QgeCA9IHZbMF07XG4gICAgY29uc3QgeSA9IHZbMV07XG4gICAgb3V0WzBdID0geCAqIGFbMF07XG4gICAgb3V0WzFdID0geCAqIGFbMV07XG4gICAgb3V0WzJdID0geCAqIGFbMl07XG4gICAgb3V0WzNdID0geSAqIGFbM107XG4gICAgb3V0WzRdID0geSAqIGFbNF07XG4gICAgb3V0WzVdID0geSAqIGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQzLnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICAgIG91dFswXSA9IDE7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMTtcbiAgICBvdXRbNV0gPSAwO1xuICAgIG91dFs2XSA9IHZbMF07XG4gICAgb3V0WzddID0gdlsxXTtcbiAgICBvdXRbOF0gPSAxO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQzLnJvdGF0ZShkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4ocmFkKTtcbiAgICBjb25zdCBjID0gTWF0aC5jb3MocmFkKTtcbiAgICBvdXRbMF0gPSBjO1xuICAgIG91dFsxXSA9IHM7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAtcztcbiAgICBvdXRbNF0gPSBjO1xuICAgIG91dFs1XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDMuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gICAgb3V0WzBdID0gdlswXTtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSB2WzFdO1xuICAgIG91dFs1XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgZnJvbSBhIG1hdDJkIGludG8gYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIGNvcHlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MmQob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gYVsyXTtcbiAgICBvdXRbNF0gPSBhWzNdO1xuICAgIG91dFs1XSA9IDA7XG4gICAgb3V0WzZdID0gYVs0XTtcbiAgICBvdXRbN10gPSBhWzVdO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDN4MyBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQob3V0LCBxKSB7XG4gICAgY29uc3QgeCA9IHFbMF07XG4gICAgY29uc3QgeSA9IHFbMV07XG4gICAgY29uc3QgeiA9IHFbMl07XG4gICAgY29uc3QgdyA9IHFbM107XG4gICAgY29uc3QgeDIgPSB4ICsgeDtcbiAgICBjb25zdCB5MiA9IHkgKyB5O1xuICAgIGNvbnN0IHoyID0geiArIHo7XG4gICAgY29uc3QgeHggPSB4ICogeDI7XG4gICAgY29uc3QgeXggPSB5ICogeDI7XG4gICAgY29uc3QgeXkgPSB5ICogeTI7XG4gICAgY29uc3QgenggPSB6ICogeDI7XG4gICAgY29uc3QgenkgPSB6ICogeTI7XG4gICAgY29uc3QgenogPSB6ICogejI7XG4gICAgY29uc3Qgd3ggPSB3ICogeDI7XG4gICAgY29uc3Qgd3kgPSB3ICogeTI7XG4gICAgY29uc3Qgd3ogPSB3ICogejI7XG4gICAgb3V0WzBdID0gMSAtIHl5IC0geno7XG4gICAgb3V0WzNdID0geXggLSB3ejtcbiAgICBvdXRbNl0gPSB6eCArIHd5O1xuICAgIG91dFsxXSA9IHl4ICsgd3o7XG4gICAgb3V0WzRdID0gMSAtIHh4IC0geno7XG4gICAgb3V0WzddID0genkgLSB3eDtcbiAgICBvdXRbMl0gPSB6eCAtIHd5O1xuICAgIG91dFs1XSA9IHp5ICsgd3g7XG4gICAgb3V0WzhdID0gMSAtIHh4IC0geXk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDN4MyBub3JtYWwgbWF0cml4ICh0cmFuc3Bvc2UgaW52ZXJzZSkgZnJvbSB0aGUgNHg0IG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIE1hdDQgdG8gZGVyaXZlIHRoZSBub3JtYWwgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxGcm9tTWF0NChvdXQsIGEpIHtcbiAgICBjb25zdCBhMDAgPSBhWzBdO1xuICAgIGNvbnN0IGEwMSA9IGFbMV07XG4gICAgY29uc3QgYTAyID0gYVsyXTtcbiAgICBjb25zdCBhMDMgPSBhWzNdO1xuICAgIGNvbnN0IGExMCA9IGFbNF07XG4gICAgY29uc3QgYTExID0gYVs1XTtcbiAgICBjb25zdCBhMTIgPSBhWzZdO1xuICAgIGNvbnN0IGExMyA9IGFbN107XG4gICAgY29uc3QgYTIwID0gYVs4XTtcbiAgICBjb25zdCBhMjEgPSBhWzldO1xuICAgIGNvbnN0IGEyMiA9IGFbMTBdO1xuICAgIGNvbnN0IGEyMyA9IGFbMTFdO1xuICAgIGNvbnN0IGEzMCA9IGFbMTJdO1xuICAgIGNvbnN0IGEzMSA9IGFbMTNdO1xuICAgIGNvbnN0IGEzMiA9IGFbMTRdO1xuICAgIGNvbnN0IGEzMyA9IGFbMTVdO1xuICAgIGNvbnN0IGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgICBjb25zdCBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gICAgY29uc3QgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICAgIGNvbnN0IGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgICBjb25zdCBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gICAgY29uc3QgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICAgIGNvbnN0IGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgICBjb25zdCBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gICAgY29uc3QgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICAgIGNvbnN0IGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgICBjb25zdCBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gICAgY29uc3QgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyO1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcbiAgICBsZXQgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuICAgIGlmICghZGV0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBkZXQgPSAxLjAgLyBkZXQ7XG4gICAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gICAgb3V0WzFdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gICAgb3V0WzJdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gICAgb3V0WzNdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XG4gICAgb3V0WzRdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XG4gICAgb3V0WzVdID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gICAgb3V0WzZdID0gKGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMykgKiBkZXQ7XG4gICAgb3V0WzddID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gICAgb3V0WzhdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgMkQgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHlvdXIgZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgZ2wgY29udGV4dFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbihvdXQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICBvdXRbMF0gPSAyIC8gd2lkdGg7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gLTIgLyBoZWlnaHQ7XG4gICAgb3V0WzVdID0gMDtcbiAgICBvdXRbNl0gPSAtMTtcbiAgICBvdXRbN10gPSAxO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgICByZXR1cm4gYG1hdDMoJHthWzBdfSwgJHthWzFdfSwgJHthWzJdfSwgJHthWzNdfSwgJHthWzRdfSwgJHthWzVdfSwgJHthWzZdfSwgJHthWzddfSwgJHthWzhdfSlgO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydChhWzBdICogYVswXSArXG4gICAgICAgIGFbMV0gKiBhWzFdICtcbiAgICAgICAgYVsyXSAqIGFbMl0gK1xuICAgICAgICBhWzNdICogYVszXSArXG4gICAgICAgIGFbNF0gKiBhWzRdICtcbiAgICAgICAgYVs1XSAqIGFbNV0gK1xuICAgICAgICBhWzZdICogYVs2XSArXG4gICAgICAgIGFbN10gKiBhWzddICtcbiAgICAgICAgYVs4XSAqIGFbOF0pO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQzJ3NcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICAgIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICAgIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICAgIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICAgIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICAgIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xuICAgIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICAgIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICAgIG91dFs4XSA9IGFbOF0gKyBiWzhdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICAgIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICAgIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICAgIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICAgIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICAgIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICAgIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICAgIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICAgIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdICogYjtcbiAgICBvdXRbMV0gPSBhWzFdICogYjtcbiAgICBvdXRbMl0gPSBhWzJdICogYjtcbiAgICBvdXRbM10gPSBhWzNdICogYjtcbiAgICBvdXRbNF0gPSBhWzRdICogYjtcbiAgICBvdXRbNV0gPSBhWzVdICogYjtcbiAgICBvdXRbNl0gPSBhWzZdICogYjtcbiAgICBvdXRbN10gPSBhWzddICogYjtcbiAgICBvdXRbOF0gPSBhWzhdICogYjtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQzJ3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICAgIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gICAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICAgIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gICAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcbiAgICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICAgIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gICAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICAgIHJldHVybiAoYVswXSA9PT0gYlswXSAmJlxuICAgICAgICBhWzFdID09PSBiWzFdICYmXG4gICAgICAgIGFbMl0gPT09IGJbMl0gJiZcbiAgICAgICAgYVszXSA9PT0gYlszXSAmJlxuICAgICAgICBhWzRdID09PSBiWzRdICYmXG4gICAgICAgIGFbNV0gPT09IGJbNV0gJiZcbiAgICAgICAgYVs2XSA9PT0gYls2XSAmJlxuICAgICAgICBhWzddID09PSBiWzddICYmXG4gICAgICAgIGFbOF0gPT09IGJbOF0pO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgICBjb25zdCBhMCA9IGFbMF07XG4gICAgY29uc3QgYTEgPSBhWzFdO1xuICAgIGNvbnN0IGEyID0gYVsyXTtcbiAgICBjb25zdCBhMyA9IGFbM107XG4gICAgY29uc3QgYTQgPSBhWzRdO1xuICAgIGNvbnN0IGE1ID0gYVs1XTtcbiAgICBjb25zdCBhNiA9IGFbNl07XG4gICAgY29uc3QgYTcgPSBhWzddO1xuICAgIGNvbnN0IGE4ID0gYVs4XTtcbiAgICBjb25zdCBiMCA9IGJbMF07XG4gICAgY29uc3QgYjEgPSBiWzFdO1xuICAgIGNvbnN0IGIyID0gYlsyXTtcbiAgICBjb25zdCBiMyA9IGJbM107XG4gICAgY29uc3QgYjQgPSBiWzRdO1xuICAgIGNvbnN0IGI1ID0gYls1XTtcbiAgICBjb25zdCBiNiA9IGJbNl07XG4gICAgY29uc3QgYjcgPSBiWzddO1xuICAgIGNvbnN0IGI4ID0gYls4XTtcbiAgICByZXR1cm4gKE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJlxuICAgICAgICBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiZcbiAgICAgICAgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmXG4gICAgICAgIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJlxuICAgICAgICBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiZcbiAgICAgICAgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmXG4gICAgICAgIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJlxuICAgICAgICBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiZcbiAgICAgICAgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzdWIgPSBzdWJ0cmFjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdDMuanMubWFwIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTcgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuL2Jhc2UvbWF0cml4LmpzXCI7XG5pbXBvcnQgeyBjaGVja1ZlY3RvciB9IGZyb20gXCIuLi9saWIvdmFsaWRhdG9ycy5qc1wiO1xuaW1wb3J0IHsgdmVjNF90cmFuc2Zvcm1NYXQzIH0gZnJvbSBcIi4uL2xpYi9nbC1tYXRyaXgtZXh0cmFzLmpzXCI7XG5pbXBvcnQgeyBmcm9tUXVhdCBhcyBtYXQzX2Zyb21RdWF0LCBkZXRlcm1pbmFudCBhcyBtYXQzX2RldGVybWluYW50LCB0cmFuc3Bvc2UgYXMgbWF0M190cmFuc3Bvc2UsIGludmVydCBhcyBtYXQzX2ludmVydCwgbXVsdGlwbHkgYXMgbWF0M19tdWx0aXBseSwgcm90YXRlIGFzIG1hdDNfcm90YXRlLCBzY2FsZSBhcyBtYXQzX3NjYWxlLCB0cmFuc2xhdGUgYXMgbWF0M190cmFuc2xhdGUgfSBmcm9tIFwiLi4vZ2wtbWF0cml4L21hdDMuanNcIjtcbmltcG9ydCB7IHRyYW5zZm9ybU1hdDMgYXMgdmVjMl90cmFuc2Zvcm1NYXQzIH0gZnJvbSBcIi4uL2dsLW1hdHJpeC92ZWMyLmpzXCI7XG5pbXBvcnQgeyB0cmFuc2Zvcm1NYXQzIGFzIHZlYzNfdHJhbnNmb3JtTWF0MyB9IGZyb20gXCIuLi9nbC1tYXRyaXgvdmVjMy5qc1wiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xudmFyIElORElDRVM7XG4oZnVuY3Rpb24gKElORElDRVMpIHtcbiAgICBJTkRJQ0VTW0lORElDRVNbXCJDT0wwUk9XMFwiXSA9IDBdID0gXCJDT0wwUk9XMFwiO1xuICAgIElORElDRVNbSU5ESUNFU1tcIkNPTDBST1cxXCJdID0gMV0gPSBcIkNPTDBST1cxXCI7XG4gICAgSU5ESUNFU1tJTkRJQ0VTW1wiQ09MMFJPVzJcIl0gPSAyXSA9IFwiQ09MMFJPVzJcIjtcbiAgICBJTkRJQ0VTW0lORElDRVNbXCJDT0wxUk9XMFwiXSA9IDNdID0gXCJDT0wxUk9XMFwiO1xuICAgIElORElDRVNbSU5ESUNFU1tcIkNPTDFST1cxXCJdID0gNF0gPSBcIkNPTDFST1cxXCI7XG4gICAgSU5ESUNFU1tJTkRJQ0VTW1wiQ09MMVJPVzJcIl0gPSA1XSA9IFwiQ09MMVJPVzJcIjtcbiAgICBJTkRJQ0VTW0lORElDRVNbXCJDT0wyUk9XMFwiXSA9IDZdID0gXCJDT0wyUk9XMFwiO1xuICAgIElORElDRVNbSU5ESUNFU1tcIkNPTDJST1cxXCJdID0gN10gPSBcIkNPTDJST1cxXCI7XG4gICAgSU5ESUNFU1tJTkRJQ0VTW1wiQ09MMlJPVzJcIl0gPSA4XSA9IFwiQ09MMlJPVzJcIjtcbn0pKElORElDRVMgfHwgKElORElDRVMgPSB7fSkpO1xuY29uc3QgSURFTlRJVFlfTUFUUklYID0gT2JqZWN0LmZyZWV6ZShbMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMV0pO1xuLyoqXG4gKiBBIDN4MyBtYXRyaXggd2l0aCBjb21tb24gbGluZWFyIGFsZ2VicmEgb3BlcmF0aW9uc1xuICogU3ViY2xhc3Mgb2YgQXJyYXk8bnVtYmVyPiBtZWFuaW5nIHRoYXQgaXQgaXMgaGlnaGx5IGNvbXBhdGlibGUgd2l0aCBvdGhlciBsaWJyYXJpZXNcbiAqL1xuZXhwb3J0IGNsYXNzIE1hdHJpeDMgZXh0ZW5kcyBNYXRyaXgge1xuICAgIHN0YXRpYyBnZXQgSURFTlRJVFkoKSB7XG4gICAgICAgIHJldHVybiBnZXRJZGVudGl0eU1hdHJpeCgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IFpFUk8oKSB7XG4gICAgICAgIHJldHVybiBnZXRaZXJvTWF0cml4KCk7XG4gICAgfVxuICAgIGdldCBFTEVNRU5UUygpIHtcbiAgICAgICAgcmV0dXJuIDk7XG4gICAgfVxuICAgIGdldCBSQU5LKCkge1xuICAgICAgICByZXR1cm4gMztcbiAgICB9XG4gICAgZ2V0IElORElDRVMoKSB7XG4gICAgICAgIHJldHVybiBJTkRJQ0VTO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihhcnJheSwgLi4uYXJncykge1xuICAgICAgICAvLyBQRVJGIE5PVEU6IGluaXRpYWxpemUgZWxlbWVudHMgYXMgZG91YmxlIHByZWNpc2lvbiBudW1iZXJzXG4gICAgICAgIHN1cGVyKC0wLCAtMCwgLTAsIC0wLCAtMCwgLTAsIC0wLCAtMCwgLTApO1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgICAgICAgICAgdGhpcy5jb3B5KGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29weShbYXJyYXksIC4uLmFyZ3NdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb3B5KGFycmF5KSB7XG4gICAgICAgIC8vIEVsZW1lbnQgd2lzZSBjb3B5IGZvciBwZXJmb3JtYW5jZVxuICAgICAgICB0aGlzWzBdID0gYXJyYXlbMF07XG4gICAgICAgIHRoaXNbMV0gPSBhcnJheVsxXTtcbiAgICAgICAgdGhpc1syXSA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzWzNdID0gYXJyYXlbM107XG4gICAgICAgIHRoaXNbNF0gPSBhcnJheVs0XTtcbiAgICAgICAgdGhpc1s1XSA9IGFycmF5WzVdO1xuICAgICAgICB0aGlzWzZdID0gYXJyYXlbNl07XG4gICAgICAgIHRoaXNbN10gPSBhcnJheVs3XTtcbiAgICAgICAgdGhpc1s4XSA9IGFycmF5WzhdO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvLyBDb25zdHJ1Y3RvcnNcbiAgICBpZGVudGl0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weShJREVOVElUWV9NQVRSSVgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyBzZWxmXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8qKiBDYWxjdWxhdGVzIGEgM3gzIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gICAgICogcSBxdWF0ICBRdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxuICAgICAqL1xuICAgIGZyb21RdWF0ZXJuaW9uKHEpIHtcbiAgICAgICAgbWF0M19mcm9tUXVhdCh0aGlzLCBxKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWNjZXB0cyBjb2x1bW4gbWFqb3Igb3JkZXIsIHN0b3JlcyBpbiBjb2x1bW4gbWFqb3Igb3JkZXJcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuICAgIHNldChtMDAsIG0xMCwgbTIwLCBtMDEsIG0xMSwgbTIxLCBtMDIsIG0xMiwgbTIyKSB7XG4gICAgICAgIHRoaXNbMF0gPSBtMDA7XG4gICAgICAgIHRoaXNbMV0gPSBtMTA7XG4gICAgICAgIHRoaXNbMl0gPSBtMjA7XG4gICAgICAgIHRoaXNbM10gPSBtMDE7XG4gICAgICAgIHRoaXNbNF0gPSBtMTE7XG4gICAgICAgIHRoaXNbNV0gPSBtMjE7XG4gICAgICAgIHRoaXNbNl0gPSBtMDI7XG4gICAgICAgIHRoaXNbN10gPSBtMTI7XG4gICAgICAgIHRoaXNbOF0gPSBtMjI7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFjY2VwdHMgcm93IG1ham9yIG9yZGVyLCBzdG9yZXMgYXMgY29sdW1uIG1ham9yXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1wYXJhbXNcbiAgICBzZXRSb3dNYWpvcihtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gICAgICAgIHRoaXNbMF0gPSBtMDA7XG4gICAgICAgIHRoaXNbMV0gPSBtMTA7XG4gICAgICAgIHRoaXNbMl0gPSBtMjA7XG4gICAgICAgIHRoaXNbM10gPSBtMDE7XG4gICAgICAgIHRoaXNbNF0gPSBtMTE7XG4gICAgICAgIHRoaXNbNV0gPSBtMjE7XG4gICAgICAgIHRoaXNbNl0gPSBtMDI7XG4gICAgICAgIHRoaXNbN10gPSBtMTI7XG4gICAgICAgIHRoaXNbOF0gPSBtMjI7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8vIEFjY2Vzc29yc1xuICAgIGRldGVybWluYW50KCkge1xuICAgICAgICByZXR1cm4gbWF0M19kZXRlcm1pbmFudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gTW9kaWZpZXJzXG4gICAgdHJhbnNwb3NlKCkge1xuICAgICAgICBtYXQzX3RyYW5zcG9zZSh0aGlzLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLyoqIEludmVydCBhIG1hdHJpeC4gTm90ZSB0aGF0IHRoaXMgY2FuIGZhaWwgaWYgdGhlIG1hdHJpeCBpcyBub3QgaW52ZXJ0aWJsZSAqL1xuICAgIGludmVydCgpIHtcbiAgICAgICAgbWF0M19pbnZlcnQodGhpcywgdGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8vIE9wZXJhdGlvbnNcbiAgICBtdWx0aXBseUxlZnQoYSkge1xuICAgICAgICBtYXQzX211bHRpcGx5KHRoaXMsIGEsIHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICBtdWx0aXBseVJpZ2h0KGEpIHtcbiAgICAgICAgbWF0M19tdWx0aXBseSh0aGlzLCB0aGlzLCBhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgcm90YXRlKHJhZGlhbnMpIHtcbiAgICAgICAgbWF0M19yb3RhdGUodGhpcywgdGhpcywgcmFkaWFucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHNjYWxlKGZhY3Rvcikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmYWN0b3IpKSB7XG4gICAgICAgICAgICBtYXQzX3NjYWxlKHRoaXMsIHRoaXMsIGZhY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXQzX3NjYWxlKHRoaXMsIHRoaXMsIFtmYWN0b3IsIGZhY3Rvcl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHRyYW5zbGF0ZSh2ZWMpIHtcbiAgICAgICAgbWF0M190cmFuc2xhdGUodGhpcywgdGhpcywgdmVjKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLy8gVHJhbnNmb3Jtc1xuICAgIHRyYW5zZm9ybSh2ZWN0b3IsIHJlc3VsdCkge1xuICAgICAgICBsZXQgb3V0O1xuICAgICAgICBzd2l0Y2ggKHZlY3Rvci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBvdXQgPSB2ZWMyX3RyYW5zZm9ybU1hdDMocmVzdWx0IHx8IFstMCwgLTBdLCB2ZWN0b3IsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIG91dCA9IHZlYzNfdHJhbnNmb3JtTWF0MyhyZXN1bHQgfHwgWy0wLCAtMCwgLTBdLCB2ZWN0b3IsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIG91dCA9IHZlYzRfdHJhbnNmb3JtTWF0MyhyZXN1bHQgfHwgWy0wLCAtMCwgLTAsIC0wXSwgdmVjdG9yLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIHZlY3RvcicpO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrVmVjdG9yKG91dCwgdmVjdG9yLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHRyYW5zZm9ybVZlY3Rvcih2ZWN0b3IsIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0odmVjdG9yLCByZXN1bHQpO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICB0cmFuc2Zvcm1WZWN0b3IyKHZlY3RvciwgcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSh2ZWN0b3IsIHJlc3VsdCk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHRyYW5zZm9ybVZlY3RvcjModmVjdG9yLCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKHZlY3RvciwgcmVzdWx0KTtcbiAgICB9XG59XG5sZXQgWkVST19NQVRSSVgzO1xubGV0IElERU5USVRZX01BVFJJWDMgPSBudWxsO1xuZnVuY3Rpb24gZ2V0WmVyb01hdHJpeCgpIHtcbiAgICBpZiAoIVpFUk9fTUFUUklYMykge1xuICAgICAgICBaRVJPX01BVFJJWDMgPSBuZXcgTWF0cml4MyhbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pO1xuICAgICAgICBPYmplY3QuZnJlZXplKFpFUk9fTUFUUklYMyk7XG4gICAgfVxuICAgIHJldHVybiBaRVJPX01BVFJJWDM7XG59XG5mdW5jdGlvbiBnZXRJZGVudGl0eU1hdHJpeCgpIHtcbiAgICBpZiAoIUlERU5USVRZX01BVFJJWDMpIHtcbiAgICAgICAgSURFTlRJVFlfTUFUUklYMyA9IG5ldyBNYXRyaXgzKCk7XG4gICAgICAgIE9iamVjdC5mcmVlemUoSURFTlRJVFlfTUFUUklYMyk7XG4gICAgfVxuICAgIHJldHVybiBJREVOVElUWV9NQVRSSVgzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0cml4My5qcy5tYXAiLCIvLyBAZXNsaW50LWRpc2FibGVcbi8vIEB0cy1ub2NoZWNrXG5pbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tICcuL2NvbW1vbi5qcyc7XG4vKipcbiAqIDIgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzJcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMyXG4gKlxuICogQHJldHVybnMgYSBuZXcgMkQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gICAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgICAgIG91dFswXSA9IDA7XG4gICAgICAgIG91dFsxXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMiBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMgYSBuZXcgMkQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMiBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHkgWSBjb21wb25lbnRcbiAqIEByZXR1cm5zIGEgbmV3IDJEIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5KSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gICAgb3V0WzBdID0geDtcbiAgICBvdXRbMV0gPSB5O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWMyIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMiB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHkpIHtcbiAgICBvdXRbMF0gPSB4O1xuICAgIG91dFsxXSA9IHk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gICAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICAgIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gICAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBzeW1tZXRyaWMgcm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byByb3VuZFxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBnbE1hdHJpeC5yb3VuZChhWzBdKTtcbiAgICBvdXRbMV0gPSBnbE1hdHJpeC5yb3VuZChhWzFdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMyIGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdICogYjtcbiAgICBvdXRbMV0gPSBhWzFdICogYjtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMyJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gICAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICAgIGNvbnN0IHggPSBiWzBdIC0gYVswXTtcbiAgICBjb25zdCB5ID0gYlsxXSAtIGFbMV07XG4gICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgICBjb25zdCB4ID0gYlswXSAtIGFbMF07XG4gICAgY29uc3QgeSA9IGJbMV0gLSBhWzFdO1xuICAgIHJldHVybiB4ICogeCArIHkgKiB5O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgcmV0dXJuIHggKiB4ICsgeSAqIHk7XG59XG4vKipcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byBuZWdhdGVcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICAgIG91dFswXSA9IC1hWzBdO1xuICAgIG91dFsxXSA9IC1hWzFdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICAgIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBsZXQgbGVuID0geCAqIHggKyB5ICogeTtcbiAgICBpZiAobGVuID4gMCkge1xuICAgICAgICAvLyBUT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICAgICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIH1cbiAgICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICAgIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzInc1xuICogTm90ZSB0aGF0IHRoZSBjcm9zcyBwcm9kdWN0IG11c3QgYnkgZGVmaW5pdGlvbiBwcm9kdWNlIGEgM0QgdmVjdG9yXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gICAgY29uc3QgeiA9IGFbMF0gKiBiWzFdIC0gYVsxXSAqIGJbMF07XG4gICAgb3V0WzBdID0gb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSB6O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gICAgY29uc3QgYXggPSBhWzBdO1xuICAgIGNvbnN0IGF5ID0gYVsxXTtcbiAgICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgICBzY2FsZSA9IHNjYWxlID09PSB1bmRlZmluZWQgPyAxLjAgOiBzY2FsZTtcbiAgICBjb25zdCByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICAgIG91dFswXSA9IE1hdGguY29zKHIpICogc2NhbGU7XG4gICAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiBzY2FsZTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMyIHdpdGggYSBtYXQyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MihvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBvdXRbMF0gPSBtWzBdICogeCArIG1bMl0gKiB5O1xuICAgIG91dFsxXSA9IG1bMV0gKiB4ICsgbVszXSAqIHk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0MmRcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MmQob3V0LCBhLCBtKSB7XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgb3V0WzBdID0gbVswXSAqIHggKyBtWzJdICogeSArIG1bNF07XG4gICAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzNdICogeSArIG1bNV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0M1xuICogM3JkIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICAgIGNvbnN0IHggPSBhWzBdO1xuICAgIGNvbnN0IHkgPSBhWzFdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVszXSAqIHkgKyBtWzZdO1xuICAgIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs0XSAqIHkgKyBtWzddO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzIgd2l0aCBhIG1hdDRcbiAqIDNyZCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzAnXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgb3V0WzBdID0gbVswXSAqIHggKyBtWzRdICogeSArIG1bMTJdO1xuICAgIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzEzXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAyRCB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMyXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgVGhlIHZlYzIgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgYiwgcmFkKSB7XG4gICAgLy8gVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cbiAgICBjb25zdCBwMCA9IGFbMF0gLSBiWzBdO1xuICAgIGNvbnN0IHAxID0gYVsxXSAtIGJbMV07XG4gICAgY29uc3Qgc2luQyA9IE1hdGguc2luKHJhZCk7XG4gICAgY29uc3QgY29zQyA9IE1hdGguY29zKHJhZCk7XG4gICAgLy8gcGVyZm9ybSByb3RhdGlvbiBhbmQgdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cbiAgICBvdXRbMF0gPSBwMCAqIGNvc0MgLSBwMSAqIHNpbkMgKyBiWzBdO1xuICAgIG91dFsxXSA9IHAwICogc2luQyArIHAxICogY29zQyArIGJbMV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHR3byAyRCB2ZWN0b3JzXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYiBUaGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gICAgY29uc3QgeDEgPSBhWzBdO1xuICAgIGNvbnN0IHkxID0gYVsxXTtcbiAgICBjb25zdCB4MiA9IGJbMF07XG4gICAgY29uc3QgeTIgPSBiWzFdO1xuICAgIC8vIG1hZyBpcyB0aGUgcHJvZHVjdCBvZiB0aGUgbWFnbml0dWRlcyBvZiBhIGFuZCBiXG4gICAgY29uc3QgbWFnID0gTWF0aC5zcXJ0KCh4MSAqIHgxICsgeTEgKiB5MSkgKiAoeDIgKiB4MiArIHkyICogeTIpKTtcbiAgICAvLyBtYWcgJiYuLiBzaG9ydCBjaXJjdWl0cyBpZiBtYWcgPT0gMFxuICAgIGNvbnN0IGNvc2luZSA9IG1hZyAmJiAoeDEgKiB4MiArIHkxICogeTIpIC8gbWFnO1xuICAgIC8vIE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSBjbGFtcHMgdGhlIGNvc2luZSBiZXR3ZWVuIC0xIGFuZCAxXG4gICAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyIHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gICAgb3V0WzBdID0gMC4wO1xuICAgIG91dFsxXSA9IDAuMDtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICAgIHJldHVybiBgdmVjMigke2FbMF19LCAke2FbMV19KWA7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgZXhhY3RseSBoYXZlIHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gICAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gICAgY29uc3QgYTAgPSBhWzBdO1xuICAgIGNvbnN0IGExID0gYVsxXTtcbiAgICBjb25zdCBiMCA9IGJbMF07XG4gICAgY29uc3QgYjEgPSBiWzFdO1xuICAgIHJldHVybiAoTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmXG4gICAgICAgIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3Qgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMycy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMyLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjMnMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JFYWNoID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB2ZWMgPSBjcmVhdGUoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IGw7XG4gICAgICAgIGlmICghc3RyaWRlKSB7XG4gICAgICAgICAgICBzdHJpZGUgPSAyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3VudCkge1xuICAgICAgICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsID0gYS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICAgICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgICAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgICAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgIH07XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjMi5qcy5tYXAiLCIvKipcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21haW4vZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV90cmFuc2Zvcm0vUkVBRE1FLm1kXG4gKi9cbmltcG9ydCB7IFZlY3RvcjMsIE1hdHJpeDMgfSBmcm9tICdAbWF0aC5nbC9jb3JlJztcbmltcG9ydCB7IGdldEFjY2Vzc29yQXJyYXlUeXBlQW5kTGVuZ3RoIH0gZnJvbSBcIi4uL2dsdGYtdXRpbHMvZ2x0Zi11dGlscy5qc1wiO1xuaW1wb3J0IHsgQllURVMsIENPTVBPTkVOVFMgfSBmcm9tIFwiLi4vZ2x0Zi11dGlscy9nbHRmLWNvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgR0xURlNjZW5lZ3JhcGggfSBmcm9tIFwiLi4vYXBpL2dsdGYtc2NlbmVncmFwaC5qc1wiO1xuLyoqIEV4dGVuc2lvbiBuYW1lICovXG5jb25zdCBLSFJfVEVYVFVSRV9UUkFOU0ZPUk0gPSAnS0hSX3RleHR1cmVfdHJhbnNmb3JtJztcbmV4cG9ydCBjb25zdCBuYW1lID0gS0hSX1RFWFRVUkVfVFJBTlNGT1JNO1xuY29uc3Qgc2NyYXRjaFZlY3RvciA9IG5ldyBWZWN0b3IzKCk7XG5jb25zdCBzY3JhdGNoUm90YXRpb25NYXRyaXggPSBuZXcgTWF0cml4MygpO1xuY29uc3Qgc2NyYXRjaFNjYWxlTWF0cml4ID0gbmV3IE1hdHJpeDMoKTtcbi8qKlxuICogVGhlIGV4dGVuc2lvbiBlbnRyeSB0byBwcm9jZXNzIHRoZSB0cmFuc2Zvcm1hdGlvblxuICogQHBhcmFtIGdsdGZEYXRhIGdsdGYgYnVmZmVycyBhbmQganNvblxuICogQHBhcmFtIG9wdGlvbnMgR0xURkxvYWRlciBvcHRpb25zXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBnbHRmU2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgaGFzRXh0ZW5zaW9uID0gZ2x0ZlNjZW5lZ3JhcGguaGFzRXh0ZW5zaW9uKEtIUl9URVhUVVJFX1RSQU5TRk9STSk7XG4gICAgaWYgKCFoYXNFeHRlbnNpb24gfHwgIW9wdGlvbnMuZ2x0Zj8ubG9hZEJ1ZmZlcnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtYXRlcmlhbHMgPSBnbHRmRGF0YS5qc29uLm1hdGVyaWFscyB8fCBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGVyaWFscy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0cmFuc2Zvcm1UZXhDb29yZHMoaSwgZ2x0ZkRhdGEpO1xuICAgIH1cbn1cbi8qKlxuICogVHJhbnNmb3JtIFRFWENPT1JEIGJ5IG1hdGVyaWFsXG4gKiBAcGFyYW0gbWF0ZXJpYWxJbmRleCBwcm9jZXNzaW5nIG1hdGVyaWFsIGluZGV4XG4gKiBAcGFyYW0gZ2x0ZkRhdGEgZ2x0ZiBidWZmZXJzIGFuZCBqc29uXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybVRleENvb3JkcyhtYXRlcmlhbEluZGV4LCBnbHRmRGF0YSkge1xuICAgIGNvbnN0IG1hdGVyaWFsID0gZ2x0ZkRhdGEuanNvbi5tYXRlcmlhbHM/LlttYXRlcmlhbEluZGV4XTtcbiAgICBjb25zdCBtYXRlcmlhbFRleHR1cmVzID0gW1xuICAgICAgICBtYXRlcmlhbD8ucGJyTWV0YWxsaWNSb3VnaG5lc3M/LmJhc2VDb2xvclRleHR1cmUsXG4gICAgICAgIG1hdGVyaWFsPy5lbWlzc2l2ZVRleHR1cmUsXG4gICAgICAgIG1hdGVyaWFsPy5ub3JtYWxUZXh0dXJlLFxuICAgICAgICBtYXRlcmlhbD8ub2NjbHVzaW9uVGV4dHVyZSxcbiAgICAgICAgbWF0ZXJpYWw/LnBick1ldGFsbGljUm91Z2huZXNzPy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmVcbiAgICBdO1xuICAgIC8vIFNhdmUgcHJvY2Vzc2VkIHRleENvb3JkcyBpbiBvcmRlciBubyB0byBwcm9jZXNzIHRoZSBzYW1lIHR3aWNlXG4gICAgY29uc3QgcHJvY2Vzc2VkVGV4Q29vcmRzID0gW107XG4gICAgZm9yIChjb25zdCB0ZXh0dXJlSW5mbyBvZiBtYXRlcmlhbFRleHR1cmVzKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlSW5mbyAmJiB0ZXh0dXJlSW5mbz8uZXh0ZW5zaW9ucz8uW0tIUl9URVhUVVJFX1RSQU5TRk9STV0pIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybVByaW1pdGl2ZXMoZ2x0ZkRhdGEsIG1hdGVyaWFsSW5kZXgsIHRleHR1cmVJbmZvLCBwcm9jZXNzZWRUZXhDb29yZHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUcmFuc2Zvcm0gcHJpbWl0aXZlcyBvZiB0aGUgcGFydGljdWxhciBtYXRlcmlhbFxuICogQHBhcmFtIGdsdGZEYXRhIGdsdGYgZGF0YVxuICogQHBhcmFtIG1hdGVyaWFsSW5kZXggcHJpbWl0aXZlcyB3aXRoIHRoaXMgbWF0ZXJpYWwgd2lsbCBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHRleHR1cmUgdGV4dHVyZSBvYmplY3RcbiAqIEBwYXJhbSBwcm9jZXNzZWRUZXhDb29yZHMgc3RvcmFnZSB0byBzYXZlIGFscmVhZHkgcHJvY2Vzc2VkIHRleENvb3Jkc1xuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1QcmltaXRpdmVzKGdsdGZEYXRhLCBtYXRlcmlhbEluZGV4LCB0ZXh0dXJlLCBwcm9jZXNzZWRUZXhDb29yZHMpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1QYXJhbWV0ZXJzID0gZ2V0VHJhbnNmb3JtUGFyYW1ldGVycyh0ZXh0dXJlLCBwcm9jZXNzZWRUZXhDb29yZHMpO1xuICAgIGlmICghdHJhbnNmb3JtUGFyYW1ldGVycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1lc2hlcyA9IGdsdGZEYXRhLmpzb24ubWVzaGVzIHx8IFtdO1xuICAgIGZvciAoY29uc3QgbWVzaCBvZiBtZXNoZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmltaXRpdmUgb2YgbWVzaC5wcmltaXRpdmVzKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IHByaW1pdGl2ZS5tYXRlcmlhbDtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobWF0ZXJpYWwpICYmIG1hdGVyaWFsSW5kZXggPT09IG1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtUHJpbWl0aXZlKGdsdGZEYXRhLCBwcmltaXRpdmUsIHRyYW5zZm9ybVBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBHZXQgcGFyYW1ldGVycyBmb3IgVEVYQ09PUkQgdHJhbnNmb3JtYXRpb25cbiAqIEBwYXJhbSB0ZXh0dXJlIHRleHR1cmUgb2JqZWN0XG4gKiBAcGFyYW0gcHJvY2Vzc2VkVGV4Q29vcmRzIHN0b3JhZ2UgdG8gc2F2ZSBhbHJlYWR5IHByb2Nlc3NlZCB0ZXhDb29yZHNcbiAqIEByZXR1cm5zIHRleENvb3JkIGNvdXBsZSBhbmQgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVBhcmFtZXRlcnModGV4dHVyZSwgcHJvY2Vzc2VkVGV4Q29vcmRzKSB7XG4gICAgY29uc3QgdGV4dHVyZUluZm8gPSB0ZXh0dXJlLmV4dGVuc2lvbnM/LltLSFJfVEVYVFVSRV9UUkFOU0ZPUk1dO1xuICAgIGNvbnN0IHsgdGV4Q29vcmQ6IG9yaWdpbmFsVGV4Q29vcmQgPSAwIH0gPSB0ZXh0dXJlO1xuICAgIC8vIElmIHRleENvb3JkIGlzIG5vdCBzZXQgaW4gdGhlIGV4dGVuc2lvbiwgb3JpZ2luYWwgYXR0cmlidXRlIGRhdGEgd2lsbCBiZSByZXBsYWNlZFxuICAgIGNvbnN0IHsgdGV4Q29vcmQgPSBvcmlnaW5hbFRleENvb3JkIH0gPSB0ZXh0dXJlSW5mbztcbiAgICAvLyBNYWtlIHN1cmUgdGhhdCBjb3VwbGUgW29yaWdpbmFsVGV4Q29vcmQsIGV4dGVuc2lvblRleENvb3JkXSBpcyBub3QgcHJvY2Vzc2VkIHR3aWNlXG4gICAgY29uc3QgaXNQcm9jZXNzZWQgPSBwcm9jZXNzZWRUZXhDb29yZHMuZmluZEluZGV4KChbb3JpZ2luYWwsIG5ld1RleENvb3JkXSkgPT4gb3JpZ2luYWwgPT09IG9yaWdpbmFsVGV4Q29vcmQgJiYgbmV3VGV4Q29vcmQgPT09IHRleENvb3JkKSAhPT0gLTE7XG4gICAgaWYgKCFpc1Byb2Nlc3NlZCkge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBtYWtlVHJhbnNmb3JtYXRpb25NYXRyaXgodGV4dHVyZUluZm8pO1xuICAgICAgICBpZiAob3JpZ2luYWxUZXhDb29yZCAhPT0gdGV4Q29vcmQpIHtcbiAgICAgICAgICAgIHRleHR1cmUudGV4Q29vcmQgPSB0ZXhDb29yZDtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzZWRUZXhDb29yZHMucHVzaChbb3JpZ2luYWxUZXhDb29yZCwgdGV4Q29vcmRdKTtcbiAgICAgICAgcmV0dXJuIHsgb3JpZ2luYWxUZXhDb29yZCwgdGV4Q29vcmQsIG1hdHJpeCB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVHJhbnNmb3JtIGBURVhDT09SRF8wYCBhdHRyaWJ1dGUgaW4gdGhlIHByaW1pdGl2ZVxuICogQHBhcmFtIGdsdGZEYXRhIGdsdGYgZGF0YVxuICogQHBhcmFtIHByaW1pdGl2ZSBwcmltaXRpdmUgb2JqZWN0XG4gKiBAcGFyYW0gdHJhbnNmb3JtUGFyYW1ldGVycyB0ZXhDb29yZCBjb3VwbGUgYW5kIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1QcmltaXRpdmUoZ2x0ZkRhdGEsIHByaW1pdGl2ZSwgdHJhbnNmb3JtUGFyYW1ldGVycykge1xuICAgIGNvbnN0IHsgb3JpZ2luYWxUZXhDb29yZCwgdGV4Q29vcmQsIG1hdHJpeCB9ID0gdHJhbnNmb3JtUGFyYW1ldGVycztcbiAgICBjb25zdCB0ZXhDb29yZEFjY2Vzc29yID0gcHJpbWl0aXZlLmF0dHJpYnV0ZXNbYFRFWENPT1JEXyR7b3JpZ2luYWxUZXhDb29yZH1gXTtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHRleENvb3JkQWNjZXNzb3IpKSB7XG4gICAgICAgIC8vIEdldCBhY2Nlc3NvciBvZiB0aGUgYFRFWENPT1JEXzBgIGF0dHJpYnV0ZVxuICAgICAgICBjb25zdCBhY2Nlc3NvciA9IGdsdGZEYXRhLmpzb24uYWNjZXNzb3JzPy5bdGV4Q29vcmRBY2Nlc3Nvcl07XG4gICAgICAgIGlmIChhY2Nlc3NvciAmJiBhY2Nlc3Nvci5idWZmZXJWaWV3KSB7XG4gICAgICAgICAgICAvLyBHZXQgYGJ1ZmZlclZpZXdgIG9mIHRoZSBgYWNjZXNzb3JgXG4gICAgICAgICAgICBjb25zdCBidWZmZXJWaWV3ID0gZ2x0ZkRhdGEuanNvbi5idWZmZXJWaWV3cz8uW2FjY2Vzc29yLmJ1ZmZlclZpZXddO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlclZpZXcpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgYGFycmF5QnVmZmVyYCB0aGUgYGJ1ZmZlclZpZXdgIGxvb2sgYXRcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0OiBidWZmZXJCeXRlT2Zmc2V0IH0gPSBnbHRmRGF0YS5idWZmZXJzW2J1ZmZlclZpZXcuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICAvLyBSZXN1bHRpbmcgYnl0ZU9mZnNldCBpcyBzdW0gb2YgdGhlIGJ1ZmZlciwgYWNjZXNzb3IgYW5kIGJ1ZmZlclZpZXcgYnl0ZSBvZmZzZXRzXG4gICAgICAgICAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IChidWZmZXJCeXRlT2Zmc2V0IHx8IDApICsgKGFjY2Vzc29yLmJ5dGVPZmZzZXQgfHwgMCkgKyAoYnVmZmVyVmlldy5ieXRlT2Zmc2V0IHx8IDApO1xuICAgICAgICAgICAgICAgIC8vIERlZHVjZSBUeXBlZEFycmF5IHR5cGUgYW5kIGl0cyBsZW5ndGggZnJvbSBgYWNjZXNzb3JgIGFuZCBgYnVmZmVyVmlld2AgZGF0YVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgQXJyYXlUeXBlLCBsZW5ndGggfSA9IGdldEFjY2Vzc29yQXJyYXlUeXBlQW5kTGVuZ3RoKGFjY2Vzc29yLCBidWZmZXJWaWV3KTtcbiAgICAgICAgICAgICAgICAvLyBOdW1iZXIgb2YgYnl0ZXMgZWFjaCBjb21wb25lbnQgb2NjdXBpZXNcbiAgICAgICAgICAgICAgICBjb25zdCBieXRlcyA9IEJZVEVTW2FjY2Vzc29yLmNvbXBvbmVudFR5cGVdO1xuICAgICAgICAgICAgICAgIC8vIE51bWJlciBvZiBjb21wb25lbnRzLiBGb3IgdGhlIGBURVhDT09SRF8wYCB3aXRoIGBWRUMyYCB0eXBlLCBpdCBtdXN0IHJldHVybiAyXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IENPTVBPTkVOVFNbYWNjZXNzb3IudHlwZV07XG4gICAgICAgICAgICAgICAgLy8gTXVsdGlwbGllciB0byBjYWxjdWxhdGUgdGhlIGFkZHJlc3Mgb2YgdGhlIGBURVhDT09SRF8wYCBlbGVtZW50IGluIHRoZSBhcnJheUJ1ZmZlclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRBZGRyZXNzU2NhbGUgPSBidWZmZXJWaWV3LmJ5dGVTdHJpZGUgfHwgYnl0ZXMgKiBjb21wb25lbnRzO1xuICAgICAgICAgICAgICAgIC8vIERhdGEgdHJhbnNmb3JtIHRvIEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjY2Vzc29yLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGFrZSBbdSwgdl0gY291cGxlIGZyb20gdGhlIGFycmF5QnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHV2ID0gbmV3IEFycmF5VHlwZShhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCArIGkgKiBlbGVtZW50QWRkcmVzc1NjYWxlLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGFuZCB0cmFuc2Zvcm0gVmVjdG9yMyBwZXIgaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFpbi9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZXh0dXJlX3RyYW5zZm9ybSNvdmVydmlld1xuICAgICAgICAgICAgICAgICAgICBzY3JhdGNoVmVjdG9yLnNldCh1dlswXSwgdXZbMV0sIDEpO1xuICAgICAgICAgICAgICAgICAgICBzY3JhdGNoVmVjdG9yLnRyYW5zZm9ybUJ5TWF0cml4MyhtYXRyaXgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIHJlc3VsdCBpbiBGbG9hdDMyQXJyYXlcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChbc2NyYXRjaFZlY3RvclswXSwgc2NyYXRjaFZlY3RvclsxXV0sIGkgKiBjb21wb25lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgdGV4Q29vcmQgdGhlIHNhbWUsIHJlcGxhY2UgZ2x0ZiBzdHJ1Y3R1cmFsIGRhdGFcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxUZXhDb29yZCA9PT0gdGV4Q29vcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlR2x0ZihhY2Nlc3NvciwgYnVmZmVyVmlldywgZ2x0ZkRhdGEuYnVmZmVycywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRleENvb3JkIGNoYW5nZSwgY3JlYXRlIG5ldyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQXR0cmlidXRlKHRleENvb3JkLCBhY2Nlc3NvciwgcHJpbWl0aXZlLCBnbHRmRGF0YSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFVwZGF0ZSBHTFRGIHN0cnVjdHVyYWwgb2JqZWN0cyB3aXRoIG5ldyBkYXRhIGFzIHdlIGNyZWF0ZSBuZXcgYEZsb2F0MzJBcnJheWAgZm9yIGBURVhDT09SRF8wYC5cbiAqIEBwYXJhbSBhY2Nlc3NvciBhY2Nlc3NvciB0byBjaGFuZ2VcbiAqIEBwYXJhbSBidWZmZXJWaWV3IGJ1ZmZlclZpZXcgdG8gY2hhbmdlXG4gKiBAcGFyYW0gYnVmZmVycyBiaW5hcnkgYnVmZmVyc1xuICogQHBhcmFtIG5ld1RleGNvb3JkQXJyYXkgdHlwZWQgYXJyYXkgd2l0aCBkYXRhIGFmdGVyIHRyYW5zZm9ybWF0aW9uXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUdsdGYoYWNjZXNzb3IsIGJ1ZmZlclZpZXcsIGJ1ZmZlcnMsIG5ld1RleENvb3JkQXJyYXkpIHtcbiAgICBhY2Nlc3Nvci5jb21wb25lbnRUeXBlID0gNTEyNjtcbiAgICBidWZmZXJzLnB1c2goe1xuICAgICAgICBhcnJheUJ1ZmZlcjogbmV3VGV4Q29vcmRBcnJheS5idWZmZXIsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgIGJ5dGVMZW5ndGg6IG5ld1RleENvb3JkQXJyYXkuYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICB9KTtcbiAgICBidWZmZXJWaWV3LmJ1ZmZlciA9IGJ1ZmZlcnMubGVuZ3RoIC0gMTtcbiAgICBidWZmZXJWaWV3LmJ5dGVMZW5ndGggPSBuZXdUZXhDb29yZEFycmF5LmJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgIGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCA9IDA7XG4gICAgZGVsZXRlIGJ1ZmZlclZpZXcuYnl0ZVN0cmlkZTtcbn1cbi8qKlxuICpcbiAqIEBwYXJhbSBuZXdUZXhDb29yZCBuZXcgYHRleENvb3JkYCB2YWx1ZVxuICogQHBhcmFtIG9yaWdpbmFsQWNjZXNzb3Igb3JpZ2luYWwgYWNjZXNzb3Igb2JqZWN0LCB0aGF0IHN0b3JlIGRhdGEgYmVmb3JlIHRyYW5zZm9ybWF0aW9uXG4gKiBAcGFyYW0gcHJpbWl0aXZlIHByaW1pdGl2ZSBvYmplY3RcbiAqIEBwYXJhbSBnbHRmRGF0YSBnbHRmIGRhdGFcbiAqIEBwYXJhbSBuZXdUZXhDb29yZEFycmF5IHR5cGVkIGFycmF5IHdpdGggZGF0YSBhZnRlciB0cmFuc2Zvcm1hdGlvblxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXR0cmlidXRlKG5ld1RleENvb3JkLCBvcmlnaW5hbEFjY2Vzc29yLCBwcmltaXRpdmUsIGdsdGZEYXRhLCBuZXdUZXhDb29yZEFycmF5KSB7XG4gICAgZ2x0ZkRhdGEuYnVmZmVycy5wdXNoKHtcbiAgICAgICAgYXJyYXlCdWZmZXI6IG5ld1RleENvb3JkQXJyYXkuYnVmZmVyLFxuICAgICAgICBieXRlT2Zmc2V0OiAwLFxuICAgICAgICBieXRlTGVuZ3RoOiBuZXdUZXhDb29yZEFycmF5LmJ1ZmZlci5ieXRlTGVuZ3RoXG4gICAgfSk7XG4gICAgY29uc3QgYnVmZmVyVmlld3MgPSBnbHRmRGF0YS5qc29uLmJ1ZmZlclZpZXdzO1xuICAgIGlmICghYnVmZmVyVmlld3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBidWZmZXJWaWV3cy5wdXNoKHtcbiAgICAgICAgYnVmZmVyOiBnbHRmRGF0YS5idWZmZXJzLmxlbmd0aCAtIDEsXG4gICAgICAgIGJ5dGVMZW5ndGg6IG5ld1RleENvb3JkQXJyYXkuYnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IDBcbiAgICB9KTtcbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBnbHRmRGF0YS5qc29uLmFjY2Vzc29ycztcbiAgICBpZiAoIWFjY2Vzc29ycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjY2Vzc29ycy5wdXNoKHtcbiAgICAgICAgYnVmZmVyVmlldzogYnVmZmVyVmlld3M/Lmxlbmd0aCAtIDEsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgIGNvbXBvbmVudFR5cGU6IDUxMjYsXG4gICAgICAgIGNvdW50OiBvcmlnaW5hbEFjY2Vzc29yLmNvdW50LFxuICAgICAgICB0eXBlOiAnVkVDMidcbiAgICB9KTtcbiAgICBwcmltaXRpdmUuYXR0cmlidXRlc1tgVEVYQ09PUkRfJHtuZXdUZXhDb29yZH1gXSA9IGFjY2Vzc29ycy5sZW5ndGggLSAxO1xufVxuLyoqXG4gKiBDb25zdHJ1Y3QgdHJhbnNmb3JtYXRpb24gbWF0cml4IGZyb20gdGhlIGV4dGVuc2lvbiBkYXRhICh0cmFuc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUpXG4gKiBAcGFyYW0gZXh0ZW5zaW9uRGF0YSBleHRlbnNpb24gZGF0YVxuICogQHJldHVybnMgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gKi9cbmZ1bmN0aW9uIG1ha2VUcmFuc2Zvcm1hdGlvbk1hdHJpeChleHRlbnNpb25EYXRhKSB7XG4gICAgY29uc3QgeyBvZmZzZXQgPSBbMCwgMF0sIHJvdGF0aW9uID0gMCwgc2NhbGUgPSBbMSwgMV0gfSA9IGV4dGVuc2lvbkRhdGE7XG4gICAgY29uc3QgdHJhbnNsYXRpb25NYXRyaXggPSBuZXcgTWF0cml4MygpLnNldCgxLCAwLCAwLCAwLCAxLCAwLCBvZmZzZXRbMF0sIG9mZnNldFsxXSwgMSk7XG4gICAgY29uc3Qgcm90YXRpb25NYXRyaXggPSBzY3JhdGNoUm90YXRpb25NYXRyaXguc2V0KE1hdGguY29zKHJvdGF0aW9uKSwgTWF0aC5zaW4ocm90YXRpb24pLCAwLCAtTWF0aC5zaW4ocm90YXRpb24pLCBNYXRoLmNvcyhyb3RhdGlvbiksIDAsIDAsIDAsIDEpO1xuICAgIGNvbnN0IHNjYWxlTWF0cml4ID0gc2NyYXRjaFNjYWxlTWF0cml4LnNldChzY2FsZVswXSwgMCwgMCwgMCwgc2NhbGVbMV0sIDAsIDAsIDAsIDEpO1xuICAgIHJldHVybiB0cmFuc2xhdGlvbk1hdHJpeC5tdWx0aXBseVJpZ2h0KHJvdGF0aW9uTWF0cml4KS5tdWx0aXBseVJpZ2h0KHNjYWxlTWF0cml4KTtcbn1cbiIsIi8vIEdMVEYgRVhURU5TSU9OOiBLSFJfbGlnaHRzX3B1bmN0dWFsXG4vLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbGlnaHRzX3B1bmN0dWFsXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vLi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBHTFRGU2NlbmVncmFwaCB9IGZyb20gXCIuLi8uLi9hcGkvZ2x0Zi1zY2VuZWdyYXBoLmpzXCI7XG5jb25zdCBLSFJfTElHSFRTX1BVTkNUVUFMID0gJ0tIUl9saWdodHNfcHVuY3R1YWwnO1xuZXhwb3J0IGNvbnN0IG5hbWUgPSBLSFJfTElHSFRTX1BVTkNUVUFMO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlY29kZShnbHRmRGF0YSkge1xuICAgIGNvbnN0IGdsdGZTY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBjb25zdCB7IGpzb24gfSA9IGdsdGZTY2VuZWdyYXBoO1xuICAgIC8vIE1vdmUgdGhlIGxpZ2h0IGFycmF5IG91dCBvZiB0aGUgZXh0ZW5zaW9uIGFuZCByZW1vdmUgdGhlIGV4dGVuc2lvblxuICAgIGNvbnN0IGV4dGVuc2lvbiA9IGdsdGZTY2VuZWdyYXBoLmdldEV4dGVuc2lvbihLSFJfTElHSFRTX1BVTkNUVUFMKTtcbiAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZ2x0ZlNjZW5lZ3JhcGguanNvbi5saWdodHMgPSBleHRlbnNpb24ubGlnaHRzO1xuICAgICAgICBnbHRmU2NlbmVncmFwaC5yZW1vdmVFeHRlbnNpb24oS0hSX0xJR0hUU19QVU5DVFVBTCk7XG4gICAgfVxuICAgIC8vIEFueSBub2RlcyB0aGF0IGhhdmUgdGhlIGV4dGVuc2lvbiwgYWRkIGxpZ2h0cyBmaWVsZCBwb2ludGluZyB0byBsaWdodCBvYmplY3RcbiAgICAvLyBhbmQgcmVtb3ZlIHRoZSBleHRlbnNpb25cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YganNvbi5ub2RlcyB8fCBbXSkge1xuICAgICAgICBjb25zdCBub2RlRXh0ZW5zaW9uID0gZ2x0ZlNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKG5vZGUsIEtIUl9MSUdIVFNfUFVOQ1RVQUwpO1xuICAgICAgICBpZiAobm9kZUV4dGVuc2lvbikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgbm9kZS5saWdodCA9IG5vZGVFeHRlbnNpb24ubGlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZ2x0ZlNjZW5lZ3JhcGgucmVtb3ZlT2JqZWN0RXh0ZW5zaW9uKG5vZGUsIEtIUl9MSUdIVFNfUFVOQ1RVQUwpO1xuICAgIH1cbn1cbi8vIE1vdmUgdGhlIGxpZ2h0IGFyIHJheSBvdXQgb2YgdGhlIGV4dGVuc2lvbiBhbmQgcmVtb3ZlIHRoZSBleHRlbnNpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNvZGUoZ2x0ZkRhdGEpIHtcbiAgICBjb25zdCBnbHRmU2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgeyBqc29uIH0gPSBnbHRmU2NlbmVncmFwaDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGpzb24ubGlnaHRzKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IGdsdGZTY2VuZWdyYXBoLmFkZEV4dGVuc2lvbihLSFJfTElHSFRTX1BVTkNUVUFMKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhc3NlcnQoIWV4dGVuc2lvbi5saWdodHMpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGV4dGVuc2lvbi5saWdodHMgPSBqc29uLmxpZ2h0cztcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBkZWxldGUganNvbi5saWdodHM7XG4gICAgfVxuICAgIC8vIEFueSBub2RlcyB0aGF0IGhhdmUgbGlnaHRzIGZpZWxkIHBvaW50aW5nIHRvIGxpZ2h0IG9iamVjdFxuICAgIC8vIGFkZCB0aGUgZXh0ZW5zaW9uXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChnbHRmU2NlbmVncmFwaC5qc29uLmxpZ2h0cykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2YgZ2x0ZlNjZW5lZ3JhcGguanNvbi5saWdodHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBsaWdodC5ub2RlO1xuICAgICAgICAgICAgZ2x0ZlNjZW5lZ3JhcGguYWRkT2JqZWN0RXh0ZW5zaW9uKG5vZGUsIEtIUl9MSUdIVFNfUFVOQ1RVQUwsIGxpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGRlbGV0ZSBnbHRmU2NlbmVncmFwaC5qc29uLmxpZ2h0cztcbiAgICB9XG59XG4iLCIvLyBHTFRGIEVYVEVOU0lPTjogS0hSX21hdGVyaWFsc191bmxpdFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc191bmxpdFxuaW1wb3J0IHsgR0xURlNjZW5lZ3JhcGggfSBmcm9tIFwiLi4vLi4vYXBpL2dsdGYtc2NlbmVncmFwaC5qc1wiO1xuY29uc3QgS0hSX01BVEVSSUFMU19VTkxJVCA9ICdLSFJfbWF0ZXJpYWxzX3VubGl0JztcbmV4cG9ydCBjb25zdCBuYW1lID0gS0hSX01BVEVSSUFMU19VTkxJVDtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEpIHtcbiAgICBjb25zdCBnbHRmU2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgeyBqc29uIH0gPSBnbHRmU2NlbmVncmFwaDtcbiAgICAvLyBBbnkgbm9kZXMgdGhhdCBoYXZlIHRoZSBleHRlbnNpb24sIGFkZCBsaWdodHMgZmllbGQgcG9pbnRpbmcgdG8gbGlnaHQgb2JqZWN0XG4gICAgLy8gYW5kIHJlbW92ZSB0aGUgZXh0ZW5zaW9uXG4gICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiBqc29uLm1hdGVyaWFscyB8fCBbXSkge1xuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBtYXRlcmlhbC5leHRlbnNpb25zICYmIG1hdGVyaWFsLmV4dGVuc2lvbnMuS0hSX21hdGVyaWFsc191bmxpdDtcbiAgICAgICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPXG4gICAgICAgICAgICBtYXRlcmlhbC51bmxpdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2x0ZlNjZW5lZ3JhcGgucmVtb3ZlT2JqZWN0RXh0ZW5zaW9uKG1hdGVyaWFsLCBLSFJfTUFURVJJQUxTX1VOTElUKTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uXG4gICAgZ2x0ZlNjZW5lZ3JhcGgucmVtb3ZlRXh0ZW5zaW9uKEtIUl9NQVRFUklBTFNfVU5MSVQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShnbHRmRGF0YSkge1xuICAgIGNvbnN0IGdsdGZTY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBjb25zdCB7IGpzb24gfSA9IGdsdGZTY2VuZWdyYXBoO1xuICAgIC8vIEFueSBub2RlcyB0aGF0IGhhdmUgbGlnaHRzIGZpZWxkIHBvaW50aW5nIHRvIGxpZ2h0IG9iamVjdFxuICAgIC8vIGFkZCB0aGUgZXh0ZW5zaW9uXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChnbHRmU2NlbmVncmFwaC5tYXRlcmlhbHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiBqc29uLm1hdGVyaWFscyB8fCBbXSkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsLnVubGl0KSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBtYXRlcmlhbC51bmxpdDtcbiAgICAgICAgICAgICAgICBnbHRmU2NlbmVncmFwaC5hZGRPYmplY3RFeHRlbnNpb24obWF0ZXJpYWwsIEtIUl9NQVRFUklBTFNfVU5MSVQsIHt9KTtcbiAgICAgICAgICAgICAgICBnbHRmU2NlbmVncmFwaC5hZGRFeHRlbnNpb24oS0hSX01BVEVSSUFMU19VTkxJVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvLyBHTFRGIEVYVEVOU0lPTjogS0hSX3RlY2huaXF1ZXNfd2ViZ2xcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZWNobmlxdWVzX3dlYmdsXG5pbXBvcnQgeyBHTFRGU2NlbmVncmFwaCB9IGZyb20gXCIuLi8uLi9hcGkvZ2x0Zi1zY2VuZWdyYXBoLmpzXCI7XG5jb25zdCBLSFJfVEVDSE5JUVVFU19XRUJHTCA9ICdLSFJfdGVjaG5pcXVlc193ZWJnbCc7XG5leHBvcnQgY29uc3QgbmFtZSA9IEtIUl9URUNITklRVUVTX1dFQkdMO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlY29kZShnbHRmRGF0YSkge1xuICAgIGNvbnN0IGdsdGZTY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBjb25zdCB7IGpzb24gfSA9IGdsdGZTY2VuZWdyYXBoO1xuICAgIGNvbnN0IGV4dGVuc2lvbiA9IGdsdGZTY2VuZWdyYXBoLmdldEV4dGVuc2lvbihLSFJfVEVDSE5JUVVFU19XRUJHTCk7XG4gICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICBjb25zdCB0ZWNobmlxdWVzID0gcmVzb2x2ZVRlY2huaXF1ZXMoZXh0ZW5zaW9uLCBnbHRmU2NlbmVncmFwaCk7XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YganNvbi5tYXRlcmlhbHMgfHwgW10pIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsRXh0ZW5zaW9uID0gZ2x0ZlNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKG1hdGVyaWFsLCBLSFJfVEVDSE5JUVVFU19XRUJHTCk7XG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxFeHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIFRPRE9cbiAgICAgICAgICAgICAgICBtYXRlcmlhbC50ZWNobmlxdWUgPSBPYmplY3QuYXNzaWduKHt9LCBtYXRlcmlhbEV4dGVuc2lvbiwgXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHRlY2huaXF1ZXNbbWF0ZXJpYWxFeHRlbnNpb24udGVjaG5pcXVlXSk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwudGVjaG5pcXVlLnZhbHVlcyA9IHJlc29sdmVWYWx1ZXMobWF0ZXJpYWwudGVjaG5pcXVlLCBnbHRmU2NlbmVncmFwaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbHRmU2NlbmVncmFwaC5yZW1vdmVPYmplY3RFeHRlbnNpb24obWF0ZXJpYWwsIEtIUl9URUNITklRVUVTX1dFQkdMKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgdGhlIHRvcC1sZXZlbCBleHRlbnNpb25cbiAgICAgICAgZ2x0ZlNjZW5lZ3JhcGgucmVtb3ZlRXh0ZW5zaW9uKEtIUl9URUNITklRVUVTX1dFQkdMKTtcbiAgICB9XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICAvLyBUT0RPXG59XG5mdW5jdGlvbiByZXNvbHZlVGVjaG5pcXVlcyh0ZWNobmlxdWVzRXh0ZW5zaW9uLCBcbi8vIHByb2dyYW1zOiB7W2tleTogc3RyaW5nXTogYW55fVtdLFxuLy8gc2hhZGVyczoge1trZXk6IHN0cmluZ106IGFueX1bXSxcbi8vIHRlY2huaXF1ZXM6IHtba2V5OiBzdHJpbmddOiBhbnl9W11cbmdsdGZTY2VuZWdyYXBoKSB7XG4gICAgY29uc3QgeyBwcm9ncmFtcyA9IFtdLCBzaGFkZXJzID0gW10sIHRlY2huaXF1ZXMgPSBbXSB9ID0gdGVjaG5pcXVlc0V4dGVuc2lvbjtcbiAgICBjb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgIHNoYWRlcnMuZm9yRWFjaCgoc2hhZGVyKSA9PiB7XG4gICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoc2hhZGVyLmJ1ZmZlclZpZXcpKSB7XG4gICAgICAgICAgICBzaGFkZXIuY29kZSA9IHRleHREZWNvZGVyLmRlY29kZShnbHRmU2NlbmVncmFwaC5nZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyhzaGFkZXIuYnVmZmVyVmlldykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIFVSSSBzaGFkZXJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignS0hSX3RlY2huaXF1ZXNfd2ViZ2w6IG5vIHNoYWRlciBjb2RlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBwcm9ncmFtcy5mb3JFYWNoKChwcm9ncmFtKSA9PiB7XG4gICAgICAgIHByb2dyYW0uZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXJzW3Byb2dyYW0uZnJhZ21lbnRTaGFkZXJdO1xuICAgICAgICBwcm9ncmFtLnZlcnRleFNoYWRlciA9IHNoYWRlcnNbcHJvZ3JhbS52ZXJ0ZXhTaGFkZXJdO1xuICAgIH0pO1xuICAgIHRlY2huaXF1ZXMuZm9yRWFjaCgodGVjaG5pcXVlKSA9PiB7XG4gICAgICAgIHRlY2huaXF1ZS5wcm9ncmFtID0gcHJvZ3JhbXNbdGVjaG5pcXVlLnByb2dyYW1dO1xuICAgIH0pO1xuICAgIHJldHVybiB0ZWNobmlxdWVzO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVZhbHVlcyh0ZWNobmlxdWUsIGdsdGZTY2VuZWdyYXBoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGVjaG5pcXVlLnZhbHVlcyk7XG4gICAgLy8gbWVyZ2UgdmFsdWVzIGZyb20gdW5pZm9ybXNcbiAgICBPYmplY3Qua2V5cyh0ZWNobmlxdWUudW5pZm9ybXMgfHwge30pLmZvckVhY2goKHVuaWZvcm0pID0+IHtcbiAgICAgICAgaWYgKHRlY2huaXF1ZS51bmlmb3Jtc1t1bmlmb3JtXS52YWx1ZSAmJiAhKHVuaWZvcm0gaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdmFsdWVzW3VuaWZvcm1dID0gdGVjaG5pcXVlLnVuaWZvcm1zW3VuaWZvcm1dLnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gcmVzb2x2ZSB0ZXh0dXJlc1xuICAgIE9iamVjdC5rZXlzKHZhbHVlcykuZm9yRWFjaCgodW5pZm9ybSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1t1bmlmb3JtXSA9PT0gJ29iamVjdCcgJiYgdmFsdWVzW3VuaWZvcm1dLmluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEFzc3VtZSB0aGlzIGlzIGEgdGV4dHVyZVxuICAgICAgICAgICAgLy8gVE9ETzogZmluZCBpZiB0aGVyZSBhcmUgYW55IG90aGVyIHR5cGVzIHRoYXQgY2FuIGJlIHJlZmVyZW5jZWRcbiAgICAgICAgICAgIHZhbHVlc1t1bmlmb3JtXS50ZXh0dXJlID0gZ2x0ZlNjZW5lZ3JhcGguZ2V0VGV4dHVyZSh2YWx1ZXNbdW5pZm9ybV0uaW5kZXgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbiIsImltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uLy4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IGNvbnZlcnRSYXdCdWZmZXJUb01ldGFkYXRhQXJyYXksIGdldFByaW1pdGl2ZVRleHR1cmVEYXRhLCBwcmltaXRpdmVQcm9wZXJ0eURhdGFUb0F0dHJpYnV0ZXMsIGdldEFycmF5RWxlbWVudEJ5dGVTaXplLCBnZXRPZmZzZXRzRm9yUHJvcGVydHksIHBhcnNlVmFyaWFibGVMZW5ndGhBcnJheU51bWVyaWMsIHBhcnNlRml4ZWRMZW5ndGhBcnJheU51bWVyaWMsIGdldFByb3BlcnR5RGF0YVN0cmluZyB9IGZyb20gXCIuLi91dGlscy8zZC10aWxlcy11dGlscy5qc1wiO1xuLyoqIEV4dGVuc2lvbiBuYW1lICovXG5jb25zdCBFWFRfRkVBVFVSRV9NRVRBREFUQV9OQU1FID0gJ0VYVF9mZWF0dXJlX21ldGFkYXRhJztcbmV4cG9ydCBjb25zdCBuYW1lID0gRVhUX0ZFQVRVUkVfTUVUQURBVEFfTkFNRTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBkZWNvZGVFeHRGZWF0dXJlTWV0YWRhdGEoc2NlbmVncmFwaCwgb3B0aW9ucyk7XG59XG4vKipcbiAqIERlY29kZXMgZmVhdHVyZSBtZXRhZGF0YSBmcm9tIGV4dGVuc2lvbi5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEdMVEZMb2FkZXIgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlRXh0RmVhdHVyZU1ldGFkYXRhKHNjZW5lZ3JhcGgsIG9wdGlvbnMpIHtcbiAgICAvLyBEZWNvZGluZyBtZXRhZGF0YSBpbnZvbHZlcyBidWZmZXJzIHByb2Nlc3NpbmcuXG4gICAgLy8gU28sIGlmIGJ1ZmZlcnMgaGF2ZSBub3QgYmVlbiBsb2FkZWQsIHRoZXJlIGlzIG5vIHJlYXNvbiB0byBwcm9jZXNzIG1ldGFkYXRhLlxuICAgIGlmICghb3B0aW9ucy5nbHRmPy5sb2FkQnVmZmVycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV4dGVuc2lvbiA9IHNjZW5lZ3JhcGguZ2V0RXh0ZW5zaW9uKEVYVF9GRUFUVVJFX01FVEFEQVRBX05BTUUpO1xuICAgIGlmICghZXh0ZW5zaW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZ2x0Zj8ubG9hZEltYWdlcykge1xuICAgICAgICBkZWNvZGVQcm9wZXJ0eVRleHR1cmVzKHNjZW5lZ3JhcGgsIGV4dGVuc2lvbik7XG4gICAgfVxuICAgIGRlY29kZVByb3BlcnR5VGFibGVzKHNjZW5lZ3JhcGgsIGV4dGVuc2lvbik7XG59XG4vKipcbiAqIFByb2Nlc3NlcyB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIHRleHR1cmVzXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIGV4dGVuc2lvbiAtIFRvcC1sZXZlbCBleHRlbnNpb24uXG4gKi9cbmZ1bmN0aW9uIGRlY29kZVByb3BlcnR5VGV4dHVyZXMoc2NlbmVncmFwaCwgZXh0ZW5zaW9uKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gZXh0ZW5zaW9uLnNjaGVtYTtcbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtYUNsYXNzZXMgPSBzY2hlbWEuY2xhc3NlcztcbiAgICBjb25zdCB7IGZlYXR1cmVUZXh0dXJlcyB9ID0gZXh0ZW5zaW9uO1xuICAgIGlmIChzY2hlbWFDbGFzc2VzICYmIGZlYXR1cmVUZXh0dXJlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHNjaGVtYU5hbWUgaW4gc2NoZW1hQ2xhc3Nlcykge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hQ2xhc3MgPSBzY2hlbWFDbGFzc2VzW3NjaGVtYU5hbWVdO1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZVRleHR1cmUgPSBmaW5kRmVhdHVyZVRleHR1cmVCeUNsYXNzKGZlYXR1cmVUZXh0dXJlcywgc2NoZW1hTmFtZSk7XG4gICAgICAgICAgICBpZiAoZmVhdHVyZVRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVGZWF0dXJlVGV4dHVyZVByb3BlcnRpZXMoc2NlbmVncmFwaCwgZmVhdHVyZVRleHR1cmUsIHNjaGVtYUNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUHJvY2Vzc2VzIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgcHJvcGVydHkgdGFibGVzLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBleHRlbnNpb24gLSBUb3AtbGV2ZWwgZXh0ZW5zaW9uLlxuICovXG5mdW5jdGlvbiBkZWNvZGVQcm9wZXJ0eVRhYmxlcyhzY2VuZWdyYXBoLCBleHRlbnNpb24pIHtcbiAgICBjb25zdCBzY2hlbWEgPSBleHRlbnNpb24uc2NoZW1hO1xuICAgIGlmICghc2NoZW1hKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hQ2xhc3NlcyA9IHNjaGVtYS5jbGFzc2VzO1xuICAgIGNvbnN0IHByb3BlcnR5VGFibGVzID0gZXh0ZW5zaW9uLmZlYXR1cmVUYWJsZXM7XG4gICAgaWYgKHNjaGVtYUNsYXNzZXMgJiYgcHJvcGVydHlUYWJsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBzY2hlbWFOYW1lIGluIHNjaGVtYUNsYXNzZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5VGFibGUgPSBmaW5kUHJvcGVydHlUYWJsZUJ5Q2xhc3MocHJvcGVydHlUYWJsZXMsIHNjaGVtYU5hbWUpO1xuICAgICAgICAgICAgaWYgKHByb3BlcnR5VGFibGUpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzUHJvcGVydHlUYWJsZShzY2VuZWdyYXBoLCBzY2hlbWEsIHByb3BlcnR5VGFibGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBGaW5kcyB0aGUgcHJvcGVydHkgdGFibGUgYnkgY2xhc3MgbmFtZS5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlcyAtIHByb3BlcnR5VGFibGUgZGVmaW5pdGlvbiB0YWtlbiBmcm9tIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uLlxuICogQHBhcmFtIHNjaGVtYUNsYXNzTmFtZSAtIGNsYXNzIG5hbWUgaW4gdGhlIGV4dGVuc2lvbiBzY2hlbWEuXG4gKi9cbmZ1bmN0aW9uIGZpbmRQcm9wZXJ0eVRhYmxlQnlDbGFzcyhwcm9wZXJ0eVRhYmxlcywgc2NoZW1hQ2xhc3NOYW1lKSB7XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eVRhYmxlTmFtZSBpbiBwcm9wZXJ0eVRhYmxlcykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eVRhYmxlID0gcHJvcGVydHlUYWJsZXNbcHJvcGVydHlUYWJsZU5hbWVdO1xuICAgICAgICBpZiAocHJvcGVydHlUYWJsZS5jbGFzcyA9PT0gc2NoZW1hQ2xhc3NOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydHlUYWJsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGZpbmRGZWF0dXJlVGV4dHVyZUJ5Q2xhc3MoZmVhdHVyZVRleHR1cmVzLCBzY2hlbWFDbGFzc05hbWUpIHtcbiAgICBmb3IgKGNvbnN0IGZlYXR1cmVUZXh0dXJlc05hbWUgaW4gZmVhdHVyZVRleHR1cmVzKSB7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVUYWJsZSA9IGZlYXR1cmVUZXh0dXJlc1tmZWF0dXJlVGV4dHVyZXNOYW1lXTtcbiAgICAgICAgaWYgKGZlYXR1cmVUYWJsZS5jbGFzcyA9PT0gc2NoZW1hQ2xhc3NOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmVhdHVyZVRhYmxlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBOYXZpZ2F0ZXMgdGhyb3VnaCBhbGwgcHJvcGVyaWVzIGluIHRoZSBwcm9wZXJ0eSB0YWJsZSwgZ2V0cyBwcm9wZXJ0aWVzIGRhdGEsXG4gKiBhbmQgcHV0IHRoZSBkYXRhIHRvIGBwcm9wZXJ0eVRhYmxlLmRhdGFgIGFzIGFuIGFycmF5LlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBzY2hlbWEgLSBzY2hlbWEgb2JqZWN0LlxuICogQHBhcmFtIHByb3BlcnR5VGFibGUgLSBwcm9wZXJ0eVRhYmxlIGRlZmluaXRpb24gdGFrZW4gZnJvbSB0aGUgdG9wLWxldmVsIGV4dGVuc2lvbi5cbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc1Byb3BlcnR5VGFibGUoc2NlbmVncmFwaCwgc2NoZW1hLCBwcm9wZXJ0eVRhYmxlKSB7XG4gICAgLy8gVGhvdWdoICdjbGFzcycgaXMgbm90IHJlcXVpcmVkIGJ5IHNwZWMsIGl0IGRvZXNuJ3QgbWFrZSBhbnkgc2NlbmNlIHdoZW4gaXQncyBub3QgcHJvdmlkZWQuXG4gICAgLy8gU28sIGJhbGUgb3V0IGhlcmUuXG4gICAgaWYgKCFwcm9wZXJ0eVRhYmxlLmNsYXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hQ2xhc3MgPSBzY2hlbWEuY2xhc3Nlcz8uW3Byb3BlcnR5VGFibGUuY2xhc3NdO1xuICAgIGlmICghc2NoZW1hQ2xhc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmNvcnJlY3QgZGF0YSBpbiB0aGUgRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEgZXh0ZW5zaW9uOiBubyBzY2hlbWEgY2xhc3Mgd2l0aCBuYW1lICR7cHJvcGVydHlUYWJsZS5jbGFzc31gKTtcbiAgICB9XG4gICAgY29uc3QgbnVtYmVyT2ZFbGVtZW50cyA9IHByb3BlcnR5VGFibGUuY291bnQ7IC8vIGBwcm9wZXJ0eVRhYmxlLmNvdW50YCBpcyBhIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5LlxuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIHNjaGVtYUNsYXNzLnByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgY2xhc3NQcm9wZXJ0eSA9IHNjaGVtYUNsYXNzLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlUYWJsZVByb3BlcnR5ID0gcHJvcGVydHlUYWJsZS5wcm9wZXJ0aWVzPy5bcHJvcGVydHlOYW1lXTtcbiAgICAgICAgaWYgKHByb3BlcnR5VGFibGVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgLy8gR2V0dGluZyBhbGwgZWxlbWVudHMgKGBudW1iZXJPZkVsZW1lbnRzYCkgb2YgdGhlIGFycmF5IGluIHRoZSBgcHJvcGVydHlUYWJsZVByb3BlcnR5YFxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGdldFByb3BlcnR5RGF0YUZyb21CaW5hcnlTb3VyY2Uoc2NlbmVncmFwaCwgc2NoZW1hLCBjbGFzc1Byb3BlcnR5LCBudW1iZXJPZkVsZW1lbnRzLCBwcm9wZXJ0eVRhYmxlUHJvcGVydHkpO1xuICAgICAgICAgICAgcHJvcGVydHlUYWJsZVByb3BlcnR5LmRhdGEgPSBkYXRhO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBOYXZpZ2F0ZXMgdGhyb3VnaCBhbGwgcHJvcGVyaWVzIGluIGZlYXR1cmUgdGV4dHVyZSBhbmQgZ2V0cyBwcm9wZXJ0aWVzIGRhdGEuXG4gKiBEYXRhIHdpbGwgYmUgc3RvcmVkIGluIGZlYXR1cmVUZXh0dXJlLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5kYXRhLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBmZWF0dXJlVGV4dHVyZVxuICogQHBhcmFtIHNjaGVtYUNsYXNzXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUZlYXR1cmVUZXh0dXJlUHJvcGVydGllcyhzY2VuZWdyYXBoLCBmZWF0dXJlVGV4dHVyZSwgc2NoZW1hQ2xhc3MpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gZmVhdHVyZVRleHR1cmUuY2xhc3M7XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eU5hbWUgaW4gc2NoZW1hQ2xhc3MucHJvcGVydGllcykge1xuICAgICAgICBjb25zdCBmZWF0dXJlVGV4dHVyZVByb3BlcnR5ID0gZmVhdHVyZVRleHR1cmU/LnByb3BlcnRpZXM/Lltwcm9wZXJ0eU5hbWVdO1xuICAgICAgICBpZiAoZmVhdHVyZVRleHR1cmVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGdldFByb3BlcnR5RGF0YUZyb21UZXh0dXJlKHNjZW5lZ3JhcGgsIGZlYXR1cmVUZXh0dXJlUHJvcGVydHksIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgZmVhdHVyZVRleHR1cmVQcm9wZXJ0eS5kYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGVjb2RlcyBwcm9wZXJ0aWVzIGZyb20gYmluYXJ5IHNvdXJzZSBiYXNlZCBvbiBwcm9wZXJ0eSB0eXBlLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBzY2hlbWFQcm9wZXJ0eVxuICogQHBhcmFtIG51bWJlck9mRmVhdHVyZXNcbiAqIEBwYXJhbSBmZWF0dXJlVGFibGVQcm9wZXJ0eVxuICovXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eURhdGFGcm9tQmluYXJ5U291cmNlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZGZWF0dXJlcywgZmVhdHVyZVRhYmxlUHJvcGVydHkpIHtcbiAgICBsZXQgZGF0YSA9IFtdO1xuICAgIGNvbnN0IGJ1ZmZlclZpZXcgPSBmZWF0dXJlVGFibGVQcm9wZXJ0eS5idWZmZXJWaWV3O1xuICAgIGNvbnN0IGRhdGFBcnJheSA9IHNjZW5lZ3JhcGguZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcoYnVmZmVyVmlldyk7XG4gICAgY29uc3QgYXJyYXlPZmZzZXRzID0gZ2V0QXJyYXlPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgY2xhc3NQcm9wZXJ0eSwgZmVhdHVyZVRhYmxlUHJvcGVydHksIG51bWJlck9mRmVhdHVyZXMpO1xuICAgIGNvbnN0IHN0cmluZ09mZnNldHMgPSBnZXRTdHJpbmdPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgY2xhc3NQcm9wZXJ0eSwgZmVhdHVyZVRhYmxlUHJvcGVydHksIG51bWJlck9mRmVhdHVyZXMpO1xuICAgIGlmIChjbGFzc1Byb3BlcnR5LnR5cGUgPT09ICdTVFJJTkcnIHx8IGNsYXNzUHJvcGVydHkuY29tcG9uZW50VHlwZSA9PT0gJ1NUUklORycpIHtcbiAgICAgICAgZGF0YSA9IGdldFByb3BlcnR5RGF0YVN0cmluZyhudW1iZXJPZkZlYXR1cmVzLCBkYXRhQXJyYXksIGFycmF5T2Zmc2V0cywgc3RyaW5nT2Zmc2V0cyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTnVtZXJpY1Byb3BlcnR5KGNsYXNzUHJvcGVydHkpKSB7XG4gICAgICAgIGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFOdW1lcmljKGNsYXNzUHJvcGVydHksIG51bWJlck9mRmVhdHVyZXMsIGRhdGFBcnJheSwgYXJyYXlPZmZzZXRzKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIFBhcnNlcyBwcm9wZXJ0eVRhYmxlLnByb3BlcnR5LmFycmF5T2Zmc2V0cyB0aGF0IGFyZSBvZmZzZXRzIG9mIHN1Yi1hcnJheXMgaW4gYSBmbGF0dGVuIGFycmF5IG9mIHZhbHVlcy5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gY2xhc3NQcm9wZXJ0eSAtIGNsYXNzIHByb3BlcnR5IG9iamVjdC5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgLSBwcm9wZXJ0eVRhYmxlJ3MgcHJvcGVydHkgbWV0YWRhdGEuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheSB0aGF0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSBjb250YWlucy4gSXQncyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZS5cbiAqIEByZXR1cm5zIFR5cGVkIGFycmF5IHdpdGggb2Zmc2V0IHZhbHVlcy5cbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2dsVEYvYmxvYi8yOTc2ZjExODMzNDNhNDdhMjllNDA1OWE3MDk2MTM3MWNkMmZjZWU4L2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfc3RydWN0dXJhbF9tZXRhZGF0YS9zY2hlbWEvcHJvcGVydHlUYWJsZS5wcm9wZXJ0eS5zY2hlbWEuanNvbiNMMjFcbiAqL1xuZnVuY3Rpb24gZ2V0QXJyYXlPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgY2xhc3NQcm9wZXJ0eSwgcHJvcGVydHlUYWJsZVByb3BlcnR5LCBudW1iZXJPZkVsZW1lbnRzKSB7XG4gICAgLypcbiAgICAgSWYgQVJSQVkgaXMgdXNlZCwgdGhlbiBjb21wb25lbnRUeXBlIG11c3QgYWxzbyBiZSBzcGVjaWZpZWQuXG4gICAgIEFSUkFZIGlzIGEgZml4ZWQtbGVuZ3RoIGFycmF5IHdoZW4gY29tcG9uZW50Q291bnQgaXMgZGVmaW5lZCwgYW5kIHZhcmlhYmxlLWxlbmd0aCBvdGhlcndpc2UuXG4gICovXG4gICAgaWYgKGNsYXNzUHJvcGVydHkudHlwZSA9PT0gJ0FSUkFZJyAmJlxuICAgICAgICAvLyBgY29tcG9uZW50Q291bnRgIGlzIGEgbnVtYmVyIG9mIGZpeGVkLWxlbmd0aCBhcnJheSBlbGVtZW50cy5cbiAgICAgICAgLy8gSWYgYGNvbXBvbmVudENvdW50YCBpcyBOT1QgZGVmaW5lZCwgaXQncyBhIFZBUklBQkxFLWxlbmd0aCBhcnJheVxuICAgICAgICB0eXBlb2YgY2xhc3NQcm9wZXJ0eS5jb21wb25lbnRDb3VudCA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgLy8gYGFycmF5T2Zmc2V0QnVmZmVyVmlld2AgaXMgYW4gaW5kZXggb2YgdGhlIGJ1ZmZlciB2aWV3IGNvbnRhaW5pbmcgb2Zmc2V0cyBmb3IgdmFyaWFibGUtbGVuZ3RoIGFycmF5cy5cbiAgICAgICAgdHlwZW9mIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5hcnJheU9mZnNldEJ1ZmZlclZpZXcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIERhdGEgYXJlIGluIGEgVkFSSUFCTEUtbGVuZ3RoIGFycmF5XG4gICAgICAgIHJldHVybiBnZXRPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgcHJvcGVydHlUYWJsZVByb3BlcnR5LmFycmF5T2Zmc2V0QnVmZmVyVmlldywgcHJvcGVydHlUYWJsZVByb3BlcnR5Lm9mZnNldFR5cGUgfHwgJ1VJTlQzMicsIC8vIG9mZnNldFR5cGUgaXMgdXNlZCBib3RoIGZvciBzdHJpbmdPZmZzZXRCdWZmZXJWaWV3IGFuZCBhcnJheU9mZnNldEJ1ZmZlclZpZXdcbiAgICAgICAgbnVtYmVyT2ZFbGVtZW50cyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBQYXJzZXMgZmVhdHVyZVRhYmxlLnByb3BlcnR5LnN0cmluZ09mZnNldEJ1ZmZlclZpZXcuXG4gKiBTdHJpbmcgb2Zmc2V0cyBpcyBhbiBhcnJheSBvZiBvZmZzZXRzIG9mIHN0cmluZ3MgaW4gdGhlIHVuaXRlZCBhcnJheSBvZiBjaGFyYWN0ZXJzLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgLSBwcm9wZXJ0eVRhYmxlJ3MgcHJvcGVydHkgbWV0YWRhdGEuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheSB0aGF0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSBjb250YWlucy4gSXQncyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZS5cbiAqIEByZXR1cm5zIFR5cGVkIGFycmF5IG9mIG9mZnNldCB2YWx1ZXMuIFRoZSBudW1iZXIgb2Ygb2Zmc2V0cyBpbiB0aGUgYXJyYXkgaXMgZXF1YWwgdG8gYG51bWJlck9mRWxlbWVudHNgIHBsdXMgb25lLlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vQ2VzaXVtR1MvZ2xURi9ibG9iL2MzOGY3ZjM3ZTg5NDAwNDM1M2MxNWNkMDQ4MWJjNWI3MzgxY2U4NDEvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL0VYVF9mZWF0dXJlX21ldGFkYXRhL3NjaGVtYS9mZWF0dXJlVGFibGUucHJvcGVydHkuc2NoZW1hLmpzb24jTDUwQzEwLUw1MEMzMlxuICovXG5mdW5jdGlvbiBnZXRTdHJpbmdPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgY2xhc3NQcm9wZXJ0eSwgcHJvcGVydHlUYWJsZVByb3BlcnR5LCBudW1iZXJPZkVsZW1lbnRzKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0eVRhYmxlUHJvcGVydHkuc3RyaW5nT2Zmc2V0QnVmZmVyVmlldyAhPT0gJ3VuZGVmaW5lZCcgLy8gYHN0cmluZ09mZnNldEJ1ZmZlclZpZXdgIGlzIGFuIGluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIG9mZnNldHMgZm9yIHN0cmluZ3MuXG4gICAgKSB7XG4gICAgICAgIC8vIERhdGEgYXJlIGluIGEgRklYRUQtbGVuZ3RoIGFycmF5XG4gICAgICAgIHJldHVybiBnZXRPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgcHJvcGVydHlUYWJsZVByb3BlcnR5LnN0cmluZ09mZnNldEJ1ZmZlclZpZXcsIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5vZmZzZXRUeXBlIHx8ICdVSU5UMzInLCAvLyBvZmZzZXRUeXBlIGlzIHVzZWQgYm90aCBmb3Igc3RyaW5nT2Zmc2V0QnVmZmVyVmlldyBhbmQgYXJyYXlPZmZzZXRCdWZmZXJWaWV3XG4gICAgICAgIG51bWJlck9mRWxlbWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBmZWF0dXJlIHRhYmxlIHByb3BlcnR5IGlzIG9mIG51bWVyaWMgdHlwZS5cbiAqIEBwYXJhbSBzY2hlbWFQcm9wZXJ0eVR5cGUgLSBmZWF0dXJlIHRhYmxlIHByb3BlcnR5XG4gKiBAcmV0dXJucyB0cnVlIGlmIHByb3BlcnR5IGlzIG51bWVyaWMsIGVsc2UgLSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWVyaWNQcm9wZXJ0eShzY2hlbWFQcm9wZXJ0eSkge1xuICAgIGNvbnN0IHR5cGVzID0gW1xuICAgICAgICAnVUlOVDgnLFxuICAgICAgICAnSU5UMTYnLFxuICAgICAgICAnVUlOVDE2JyxcbiAgICAgICAgJ0lOVDMyJyxcbiAgICAgICAgJ1VJTlQzMicsXG4gICAgICAgICdJTlQ2NCcsXG4gICAgICAgICdVSU5UNjQnLFxuICAgICAgICAnRkxPQVQzMicsXG4gICAgICAgICdGTE9BVDY0J1xuICAgIF07XG4gICAgcmV0dXJuICh0eXBlcy5pbmNsdWRlcyhzY2hlbWFQcm9wZXJ0eS50eXBlKSB8fFxuICAgICAgICAodHlwZW9mIHNjaGVtYVByb3BlcnR5LmNvbXBvbmVudFR5cGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICB0eXBlcy5pbmNsdWRlcyhzY2hlbWFQcm9wZXJ0eS5jb21wb25lbnRUeXBlKSkpO1xufVxuLyoqXG4gKiBEZWNvZGVzIHByb3BlcnRpZXMgb2YgbnVtZXJpYyB0eXBlcyBmcm9tIGJpbmFyeSBzb3Vyc2UuXG4gKiBAcGFyYW0gY2xhc3NQcm9wZXJ0eSAtIGNsYXNzIHByb3BlcnR5IG9iamVjdC5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5IHRoYXQgcHJvcGVydHlUYWJsZVByb3BlcnR5IGNvbnRhaW5zLiBJdCdzIGEgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIHRhYmxlLlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlcyAtIERhdGEgdGFrZW4gZnJvbSB2YWx1ZXMgcHJvcGVydHkgb2YgdGhlIHByb3BlcnR5IHRhYmxlIHByb3BlcnR5LlxuICogQHBhcmFtIGFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcmV0dXJucyBQcm9wZXJ0eSB2YWx1ZXMgaW4gYSB0eXBlZCBhcnJheSBvciBpbiBhbiBhcnJheSBvZiB0eXBlZCBhcnJheXMuXG4gKi9cbmZ1bmN0aW9uIGdldFByb3BlcnR5RGF0YU51bWVyaWMoY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMpIHtcbiAgICBjb25zdCBpc0FycmF5ID0gY2xhc3NQcm9wZXJ0eS50eXBlID09PSAnQVJSQVknO1xuICAgIGNvbnN0IGFycmF5Q291bnQgPSBjbGFzc1Byb3BlcnR5LmNvbXBvbmVudENvdW50O1xuICAgIC8qXG4gICAgV2UgYXJlIGdldHRpbmcgTnVtZXJpYyBkYXRhLiBTbyxcbiAgICAgIHRoZSBjb21wb25lbnQgdHlwZSBjYW4gYmUgb25lIG9mIE51bWVyaWNDb21wb25lbnRUeXBlLFxuICAgICAgdGhlIGF0dHJpYnV0ZSB0eXBlIHNob3VsZCBiZSAnU0NBTEFSJ1xuICAgICovXG4gICAgY29uc3QgYXR0cmlidXRlVHlwZSA9ICdTQ0FMQVInO1xuICAgIGNvbnN0IGNvbXBvbmVudFR5cGUgPSBjbGFzc1Byb3BlcnR5LmNvbXBvbmVudFR5cGUgfHwgY2xhc3NQcm9wZXJ0eS50eXBlO1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gZ2V0QXJyYXlFbGVtZW50Qnl0ZVNpemUoYXR0cmlidXRlVHlwZSwgY29tcG9uZW50VHlwZSk7XG4gICAgY29uc3QgZWxlbWVudENvdW50ID0gdmFsdWVzRGF0YUJ5dGVzLmJ5dGVMZW5ndGggLyBlbGVtZW50U2l6ZTtcbiAgICBjb25zdCB2YWx1ZXNEYXRhID0gY29udmVydFJhd0J1ZmZlclRvTWV0YWRhdGFBcnJheSh2YWx1ZXNEYXRhQnl0ZXMsIGF0dHJpYnV0ZVR5cGUsIGNvbXBvbmVudFR5cGUsIGVsZW1lbnRDb3VudCk7XG4gICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgaWYgKGFycmF5T2Zmc2V0cykge1xuICAgICAgICAgICAgLy8gVkFSSUFCTEUtbGVuZ3RoIGFycmF5XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VWYXJpYWJsZUxlbmd0aEFycmF5TnVtZXJpYyh2YWx1ZXNEYXRhLCBudW1iZXJPZkVsZW1lbnRzLCBhcnJheU9mZnNldHMsIHZhbHVlc0RhdGFCeXRlcy5sZW5ndGgsIGVsZW1lbnRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJyYXlDb3VudCkge1xuICAgICAgICAgICAgLy8gRklYRUQtbGVuZ3RoIGFycmF5XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGaXhlZExlbmd0aEFycmF5TnVtZXJpYyh2YWx1ZXNEYXRhLCBudW1iZXJPZkVsZW1lbnRzLCBhcnJheUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXNEYXRhO1xufVxuLyoqXG4gKiBHZXRzIHByb3BlcnRpZXMgZnJvbSB0ZXh0dXJlIGFzc29jaWF0ZWQgd2l0aCBhbGwgbWVzaCBwcmltaXRpdmVzLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBmZWF0dXJlVGV4dHVyZVByb3BlcnR5XG4gKiBAcGFyYW0gYXR0cmlidXRlTmFtZVxuICogQHJldHVybnMgRmVhdHVyZSB0ZXh0dXJlIGRhdGFcbiAqL1xuZnVuY3Rpb24gZ2V0UHJvcGVydHlEYXRhRnJvbVRleHR1cmUoc2NlbmVncmFwaCwgZmVhdHVyZVRleHR1cmVQcm9wZXJ0eSwgYXR0cmlidXRlTmFtZSkge1xuICAgIGNvbnN0IGpzb24gPSBzY2VuZWdyYXBoLmdsdGYuanNvbjtcbiAgICBpZiAoIWpzb24ubWVzaGVzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgZmVhdHVyZVRleHR1cmVUYWJsZSA9IFtdO1xuICAgIGZvciAoY29uc3QgbWVzaCBvZiBqc29uLm1lc2hlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiBtZXNoLnByaW1pdGl2ZXMpIHtcbiAgICAgICAgICAgIHByb2Nlc3NQcmltaXRpdmVUZXh0dXJlcyhzY2VuZWdyYXBoLCBhdHRyaWJ1dGVOYW1lLCBmZWF0dXJlVGV4dHVyZVByb3BlcnR5LCBmZWF0dXJlVGV4dHVyZVRhYmxlLCBwcmltaXRpdmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmZWF0dXJlVGV4dHVyZVRhYmxlO1xufVxuLyoqXG4gKiBQcm9jZXNzZXMgZGF0YSBlbmNvZGVkIGluIHRoZSB0ZXh0dXJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJpbWl0aXZlLiBUaGlzIGRhdGEgd2lsbCBiZSBhY2Nlc3NpYmxlIHRocm91Z2ggdGhlIGF0dHJpYnV0ZXMuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIGF0dHJpYnV0ZU5hbWVcbiAqIEBwYXJhbSBmZWF0dXJlVGV4dHVyZVByb3BlcnR5XG4gKiBAcGFyYW0gZmVhdHVyZVRleHR1cmVUYWJsZVxuICogQHBhcmFtIHByaW1pdGl2ZVxuICovXG5mdW5jdGlvbiBwcm9jZXNzUHJpbWl0aXZlVGV4dHVyZXMoc2NlbmVncmFwaCwgYXR0cmlidXRlTmFtZSwgZmVhdHVyZVRleHR1cmVQcm9wZXJ0eSwgZmVhdHVyZVRleHR1cmVUYWJsZSwgcHJpbWl0aXZlKSB7XG4gICAgY29uc3QgdGV4dHVyZUluZm9Ub3BMZXZlbCA9IHtcbiAgICAgICAgY2hhbm5lbHM6IGZlYXR1cmVUZXh0dXJlUHJvcGVydHkuY2hhbm5lbHMsXG4gICAgICAgIC4uLmZlYXR1cmVUZXh0dXJlUHJvcGVydHkudGV4dHVyZVxuICAgIH07XG4gICAgY29uc3QgcHJvcGVydHlEYXRhID0gZ2V0UHJpbWl0aXZlVGV4dHVyZURhdGEoc2NlbmVncmFwaCwgdGV4dHVyZUluZm9Ub3BMZXZlbCwgcHJpbWl0aXZlKTtcbiAgICBpZiAoIXByb3BlcnR5RGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHByaW1pdGl2ZVByb3BlcnR5RGF0YVRvQXR0cmlidXRlcyhzY2VuZWdyYXBoLCBhdHRyaWJ1dGVOYW1lLCBwcm9wZXJ0eURhdGEsIGZlYXR1cmVUZXh0dXJlVGFibGUsIHByaW1pdGl2ZSk7XG59XG4iLCIvLyBHTFRGIDEuMCBleHRlbnNpb25zIChkZWNvZGUgb25seSlcbi8vIGltcG9ydCAqIGFzIEtIUl9iaW5hcnlfZ2x0ZiBmcm9tICcuL0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uJztcbi8vIEdMVEYgMi4wIFZlbmRvciBleHRlbnNpb25zXG5pbXBvcnQgKiBhcyBFWFRfbWVzaF9mZWF0dXJlcyBmcm9tIFwiLi4vZXh0ZW5zaW9ucy9FWFRfbWVzaF9mZWF0dXJlcy5qc1wiO1xuaW1wb3J0ICogYXMgRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEgZnJvbSBcIi4uL2V4dGVuc2lvbnMvRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEuanNcIjtcbi8vIEdMVEYgMi4wIEtocm9ub3MgZXh0ZW5zaW9ucyAoZGVjb2RlL2VuY29kZSlcbmltcG9ydCAqIGFzIEVYVF9tZXNob3B0X2NvbXByZXNzaW9uIGZyb20gXCIuLi9leHRlbnNpb25zL0VYVF9tZXNob3B0X2NvbXByZXNzaW9uLmpzXCI7XG5pbXBvcnQgKiBhcyBFWFRfdGV4dHVyZV93ZWJwIGZyb20gXCIuLi9leHRlbnNpb25zL0VYVF90ZXh0dXJlX3dlYnAuanNcIjtcbmltcG9ydCAqIGFzIEtIUl90ZXh0dXJlX2Jhc2lzdSBmcm9tIFwiLi4vZXh0ZW5zaW9ucy9LSFJfdGV4dHVyZV9iYXNpc3UuanNcIjtcbmltcG9ydCAqIGFzIEtIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uIGZyb20gXCIuLi9leHRlbnNpb25zL0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uLmpzXCI7XG5pbXBvcnQgKiBhcyBLSFJfdGV4dHVyZV90cmFuc2Zvcm0gZnJvbSBcIi4uL2V4dGVuc2lvbnMvS0hSX3RleHR1cmVfdHJhbnNmb3JtLmpzXCI7XG4vLyBEZXByZWNhdGVkLiBUaGVzZSBzaG91bGQgYmUgaGFuZGxlZCBieSByZW5kZXJpbmcgbGlicmFyeSAoZS5nLiBsdW1hLmdsKSwgbm90IHRoZSBsb2FkZXIuXG5pbXBvcnQgKiBhcyBLSFJfbGlnaHRzX3B1bmN0dWFsIGZyb20gXCIuLi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvS0hSX2xpZ2h0c19wdW5jdHVhbC5qc1wiO1xuaW1wb3J0ICogYXMgS0hSX21hdGVyaWFsc191bmxpdCBmcm9tIFwiLi4vZXh0ZW5zaW9ucy9kZXByZWNhdGVkL0tIUl9tYXRlcmlhbHNfdW5saXQuanNcIjtcbmltcG9ydCAqIGFzIEtIUl90ZWNobmlxdWVzX3dlYmdsIGZyb20gXCIuLi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvS0hSX3RlY2huaXF1ZXNfd2ViZ2wuanNcIjtcbmltcG9ydCAqIGFzIEVYVF9mZWF0dXJlX21ldGFkYXRhIGZyb20gXCIuLi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvRVhUX2ZlYXR1cmVfbWV0YWRhdGEuanNcIjtcbi8qKlxuICogTGlzdCBvZiBleHRlbnNpb25zIHByb2Nlc3NlZCBieSB0aGUgR0xURkxvYWRlclxuICogTm90ZSB0aGF0IG1heSBleHRlbnNpb25zIGNhbiBvbmx5IGJlIGhhbmRsZWQgb24gdGhlIHJlbmRlcmluZyBzdGFnZSBhbmQgYXJlIGxlZnQgb3V0IGhlcmVcbiAqIFRoZXNlIGFyZSBqdXN0IGV4dGVuc2lvbnMgdGhhdCBjYW4gYmUgaGFuZGxlZCBmdWxseSBvciBwYXJ0aWFsbHkgZHVyaW5nIGxvYWRpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBFWFRFTlNJT05TID0gW1xuICAgIC8vIDEuMFxuICAgIC8vIEtIUl9iaW5hcnlfZ2x0ZiBpcyBoYW5kbGVkIHNlcGFyYXRlbHkgLSBtdXN0IGJlIHByb2Nlc3NlZCBiZWZvcmUgb3RoZXIgcGFyc2luZyBzdGFydHNcbiAgICAvLyBLSFJfYmluYXJ5X2dsdGYsXG4gICAgLy8gMi4wXG4gICAgRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEsXG4gICAgRVhUX21lc2hfZmVhdHVyZXMsXG4gICAgRVhUX21lc2hvcHRfY29tcHJlc3Npb24sXG4gICAgRVhUX3RleHR1cmVfd2VicCxcbiAgICAvLyBCYXNpc3Ugc2hvdWxkIGNvbWUgYWZ0ZXIgd2VicCwgd2Ugd2FudCBiYXNpc3UgdG8gYmUgcHJlZmVycmVkIGlmIGJvdGggYXJlIHByb3ZpZGVkXG4gICAgS0hSX3RleHR1cmVfYmFzaXN1LFxuICAgIEtIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uLFxuICAgIEtIUl9saWdodHNfcHVuY3R1YWwsXG4gICAgS0hSX21hdGVyaWFsc191bmxpdCxcbiAgICBLSFJfdGVjaG5pcXVlc193ZWJnbCxcbiAgICBLSFJfdGV4dHVyZV90cmFuc2Zvcm0sXG4gICAgRVhUX2ZlYXR1cmVfbWV0YWRhdGFcbl07XG4vKipcbiAqIExpc3Qgb2YgZXh0ZW5zaW9ucyBwcm9jZXNzZWQgYnkgdGhlIEdMVEZXcml0ZXJcbiAqL1xuY29uc3QgRVhURU5TSU9OU19FTkNPRElORyA9IFtFWFRfc3RydWN0dXJhbF9tZXRhZGF0YSwgRVhUX21lc2hfZmVhdHVyZXNdO1xuLyoqIENhbGwgYmVmb3JlIGFueSByZXNvdXJjZSBsb2FkaW5nIHN0YXJ0cyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXByb2Nlc3NFeHRlbnNpb25zKGdsdGYsIG9wdGlvbnMgPSB7fSwgY29udGV4dCkge1xuICAgIGNvbnN0IGV4dGVuc2lvbnMgPSBFWFRFTlNJT05TLmZpbHRlcigoZXh0ZW5zaW9uKSA9PiB1c2VFeHRlbnNpb24oZXh0ZW5zaW9uLm5hbWUsIG9wdGlvbnMpKTtcbiAgICBmb3IgKGNvbnN0IGV4dGVuc2lvbiBvZiBleHRlbnNpb25zKSB7XG4gICAgICAgIGV4dGVuc2lvbi5wcmVwcm9jZXNzPy4oZ2x0Ziwgb3B0aW9ucywgY29udGV4dCk7XG4gICAgfVxufVxuLyoqIENhbGwgYWZ0ZXIgcmVzb3VyY2UgbG9hZGluZyAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlY29kZUV4dGVuc2lvbnMoZ2x0Ziwgb3B0aW9ucyA9IHt9LCBjb250ZXh0KSB7XG4gICAgY29uc3QgZXh0ZW5zaW9ucyA9IEVYVEVOU0lPTlMuZmlsdGVyKChleHRlbnNpb24pID0+IHVzZUV4dGVuc2lvbihleHRlbnNpb24ubmFtZSwgb3B0aW9ucykpO1xuICAgIGZvciAoY29uc3QgZXh0ZW5zaW9uIG9mIGV4dGVuc2lvbnMpIHtcbiAgICAgICAgLy8gTm90ZTogV2UgZGVjb2RlIGFzeW5jIGV4dGVuc2lvbnMgc2VxdWVudGlhbGx5LCB0aGlzIG1pZ2h0IG5vdCBiZSBuZWNlc3NhcnlcbiAgICAgICAgLy8gQ3VycmVudGx5IHdlIG9ubHkgaGF2ZSBEcmFjbywgYnV0IHdoZW4gd2UgYWRkIEJhc2lzIHdlIG1heSByZXZpc2l0XG4gICAgICAgIGF3YWl0IGV4dGVuc2lvbi5kZWNvZGU/LihnbHRmLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICB9XG59XG4vKiogQ2FsbCBiZWZvcmUgcmVzb3VyY2Ugd3JpdGluZyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUV4dGVuc2lvbnMoZ2x0Ziwgb3B0aW9ucyA9IHt9KSB7XG4gICAgZm9yIChjb25zdCBleHRlbnNpb24gb2YgRVhURU5TSU9OU19FTkNPRElORykge1xuICAgICAgICBnbHRmID0gZXh0ZW5zaW9uLmVuY29kZT8uKGdsdGYsIG9wdGlvbnMpID8/IGdsdGY7XG4gICAgfVxuICAgIHJldHVybiBnbHRmO1xufVxuZnVuY3Rpb24gdXNlRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBleGNsdWRlcyA9IG9wdGlvbnM/LmdsdGY/LmV4Y2x1ZGVFeHRlbnNpb25zIHx8IHt9O1xuICAgIGNvbnN0IGV4Y2x1ZGUgPSBleHRlbnNpb25OYW1lIGluIGV4Y2x1ZGVzICYmICFleGNsdWRlc1tleHRlbnNpb25OYW1lXTtcbiAgICByZXR1cm4gIWV4Y2x1ZGU7XG59XG4iLCIvLyBHTFRGIDEuMCBFWFRFTlNJT046IEtIUl9iaW5hcnlfZ2xURlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMS4wL0tocm9ub3MvS0hSX2JpbmFyeV9nbFRGXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbmltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmNvbnN0IEtIUl9CSU5BUllfR0xURiA9ICdLSFJfYmluYXJ5X2dsVEYnO1xuLyoqIEV4dGVuc2lvbiBuYW1lICovXG5leHBvcnQgY29uc3QgbmFtZSA9IEtIUl9CSU5BUllfR0xURjtcbmV4cG9ydCBmdW5jdGlvbiBwcmVwcm9jZXNzKGdsdGZEYXRhKSB7XG4gICAgY29uc3QgZ2x0ZlNjZW5lZ3JhcGggPSBuZXcgR0xURlNjZW5lZ3JhcGgoZ2x0ZkRhdGEpO1xuICAgIGNvbnN0IHsganNvbiB9ID0gZ2x0ZlNjZW5lZ3JhcGg7XG4gICAgLy8gTm90ZToganNvbi5idWZmZXJzLmJpbmFyeV9nbFRGIGFsc28gbmVlZHMgdG8gYmUgcmVwbGFjZWRcbiAgICAvLyBUaGlzIGlzIGN1cnJlbnRseSBkb25lIGR1cmluZyBnbHRmIG5vcm1hbGl6YXRpb25cbiAgICAvLyBJbWFnZSBhbmQgc2hhZGVyIG5vZGVzIGNhbiBoYXZlIHRoZSBleHRlbnNpb25cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvZXh0ZW5zaW9ucy8xLjAvS2hyb25vcy9LSFJfYmluYXJ5X2dsVEYvc2NoZW1hL2ltYWdlLktIUl9iaW5hcnlfZ2xURi5zY2hlbWEuanNvblxuICAgIGZvciAoY29uc3QgaW1hZ2Ugb2YganNvbi5pbWFnZXMgfHwgW10pIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZ2x0ZlNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKGltYWdlLCBLSFJfQklOQVJZX0dMVEYpO1xuICAgICAgICAvLyBUaGUgZGF0YSBpbiB0aGUgZXh0ZW5zaW9uIGlzIHZhbGlkIGFzIGdsVEYgMi4wIGRhdGEgaW5zaWRlIHRoZSBvYmplY3QsIHNvIGp1c3QgY29weSBpdCBpblxuICAgICAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGltYWdlLCBleHRlbnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGdsdGZTY2VuZWdyYXBoLnJlbW92ZU9iamVjdEV4dGVuc2lvbihpbWFnZSwgS0hSX0JJTkFSWV9HTFRGKTtcbiAgICB9XG4gICAgLy8gVE9ETyBzaGFkZXJzIC0gQXQgbGVhc3QgdHJhdmVyc2UgYW5kIHRocm93IGVycm9yIGlmIHVzZWQ/XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL2V4dGVuc2lvbnMvMS4wL0tocm9ub3MvS0hSX2JpbmFyeV9nbFRGL3NjaGVtYS9zaGFkZXIuS0hSX2JpbmFyeV9nbFRGLnNjaGVtYS5qc29uXG4gICAgLy8gZ2xURiB2MSBvbmUgZmlsZXMgaGF2ZSBhIHBhcnRpYWxseSBmb3JtZWQgVVJJIGZpZWxkIHRoYXQgaXMgbm90IGV4cGVjdGVkIGluIChhbmQgY2F1c2VzIHByb2JsZW1zIGluKSAyLjBcbiAgICBpZiAoanNvbi5idWZmZXJzICYmIGpzb24uYnVmZmVyc1swXSkge1xuICAgICAgICBkZWxldGUganNvbi5idWZmZXJzWzBdLnVyaTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uIGFzIGl0IGhhcyBub3cgYmVlbiBwcm9jZXNzZWRcbiAgICBnbHRmU2NlbmVncmFwaC5yZW1vdmVFeHRlbnNpb24oS0hSX0JJTkFSWV9HTFRGKTtcbn1cbi8vIEtIUl9iaW5hcnlfZ2x0ZiBpcyBhIDEuMCBleHRlbnNpb24gdGhhdCBpcyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgMi4wXG4vLyBleHBvcnQgZnVuY3Rpb24gZW5jb2RlKCkge1xuLy8gICB0aHJvdyBuZXcgRXJyb3IoS0hSX0JJTkFSWV9HTFRGKTtcbi8vIH1cbiIsIi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0ICogYXMgS0hSX2JpbmFyeV9nbFRGIGZyb20gXCIuLi9leHRlbnNpb25zL0tIUl9iaW5hcnlfZ2x0Zi5qc1wiO1xuLy8gQmluYXJ5IGZvcm1hdCBjaGFuZ2VzIChtYWlubHkgaW1wbGVtZW50ZWQgYnkgR0xCTG9hZGVyKVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMS4wL0tocm9ub3MvS0hSX2JpbmFyeV9nbFRGXG4vLyBKU09OIGZvcm1hdCBjaGFuZ2VzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tocm9ub3Nncm91cC9nbHRmL2lzc3Vlcy82MDVcbi8vIC0gW3hdIFRvcC1sZXZlbCBKU09OIG9iamVjdHMgYXJlIGFycmF5cyBub3dcbi8vIC0gWyBdIFJlbW92ZWQgaW5kaXJlY3Rpb24gZnJvbSBhbmltYXRpb246IHNhbXBsZXIgbm93IHJlZmVycyBkaXJlY3RseSB0byBhY2Nlc3NvcnMsICM3MTJcbi8vIC0gWyBdIG1hdGVyaWFsLnBhcmFtZXRlci52YWx1ZSBhbmQgdGVjaG5pcXVlLnBhcmFtZXRlci52YWx1ZSBtdXN0IGJlIGFuIGFycmF5LCAjNjkwXG4vLyAtIFsgXSBOb2RlIGNhbiBoYXZlIG9ubHkgb25lIG1lc2ggIzgyMVxuLy8gLSBbIF0gQWRkZWQgcmVxcyBvbiBKU09OIGVuY29kaW5nXG4vLyAtIFsgXSBBZGRlZCByZXFzIG9uIGJpbmFyeSBkYXRhIGFsaWdubWVudCAjODAyIChjb21tZW50KVxuLy8gQWRkaXRpb25zOlxuLy8gLSBbIF0gQWRkZWQgYWNjZXNzb3Iubm9ybWFsaXplZCwgIzY5MSwgIzcwNlxuLy8gLSBbIF0gQWRkZWQgZ2xFeHRlbnNpb25zVXNlZCBwcm9wZXJ0eSBhbmQgNTEyNSAoVU5TSUdORURfSU5UKSBhY2Nlc3Nvci5jb21wb25lbnRUeXBlIHZhbHVlLCAjNjE5XG4vLyAtIFsgXSBBZGRlZCBleHRlbnNpb25zUmVxdWlyZWQgcHJvcGVydHksICM3MjAsICM3MjFcbi8vIC0gWyBdIEFkZGVkIFwiU1RFUFwiIGFzIHZhbGlkIGFuaW1hdGlvbi5zYW1wbGVyLmludGVycG9sYXRpb24gdmFsdWUsICM3MTJcbi8vIFJlbW92YWxzOlxuLy8gLSBbeF0gUmVtb3ZlZCBidWZmZXIudHlwZSwgIzc4NiwgIzYyOVxuLy8gLSBbIF0gUmVtb3ZlZCByZXZpc2lvbiBudW1iZXIgZnJvbSBwcm9maWxlLnZlcnNpb24sICM3MDlcbi8vIC0gWyBdIFJlbW92ZWQgdGVjaG5pcXVlLmZ1bmN0aW9ucy5zY2lzc29yIGFuZCByZW1vdmVkIDMwODkgKFNDSVNTT1JfVEVTVCkgYXMgYSB2YWxpZCB2YWx1ZSBmb3IgdGVjaG5pcXVlLnN0YXRlcy5lbmFibGUsICM2ODFcbi8vIC0gWyBdIFRlY2huaXF1ZXMsIHByb2dyYW1zLCBhbmQgc2hhZGVycyB3ZXJlIG1vdmVkIG91dCB0byBLSFJfdGVjaG5pcXVlX3dlYmdsIGV4dGVuc2lvbi5cbi8vIE90aGVyIGVkaXRzOlxuLy8gLSBbeF0gYXNzZXQgaXMgbm93IHJlcXVpcmVkLCAjNjQyXG4vLyAtIFsgXSBidWZmZXIuYnl0ZUxlbmd0aCBhbmQgYnVmZmVyVmlldy5ieXRlTGVuZ3RoIGFyZSBub3cgcmVxdWlyZWQsICM1NjAuXG4vLyAtIFsgXSBhY2Nlc3Nvci5taW4gYW5kIGFjY2Vzc29yLm1heCBhcmUgbm93IHJlcXVpcmVkLCAjNTkzLCBhbmQgY2xhcmlmaWVkIHRoYXQgdGhlIEpTT04gdmFsdWUgYW5kIGJpbmFyeSBkYXRhIG11c3QgYmUgdGhlIHNhbWUsICM2MjguXG4vLyAtIFsgXSBDbGFyaWZpZWQgYW5pbWF0aW9uLnNhbXBsZXIgYW5kIGFuaW1hdGlvbi5jaGFubmVsIHJlc3RyaWN0aW9ucywgIzcxMlxuLy8gLSBbIF0gc2tpbi5pbnZlcnNlQmluZE1hdHJpY2VzIGlzIG5vdyBvcHRpb25hbCwgIzQ2MS5cbi8vIC0gWyBdIEF0dHJpYnV0ZSBwYXJhbWV0ZXJzIGNhbid0IGhhdmUgYSB2YWx1ZSBkZWZpbmVkIGluIHRoZSB0ZWNobmlxdWUgb3IgcGFyYW1ldGVyLCAjNTYzIChjb21tZW50KS5cbi8vIC0gWyBdIE9ubHkgVEVYQ09PUkQgYW5kIENPTE9SIGF0dHJpYnV0ZSBzZW1hbnRpY3MgY2FuIGJlIHdyaXR0ZW4gaW4gdGhlIGZvcm0gW3NlbWFudGljXV9bc2V0X2luZGV4XSwgIzU2MyAoY29tbWVudCkuXG4vLyAtIFsgXSBURVhDT09SRCBhbmQgQ09MT1IgYXR0cmlidXRlIHNlbWFudGljcyBtdXN0IGJlIHdyaXR0ZW4gaW4gdGhlIGZvcm0gW3NlbWFudGljXV9bc2V0X2luZGV4XSwgZS5nLiwganVzdCBURVhDT09SRCBzaG91bGQgYmUgVEVYQ09PUkRfMCwgYW5kIGp1c3QgQ09MT1Igc2hvdWxkIGJlIENPTE9SXzAsICM2NDlcbi8vIC0gWyBdIGNhbWVyYS5wZXJzcGVjdGl2ZS5hc3BlY3RSYXRpbyBhbmQgY2FtZXJhLnBlcnNwZWN0aXZlLnlmb3YgbXVzdCBub3cgYmUgPiAwLCBub3QgPj0gMCwgIzU2MyAoY29tbWVudCkuXG4vLyAtIFsgXSBBcHBsaWNhdGlvbi1zcGVjaWZpYyBwYXJhbWV0ZXIgc2VtYW50aWNzIG11c3Qgc3RhcnQgd2l0aCBhbiB1bmRlcnNjb3JlLCBlLmcuLCBfVEVNUEVSQVRVUkUgYW5kIF9TSU1VTEFUSU9OX1RJTUUsICM1NjMgKGNvbW1lbnQpLlxuLy8gLSBbIF0gUHJvcGVydGllcyBpbiB0ZWNobmlxdWUucGFyYW1ldGVycyBtdXN0IGJlIGRlZmluZWQgaW4gdGVjaG5pcXVlLnVuaWZvcm1zIG9yIHRlY2huaXF1ZS5hdHRyaWJ1dGVzLFxuLy8gIzU2MyAoY29tbWVudCkuXG4vLyAtIFsgXSB0ZWNobmlxdWUucGFyYW1ldGVyLmNvdW50IGNhbiBvbmx5IGJlIGRlZmluZWQgd2hlbiB0aGUgc2VtYW50aWMgaXMgSk9JTlRNQVRSSVggb3IgYW4gYXBwbGljYXRpb24tc3BlY2lmaWMgc2VtYW50aWMgaXMgdXNlZC4gSXQgY2FuIG5ldmVyIGJlIGRlZmluZWQgZm9yIGF0dHJpYnV0ZSBwYXJhbWV0ZXJzOyBvbmx5IHVuaWZvcm1zLCBkMmY2OTQ1XG4vLyAtIFsgXSB0ZWNobmlxdWUucGFyYW1ldGVyLnNlbWFudGljIGlzIHJlcXVpcmVkIHdoZW4gdGhlIHBhcmFtZXRlciBpcyBhbiBhdHRyaWJ1dGUsIDI4ZTExM2Rcbi8vIC0gWyBdIE1lc2gtb25seSBtb2RlbHMgYXJlIGFsbG93ZWQsIGUuZy4sIHdpdGhvdXQgbWF0ZXJpYWxzLCAjNjQyXG4vLyAtIFsgXSBTa2VsZXRvbiBoaWVyYXJjaGllcyAobm9kZXMgY29udGFpbmluZyBqb2ludE5hbWUpIG11c3QgYmUgc2VwYXJhdGVkIGZyb20gbm9uLXNrZWxldG9uIGhpZXJhcmNoaWVzLiwgIzY0N1xuLy8gLSBbIF0gdGVjaG5pcXVlLnN0YXRlcy5mdW5jdGlvbnMuYmxlbmRDb2xvciBhbmQgdGVjaG5pcXVlLnN0YXRlcy5mdW5jdGlvbnMuZGVwdGhSYW5nZSBwYXJhbWV0ZXJzIG5vdyBtdXN0IG1hdGNoIFdlYkdMIGZ1bmN0aW9uIG1pbi9tYXgsICM3MDdcbmNvbnN0IEdMVEZfQVJSQVlTID0ge1xuICAgIGFjY2Vzc29yczogJ2FjY2Vzc29yJyxcbiAgICBhbmltYXRpb25zOiAnYW5pbWF0aW9uJyxcbiAgICBidWZmZXJzOiAnYnVmZmVyJyxcbiAgICBidWZmZXJWaWV3czogJ2J1ZmZlclZpZXcnLFxuICAgIGltYWdlczogJ2ltYWdlJyxcbiAgICBtYXRlcmlhbHM6ICdtYXRlcmlhbCcsXG4gICAgbWVzaGVzOiAnbWVzaCcsXG4gICAgbm9kZXM6ICdub2RlJyxcbiAgICBzYW1wbGVyczogJ3NhbXBsZXInLFxuICAgIHNjZW5lczogJ3NjZW5lJyxcbiAgICBza2luczogJ3NraW4nLFxuICAgIHRleHR1cmVzOiAndGV4dHVyZSdcbn07XG5jb25zdCBHTFRGX0tFWVMgPSB7XG4gICAgYWNjZXNzb3I6ICdhY2Nlc3NvcnMnLFxuICAgIGFuaW1hdGlvbnM6ICdhbmltYXRpb24nLFxuICAgIGJ1ZmZlcjogJ2J1ZmZlcnMnLFxuICAgIGJ1ZmZlclZpZXc6ICdidWZmZXJWaWV3cycsXG4gICAgaW1hZ2U6ICdpbWFnZXMnLFxuICAgIG1hdGVyaWFsOiAnbWF0ZXJpYWxzJyxcbiAgICBtZXNoOiAnbWVzaGVzJyxcbiAgICBub2RlOiAnbm9kZXMnLFxuICAgIHNhbXBsZXI6ICdzYW1wbGVycycsXG4gICAgc2NlbmU6ICdzY2VuZXMnLFxuICAgIHNraW46ICdza2lucycsXG4gICAgdGV4dHVyZTogJ3RleHR1cmVzJ1xufTtcbi8qKlxuICogQ29udmVydHMgKG5vcm1hbGl6ZXMpIGdsVEYgdjEgdG8gdjJcbiAqL1xuY2xhc3MgR0xURlYxTm9ybWFsaXplciB7XG4gICAgaWRUb0luZGV4TWFwID0ge1xuICAgICAgICBhbmltYXRpb25zOiB7fSxcbiAgICAgICAgYWNjZXNzb3JzOiB7fSxcbiAgICAgICAgYnVmZmVyczoge30sXG4gICAgICAgIGJ1ZmZlclZpZXdzOiB7fSxcbiAgICAgICAgaW1hZ2VzOiB7fSxcbiAgICAgICAgbWF0ZXJpYWxzOiB7fSxcbiAgICAgICAgbWVzaGVzOiB7fSxcbiAgICAgICAgbm9kZXM6IHt9LFxuICAgICAgICBzYW1wbGVyczoge30sXG4gICAgICAgIHNjZW5lczoge30sXG4gICAgICAgIHNraW5zOiB7fSxcbiAgICAgICAgdGV4dHVyZXM6IHt9XG4gICAgfTtcbiAgICBqc29uO1xuICAgIC8vIGNvbnN0cnVjdG9yKCkge31cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IChub3JtYWxpemUpIGdsVEYgPCAyLjAgdG8gZ2xURiAyLjBcbiAgICAgKiBAcGFyYW0gZ2x0ZiAtIG9iamVjdCB3aXRoIGpzb24gYW5kIGJpbkNodW5rc1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIG9wdGlvbnMgbm9ybWFsaXplIFdoZXRoZXIgdG8gYWN0dWFsbHkgbm9ybWFsaXplXG4gICAgICovXG4gICAgbm9ybWFsaXplKGdsdGYsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5qc29uID0gZ2x0Zi5qc29uO1xuICAgICAgICBjb25zdCBqc29uID0gZ2x0Zi5qc29uO1xuICAgICAgICAvLyBDaGVjayB2ZXJzaW9uXG4gICAgICAgIHN3aXRjaCAoanNvbi5hc3NldCAmJiBqc29uLmFzc2V0LnZlcnNpb24pIHtcbiAgICAgICAgICAgIC8vIFdlIGFyZSBjb252ZXJ0aW5nIHRvIHYyIGZvcm1hdC4gUmV0dXJuIGlmIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgIGNhc2UgJzIuMCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gVGhpcyBjbGFzcyBpcyB3cml0dGVuIHRvIGNvbnZlcnQgMS4wXG4gICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIGNhc2UgJzEuMCc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZiwgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgZ2xURjogVW5rbm93biB2ZXJzaW9uICR7anNvbi5hc3NldC52ZXJzaW9ufWApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbnMubm9ybWFsaXplKSB7XG4gICAgICAgICAgICAvLyBXZSBhcmUgc3RpbGwgbWlzc2luZyBhIGZldyBjb252ZXJzaW9uIHRyaWNrcywgcmVtb3ZlIG9uY2UgYWRkcmVzc2VkXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dsVEYgdjEgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYsIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCdDb252ZXJ0aW5nIGdsVEYgdjEgdG8gZ2xURiB2MiBmb3JtYXQuIFRoaXMgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgZmFpbC4nKTtcbiAgICAgICAgdGhpcy5fYWRkQXNzZXQoanNvbik7XG4gICAgICAgIC8vIEluIGdsVEYyIHRvcC1sZXZlbCBmaWVsZHMgYXJlIEFycmF5cyBub3QgT2JqZWN0IG1hcHNcbiAgICAgICAgdGhpcy5fY29udmVydFRvcExldmVsT2JqZWN0c1RvQXJyYXlzKGpzb24pO1xuICAgICAgICAvLyBFeHRyYWN0IGJ1ZmZlclZpZXcgaW5kaWNlcyBmb3IgaW1hZ2VzXG4gICAgICAgIC8vICh0aGlzIGV4dGVuc2lvbiBuZWVkcyB0byBiZSBpbnZva2VkIGVhcmx5IGluIHRoZSBub3JtYWxpemF0aW9uIHByb2Nlc3MpXG4gICAgICAgIC8vIFRPRE8gY2FuIHRoaXMgYmUgaGFuZGxlZCBieSBzdGFuZGFyZCBleHRlbnNpb24gcHJvY2Vzc2luZyBpbnN0ZWFkIG9mIGNhbGxlZCBleHBsaWNpdGx5P1xuICAgICAgICBLSFJfYmluYXJ5X2dsVEYucHJlcHJvY2VzcyhnbHRmKTtcbiAgICAgICAgLy8gQ29udmVydCBvYmplY3QgcmVmZXJlbmNlcyBmcm9tIGlkcyB0byBpbmRpY2VzXG4gICAgICAgIHRoaXMuX2NvbnZlcnRPYmplY3RJZHNUb0FycmF5SW5kaWNlcyhqc29uKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0cyhqc29uKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTWF0ZXJpYWwoanNvbik7XG4gICAgfVxuICAgIC8vIGFzc2V0IGlzIG5vdyByZXF1aXJlZCwgIzY0MiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvaXNzdWVzLzYzOVxuICAgIF9hZGRBc3NldChqc29uKSB7XG4gICAgICAgIGpzb24uYXNzZXQgPSBqc29uLmFzc2V0IHx8IHt9O1xuICAgICAgICAvLyBXZSBhcmUgbm9ybWFsaXppbmcgdG8gZ2xURiB2Miwgc28gY2hhbmdlIHZlcnNpb24gdG8gXCIyLjBcIlxuICAgICAgICBqc29uLmFzc2V0LnZlcnNpb24gPSAnMi4wJztcbiAgICAgICAganNvbi5hc3NldC5nZW5lcmF0b3IgPSBqc29uLmFzc2V0LmdlbmVyYXRvciB8fCAnTm9ybWFsaXplZCB0byBnbFRGIDIuMCBieSBsb2FkZXJzLmdsJztcbiAgICB9XG4gICAgX2NvbnZlcnRUb3BMZXZlbE9iamVjdHNUb0FycmF5cyhqc29uKSB7XG4gICAgICAgIC8vIFRPRE8gY2hlY2sgdGhhdCBhbGwgYXJyYXlzIGFyZSBjb3ZlcmVkXG4gICAgICAgIGZvciAoY29uc3QgYXJyYXlOYW1lIGluIEdMVEZfQVJSQVlTKSB7XG4gICAgICAgICAgICB0aGlzLl9jb252ZXJ0VG9wTGV2ZWxPYmplY3RUb0FycmF5KGpzb24sIGFycmF5TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIENvbnZlcnQgb25lIHRvcCBsZXZlbCBvYmplY3QgdG8gYXJyYXkgKi9cbiAgICBfY29udmVydFRvcExldmVsT2JqZWN0VG9BcnJheShqc29uLCBtYXBOYW1lKSB7XG4gICAgICAgIGNvbnN0IG9iamVjdE1hcCA9IGpzb25bbWFwTmFtZV07XG4gICAgICAgIGlmICghb2JqZWN0TWFwIHx8IEFycmF5LmlzQXJyYXkob2JqZWN0TWFwKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJld3JpdGUgdGhlIHRvcC1sZXZlbCBmaWVsZCBhcyBhbiBhcnJheVxuICAgICAgICBqc29uW21hcE5hbWVdID0gW107XG4gICAgICAgIC8vIENvcHkgdGhlIG1hcCBrZXkgaW50byBvYmplY3QuaWRcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBvYmplY3RNYXApIHtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdCA9IG9iamVjdE1hcFtpZF07XG4gICAgICAgICAgICBvYmplY3QuaWQgPSBvYmplY3QuaWQgfHwgaWQ7IC8vIE11dGF0ZXMgdGhlIGxvYWRlZCBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0ganNvblttYXBOYW1lXS5sZW5ndGg7XG4gICAgICAgICAgICBqc29uW21hcE5hbWVdLnB1c2gob2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuaWRUb0luZGV4TWFwW21hcE5hbWVdW2lkXSA9IGluZGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBHbyB0aHJvdWdoIGFsbCBvYmplY3RzIGluIGFsbCB0b3AtbGV2ZWwgYXJyYXlzIGFuZCByZXBsYWNlIGlkcyB3aXRoIGluZGljZXMgKi9cbiAgICBfY29udmVydE9iamVjdElkc1RvQXJyYXlJbmRpY2VzKGpzb24pIHtcbiAgICAgICAgZm9yIChjb25zdCBhcnJheU5hbWUgaW4gR0xURl9BUlJBWVMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnZlcnRJZHNUb0luZGljZXMoanNvbiwgYXJyYXlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3NjZW5lJyBpbiBqc29uKSB7XG4gICAgICAgICAgICBqc29uLnNjZW5lID0gdGhpcy5fY29udmVydElkVG9JbmRleChqc29uLnNjZW5lLCAnc2NlbmUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb252ZXJ0IGFueSBpbmRleCByZWZlcmVuY2VzIHRoYXQgYXJlIG5vdCB1c2luZyBhcnJheSBuYW1lc1xuICAgICAgICAvLyB0ZXh0dXJlLnNvdXJjZSAoaW1hZ2UpXG4gICAgICAgIGZvciAoY29uc3QgdGV4dHVyZSBvZiBqc29uLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLl9jb252ZXJ0VGV4dHVyZUlkcyh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG1lc2ggb2YganNvbi5tZXNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnZlcnRNZXNoSWRzKG1lc2gpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBqc29uLm5vZGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9jb252ZXJ0Tm9kZUlkcyhub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YganNvbi5zY2VuZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnZlcnRTY2VuZUlkcyhub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29udmVydFRleHR1cmVJZHModGV4dHVyZSkge1xuICAgICAgICBpZiAodGV4dHVyZS5zb3VyY2UpIHtcbiAgICAgICAgICAgIHRleHR1cmUuc291cmNlID0gdGhpcy5fY29udmVydElkVG9JbmRleCh0ZXh0dXJlLnNvdXJjZSwgJ2ltYWdlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NvbnZlcnRNZXNoSWRzKG1lc2gpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmltaXRpdmUgb2YgbWVzaC5wcmltaXRpdmVzKSB7XG4gICAgICAgICAgICBjb25zdCB7IGF0dHJpYnV0ZXMsIGluZGljZXMsIG1hdGVyaWFsIH0gPSBwcmltaXRpdmU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPSB0aGlzLl9jb252ZXJ0SWRUb0luZGV4KGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0sICdhY2Nlc3NvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGljZXMpIHtcbiAgICAgICAgICAgICAgICBwcmltaXRpdmUuaW5kaWNlcyA9IHRoaXMuX2NvbnZlcnRJZFRvSW5kZXgoaW5kaWNlcywgJ2FjY2Vzc29yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICBwcmltaXRpdmUubWF0ZXJpYWwgPSB0aGlzLl9jb252ZXJ0SWRUb0luZGV4KG1hdGVyaWFsLCAnbWF0ZXJpYWwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29udmVydE5vZGVJZHMobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gdGhpcy5fY29udmVydElkVG9JbmRleChjaGlsZCwgJ25vZGUnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUubWVzaGVzKSB7XG4gICAgICAgICAgICBub2RlLm1lc2hlcyA9IG5vZGUubWVzaGVzLm1hcCgobWVzaCkgPT4gdGhpcy5fY29udmVydElkVG9JbmRleChtZXNoLCAnbWVzaCcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29udmVydFNjZW5lSWRzKHNjZW5lKSB7XG4gICAgICAgIGlmIChzY2VuZS5ub2Rlcykge1xuICAgICAgICAgICAgc2NlbmUubm9kZXMgPSBzY2VuZS5ub2Rlcy5tYXAoKG5vZGUpID0+IHRoaXMuX2NvbnZlcnRJZFRvSW5kZXgobm9kZSwgJ25vZGUnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEdvIHRocm91Z2ggYWxsIG9iamVjdHMgaW4gYSB0b3AtbGV2ZWwgYXJyYXkgYW5kIHJlcGxhY2UgaWRzIHdpdGggaW5kaWNlcyAqL1xuICAgIF9jb252ZXJ0SWRzVG9JbmRpY2VzKGpzb24sIHRvcExldmVsQXJyYXlOYW1lKSB7XG4gICAgICAgIGlmICghanNvblt0b3BMZXZlbEFycmF5TmFtZV0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgZ2x0ZiB2MToganNvbiBkb2Vzbid0IGNvbnRhaW4gYXR0cmlidXRlICR7dG9wTGV2ZWxBcnJheU5hbWV9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZSwgbm8tdW5kZWZcbiAgICAgICAgICAgIGpzb25bdG9wTGV2ZWxBcnJheU5hbWVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBvYmplY3Qgb2YganNvblt0b3BMZXZlbEFycmF5TmFtZV0pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9jb252ZXJ0SWRUb0luZGV4KGlkLCBrZXkpO1xuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NvbnZlcnRJZFRvSW5kZXgoaWQsIGtleSkge1xuICAgICAgICBjb25zdCBhcnJheU5hbWUgPSBHTFRGX0tFWVNba2V5XTtcbiAgICAgICAgaWYgKGFycmF5TmFtZSBpbiB0aGlzLmlkVG9JbmRleE1hcCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmlkVG9JbmRleE1hcFthcnJheU5hbWVdW2lkXTtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGluZGV4KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZ2x0ZiB2MTogZmFpbGVkIHRvIHJlc29sdmUgJHtrZXl9IHdpdGggaWQgJHtpZH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBqc29uXG4gICAgICovXG4gICAgX3VwZGF0ZU9iamVjdHMoanNvbikge1xuICAgICAgICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiB0aGlzLmpzb24uYnVmZmVycykge1xuICAgICAgICAgICAgLy8gLSBbeF0gUmVtb3ZlZCBidWZmZXIudHlwZSwgIzc4NiwgIzYyOVxuICAgICAgICAgICAgZGVsZXRlIGJ1ZmZlci50eXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBtYXRlcmlhbCAoc2V0IHBick1ldGFsbGljUm91Z2huZXNzKVxuICAgICAqIEBwYXJhbSB7Kn0ganNvblxuICAgICAqL1xuICAgIF91cGRhdGVNYXRlcmlhbChqc29uKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YganNvbi5tYXRlcmlhbHMpIHtcbiAgICAgICAgICAgIG1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzID0ge1xuICAgICAgICAgICAgICAgIGJhc2VDb2xvckZhY3RvcjogWzEsIDEsIDEsIDFdLFxuICAgICAgICAgICAgICAgIG1ldGFsbGljRmFjdG9yOiAxLFxuICAgICAgICAgICAgICAgIHJvdWdobmVzc0ZhY3RvcjogMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVJZCA9IG1hdGVyaWFsLnZhbHVlcz8udGV4IHx8IG1hdGVyaWFsLnZhbHVlcz8udGV4dHVyZTJkXzAgfHwgbWF0ZXJpYWwudmFsdWVzPy5kaWZmdXNlVGV4O1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZUluZGV4ID0ganNvbi50ZXh0dXJlcy5maW5kSW5kZXgoKHRleHR1cmUpID0+IHRleHR1cmUuaWQgPT09IHRleHR1cmVJZCk7XG4gICAgICAgICAgICBpZiAodGV4dHVyZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgPSB7IGluZGV4OiB0ZXh0dXJlSW5kZXggfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVHTFRGVjEoZ2x0Ziwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyBHTFRGVjFOb3JtYWxpemVyKCkubm9ybWFsaXplKGdsdGYsIG9wdGlvbnMpO1xufVxuIiwiaW1wb3J0IHsgcGFyc2VKU09OLCBzbGljZUFycmF5QnVmZmVyLCBwYXJzZUZyb21Db250ZXh0IH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IEltYWdlTG9hZGVyIH0gZnJvbSAnQGxvYWRlcnMuZ2wvaW1hZ2VzJztcbmltcG9ydCB7IEJhc2lzTG9hZGVyLCBzZWxlY3RTdXBwb3J0ZWRCYXNpc0Zvcm1hdCB9IGZyb20gJ0Bsb2FkZXJzLmdsL3RleHR1cmVzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlscy9hc3NlcnQuanNcIjtcbmltcG9ydCB7IGlzR0xCLCBwYXJzZUdMQlN5bmMgfSBmcm9tIFwiLi9wYXJzZS1nbGIuanNcIjtcbmltcG9ydCB7IHJlc29sdmVVcmwgfSBmcm9tIFwiLi4vZ2x0Zi11dGlscy9yZXNvbHZlLXVybC5qc1wiO1xuaW1wb3J0IHsgZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcgfSBmcm9tIFwiLi4vZ2x0Zi11dGlscy9nZXQtdHlwZWQtYXJyYXkuanNcIjtcbmltcG9ydCB7IHByZXByb2Nlc3NFeHRlbnNpb25zLCBkZWNvZGVFeHRlbnNpb25zIH0gZnJvbSBcIi4uL2FwaS9nbHRmLWV4dGVuc2lvbnMuanNcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUdMVEZWMSB9IGZyb20gXCIuLi9hcGkvbm9ybWFsaXplLWdsdGYtdjEuanNcIjtcbi8qKiBDaGVjayBpZiBhbiBhcnJheSBidWZmZXIgYXBwZWFycyB0byBjb250YWluIEdMVEYgZGF0YSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzR0xURihhcnJheUJ1ZmZlciwgb3B0aW9ucykge1xuICAgIGNvbnN0IGJ5dGVPZmZzZXQgPSAwO1xuICAgIHJldHVybiBpc0dMQihhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgb3B0aW9ucyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VHTFRGKGdsdGYsIGFycmF5QnVmZmVyT3JTdHJpbmcsIGJ5dGVPZmZzZXQgPSAwLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgcGFyc2VHTFRGQ29udGFpbmVyU3luYyhnbHRmLCBhcnJheUJ1ZmZlck9yU3RyaW5nLCBieXRlT2Zmc2V0LCBvcHRpb25zKTtcbiAgICBub3JtYWxpemVHTFRGVjEoZ2x0ZiwgeyBub3JtYWxpemU6IG9wdGlvbnM/LmdsdGY/Lm5vcm1hbGl6ZSB9KTtcbiAgICBwcmVwcm9jZXNzRXh0ZW5zaW9ucyhnbHRmLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICAvLyBMb2FkIGxpbmtlZCBidWZmZXJzIGFzeW5jaHJvbm91c2x5IGFuZCBkZWNvZGVzIGJhc2U2NCBidWZmZXJzIGluIHBhcmFsbGVsXG4gICAgaWYgKG9wdGlvbnM/LmdsdGY/LmxvYWRCdWZmZXJzICYmIGdsdGYuanNvbi5idWZmZXJzKSB7XG4gICAgICAgIGF3YWl0IGxvYWRCdWZmZXJzKGdsdGYsIG9wdGlvbnMsIGNvbnRleHQpO1xuICAgIH1cbiAgICAvLyBsb2FkSW1hZ2VzIGFuZCBkZWNvZGVFeHRlbnNpb25zIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBwYXJhbGxlbCwgYmVjYXVzZVxuICAgIC8vIGRlY29kZUV4dGVuc2lvbnMgdXNlcyBkYXRhIGZyb20gaW1hZ2VzIHRha2VuIGR1cmluZyB0aGUgbG9hZEltYWdlcyBjYWxsLlxuICAgIGlmIChvcHRpb25zPy5nbHRmPy5sb2FkSW1hZ2VzKSB7XG4gICAgICAgIGF3YWl0IGxvYWRJbWFnZXMoZ2x0Ziwgb3B0aW9ucywgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGRlY29kZUV4dGVuc2lvbnMoZ2x0Ziwgb3B0aW9ucywgY29udGV4dCk7XG4gICAgcmV0dXJuIGdsdGY7XG59XG4vKipcbiAqXG4gKiBAcGFyYW0gZ2x0ZlxuICogQHBhcmFtIGRhdGEgLSBjYW4gYmUgQXJyYXlCdWZmZXIgKEdMQiksIEFycmF5QnVmZmVyIChCaW5hcnkgSlNPTiksIFN0cmluZyAoSlNPTiksIG9yIE9iamVjdCAocGFyc2VkIEpTT04pXG4gKiBAcGFyYW0gYnl0ZU9mZnNldFxuICogQHBhcmFtIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gcGFyc2VHTFRGQ29udGFpbmVyU3luYyhnbHRmLCBkYXRhLCBieXRlT2Zmc2V0LCBvcHRpb25zKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBnbHRmIGNvbnRhaW5lclxuICAgIGlmIChvcHRpb25zLnVyaSkge1xuICAgICAgICBnbHRmLmJhc2VVcmkgPSBvcHRpb25zLnVyaTtcbiAgICB9XG4gICAgLy8gSWYgZGF0YSBpcyBiaW5hcnkgYW5kIHN0YXJ0aW5nIHdpdGggbWFnaWMgYnl0ZXMsIGFzc3VtZSBiaW5hcnkgSlNPTiB0ZXh0LCBjb252ZXJ0IHRvIHN0cmluZ1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgJiYgIWlzR0xCKGRhdGEsIGJ5dGVPZmZzZXQsIG9wdGlvbnMpKSB7XG4gICAgICAgIGNvbnN0IHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICAgIGRhdGEgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoZGF0YSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSWYgc3RyaW5nLCB0cnkgdG8gcGFyc2UgYXMgSlNPTlxuICAgICAgICBnbHRmLmpzb24gPSBwYXJzZUpTT04oZGF0YSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAvLyBJZiBzdGlsbCBBcnJheUJ1ZmZlciwgcGFyc2UgYXMgR0xCIGNvbnRhaW5lclxuICAgICAgICBjb25zdCBnbGIgPSB7fTtcbiAgICAgICAgYnl0ZU9mZnNldCA9IHBhcnNlR0xCU3luYyhnbGIsIGRhdGEsIGJ5dGVPZmZzZXQsIG9wdGlvbnMuZ2xiKTtcbiAgICAgICAgYXNzZXJ0KGdsYi50eXBlID09PSAnZ2xURicsIGBJbnZhbGlkIEdMQiBtYWdpYyBzdHJpbmcgJHtnbGIudHlwZX1gKTtcbiAgICAgICAgZ2x0Zi5fZ2xiID0gZ2xiO1xuICAgICAgICBnbHRmLmpzb24gPSBnbGIuanNvbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2VydChmYWxzZSwgJ0dMVEY6IG11c3QgYmUgQXJyYXlCdWZmZXIgb3Igc3RyaW5nJyk7XG4gICAgfVxuICAgIC8vIFBvcHVsYXRlIGJ1ZmZlcnNcbiAgICAvLyBDcmVhdGUgYW4gZXh0ZXJuYWwgYnVmZmVycyBhcnJheSB0byBob2xkIGJpbmFyeSBkYXRhXG4gICAgY29uc3QgYnVmZmVycyA9IGdsdGYuanNvbi5idWZmZXJzIHx8IFtdO1xuICAgIGdsdGYuYnVmZmVycyA9IG5ldyBBcnJheShidWZmZXJzLmxlbmd0aCkuZmlsbChudWxsKTtcbiAgICAvLyBQb3B1bGF0ZXMgSlNPTiBhbmQgc29tZSBiaW4gY2h1bmsgaW5mb1xuICAgIGlmIChnbHRmLl9nbGIgJiYgZ2x0Zi5fZ2xiLmhlYWRlci5oYXNCaW5DaHVuaykge1xuICAgICAgICBjb25zdCB7IGJpbkNodW5rcyB9ID0gZ2x0Zi5fZ2xiO1xuICAgICAgICBnbHRmLmJ1ZmZlcnNbMF0gPSB7XG4gICAgICAgICAgICBhcnJheUJ1ZmZlcjogYmluQ2h1bmtzWzBdLmFycmF5QnVmZmVyLFxuICAgICAgICAgICAgYnl0ZU9mZnNldDogYmluQ2h1bmtzWzBdLmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICBieXRlTGVuZ3RoOiBiaW5DaHVua3NbMF0uYnl0ZUxlbmd0aFxuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPIC0gdGhpcyBtb2RpZmllcyBKU09OIGFuZCBpcyBhIHBvc3QgcHJvY2Vzc2luZyB0aGluZ1xuICAgICAgICAvLyBnbHRmLmpzb24uYnVmZmVyc1swXS5kYXRhID0gZ2x0Zi5idWZmZXJzWzBdLmFycmF5QnVmZmVyO1xuICAgICAgICAvLyBnbHRmLmpzb24uYnVmZmVyc1swXS5ieXRlT2Zmc2V0ID0gZ2x0Zi5idWZmZXJzWzBdLmJ5dGVPZmZzZXQ7XG4gICAgfVxuICAgIC8vIFBvcHVsYXRlIGltYWdlc1xuICAgIGNvbnN0IGltYWdlcyA9IGdsdGYuanNvbi5pbWFnZXMgfHwgW107XG4gICAgZ2x0Zi5pbWFnZXMgPSBuZXcgQXJyYXkoaW1hZ2VzLmxlbmd0aCkuZmlsbCh7fSk7XG59XG4vKiogQXN5bmNocm9ub3VzbHkgZmV0Y2ggYW5kIHBhcnNlIGJ1ZmZlcnMsIHN0b3JlIGluIGJ1ZmZlcnMgYXJyYXkgb3V0c2lkZSBvZiBqc29uXG4gKiBUT0RPIC0gdHJhdmVyc2UgZ2x0ZiBhbmQgZGV0ZXJtaW5lIHdoaWNoIGJ1ZmZlcnMgYXJlIGFjdHVhbGx5IG5lZWRlZFxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkQnVmZmVycyhnbHRmLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgLy8gVE9ET1xuICAgIGNvbnN0IGJ1ZmZlcnMgPSBnbHRmLmpzb24uYnVmZmVycyB8fCBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gYnVmZmVyc1tpXTtcbiAgICAgICAgaWYgKGJ1ZmZlci51cmkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZmV0Y2ggfSA9IGNvbnRleHQ7XG4gICAgICAgICAgICBhc3NlcnQoZmV0Y2gpO1xuICAgICAgICAgICAgY29uc3QgdXJpID0gcmVzb2x2ZVVybChidWZmZXIudXJpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY29udGV4dD8uZmV0Y2g/Lih1cmkpO1xuICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCByZXNwb25zZT8uYXJyYXlCdWZmZXI/LigpO1xuICAgICAgICAgICAgZ2x0Zi5idWZmZXJzW2ldID0ge1xuICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyLFxuICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aDogYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlbGV0ZSBidWZmZXIudXJpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdsdGYuYnVmZmVyc1tpXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZ2x0Zi5idWZmZXJzW2ldID0ge1xuICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyOiBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyLmJ5dGVMZW5ndGgpLFxuICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aDogYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIExvYWRzIGFsbCBpbWFnZXNcbiAqIFRPRE8gLSB0cmF2ZXJzZSBnbHRmIGFuZCBkZXRlcm1pbmUgd2hpY2ggaW1hZ2VzIGFyZSBhY3R1YWxseSBuZWVkZWRcbiAqIEBwYXJhbSBnbHRmXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGNvbnRleHRcbiAqIEByZXR1cm5zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZXMoZ2x0Ziwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGNvbnN0IGltYWdlSW5kaWNlcyA9IGdldFJlZmVyZW5jZXNJbWFnZUluZGljZXMoZ2x0Zik7XG4gICAgY29uc3QgaW1hZ2VzID0gZ2x0Zi5qc29uLmltYWdlcyB8fCBbXTtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgaW1hZ2VJbmRleCBvZiBpbWFnZUluZGljZXMpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChsb2FkSW1hZ2UoZ2x0ZiwgaW1hZ2VzW2ltYWdlSW5kZXhdLCBpbWFnZUluZGV4LCBvcHRpb25zLCBjb250ZXh0KSk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59XG4vKiogTWFrZSBzdXJlIHdlIG9ubHkgbG9hZCBpbWFnZXMgdGhhdCBhcmUgYWN0dWFsbHkgcmVmZXJlbmNlZCBieSB0ZXh0dXJlcyAqL1xuZnVuY3Rpb24gZ2V0UmVmZXJlbmNlc0ltYWdlSW5kaWNlcyhnbHRmKSB7XG4gICAgY29uc3QgaW1hZ2VJbmRpY2VzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHRleHR1cmVzID0gZ2x0Zi5qc29uLnRleHR1cmVzIHx8IFtdO1xuICAgIGZvciAoY29uc3QgdGV4dHVyZSBvZiB0ZXh0dXJlcykge1xuICAgICAgICBpZiAodGV4dHVyZS5zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW1hZ2VJbmRpY2VzLmFkZCh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20oaW1hZ2VJbmRpY2VzKS5zb3J0KCk7XG59XG4vKiogQXN5bmNocm9ub3VzbHkgZmV0Y2hlcyBhbmQgcGFyc2VzIG9uZSBpbWFnZSwgc3RvcmUgaW4gaW1hZ2VzIGFycmF5IG91dHNpZGUgb2YganNvbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlKGdsdGYsIGltYWdlLCBpbmRleCwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGxldCBhcnJheUJ1ZmZlcjtcbiAgICBpZiAoaW1hZ2UudXJpICYmICFpbWFnZS5oYXNPd25Qcm9wZXJ0eSgnYnVmZmVyVmlldycpKSB7XG4gICAgICAgIGNvbnN0IHVyaSA9IHJlc29sdmVVcmwoaW1hZ2UudXJpLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgeyBmZXRjaCB9ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmkpO1xuICAgICAgICBhcnJheUJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIGltYWdlLmJ1ZmZlclZpZXcgPSB7XG4gICAgICAgICAgICBkYXRhOiBhcnJheUJ1ZmZlclxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGltYWdlLmJ1ZmZlclZpZXcpKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcoZ2x0Zi5qc29uLCBnbHRmLmJ1ZmZlcnMsIGltYWdlLmJ1ZmZlclZpZXcpO1xuICAgICAgICBhcnJheUJ1ZmZlciA9IHNsaWNlQXJyYXlCdWZmZXIoYXJyYXkuYnVmZmVyLCBhcnJheS5ieXRlT2Zmc2V0LCBhcnJheS5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgYXNzZXJ0KGFycmF5QnVmZmVyLCAnZ2xURiBpbWFnZSBoYXMgbm8gZGF0YScpO1xuICAgIC8vIENhbGwgYHBhcnNlYFxuICAgIGxldCBwYXJzZWRJbWFnZSA9IChhd2FpdCBwYXJzZUZyb21Db250ZXh0KGFycmF5QnVmZmVyLCBbSW1hZ2VMb2FkZXIsIEJhc2lzTG9hZGVyXSwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBtaW1lVHlwZTogaW1hZ2UubWltZVR5cGUsXG4gICAgICAgIGJhc2lzOiBvcHRpb25zLmJhc2lzIHx8IHsgZm9ybWF0OiBzZWxlY3RTdXBwb3J0ZWRCYXNpc0Zvcm1hdCgpIH1cbiAgICB9LCBjb250ZXh0KSk7XG4gICAgaWYgKHBhcnNlZEltYWdlICYmIHBhcnNlZEltYWdlWzBdKSB7XG4gICAgICAgIHBhcnNlZEltYWdlID0ge1xuICAgICAgICAgICAgY29tcHJlc3NlZDogdHJ1ZSxcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIG1pcG1hcHM6IGZhbHNlLFxuICAgICAgICAgICAgd2lkdGg6IHBhcnNlZEltYWdlWzBdLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZWRJbWFnZVswXS5oZWlnaHQsXG4gICAgICAgICAgICBkYXRhOiBwYXJzZWRJbWFnZVswXVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBUT0RPIG1ha2luZyBzdXJlIEltYWdlTG9hZGVyIGlzIG92ZXJyaWRhYmxlIGJ5IHVzaW5nIGFycmF5IG9mIGxvYWRlcnNcbiAgICAvLyBjb25zdCBwYXJzZWRJbWFnZSA9IGF3YWl0IHBhcnNlKGFycmF5QnVmZmVyLCBbSW1hZ2VMb2FkZXJdKTtcbiAgICAvLyBTdG9yZSB0aGUgbG9hZGVkIGltYWdlXG4gICAgZ2x0Zi5pbWFnZXMgPSBnbHRmLmltYWdlcyB8fCBbXTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gLSBzb3J0IG91dCBpbWFnZSB0eXBpbmcgYXNhcFxuICAgIGdsdGYuaW1hZ2VzW2luZGV4XSA9IHBhcnNlZEltYWdlO1xufVxuIiwiaW1wb3J0IHsgZ2V0Rmlyc3RDaGFyYWN0ZXJzIH0gZnJvbSBcIi4uL2JpbmFyeS11dGlscy9nZXQtZmlyc3QtY2hhcmFjdGVycy5qc1wiO1xuLyoqXG4gKiBNaW5pbWFsIEpTT04gcGFyc2VyIHRoYXQgdGhyb3dzIG1vcmUgbWVhbmluZ2Z1bCBlcnJvciBtZXNzYWdlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKU09OKHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cmluZyk7XG4gICAgfVxuICAgIGNhdGNoIChfKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIEpTT04gZnJvbSBkYXRhIHN0YXJ0aW5nIHdpdGggXCIke2dldEZpcnN0Q2hhcmFjdGVycyhzdHJpbmcpfVwiYCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuL2xpYi91dGlscy92ZXJzaW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUdMVEYgfSBmcm9tIFwiLi9saWIvcGFyc2Vycy9wYXJzZS1nbHRmLmpzXCI7XG4vKipcbiAqIEdMVEYgbG9hZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBHTFRGTG9hZGVyID0ge1xuICAgIGRhdGFUeXBlOiBudWxsLFxuICAgIGJhdGNoVHlwZTogbnVsbCxcbiAgICBuYW1lOiAnZ2xURicsXG4gICAgaWQ6ICdnbHRmJyxcbiAgICBtb2R1bGU6ICdnbHRmJyxcbiAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgIGV4dGVuc2lvbnM6IFsnZ2x0ZicsICdnbGInXSxcbiAgICBtaW1lVHlwZXM6IFsnbW9kZWwvZ2x0Zitqc29uJywgJ21vZGVsL2dsdGYtYmluYXJ5J10sXG4gICAgdGV4dDogdHJ1ZSxcbiAgICBiaW5hcnk6IHRydWUsXG4gICAgdGVzdHM6IFsnZ2xURiddLFxuICAgIHBhcnNlLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZ2x0Zjoge1xuICAgICAgICAgICAgbm9ybWFsaXplOiB0cnVlLCAvLyBOb3JtYWxpemUgZ2xURiB2MSB0byBnbFRGIHYyIGZvcm1hdCAobm90IHlldCBzdGFibGUpXG4gICAgICAgICAgICBsb2FkQnVmZmVyczogdHJ1ZSwgLy8gRmV0Y2ggYW55IGxpbmtlZCAuQklOIGJ1ZmZlcnMsIGRlY29kZSBiYXNlNjRcbiAgICAgICAgICAgIGxvYWRJbWFnZXM6IHRydWUsIC8vIENyZWF0ZSBpbWFnZSBvYmplY3RzXG4gICAgICAgICAgICBkZWNvbXByZXNzTWVzaGVzOiB0cnVlIC8vIERlY29tcHJlc3MgRHJhY28gZW5jb2RlZCBtZXNoZXNcbiAgICAgICAgfSxcbiAgICAgICAgLy8gY29tbW9uP1xuICAgICAgICBsb2c6IGNvbnNvbGUgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cbn07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2UoYXJyYXlCdWZmZXIsIG9wdGlvbnMgPSB7fSwgY29udGV4dCkge1xuICAgIC8vIEFwcHMgY2FuIGNhbGwgdGhlIHBhcnNlIG1ldGhvZCBkaXJlY3RseSwgd2Ugc28gYXBwbHkgZGVmYXVsdCBvcHRpb25zIGhlcmVcbiAgICBvcHRpb25zID0geyAuLi5HTFRGTG9hZGVyLm9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgb3B0aW9ucy5nbHRmID0geyAuLi5HTFRGTG9hZGVyLm9wdGlvbnMuZ2x0ZiwgLi4ub3B0aW9ucy5nbHRmIH07XG4gICAgY29uc3QgeyBieXRlT2Zmc2V0ID0gMCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBnbHRmID0ge307XG4gICAgcmV0dXJuIGF3YWl0IHBhcnNlR0xURihnbHRmLCBhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgb3B0aW9ucywgY29udGV4dCk7XG59XG4iLCIvLyBWZXJzaW9uIGNvbnN0YW50IGNhbm5vdCBiZSBpbXBvcnRlZCwgaXQgbmVlZHMgdG8gY29ycmVzcG9uZCB0byB0aGUgYnVpbGQgdmVyc2lvbiBvZiAqKnRoaXMqKiBtb2R1bGUuXG4vLyBfX1ZFUlNJT05fXyBpcyBpbmplY3RlZCBieSBiYWJlbC1wbHVnaW4tdmVyc2lvbi1pbmxpbmVcbi8vIEB0cy1pZ25vcmUgVFMyMzA0OiBDYW5ub3QgZmluZCBuYW1lICdfX1ZFUlNJT05fXycuXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9IHR5cGVvZiBcIjQuMy4zXCIgIT09ICd1bmRlZmluZWQnID8gXCI0LjMuM1wiIDogJ2xhdGVzdCc7XG4iLCIvKipcbiAqIGNvbXBhcmUgdHdvIGJpbmFyeSBhcnJheXMgZm9yIGVxdWFsaXR5XG4gKiBAcGFyYW0gYVxuICogQHBhcmFtIGJcbiAqIEBwYXJhbSBieXRlTGVuZ3RoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlQXJyYXlCdWZmZXJzKGFycmF5QnVmZmVyMSwgYXJyYXlCdWZmZXIyLCBieXRlTGVuZ3RoKSB7XG4gICAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfHwgYXJyYXlCdWZmZXIxLmJ5dGVMZW5ndGg7XG4gICAgaWYgKGFycmF5QnVmZmVyMS5ieXRlTGVuZ3RoIDwgYnl0ZUxlbmd0aCB8fCBhcnJheUJ1ZmZlcjIuYnl0ZUxlbmd0aCA8IGJ5dGVMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBhcnJheTEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcjEpO1xuICAgIGNvbnN0IGFycmF5MiA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyMik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIENvbmNhdGVuYXRlIGEgc2VxdWVuY2Ugb2YgQXJyYXlCdWZmZXJzIGZyb20gYXJndW1lbnRzXG4gKiBAcmV0dXJuIEEgY29uY2F0ZW5hdGVkIEFycmF5QnVmZmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyguLi5zb3VyY2VzKSB7XG4gICAgcmV0dXJuIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzRnJvbUFycmF5KHNvdXJjZXMpO1xufVxuLyoqXG4gKiBDb25jYXRlbmF0ZSBhIHNlcXVlbmNlIG9mIEFycmF5QnVmZmVycyBmcm9tIGFycmF5XG4gKiBAcmV0dXJuIEEgY29uY2F0ZW5hdGVkIEFycmF5QnVmZmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRlbmF0ZUFycmF5QnVmZmVyc0Zyb21BcnJheShzb3VyY2VzKSB7XG4gICAgLy8gTWFrZSBzdXJlIGFsbCBpbnB1dHMgYXJlIHdyYXBwZWQgaW4gdHlwZWQgYXJyYXlzXG4gICAgY29uc3Qgc291cmNlQXJyYXlzID0gc291cmNlcy5tYXAoKHNvdXJjZTIpID0+IHNvdXJjZTIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBVaW50OEFycmF5KHNvdXJjZTIpIDogc291cmNlMik7XG4gICAgLy8gR2V0IGxlbmd0aCBvZiBhbGwgaW5wdXRzXG4gICAgY29uc3QgYnl0ZUxlbmd0aCA9IHNvdXJjZUFycmF5cy5yZWR1Y2UoKGxlbmd0aCwgdHlwZWRBcnJheSkgPT4gbGVuZ3RoICsgdHlwZWRBcnJheS5ieXRlTGVuZ3RoLCAwKTtcbiAgICAvLyBBbGxvY2F0ZSBhcnJheSB3aXRoIHNwYWNlIGZvciBhbGwgaW5wdXRzXG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZUxlbmd0aCk7XG4gICAgLy8gQ29weSB0aGUgc3ViYXJyYXlzXG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChjb25zdCBzb3VyY2VBcnJheSBvZiBzb3VyY2VBcnJheXMpIHtcbiAgICAgICAgcmVzdWx0LnNldChzb3VyY2VBcnJheSwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IHNvdXJjZUFycmF5LmJ5dGVMZW5ndGg7XG4gICAgfVxuICAgIC8vIFdlIHdvcmsgd2l0aCBBcnJheUJ1ZmZlcnMsIGRpc2NhcmQgdGhlIHR5cGVkIGFycmF5IHdyYXBwZXJcbiAgICByZXR1cm4gcmVzdWx0LmJ1ZmZlcjtcbn1cbi8qKlxuICogQ29uY2F0ZW5hdGUgYXJiaXRyYXJ5IGNvdW50IG9mIHR5cGVkIGFycmF5c1xuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9UeXBlZF9hcnJheXNcbiAqIEBwYXJhbSAtIGxpc3Qgb2YgYXJyYXlzLiBBbGwgYXJyYXlzIHNob3VsZCBiZSB0aGUgc2FtZSB0eXBlXG4gKiBAcmV0dXJuIEEgY29uY2F0ZW5hdGVkIFR5cGVkQXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdGVuYXRlVHlwZWRBcnJheXMoLi4udHlwZWRBcnJheXMpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgYXJyYXlzID0gdHlwZWRBcnJheXM7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IFR5cGVkQXJyYXlDb25zdHJ1Y3RvciA9IChhcnJheXMgJiYgYXJyYXlzLmxlbmd0aCA+IDEgJiYgYXJyYXlzWzBdLmNvbnN0cnVjdG9yKSB8fCBudWxsO1xuICAgIGlmICghVHlwZWRBcnJheUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignXCJjb25jYXRlbmF0ZVR5cGVkQXJyYXlzXCIgLSBpbmNvcnJlY3QgcXVhbnRpdHkgb2YgYXJndW1lbnRzIG9yIGFyZ3VtZW50cyBoYXZlIGluY29tcGF0aWJsZSBkYXRhIHR5cGVzJyk7XG4gICAgfVxuICAgIGNvbnN0IHN1bUxlbmd0aCA9IGFycmF5cy5yZWR1Y2UoKGFjYywgdmFsdWUpID0+IGFjYyArIHZhbHVlLmxlbmd0aCwgMCk7XG4gICAgLy8gQHRzLWlnbm9yZSB0eXBlc2NyaXB0IGRvZXMgbm90IGxpa2UgZHluYW1pYyBjb25zdHJ1Y3RvcnNcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVHlwZWRBcnJheUNvbnN0cnVjdG9yKHN1bUxlbmd0aCk7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChjb25zdCBhcnJheSBvZiBhcnJheXMpIHtcbiAgICAgICAgcmVzdWx0LnNldChhcnJheSwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IGFycmF5Lmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQ29weSBhIHZpZXcgb2YgYW4gQXJyYXlCdWZmZXIgaW50byBuZXcgQXJyYXlCdWZmZXIgd2l0aCBieXRlT2Zmc2V0ID0gMFxuICogQHBhcmFtIGFycmF5QnVmZmVyXG4gKiBAcGFyYW0gYnl0ZU9mZnNldFxuICogQHBhcmFtIGJ5dGVMZW5ndGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNsaWNlQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpIHtcbiAgICBjb25zdCBzdWJBcnJheSA9IGJ5dGVMZW5ndGggIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKS5zdWJhcnJheShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgYnl0ZUxlbmd0aClcbiAgICAgICAgOiBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikuc3ViYXJyYXkoYnl0ZU9mZnNldCk7XG4gICAgY29uc3QgYXJyYXlDb3B5ID0gbmV3IFVpbnQ4QXJyYXkoc3ViQXJyYXkpO1xuICAgIHJldHVybiBhcnJheUNvcHkuYnVmZmVyO1xufVxuIiwiLyoqXG4gKiBUaHJvd3MgYW4gYEVycm9yYCB3aXRoIHRoZSBvcHRpb25hbCBgbWVzc2FnZWAgaWYgYGNvbmRpdGlvbmAgaXMgZmFsc3lcbiAqIEBub3RlIFJlcGxhY2VtZW50IGZvciB0aGUgZXh0ZXJuYWwgYXNzZXJ0IG1ldGhvZCB0byByZWR1Y2UgYnVuZGxlIHNpemVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSB8fCAnbG9hZGVyIGFzc2VydGlvbiBmYWlsZWQuJyk7XG4gICAgfVxufVxuIiwiLy8gUHVycG9zZTogaW5jbHVkZSB0aGlzIGluIHlvdXIgbW9kdWxlIHRvIGF2b2lkXG4vLyBkZXBlbmRlbmNpZXMgb24gbWljcm8gbW9kdWxlcyBsaWtlICdnbG9iYWwnIGFuZCAnaXMtYnJvd3Nlcic7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbmNvbnN0IGdsb2JhbHMgPSB7XG4gICAgc2VsZjogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYsXG4gICAgd2luZG93OiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3csXG4gICAgZ2xvYmFsOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwsXG4gICAgZG9jdW1lbnQ6IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnRcbn07XG5jb25zdCBzZWxmXyA9IGdsb2JhbHMuc2VsZiB8fCBnbG9iYWxzLndpbmRvdyB8fCBnbG9iYWxzLmdsb2JhbCB8fCB7fTtcbmNvbnN0IHdpbmRvd18gPSBnbG9iYWxzLndpbmRvdyB8fCBnbG9iYWxzLnNlbGYgfHwgZ2xvYmFscy5nbG9iYWwgfHwge307XG5jb25zdCBnbG9iYWxfID0gZ2xvYmFscy5nbG9iYWwgfHwgZ2xvYmFscy5zZWxmIHx8IGdsb2JhbHMud2luZG93IHx8IHt9O1xuY29uc3QgZG9jdW1lbnRfID0gZ2xvYmFscy5kb2N1bWVudCB8fCB7fTtcbmV4cG9ydCB7IHNlbGZfIGFzIHNlbGYsIHdpbmRvd18gYXMgd2luZG93LCBnbG9iYWxfIGFzIGdsb2JhbCwgZG9jdW1lbnRfIGFzIGRvY3VtZW50IH07XG4vKiogdHJ1ZSBpZiBydW5uaW5nIGluIGEgYnJvd3NlciAqL1xuZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9IFxuLy8gQHRzLWlnbm9yZSBwcm9jZXNzIGRvZXMgbm90IGV4aXN0IG9uIGJyb3dzZXJcbkJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09ICdvYmplY3QnIHx8IFN0cmluZyhwcm9jZXNzKSAhPT0gJ1tvYmplY3QgcHJvY2Vzc10nIHx8IHByb2Nlc3MuYnJvd3Nlcik7XG4vKiogdHJ1ZSBpZiBydW5uaW5nIGluIGEgd29ya2VyIHRocmVhZCAqL1xuZXhwb3J0IGNvbnN0IGlzV29ya2VyID0gdHlwZW9mIGltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbic7XG4vLyBFeHRyYWN0IG5vZGUgbWFqb3IgdmVyc2lvblxuY29uc3QgbWF0Y2hlcyA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb24gJiYgL3YoWzAtOV0qKS8uZXhlYyhwcm9jZXNzLnZlcnNpb24pO1xuLyoqIE1ham9yIE5vZGUgdmVyc2lvbiAoYXMgYSBudW1iZXIpICovXG5leHBvcnQgY29uc3Qgbm9kZVZlcnNpb24gPSAobWF0Y2hlcyAmJiBwYXJzZUZsb2F0KG1hdGNoZXNbMV0pKSB8fCAwO1xuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBSZXBsYWNlbWVudCBmb3IgdGhlIGV4dGVybmFsIGFzc2VydCBtZXRob2QgdG8gcmVkdWNlIGJ1bmRsZSBzaXplXG4vLyBOb3RlOiBXZSBkb24ndCB1c2UgdGhlIHNlY29uZCBcIm1lc3NhZ2VcIiBhcmd1bWVudCBpbiBjYWxsaW5nIGNvZGUsXG4vLyBzbyBubyBuZWVkIHRvIHN1cHBvcnQgaXQgaGVyZVxuLyoqIFRocm93cyBhbiBgRXJyb3JgIHdpdGggdGhlIG9wdGlvbmFsIGBtZXNzYWdlYCBpZiBgY29uZGl0aW9uYCBpcyBmYWxzeSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSB8fCAnbG9hZGVycy5nbCBhc3NlcnRpb24gZmFpbGVkLicpO1xuICAgIH1cbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gUHVycG9zZTogaW5jbHVkZSB0aGlzIGluIHlvdXIgbW9kdWxlIHRvIGF2b2lkcyBhZGRpbmcgZGVwZW5kZW5jaWVzIG9uXG4vLyBtaWNybyBtb2R1bGVzIGxpa2UgJ2dsb2JhbCcgYW5kICdpcy1icm93c2VyJztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuY29uc3QgZ2xvYmFscyA9IHtcbiAgICBzZWxmOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZixcbiAgICB3aW5kb3c6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdyxcbiAgICBnbG9iYWw6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbCxcbiAgICBkb2N1bWVudDogdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudFxufTtcbmNvbnN0IHNlbGZfID0gZ2xvYmFscy5zZWxmIHx8IGdsb2JhbHMud2luZG93IHx8IGdsb2JhbHMuZ2xvYmFsIHx8IHt9O1xuY29uc3Qgd2luZG93XyA9IGdsb2JhbHMud2luZG93IHx8IGdsb2JhbHMuc2VsZiB8fCBnbG9iYWxzLmdsb2JhbCB8fCB7fTtcbmNvbnN0IGdsb2JhbF8gPSBnbG9iYWxzLmdsb2JhbCB8fCBnbG9iYWxzLnNlbGYgfHwgZ2xvYmFscy53aW5kb3cgfHwge307XG5jb25zdCBkb2N1bWVudF8gPSBnbG9iYWxzLmRvY3VtZW50IHx8IHt9O1xuZXhwb3J0IHsgc2VsZl8gYXMgc2VsZiwgd2luZG93XyBhcyB3aW5kb3csIGdsb2JhbF8gYXMgZ2xvYmFsLCBkb2N1bWVudF8gYXMgZG9jdW1lbnQgfTtcbi8qKiB0cnVlIGlmIHJ1bm5pbmcgaW4gdGhlIGJyb3dzZXIsIGZhbHNlIGlmIHJ1bm5pbmcgaW4gTm9kZS5qcyAqL1xuZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9IFxuLy8gQHRzLWlnbm9yZSBwcm9jZXNzLmJyb3dzZXJcbnR5cGVvZiBwcm9jZXNzICE9PSAnb2JqZWN0JyB8fCBTdHJpbmcocHJvY2VzcykgIT09ICdbb2JqZWN0IHByb2Nlc3NdJyB8fCBwcm9jZXNzLmJyb3dzZXI7XG4vKiogdHJ1ZSBpZiBydW5uaW5nIG9uIGEgd29ya2VyIHRocmVhZCAqL1xuZXhwb3J0IGNvbnN0IGlzV29ya2VyID0gdHlwZW9mIGltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbic7XG4vKiogdHJ1ZSBpZiBydW5uaW5nIG9uIGEgbW9iaWxlIGRldmljZSAqL1xuZXhwb3J0IGNvbnN0IGlzTW9iaWxlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5vcmllbnRhdGlvbiAhPT0gJ3VuZGVmaW5lZCc7XG4vLyBFeHRyYWN0IG5vZGUgbWFqb3IgdmVyc2lvblxuY29uc3QgbWF0Y2hlcyA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb24gJiYgL3YoWzAtOV0qKS8uZXhlYyhwcm9jZXNzLnZlcnNpb24pO1xuLyoqIFZlcnNpb24gb2YgTm9kZS5qcyBpZiBydW5uaW5nIHVuZGVyIE5vZGUsIG90aGVyd2lzZSAwICovXG5leHBvcnQgY29uc3Qgbm9kZVZlcnNpb24gPSAobWF0Y2hlcyAmJiBwYXJzZUZsb2F0KG1hdGNoZXNbMV0pKSB8fCAwO1xuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBWZXJzaW9uIGNvbnN0YW50IGNhbm5vdCBiZSBpbXBvcnRlZCwgaXQgbmVlZHMgdG8gY29ycmVzcG9uZCB0byB0aGUgYnVpbGQgdmVyc2lvbiBvZiAqKnRoaXMqKiBtb2R1bGUuXG4vKipcbiAqIFRPRE8gLSB1bnBrZy5jb20gZG9lc24ndCBzZWVtIHRvIGhhdmUgYSBgbGF0ZXN0YCBzcGVjaWZpZXIgZm9yIGFscGhhIHJlbGVhc2VzLi4uXG4gKiAnYmV0YScgb24gYmV0YSBicmFuY2gsICdsYXRlc3QnIG9uIHByb2QgYnJhbmNoXG4gKi9cbmV4cG9ydCBjb25zdCBOUE1fVEFHID0gJ2xhdGVzdCc7XG5mdW5jdGlvbiBnZXRWZXJzaW9uKCkge1xuICAgIGlmICghZ2xvYmFsVGhpcy5fbG9hZGVyc2dsXz8udmVyc2lvbikge1xuICAgICAgICBnbG9iYWxUaGlzLl9sb2FkZXJzZ2xfID0gZ2xvYmFsVGhpcy5fbG9hZGVyc2dsXyB8fCB7fTtcbiAgICAgICAgLy8gX19WRVJTSU9OX18gaXMgaW5qZWN0ZWQgYnkgYmFiZWwtcGx1Z2luLXZlcnNpb24taW5saW5lXG4gICAgICAgIGlmICh0eXBlb2YgXCI0LjMuM1wiID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ2xvYWRlcnMuZ2w6IFRoZSBfX1ZFUlNJT05fXyB2YXJpYWJsZSBpcyBub3QgaW5qZWN0ZWQgdXNpbmcgYmFiZWwgcGx1Z2luLiBMYXRlc3QgdW5zdGFibGUgd29ya2VycyB3b3VsZCBiZSBmZXRjaGVkIGZyb20gdGhlIENETi4nKTtcbiAgICAgICAgICAgIGdsb2JhbFRoaXMuX2xvYWRlcnNnbF8udmVyc2lvbiA9IE5QTV9UQUc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWxUaGlzLl9sb2FkZXJzZ2xfLnZlcnNpb24gPSBcIjQuMy4zXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuX2xvYWRlcnNnbF8udmVyc2lvbjtcbn1cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gZ2V0VmVyc2lvbigpO1xuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vKiBnbG9iYWwgaW1wb3J0U2NyaXB0cyAqL1xuaW1wb3J0IHsgaXNCcm93c2VyLCBpc1dvcmtlciB9IGZyb20gXCIuLi9lbnYtdXRpbHMvZ2xvYmFscy5qc1wiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL2Vudi11dGlscy9hc3NlcnQuanNcIjtcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi4vZW52LXV0aWxzL3ZlcnNpb24uanNcIjtcbmNvbnN0IGxvYWRMaWJyYXJ5UHJvbWlzZXMgPSB7fTsgLy8gcHJvbWlzZXNcbi8qKlxuICogRHluYW1pY2FsbHkgbG9hZHMgYSBsaWJyYXJ5IChcIm1vZHVsZVwiKVxuICpcbiAqIC0gd2FzbSBsaWJyYXJ5OiBBcnJheSBidWZmZXIgaXMgcmV0dXJuZWRcbiAqIC0ganMgbGlicmFyeTogUGFyc2UgSlMgaXMgcmV0dXJuZWRcbiAqXG4gKiBNZXRob2QgZGVwZW5kcyBvbiBlbnZpcm9ubWVudFxuICogLSBicm93c2VyIC0gc2NyaXB0IGVsZW1lbnQgaXMgY3JlYXRlZCBhbmQgaW5zdGFsbGVkIG9uIGRvY3VtZW50XG4gKiAtIHdvcmtlciAtIGV2YWwgaXMgY2FsbGVkIG9uIGdsb2JhbCBjb250ZXh0XG4gKiAtIG5vZGUgLSBmaWxlIGlzIHJlcXVpcmVkXG4gKlxuICogQHBhcmFtIGxpYnJhcnlVcmxcbiAqIEBwYXJhbSBtb2R1bGVOYW1lXG4gKiBAcGFyYW0gb3B0aW9uc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZExpYnJhcnkobGlicmFyeVVybCwgbW9kdWxlTmFtZSA9IG51bGwsIG9wdGlvbnMgPSB7fSwgbGlicmFyeU5hbWUgPSBudWxsKSB7XG4gICAgaWYgKG1vZHVsZU5hbWUpIHtcbiAgICAgICAgbGlicmFyeVVybCA9IGdldExpYnJhcnlVcmwobGlicmFyeVVybCwgbW9kdWxlTmFtZSwgb3B0aW9ucywgbGlicmFyeU5hbWUpO1xuICAgIH1cbiAgICAvLyBFbnN1cmUgbGlicmFyaWVzIGFyZSBvbmx5IGxvYWRlZCBvbmNlXG4gICAgbG9hZExpYnJhcnlQcm9taXNlc1tsaWJyYXJ5VXJsXSA9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbWlzdXNlZC1wcm9taXNlc1xuICAgICAgICBsb2FkTGlicmFyeVByb21pc2VzW2xpYnJhcnlVcmxdIHx8IGxvYWRMaWJyYXJ5RnJvbUZpbGUobGlicmFyeVVybCk7XG4gICAgcmV0dXJuIGF3YWl0IGxvYWRMaWJyYXJ5UHJvbWlzZXNbbGlicmFyeVVybF07XG59XG4vLyBUT0RPIC0gc29ydCBvdXQgaG93IHRvIHJlc29sdmUgcGF0aHMgZm9yIG1haW4vd29ya2VyIGFuZCBkZXYvcHJvZFxuZXhwb3J0IGZ1bmN0aW9uIGdldExpYnJhcnlVcmwobGlicmFyeSwgbW9kdWxlTmFtZSwgb3B0aW9ucyA9IHt9LCBsaWJyYXJ5TmFtZSA9IG51bGwpIHtcbiAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGEgVVJMXG4gICAgaWYgKCFvcHRpb25zLnVzZUxvY2FsTGlicmFyaWVzICYmIGxpYnJhcnkuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgIHJldHVybiBsaWJyYXJ5O1xuICAgIH1cbiAgICBsaWJyYXJ5TmFtZSA9IGxpYnJhcnlOYW1lIHx8IGxpYnJhcnk7XG4gICAgLy8gQWxsb3cgYXBwbGljYXRpb24gdG8gaW1wb3J0IGFuZCBzdXBwbHkgbGlicmFyaWVzIHRocm91Z2ggYG9wdGlvbnMubW9kdWxlc2BcbiAgICAvLyBUT0RPIC0gU2VlIGpzLW1vZHVsZS11dGlscyBpbiBsb2FkZXItdXRpbHNcbiAgICBjb25zdCBtb2R1bGVzID0gb3B0aW9ucy5tb2R1bGVzIHx8IHt9O1xuICAgIGlmIChtb2R1bGVzW2xpYnJhcnlOYW1lXSkge1xuICAgICAgICByZXR1cm4gbW9kdWxlc1tsaWJyYXJ5TmFtZV07XG4gICAgfVxuICAgIC8vIExvYWQgZnJvbSBsb2NhbCBmaWxlcywgbm90IGZyb20gQ0ROIHNjcmlwdHMgaW4gTm9kZS5qc1xuICAgIC8vIFRPRE8gLSBuZWVkcyB0byBsb2NhdGUgdGhlIG1vZHVsZXMgZGlyZWN0b3J5IHdoZW4gaW5zdGFsbGVkIVxuICAgIGlmICghaXNCcm93c2VyKSB7XG4gICAgICAgIHJldHVybiBgbW9kdWxlcy8ke21vZHVsZU5hbWV9L2Rpc3QvbGlicy8ke2xpYnJhcnlOYW1lfWA7XG4gICAgfVxuICAgIC8vIEluIGJyb3dzZXIsIGxvYWQgZnJvbSBleHRlcm5hbCBzY3JpcHRzXG4gICAgaWYgKG9wdGlvbnMuQ0ROKSB7XG4gICAgICAgIGFzc2VydChvcHRpb25zLkNETi5zdGFydHNXaXRoKCdodHRwJykpO1xuICAgICAgICByZXR1cm4gYCR7b3B0aW9ucy5DRE59LyR7bW9kdWxlTmFtZX1AJHtWRVJTSU9OfS9kaXN0L2xpYnMvJHtsaWJyYXJ5TmFtZX1gO1xuICAgIH1cbiAgICAvLyBUT0RPIC0gbG9hZGluZyBpbnNpZGUgd29ya2VycyByZXF1aXJlcyBwYXRocyByZWxhdGl2ZSB0byB3b3JrZXIgc2NyaXB0IGxvY2F0aW9uLi4uXG4gICAgaWYgKGlzV29ya2VyKSB7XG4gICAgICAgIHJldHVybiBgLi4vc3JjL2xpYnMvJHtsaWJyYXJ5TmFtZX1gO1xuICAgIH1cbiAgICByZXR1cm4gYG1vZHVsZXMvJHttb2R1bGVOYW1lfS9zcmMvbGlicy8ke2xpYnJhcnlOYW1lfWA7XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkTGlicmFyeUZyb21GaWxlKGxpYnJhcnlVcmwpIHtcbiAgICBpZiAobGlicmFyeVVybC5lbmRzV2l0aCgnd2FzbScpKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBsb2FkQXNBcnJheUJ1ZmZlcihsaWJyYXJ5VXJsKTtcbiAgICB9XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICAgICAgLy8gVE9ETyAtIE5vZGUgZG9lc24ndCB5ZXQgc3VwcG9ydCBkeW5hbWljIGltcG9ydCBmcm9tIGh0dHBzIFVSTHNcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgLy8gICByZXR1cm4gYXdhaXQgaW1wb3J0KGxpYnJhcnlVcmwpO1xuICAgICAgICAvLyB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAvLyB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IHJlcXVpcmVGcm9tRmlsZSB9ID0gZ2xvYmFsVGhpcy5sb2FkZXJzIHx8IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlcXVpcmVGcm9tRmlsZT8uKGxpYnJhcnlVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzV29ya2VyKSB7XG4gICAgICAgIHJldHVybiBpbXBvcnRTY3JpcHRzKGxpYnJhcnlVcmwpO1xuICAgIH1cbiAgICAvLyBUT0RPIC0gZml4IC0gc2hvdWxkIGJlIG1vcmUgc2VjdXJlIHRoYW4gc3RyaW5nIHBhcnNpbmcgc2luY2Ugb2JzZXJ2ZXMgQ09SU1xuICAgIC8vIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAvLyAgIHJldHVybiBhd2FpdCBsb2FkU2NyaXB0RnJvbUZpbGUobGlicmFyeVVybCk7XG4gICAgLy8gfVxuICAgIGNvbnN0IHNjcmlwdFNvdXJjZSA9IGF3YWl0IGxvYWRBc1RleHQobGlicmFyeVVybCk7XG4gICAgcmV0dXJuIGxvYWRMaWJyYXJ5RnJvbVN0cmluZyhzY3JpcHRTb3VyY2UsIGxpYnJhcnlVcmwpO1xufVxuLypcbmFzeW5jIGZ1bmN0aW9uIGxvYWRTY3JpcHRGcm9tRmlsZShsaWJyYXJ5VXJsKSB7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc3JjID0gbGlicmFyeVVybDtcbiAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBzY3JpcHQub25sb2FkID0gZGF0YSA9PiB7XG4gICAgICByZXNvbHZlKGRhdGEpO1xuICAgIH07XG4gICAgc2NyaXB0Lm9uZXJyb3IgPSByZWplY3Q7XG4gIH0pO1xufVxuKi9cbi8vIFRPRE8gLSBOZWVkcyBzZWN1cml0eSBhdWRpdC4uLlxuLy8gIC0gUmF3IGV2YWwgY2FsbFxuLy8gIC0gUG90ZW50aWFsbHkgYnlwYXNzZXMgQ09SU1xuLy8gVXBzaWRlIGlzIHRoYXQgdGhpcyBzZXBhcmF0ZXMgZmV0Y2hpbmcgYW5kIHBhcnNpbmdcbi8vIHdlIGNvdWxkIGNyZWF0ZSBhYExpYnJhcnlMb2FkZXJgIG9yYE1vZHVsZUxvYWRlcmBcbmZ1bmN0aW9uIGxvYWRMaWJyYXJ5RnJvbVN0cmluZyhzY3JpcHRTb3VyY2UsIGlkKSB7XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICAgICAgY29uc3QgeyByZXF1aXJlRnJvbVN0cmluZyB9ID0gZ2xvYmFsVGhpcy5sb2FkZXJzIHx8IHt9O1xuICAgICAgICByZXR1cm4gcmVxdWlyZUZyb21TdHJpbmc/LihzY3JpcHRTb3VyY2UsIGlkKTtcbiAgICB9XG4gICAgaWYgKGlzV29ya2VyKSB7XG4gICAgICAgIC8vIFVzZSBsdmFsdWUgdHJpY2sgdG8gbWFrZSBldmFsIHJ1biBpbiBnbG9iYWwgc2NvcGVcbiAgICAgICAgZXZhbC5jYWxsKGdsb2JhbFRoaXMsIHNjcmlwdFNvdXJjZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXZhbFxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85MTA3MjQwLzEtZXZhbHRoaXMtdnMtZXZhbHRoaXMtaW4tamF2YXNjcmlwdFxuICAgICAgICAvLyBodHRwOi8vcGVyZmVjdGlvbmtpbGxzLmNvbS9nbG9iYWwtZXZhbC13aGF0LWFyZS10aGUtb3B0aW9ucy9cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdC5pZCA9IGlkO1xuICAgIC8vIG1vc3QgYnJvd3NlcnMgbGlrZSBhIHNlcGFyYXRlIHRleHQgbm9kZSBidXQgc29tZSB0aHJvdyBhbiBlcnJvci4gVGhlIHNlY29uZCBtZXRob2QgY292ZXJzIHRob3NlLlxuICAgIHRyeSB7XG4gICAgICAgIHNjcmlwdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzY3JpcHRTb3VyY2UpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgc2NyaXB0LnRleHQgPSBzY3JpcHRTb3VyY2U7XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIFRPRE8gLSB0ZWNobmlxdWUgZm9yIG1vZHVsZSBpbmplY3Rpb24gaW50byB3b3JrZXIsIGZyb20gVEhSRUUuRHJhY29Mb2FkZXIuLi5cbi8qXG5mdW5jdGlvbiBjb21iaW5lV29ya2VyV2l0aExpYnJhcnkod29ya2VyLCBqc0NvbnRlbnQpIHtcbiAgdmFyIGZuID0gd1dvcmtlci50b1N0cmluZygpO1xuICB2YXIgYm9keSA9IFtcbiAgICAnLy8gaW5qZWN0ZWQnLFxuICAgIGpzQ29udGVudCxcbiAgICAnJyxcbiAgICAnLy8gd29ya2VyJyxcbiAgICBmbi5zdWJzdHJpbmcoZm4uaW5kZXhPZigneycpICsgMSwgZm4ubGFzdEluZGV4T2YoJ30nKSlcbiAgXS5qb2luKCdcXG4nKTtcbiAgdGhpcy53b3JrZXJTb3VyY2VVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtib2R5XSkpO1xufVxuKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRBc0FycmF5QnVmZmVyKHVybCkge1xuICAgIGNvbnN0IHsgcmVhZEZpbGVBc0FycmF5QnVmZmVyIH0gPSBnbG9iYWxUaGlzLmxvYWRlcnMgfHwge307XG4gICAgaWYgKGlzQnJvd3NlciB8fCAhcmVhZEZpbGVBc0FycmF5QnVmZmVyIHx8IHVybC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHJlYWRGaWxlQXNBcnJheUJ1ZmZlcih1cmwpO1xufVxuLyoqXG4gKiBMb2FkIGEgZmlsZSBmcm9tIGxvY2FsIGZpbGUgc3lzdGVtXG4gKiBAcGFyYW0gZmlsZW5hbWVcbiAqIEByZXR1cm5zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRBc1RleHQodXJsKSB7XG4gICAgY29uc3QgeyByZWFkRmlsZUFzVGV4dCB9ID0gZ2xvYmFsVGhpcy5sb2FkZXJzIHx8IHt9O1xuICAgIGlmIChpc0Jyb3dzZXIgfHwgIXJlYWRGaWxlQXNUZXh0IHx8IHVybC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgcmVhZEZpbGVBc1RleHQodXJsKTtcbn1cbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCwgSXRlcmF0b3IgKi9cblxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICB9XG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICB9XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XG4gIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcbiAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XG4gICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgfVxuICB9XG4gIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgZG9uZSA9IHRydWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgfVxuICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xuICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgcmV0dXJuIGcubmV4dCA9IHZlcmIoMCksIGdbXCJ0aHJvd1wiXSA9IHZlcmIoMSksIGdbXCJyZXR1cm5cIl0gPSB2ZXJiKDIpLCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gQXN5bmNJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG52YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcbiAgb3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgdmFyIGFyID0gW107XG4gICAgZm9yICh2YXIgayBpbiBvKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIGspKSBhclthci5sZW5ndGhdID0gaztcbiAgICByZXR1cm4gYXI7XG4gIH07XG4gIHJldHVybiBvd25LZXlzKG8pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgPSBvd25LZXlzKG1vZCksIGkgPSAwOyBpIDwgay5sZW5ndGg7IGkrKykgaWYgKGtbaV0gIT09IFwiZGVmYXVsdFwiKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGtbaV0pO1xuICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xuICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XG4gIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52LCB2YWx1ZSwgYXN5bmMpIHtcbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcbiAgICB2YXIgZGlzcG9zZSwgaW5uZXI7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xuICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgICBpZiAoYXN5bmMpIGlubmVyID0gZGlzcG9zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGlmIChpbm5lcikgZGlzcG9zZSA9IGZ1bmN0aW9uKCkgeyB0cnkgeyBpbm5lci5jYWxsKHRoaXMpOyB9IGNhdGNoIChlKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChlKTsgfSB9O1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICB2YXIgciwgcyA9IDA7XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgd2hpbGUgKHIgPSBlbnYuc3RhY2sucG9wKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghci5hc3luYyAmJiBzID09PSAxKSByZXR1cm4gcyA9IDAsIGVudi5zdGFjay5wdXNoKHIpLCBQcm9taXNlLnJlc29sdmUoKS50aGVuKG5leHQpO1xuICAgICAgICBpZiAoci5kaXNwb3NlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHIuZGlzcG9zZS5jYWxsKHIudmFsdWUpO1xuICAgICAgICAgIGlmIChyLmFzeW5jKSByZXR1cm4gcyB8PSAyLCBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBzIHw9IDE7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBmYWlsKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocyA9PT0gMSkgcmV0dXJuIGVudi5oYXNFcnJvciA/IFByb21pc2UucmVqZWN0KGVudi5lcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uKHBhdGgsIHByZXNlcnZlSnN4KSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcLlxcLj9cXC8vLnRlc3QocGF0aCkpIHtcbiAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLih0c3gpJHwoKD86XFwuZCk/KSgoPzpcXC5bXi4vXSs/KT8pXFwuKFtjbV0/KXRzJC9pLCBmdW5jdGlvbiAobSwgdHN4LCBkLCBleHQsIGNtKSB7XG4gICAgICAgICAgcmV0dXJuIHRzeCA/IHByZXNlcnZlSnN4ID8gXCIuanN4XCIgOiBcIi5qc1wiIDogZCAmJiAoIWV4dCB8fCAhY20pID8gbSA6IChkICsgZXh0ICsgXCIuXCIgKyBjbS50b0xvd2VyQ2FzZSgpICsgXCJqc1wiKTtcbiAgICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19lc0RlY29yYXRlLFxuICBfX3J1bkluaXRpYWxpemVycyxcbiAgX19wcm9wS2V5LFxuICBfX3NldEZ1bmN0aW9uTmFtZSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG4gIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uLFxufTtcbiJdLCJuYW1lcyI6WyJFUFNJTE9OIiwiQVJSQVlfVFlQRSIsIkZsb2F0MzJBcnJheSIsIkFycmF5IiwiQU5HTEVfT1JERVIiLCJNYXRoIiwicmFuZG9tIiwiUEkiLCJtdWx0aXBseSIsIm91dCIsImEiLCJiIiwiYTAiLCJhMSIsImEyIiwiYTMiLCJiMCIsImIxIiwiYjIiLCJiMyIsImNyZWF0ZSIsImEwMCIsImEwMSIsImEwMiIsImExMCIsImExMSIsImExMiIsImEyMCIsImEyMSIsImEyMiIsImIwMCIsImIwMSIsImIwMiIsImIxMCIsImIxMSIsImIxMiIsImIyMCIsImIyMSIsImIyMiIsImZyb21RdWF0IiwicSIsIngiLCJ5IiwieiIsInciLCJ4MiIsInkyIiwiejIiLCJ4eCIsInl4IiwieXkiLCJ6eCIsInp5IiwienoiLCJ3eCIsInd5Iiwid3oiLCJpbnZlcnQiLCJhMDMiLCJhMTMiLCJhMjMiLCJhMzAiLCJhMzEiLCJhMzIiLCJhMzMiLCJiMDMiLCJiMDQiLCJiMDUiLCJiMDYiLCJiMDciLCJiMDgiLCJiMDkiLCJkZXQiLCJmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlIiwidiIsInMiLCJ4eSIsInh6IiwieXoiLCJzeCIsInN5Iiwic3oiLCJwZXJzcGVjdGl2ZSIsImZvdnkiLCJhc3BlY3QiLCJuZWFyIiwiZmFyIiwiZiIsInRhbiIsIkluZmluaXR5IiwibmYiLCJheCIsImF5IiwiYXoiLCJhdyIsImJ4IiwiYnkiLCJieiIsImJ3IiwiZG90IiwiaW52RG90IiwiZnJvbU1hdDMiLCJtIiwiZlJvb3QiLCJmVHJhY2UiLCJzcXJ0IiwiaSIsImoiLCJrIiwiZnJvbUV1bGVyIiwib3JkZXIiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJoYWxmVG9SYWQiLCJzaW4iLCJjeCIsImNvcyIsImN5IiwiY3oiLCJFcnJvciIsInZlYzMiLCJtYXRyIiwic2V0QXhlcyIsIm1hdDMiLCJ2aWV3IiwicmlnaHQiLCJ1cCIsImxlbiIsImZyb21WYWx1ZXMiLCJub3JtYWxpemUiLCJjcm9zcyIsInRyYW5zZm9ybVF1YXQiLCJxeCIsInF5IiwicXoiLCJxdyIsInZ4IiwidnkiLCJ2eiIsInR4IiwidHkiLCJ0eiIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsImlzUHVyZU9iamVjdCIsImNvbnN0cnVjdG9yIiwiaXNSZXNwb25zZSIsIlJlc3BvbnNlIiwiYXJyYXlCdWZmZXIiLCJ0ZXh0IiwianNvbiIsImlzQmxvYiIsIkJsb2IiLCJpc1JlYWRhYmxlU3RyZWFtIiwiUmVhZGFibGVTdHJlYW0iLCJ0ZWUiLCJjYW5jZWwiLCJnZXRSZWFkZXIiLCJpc1JlYWRhYmxlRE9NU3RyZWFtIiwicmVhZCIsInBpcGUiLCJpc0Jvb2xlYW4iLCJyZWFkYWJsZSIsImlzUmVhZGFibGVOb2RlU3RyZWFtIiwiaXNMb2FkZXJPYmplY3QiLCJsb2FkZXIiLCJpc0FycmF5IiwiZXh0ZW5zaW9ucyIsIm5vcm1hbGl6ZUxvYWRlciIsIm9wdGlvbnMiLCJhc3NlcnQiLCJwYXJzZVRleHRTeW5jIiwicGFyc2VUZXh0IiwiYmluYXJ5IiwiZmlsZUFsaWFzZXMiLCJGZXRjaEVycm9yIiwibWVzc2FnZSIsImluZm8iLCJzdXBlciIsInRoaXMiLCJyZWFzb24iLCJ1cmwiLCJyZXNwb25zZSIsIkRBVEFfVVJMX1BBVFRFUk4iLCJNSU1FX1RZUEVfUEFUVEVSTiIsImNvbXBhcmVNSU1FVHlwZXMiLCJtaW1lVHlwZTEiLCJtaW1lVHlwZTIiLCJ0b0xvd2VyQ2FzZSIsInBhcnNlTUlNRVR5cGVGcm9tVVJMIiwibWF0Y2hlcyIsImV4ZWMiLCJRVUVSWV9TVFJJTkdfUEFUVEVSTiIsInN0cmlwUXVlcnlTdHJpbmciLCJyZXBsYWNlIiwiZ2V0UmVzb3VyY2VVcmwiLCJyZXNvdXJjZSIsIm5hbWUiLCJnZXRSZXNvdXJjZU1JTUVUeXBlIiwiY29udGVudFR5cGVIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0Iiwibm9RdWVyeVVybCIsIm1pbWVTdHJpbmciLCJwYXJzZU1JTUVUeXBlIiwidHlwZSIsImFzeW5jIiwibWFrZVJlc3BvbnNlIiwiY29udGVudExlbmd0aCIsInNpemUiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ5dGVMZW5ndGgiLCJnZXRSZXNvdXJjZUNvbnRlbnRMZW5ndGgiLCJTdHJpbmciLCJpbml0aWFsRGF0YVVybCIsInNsaWNlIiwiYmxvYlNsaWNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZXZlbnQiLCJ0YXJnZXQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiYnVmZmVyIiwiYnl0ZXMiLCJVaW50OEFycmF5IiwiZnJvbUNoYXJDb2RlIiwiYnRvYSIsImFycmF5QnVmZmVyVG9CYXNlNjQiLCJnZXRJbml0aWFsRGF0YVVybCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImZldGNoRmlsZSIsInVybE9yRGF0YSIsImZldGNoT3B0aW9ucyIsImZpbGVuYW1lIiwiYWxpYXMiLCJzdGFydHNXaXRoIiwicmVwbGFjZW1lbnQiLCJyZXNvbHZlUGF0aCIsImlzUmVxdWVzdFVSTCIsImlzRGF0YVVSTCIsImlzTm9kZVBhdGgiLCJnbG9iYWxUaGlzIiwibG9hZGVycyIsImZldGNoTm9kZSIsImZldGNoIiwiaXNCcm93c2VyIiwicHJvY2VzcyIsImJyb3dzZXIiLCJ3aW5kb3ciLCJCb29sZWFuIiwidmVyc2lvbnMiLCJyZWFsVXNlckFnZW50IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImlzRWxlY3Ryb24iLCJWRVJTSU9OIiwiTG9jYWxTdG9yYWdlIiwiaWQiLCJkZWZhdWx0Q29uZmlnIiwic3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZSIsImdldFN0b3JhZ2UiLCJjb25maWciLCJfbG9hZENvbmZpZ3VyYXRpb24iLCJnZXRDb25maWd1cmF0aW9uIiwic2V0Q29uZmlndXJhdGlvbiIsImNvbmZpZ3VyYXRpb24iLCJhc3NpZ24iLCJzZXJpYWxpemVkIiwiSlNPTiIsInN0cmluZ2lmeSIsInNlcmlhbGl6ZWRDb25maWd1cmF0aW9uIiwiZ2V0SXRlbSIsInBhcnNlIiwiQ09MT1IiLCJnZXRDb2xvciIsImNvbG9yIiwidG9VcHBlckNhc2UiLCJXSElURSIsImNvbmRpdGlvbiIsIndpbmRvd18iLCJwcm9jZXNzXyIsImRvY3VtZW50IiwiZ2V0SGlSZXNUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInRpbWVQYXJ0cyIsImhydGltZSIsIkRhdGUiLCJjb25zb2xlIiwib3JpZ2luYWxDb25zb2xlIiwiZGVidWciLCJsb2ciLCJ3YXJuIiwiZXJyb3IiLCJERUZBVUxUX0xPR19DT05GSUdVUkFUSU9OIiwiZW5hYmxlZCIsImxldmVsIiwibm9vcCIsImNhY2hlIiwiT05DRSIsIm9uY2UiLCJMb2ciLCJfc3RhcnRUcyIsIl9kZWx0YVRzIiwidXNlckRhdGEiLCJMT0dfVEhST1RUTEVfVElNRU9VVCIsIl9zdG9yYWdlIiwidGltZVN0YW1wIiwib2JqIiwicHJlZGVmaW5lZCIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJwcm9wTmFtZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwib2JqZWN0Iiwia2V5IiwiZmluZCIsImJpbmQiLCJhdXRvYmluZCIsInNlYWwiLCJuZXdMZXZlbCIsInNldExldmVsIiwiZ2V0TGV2ZWwiLCJpc0VuYWJsZWQiLCJnZXRUb3RhbCIsIk51bWJlciIsInRvUHJlY2lzaW9uIiwiZ2V0RGVsdGEiLCJwcmlvcml0eSIsIm5ld1ByaW9yaXR5IiwiZ2V0UHJpb3JpdHkiLCJlbmFibGUiLCJzZXR0aW5nIiwic2V0Iiwic2V0dGluZ3MiLCJ0YWJsZSIsIl9nZXRMb2dGdW5jdGlvbiIsImRlcHJlY2F0ZWQiLCJvbGRVc2FnZSIsIm5ld1VzYWdlIiwicmVtb3ZlZCIsInByb2JlIiwibG9nTGV2ZWwiLCJ0aW1lIiwiY29sdW1ucyIsInRhZyIsImdldFRhYmxlSGVhZGVyIiwidGltZUVuZCIsImdyb3VwIiwib3B0cyIsImNvbGxhcHNlZCIsIm5vcm1hbGl6ZUFyZ3VtZW50cyIsIm1ldGhvZCIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJ3aXRoR3JvdXAiLCJmdW5jIiwidHJhY2UiLCJfc2hvdWxkTG9nIiwibm9ybWFsaXplTG9nTGV2ZWwiLCJhcmdzIiwidG90YWwiLCJkZWx0YSIsInN0cmluZyIsInBhZExlbmd0aCIsIm1heCIsInJlcGVhdCIsImxlZnRQYWQiLCJtcyIsImZvcm1hdHRlZCIsInRvRml4ZWQiLCJmb3JtYXRUaW1lIiwiYmFja2dyb3VuZCIsImRlY29yYXRlTWVzc2FnZSIsInJlc29sdmVkTGV2ZWwiLCJpc0Zpbml0ZSIsImZyb20iLCJzaGlmdCIsInVuc2hpZnQiLCJtZXNzYWdlVHlwZSIsInRpdGxlIiwicHJvYmVMb2ciLCJOdWxsTG9nIiwiREVGQVVMVF9MT0FERVJfT1BUSU9OUyIsIm1pbWVUeXBlIiwibm90aHJvdyIsInVzZUxvY2FsTGlicmFyaWVzIiwiQ0ROIiwid29ya2VyIiwibWF4Q29uY3VycmVuY3kiLCJtYXhNb2JpbGVDb25jdXJyZW5jeSIsInJldXNlV29ya2VycyIsIl9ub2RlV29ya2VycyIsIl93b3JrZXJUeXBlIiwibGltaXQiLCJfbGltaXRNQiIsImJhdGNoU2l6ZSIsImJhdGNoRGVib3VuY2VNcyIsIm1ldGFkYXRhIiwidHJhbnNmb3JtcyIsIlJFTU9WRURfTE9BREVSX09QVElPTlMiLCJ0aHJvd3MiLCJkYXRhVHlwZSIsInVyaSIsImJvZHkiLCJtb2RlIiwiY3JlZGVudGlhbHMiLCJyZWRpcmVjdCIsInJlZmVycmVyIiwicmVmZXJyZXJQb2xpY3kiLCJpbnRlZ3JpdHkiLCJrZWVwYWxpdmUiLCJzaWduYWwiLCJnZXRHbG9iYWxMb2FkZXJTdGF0ZSIsIl9zdGF0ZSIsImdldEdsb2JhbExvYWRlck9wdGlvbnMiLCJzdGF0ZSIsImdsb2JhbE9wdGlvbnMiLCJub3JtYWxpemVPcHRpb25zIiwidmFsaWRhdGVPcHRpb25zT2JqZWN0IiwiaWRPcHRpb25zIiwibG9hZGVyT3B0aW9ucyIsImRlcHJlY2F0ZWRPcHRpb25zIiwidmFsaWRhdGVPcHRpb25zIiwibWVyZ2VkT3B0aW9ucyIsImJhc2VVcmkiLCJhZGRVcmxPcHRpb25zIiwibWVyZ2VOZXN0ZWRGaWVsZHMiLCJub3JtYWxpemVPcHRpb25zSW50ZXJuYWwiLCJkZWZhdWx0T3B0aW9ucyIsImxvYWRlck5hbWUiLCJwcmVmaXgiLCJpc1N1Yk9wdGlvbnMiLCJzdWdnZXN0aW9uIiwiZmluZFNpbWlsYXJPcHRpb24iLCJvcHRpb25LZXkiLCJsb3dlckNhc2VPcHRpb25LZXkiLCJiZXN0U3VnZ2VzdGlvbiIsImxvd2VyQ2FzZUtleSIsImdldEZldGNoRnVuY3Rpb24iLCJjb250ZXh0IiwibWVyZ2VMb2FkZXJPcHRpb25zIiwiYmFzZU9wdGlvbnMiLCJuZXdPcHRpb25zIiwibWVyZ2VPcHRpb25zUmVjdXJzaXZlbHkiLCJuZXdWYWx1ZSIsImVudHJpZXMiLCJOb2RlV29ya2VyIiwidGVybWluYXRlIiwid29ya2VyVVJMQ2FjaGUiLCJNYXAiLCJnZXRMb2FkYWJsZVdvcmtlclVSTEZyb21Tb3VyY2UiLCJ3b3JrZXJTb3VyY2UiLCJibG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZ2V0VHJhbnNmZXJMaXN0IiwicmVjdXJzaXZlIiwidHJhbnNmZXJzIiwidHJhbnNmZXJzU2V0IiwiU2V0IiwiaXNUcmFuc2ZlcmFibGUiLCJhZGQiLCJNZXNzYWdlUG9ydCIsIkltYWdlQml0bWFwIiwiT2Zmc2NyZWVuQ2FudmFzIiwiTk9PUCIsIldvcmtlclRocmVhZCIsInNvdXJjZSIsInRlcm1pbmF0ZWQiLCJvbk1lc3NhZ2UiLCJvbkVycm9yIiwiX2xvYWRhYmxlVVJMIiwiaXNTdXBwb3J0ZWQiLCJXb3JrZXIiLCJwcm9wcyIsIl9jcmVhdGVCcm93c2VyV29ya2VyIiwiX2NyZWF0ZU5vZGVXb3JrZXIiLCJkZXN0cm95IiwiaXNSdW5uaW5nIiwicG9zdE1lc3NhZ2UiLCJkYXRhIiwidHJhbnNmZXJMaXN0IiwiX2dldEVycm9yRnJvbUVycm9yRXZlbnQiLCJsaW5lbm8iLCJjb2xubyIsIndvcmtlclVSTCIsImdldExvYWRhYmxlV29ya2VyVVJMIiwib25tZXNzYWdlIiwib25lcnJvciIsIm9ubWVzc2FnZWVycm9yIiwiaW5jbHVkZXMiLCJldmFsIiwib24iLCJjb2RlIiwiV29ya2VySm9iIiwid29ya2VyVGhyZWFkIiwiX3Jlc29sdmUiLCJfcmVqZWN0Iiwiam9iTmFtZSIsInJlamVjdCIsInBheWxvYWQiLCJkb25lIiwiV29ya2VyUG9vbCIsIm9uRGVidWciLCJqb2JRdWV1ZSIsImlkbGVRdWV1ZSIsImNvdW50IiwiaXNEZXN0cm95ZWQiLCJzZXRQcm9wcyIsImZvckVhY2giLCJzdGFydEpvYiIsImpvYiIsInN0YXJ0UHJvbWlzZSIsIm9uU3RhcnQiLCJwdXNoIiwiX3N0YXJ0UXVldWVkSm9iIiwiX2dldEF2YWlsYWJsZVdvcmtlciIsInF1ZXVlZEpvYiIsImJhY2tsb2ciLCJyZXR1cm5Xb3JrZXJUb1F1ZXVlIiwiX2dldE1heENvbmN1cnJlbmN5IiwiREVGQVVMVF9QUk9QUyIsIldvcmtlckZhcm0iLCJ3b3JrZXJQb29scyIsInN0YXRpYyIsImdldFdvcmtlckZhcm0iLCJfd29ya2VyRmFybSIsIndvcmtlclBvb2wiLCJ2YWx1ZXMiLCJfZ2V0V29ya2VyUG9vbFByb3BzIiwiZ2V0V29ya2VyUG9vbCIsInBhcnNlV2l0aFdvcmtlciIsInBhcnNlT25NYWluVGhyZWFkIiwid29ya2VyT3B0aW9ucyIsIndvcmtlckZpbGUiLCJ3b3JrZXJVcmwiLCJtb2R1bGUiLCJ2ZXJzaW9uIiwidmVyc2lvblRhZyIsImdldFdvcmtlclVSTCIsImlucHV0IiwiaXNCdWZmZXIiLCJieXRlT2Zmc2V0IiwiX3RvQXJyYXlCdWZmZXIiLCJtYWtlU3RyZWFtSXRlcmF0b3IiLCJzdHJlYW0iLCJuZXh0QmF0Y2hQcm9taXNlIiwiY3VycmVudEJhdGNoUHJvbWlzZSIsIl9zdHJlYW1SZWFkQWhlYWQiLCJyZWxlYXNlTG9jayIsIm1ha2VCcm93c2VyU3RyZWFtSXRlcmF0b3IiLCJjaHVuayIsIm1ha2VOb2RlU3RyZWFtSXRlcmF0b3IiLCJFUlJfREFUQSIsImdldEFycmF5QnVmZmVyT3JTdHJpbmdGcm9tRGF0YSIsImlzQXJyYXlCdWZmZXIiLCJUZXh0RGVjb2RlciIsImRlY29kZSIsImdldEFycmF5QnVmZmVyT3JTdHJpbmdGcm9tRGF0YVN5bmMiLCJvayIsInNob3J0VXJsIiwidXJsRW5kIiwic3Vic3RyIiwic2hvcnRlblVybEZvckRpc3BsYXkiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiY29udGVudFR5cGUiLCJib2R5VXNlZCIsImdldFJlc3BvbnNlRXJyb3IiLCJjaGVja1Jlc3BvbnNlIiwiY2h1bmtTaXplIiwib2Zmc2V0IiwidGV4dEVuY29kZXIiLCJjaHVua0xlbmd0aCIsIm1pbiIsIm1ha2VTdHJpbmdJdGVyYXRvciIsImNodW5rQnl0ZUxlbmd0aCIsInNvdXJjZUFycmF5IiwibWFrZUFycmF5QnVmZmVySXRlcmF0b3IiLCJlbmQiLCJtYWtlQmxvYkl0ZXJhdG9yIiwibWFrZUl0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwiaXNBc3luY0l0ZXJhYmxlIiwiYXJyYXlCdWZmZXJzIiwiY29uY2F0ZW5hdGVBcnJheUJ1ZmZlcnNBc3luYyIsInNsYXNoSW5kZXgiLCJsYXN0SW5kZXhPZiIsImNyZWF0ZUxvZyIsIkVYVF9QQVRURVJOIiwic2VsZWN0TG9hZGVyU3luYyIsInZhbGlkSFRUUFJlc3BvbnNlIiwiY2FuZGlkYXRlTG9hZGVycyIsImNvbmNhdCIsImlnbm9yZVJlZ2lzdGVyZWRMb2FkZXJzIiwibG9hZGVyUmVnaXN0cnkiLCJnZXRHbG9iYWxMb2FkZXJSZWdpc3RyeSIsIm5vcm1hbGl6ZUxvYWRlcnMiLCJ0ZXN0VXJsIiwiZmluZExvYWRlckJ5TUlNRVR5cGUiLCJtYXRjaCIsImV4dGVuc2lvbiIsImxvYWRlckV4dGVuc2lvbiIsImZpbmRMb2FkZXJCeUV4dGVuc2lvbiIsImZpbmRMb2FkZXJCeVVybCIsInRlc3REYXRhQWdhaW5zdFRleHQiLCJ0ZXN0RGF0YUFnYWluc3RCaW5hcnkiLCJmaW5kTG9hZGVyQnlJbml0aWFsQnl0ZXMiLCJnZXRGaXJzdENoYXJhY3RlcnMiLCJmYWxsYmFja01pbWVUeXBlIiwic2VsZWN0TG9hZGVySW50ZXJuYWwiLCJnZXROb1ZhbGlkTG9hZGVyTWVzc2FnZSIsImZpcnN0Q2hhcmFjdGVycyIsIm1pbWVUeXBlcyIsInNvbWUiLCJ0ZXN0VGV4dCIsInRlc3RzIiwidGVzdCIsImdldE1hZ2ljU3RyaW5nIiwidGVzdEJpbmFyeSIsImRhdGFWaWV3IiwiRGF0YVZpZXciLCJtYWdpYyIsImdldFVpbnQ4IiwiY29udGV4dExvYWRlcnMiLCJnZXRMb2FkZXJzRnJvbUNvbnRleHQiLCJzZWxlY3RMb2FkZXIiLCJwYXJlbnRDb250ZXh0IiwibmV3Q29udGV4dCIsImJhc2VVcmwiLCJxdWVyeVN0cmluZyIsImV4dHJhY3RRdWVyeVN0cmluZyIsImdldExvYWRlckNvbnRleHQiLCJfcGFyc2UiLCJ2YWxpZGF0ZVdvcmtlclZlcnNpb24iLCJyZWRpcmVjdGVkIiwiZnJvbUVudHJpZXMiLCJsb2FkZXJXaXRoUGFyc2VyIiwiY2FuUGFyc2VXaXRoV29ya2VyIiwicGFyc2VTeW5jIiwicGFyc2VXaXRoTG9hZGVyIiwibG9hZCIsInJlc29sdmVkTG9hZGVycyIsInJlc29sdmVkT3B0aW9ucyIsIkRyYWNvTG9hZGVyIiwiYmF0Y2hUeXBlIiwiZHJhY28iLCJkZWNvZGVyVHlwZSIsIldlYkFzc2VtYmx5IiwibGlicmFyeVBhdGgiLCJleHRyYUF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVOYW1lRW50cnkiLCJkZWR1Y2VNZXNoRmllbGQiLCJhdHRyaWJ1dGUiLCJvcHRpb25hbE1ldGFkYXRhIiwiYXJyYXkiLCJJbnQ4QXJyYXkiLCJVaW50OENsYW1wZWRBcnJheSIsIkludDE2QXJyYXkiLCJVaW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIkZsb2F0NjRBcnJheSIsImdldERhdGFUeXBlRnJvbVR5cGVkQXJyYXkiLCJ0b1N0cmluZyIsImJ5dGVTdHJpZGUiLCJub3JtYWxpemVkIiwibWFrZU1lc2hBdHRyaWJ1dGVNZXRhZGF0YSIsImxpc3RTaXplIiwiY2hpbGRyZW4iLCJudWxsYWJsZSIsImdldEFycm93RmllbGRGcm9tQXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZSIsImxvYWRlckRhdGEiLCJtYWtlTWV0YWRhdGEiLCJzZXJpYWxpemVkTWV0YWRhdGEiLCJEUkFDT19UT19HTFRGX0FUVFJJQlVURV9OQU1FX01BUCIsIlBPU0lUSU9OIiwiTk9STUFMIiwiVEVYX0NPT1JEIiwiRFJBQ09fREFUQV9UWVBFX1RPX1RZUEVEX0FSUkFZX01BUCIsIkRyYWNvUGFyc2VyIiwiZGVjb2RlciIsIm1ldGFkYXRhUXVlcmllciIsIkRlY29kZXIiLCJNZXRhZGF0YVF1ZXJpZXIiLCJEZWNvZGVyQnVmZmVyIiwiSW5pdCIsIl9kaXNhYmxlQXR0cmlidXRlVHJhbnNmb3JtcyIsImdlb21ldHJ5X3R5cGUiLCJHZXRFbmNvZGVkR2VvbWV0cnlUeXBlIiwiZHJhY29HZW9tZXRyeSIsIlRSSUFOR1VMQVJfTUVTSCIsIk1lc2giLCJQb2ludENsb3VkIiwiZHJhY29TdGF0dXMiLCJEZWNvZGVCdWZmZXJUb01lc2giLCJQT0lOVF9DTE9VRCIsIkRlY29kZUJ1ZmZlclRvUG9pbnRDbG91ZCIsInB0ciIsImVycm9yX21zZyIsIl9nZXREcmFjb0xvYWRlckRhdGEiLCJnZW9tZXRyeSIsIl9nZXRNZXNoRGF0YSIsImJvdW5kaW5nQm94IiwiYXR0cmlidXRlcyIsIm1pblgiLCJtaW5ZIiwibWluWiIsIm1heFgiLCJtYXhZIiwibWF4WiIsInBvc2l0aW9ucyIsImdldE1lc2hCb3VuZGluZ0JveCIsInNjaGVtYSIsImluZGljZXMiLCJmaWVsZHMiLCJuYW1lZExvYWRlckRhdGFBdHRyaWJ1dGVzIiwiZHJhY29BdHRyaWJ1dGUiLCJ0cmFuc2Zvcm1BdHRyaWJ1dGVzTG9hZGVyRGF0YSIsImZpZWxkIiwiaW5kaWNlc0ZpZWxkIiwiZ2V0RHJhY29TY2hlbWEiLCJoZWFkZXIiLCJ2ZXJ0ZXhDb3VudCIsIm51bV9wb2ludHMiLCJfZ2V0VG9wTGV2ZWxNZXRhZGF0YSIsIl9nZXREcmFjb0F0dHJpYnV0ZXMiLCJudW1fYXR0cmlidXRlcyIsIm51bV9mYWNlcyIsImRyYWNvQXR0cmlidXRlcyIsImF0dHJpYnV0ZUlkIiwiR2V0QXR0cmlidXRlIiwiX2dldEF0dHJpYnV0ZU1ldGFkYXRhIiwidW5pcXVlX2lkIiwiYXR0cmlidXRlX3R5cGUiLCJkYXRhX3R5cGUiLCJudW1fY29tcG9uZW50cyIsImJ5dGVfb2Zmc2V0IiwiYnl0ZV9zdHJpZGUiLCJhdHRyaWJ1dGVfaW5kZXgiLCJxdWFudGl6YXRpb24iLCJfZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtIiwicXVhbnRpemF0aW9uX3RyYW5zZm9ybSIsIm9jdGFoZWRyb24iLCJfZ2V0T2N0YWhlZHJvblRyYW5zZm9ybSIsIm9jdGFoZWRyb25fdHJhbnNmb3JtIiwiX2dldE1lc2hBdHRyaWJ1dGVzIiwidG9wb2xvZ3kiLCJfZ2V0VHJpYW5nbGVTdHJpcEluZGljZXMiLCJfZ2V0VHJpYW5nbGVMaXN0SW5kaWNlcyIsImxvYWRlckF0dHJpYnV0ZSIsIl9kZWR1Y2VBdHRyaWJ1dGVOYW1lIiwiX2dldEF0dHJpYnV0ZVZhbHVlcyIsIm51bUluZGljZXMiLCJfbWFsbG9jIiwiR2V0VHJpYW5nbGVzVUludDMyQXJyYXkiLCJIRUFQRjMyIiwiX2ZyZWUiLCJkcmFjb0FycmF5IiwiRHJhY29JbnQzMkFycmF5IiwiR2V0VHJpYW5nbGVTdHJpcHNGcm9tTWVzaCIsIm51bVZhbHVlcyIsImludEFycmF5IiwiR2V0VmFsdWUiLCJnZXRVaW50MzJBcnJheSIsIlR5cGVkQXJyYXlDdG9yIiwibnVtQ29tcG9uZW50cyIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiYXR0cmlidXRlVHlwZSIsIkRUX0ZMT0FUMzIiLCJEVF9JTlQ4IiwiRFRfSU5UMTYiLCJEVF9JTlQzMiIsIkRUX1VJTlQ4IiwiRFRfVUlOVDE2IiwiRFRfVUlOVDMyIiwiRFRfSU5WQUxJRCIsImdldERyYWNvRGF0YVR5cGUiLCJHZXRBdHRyaWJ1dGVEYXRhQXJyYXlGb3JBbGxQb2ludHMiLCJ1bmlxdWVJZCIsImF0dHJpYnV0ZVVuaXF1ZUlkIiwidGhpc0F0dHJpYnV0ZVR5cGUiLCJkcmFjb0F0dHJpYnV0ZUNvbnN0YW50IiwiZW50cnlOYW1lIiwiZHJhY29NZXRhZGF0YSIsIkdldE1ldGFkYXRhIiwiX2dldERyYWNvTWV0YWRhdGEiLCJHZXRBdHRyaWJ1dGVNZXRhZGF0YSIsIm51bUVudHJpZXMiLCJOdW1FbnRyaWVzIiwiZW50cnlJbmRleCIsIkdldEVudHJ5TmFtZSIsIl9nZXREcmFjb01ldGFkYXRhRmllbGQiLCJHZXRJbnRFbnRyeUFycmF5IiwiZ2V0SW50MzJBcnJheSIsImludCIsIkdldEludEVudHJ5IiwiR2V0U3RyaW5nRW50cnkiLCJkb3VibGUiLCJHZXREb3VibGVFbnRyeSIsInF1YW50aXplZEF0dHJpYnV0ZXMiLCJvY3RhaGVkcm9uQXR0cmlidXRlcyIsInNraXBBdHRyaWJ1dGVzIiwiZHJhY29BdHRyaWJ1dGVOYW1lIiwiU2tpcEF0dHJpYnV0ZVRyYW5zZm9ybSIsIm1hcCIsInRyYW5zZm9ybSIsIkF0dHJpYnV0ZVF1YW50aXphdGlvblRyYW5zZm9ybSIsIkluaXRGcm9tQXR0cmlidXRlIiwicXVhbnRpemF0aW9uX2JpdHMiLCJyYW5nZSIsIm1pbl92YWx1ZXMiLCJtaW5fdmFsdWUiLCJTVEFUSUNfREVDT0RFUl9VUkwiLCJEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMiLCJEUkFDT19FWFRFUk5BTF9MSUJSQVJZX1VSTFMiLCJsb2FkRGVjb2RlclByb21pc2UiLCJtb2R1bGVzIiwiZHJhY28zZCIsImNyZWF0ZURlY29kZXJNb2R1bGUiLCJ0aGVuIiwiRHJhY29EZWNvZGVyTW9kdWxlIiwid2FzbUJpbmFyeSIsImFsbCIsIm9uTW9kdWxlTG9hZGVkIiwiaW5pdGlhbGl6ZURyYWNvRGVjb2RlciIsImxvYWREcmFjb0RlY29kZXIiLCJsb2FkRHJhY29EZWNvZGVyTW9kdWxlIiwiZHJhY29QYXJzZXIiLCJwYXJzZUZyb21Db250ZXh0IiwicGFyc2VJbWFnZU5vZGUiLCJJTUFHRV9TVVBQT1JURUQiLCJJbWFnZSIsIklNQUdFX0JJVE1BUF9TVVBQT1JURUQiLCJOT0RFX0lNQUdFX1NVUFBPUlRFRCIsIkRBVEFfU1VQUE9SVEVEIiwiZ2V0SW1hZ2VUeXBlIiwiaW1hZ2UiLCJmb3JtYXQiLCJ3aWR0aCIsImhlaWdodCIsImdldEltYWdlVHlwZU9yTnVsbCIsImdldEltYWdlRGF0YSIsImNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwiU1ZHX0RBVEFfVVJMX1BBVFRFUk4iLCJTVkdfVVJMX1BBVFRFUk4iLCJpc1NWRyIsImdldEJsb2IiLCJwYXJzZVRvSW1hZ2UiLCJibG9iT3JEYXRhVXJsIiwieG1sVGV4dCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZ2V0QmxvYk9yU1ZHRGF0YVVybCIsInNlbGYiLCJ3ZWJraXRVUkwiLCJvYmplY3RVcmwiLCJzcmMiLCJsb2FkVG9JbWFnZSIsInJldm9rZU9iamVjdFVSTCIsIkVNUFRZX09CSkVDVCIsImltYWdlYml0bWFwT3B0aW9uc1N1cHBvcnRlZCIsIkJJR19FTkRJQU4iLCJMSVRUTEVfRU5ESUFOIiwiZ2V0QmluYXJ5SW1hZ2VNZXRhZGF0YSIsImJpbmFyeURhdGEiLCJ0b0RhdGFWaWV3IiwiZ2V0VWludDMyIiwiZ2V0UG5nTWV0YWRhdGEiLCJnZXRVaW50MTYiLCJ0YWJsZU1hcmtlcnMiLCJzb2ZNYXJrZXJzIiwiZ2V0SnBlZ01hcmtlcnMiLCJtYXJrZXIiLCJoYXMiLCJnZXRKcGVnTWV0YWRhdGEiLCJnZXRHaWZNZXRhZGF0YSIsImdldEJtcE1ldGFkYXRhIiwibWVkaWFUeXBlIiwiaGVhZGVyQnl0ZXMiLCJjaGFyYWN0ZXIiLCJjaGFyQ29kZUF0IiwiY2hlY2tTdHJpbmciLCJ0cmltIiwiZGVjb2RlTWFqb3JCcmFuZCIsImdldElTT0JNRkZNZWRpYVR5cGUiLCJnZXRJU09CTUZGTWV0YWRhdGEiLCJJbWFnZUxvYWRlciIsImltYWdlVHlwZSIsImdldERlZmF1bHRJbWFnZVR5cGUiLCJpc0ltYWdlVHlwZVN1cHBvcnRlZCIsImdldExvYWRhYmxlSW1hZ2VUeXBlIiwiaW1hZ2ViaXRtYXBPcHRpb25zIiwiaW1hZ2ViaXRtYXAiLCJpc0VtcHR5T2JqZWN0IiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJzYWZlQ3JlYXRlSW1hZ2VCaXRtYXAiLCJwYXJzZVRvSW1hZ2VCaXRtYXAiLCJwYXJzZVRvTm9kZUltYWdlIiwibG9hZEJhc2lzVHJhbnNjb2RlclByb21pc2UiLCJsb2FkQmFzaXNFbmNvZGVyUHJvbWlzZSIsImxvYWRCYXNpc1RyYW5zY29kZXJNb2R1bGUiLCJnZXRKU01vZHVsZU9yTnVsbCIsIkJBU0lTIiwiQmFzaXNNb2R1bGUiLCJCYXNpc0ZpbGUiLCJpbml0aWFsaXplQmFzaXMiLCJpbml0aWFsaXplQmFzaXNUcmFuc2NvZGVyTW9kdWxlIiwibG9hZEJhc2lzVHJhbnNjb2RlciIsImxvYWRCYXNpc0VuY29kZXJNb2R1bGUiLCJiYXNpc0VuY29kZXIiLCJCQVNJU19FTkNPREVSIiwiQmFzaXNFbmNvZGVyTW9kdWxlIiwiS1RYMkZpbGUiLCJCYXNpc0VuY29kZXIiLCJpbml0aWFsaXplQmFzaXNFbmNvZGVyTW9kdWxlIiwibG9hZEJhc2lzRW5jb2RlciIsIkJST1dTRVJfUFJFRklYRVMiLCJXRUJHTF9FWFRFTlNJT05TIiwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiLCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiIiwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEiLCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIiwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIiwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0YyIsIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiwiRVhUX3RleHR1cmVfY29tcHJlc3Npb25fcmd0YyIsImZvcm1hdHMiLCJLVFgyX0lEIiwiT3V0cHV0Rm9ybWF0IiwiZXRjMSIsImJhc2lzRm9ybWF0IiwiY29tcHJlc3NlZCIsImV0YzIiLCJiYzEiLCJiYzMiLCJiYzQiLCJiYzUiLCJyZ2JhMzIiLCJyZ2I1NjUiLCJiZ3I1NjUiLCJyZ2JhNDQ0NCIsInBhcnNlQmFzaXNGaWxlIiwiYmFzaXNGaWxlIiwic3RhcnRUcmFuc2NvZGluZyIsImltYWdlQ291bnQiLCJnZXROdW1JbWFnZXMiLCJpbWFnZXMiLCJpbWFnZUluZGV4IiwibGV2ZWxzQ291bnQiLCJnZXROdW1MZXZlbHMiLCJsZXZlbHMiLCJsZXZlbEluZGV4IiwidHJhbnNjb2RlSW1hZ2UiLCJjbG9zZSIsImRlbGV0ZSIsImdldEltYWdlV2lkdGgiLCJnZXRJbWFnZUhlaWdodCIsImhhc0FscGhhIiwiZ2V0SGFzQWxwaGEiLCJnZXRCYXNpc09wdGlvbnMiLCJkZWNvZGVkU2l6ZSIsImdldEltYWdlVHJhbnNjb2RlZFNpemVJbkJ5dGVzIiwiZGVjb2RlZERhdGEiLCJwYXJzZUtUWDJGaWxlIiwia3R4MkZpbGUiLCJnZXRMZXZlbHMiLCJ0cmFuc2NvZGVLVFgySW1hZ2UiLCJhbHBoYUZsYWciLCJnZXRJbWFnZUxldmVsSW5mbyIsImxldmVsU2l6ZSIsImJhc2lzIiwic2VsZWN0U3VwcG9ydGVkQmFzaXNGb3JtYXQiLCJhbHBoYSIsIm5vQWxwaGEiLCJzdXBwb3J0ZWRGb3JtYXRzIiwiZ2wiLCJnZXRXZWJHTENvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJncHVUZXh0dXJlRm9ybWF0IiwiZ2V0U3VwcG9ydGVkR1BVVGV4dHVyZUZvcm1hdHMiLCJCYXNpc0xvYWRlciIsImNvbnRhaW5lckZvcm1hdCIsImlzS1RYIiwiZmlsZUNvbnN0cnVjdG9ycyIsInBhZFRvTkJ5dGVzIiwicGFkZGluZyIsImNvcHlUb0FycmF5IiwidGFyZ2V0T2Zmc2V0Iiwic3JjQnl0ZU9mZnNldCIsInNyY0J5dGVMZW5ndGgiLCJNQUdJQ19nbFRGIiwicGFyc2VKU09OQ2h1bmsiLCJnbGIiLCJqc29uQ2h1bmsiLCJqc29uVGV4dCIsInBhcnNlQklOQ2h1bmsiLCJoYXNCaW5DaHVuayIsImJpbkNodW5rcyIsInJlc29sdmVVcmwiLCJDT01QT05FTlRTIiwiU0NBTEFSIiwiVkVDMiIsIlZFQzMiLCJWRUM0IiwiTUFUMiIsIk1BVDMiLCJNQVQ0IiwiQllURVMiLCJUWVBFUyIsIkFSUkFZX0NPTlNUUlVDVE9SX1RPX1dFQkdMX0NPTlNUQU5UIiwiQVJSQVlfVE9fQ09NUE9ORU5UX1RZUEUiLCJBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTIiwiQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRSIsIkFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWSIsImdldEFjY2Vzc29yVHlwZUZyb21TaXplIiwiZ2V0Q29tcG9uZW50VHlwZUZyb21BcnJheSIsInR5cGVkQXJyYXkiLCJjb21wb25lbnRUeXBlIiwiZ2V0QWNjZXNzb3JBcnJheVR5cGVBbmRMZW5ndGgiLCJhY2Nlc3NvciIsImJ1ZmZlclZpZXciLCJBcnJheVR5cGUiLCJjb21wb25lbnRzIiwiYnl0ZXNQZXJDb21wb25lbnQiLCJjb21wb25lbnRCeXRlU2l6ZSIsIm51bWJlck9mQ29tcG9uZW50c0luRWxlbWVudCIsIkdMVEZTY2VuZWdyYXBoIiwiZ2x0ZiIsInNvdXJjZUJ1ZmZlcnMiLCJhc3NldCIsImdlbmVyYXRvciIsImJ1ZmZlcnMiLCJleHRlbnNpb25zUmVxdWlyZWQiLCJleHRlbnNpb25zVXNlZCIsImdldEFwcGxpY2F0aW9uRGF0YSIsImdldEV4dHJhRGF0YSIsImV4dHJhcyIsImhhc0V4dGVuc2lvbiIsImV4dGVuc2lvbk5hbWUiLCJpc1VzZWRFeHRlbnNpb24iLCJnZXRVc2VkRXh0ZW5zaW9ucyIsImlzUmVxdWlyZWRFeHRlbnNpb24iLCJnZXRSZXF1aXJlZEV4dGVuc2lvbnMiLCJpc0V4dGVuc2lvbiIsImdldFJlcXVpcmVkRXh0ZW5zaW9uIiwiZ2V0UmVtb3ZlZEV4dGVuc2lvbnMiLCJleHRlbnNpb25zUmVtb3ZlZCIsImdldE9iamVjdEV4dGVuc2lvbiIsImdldFNjZW5lIiwiaW5kZXgiLCJnZXRPYmplY3QiLCJnZXROb2RlIiwiZ2V0U2tpbiIsImdldE1lc2giLCJnZXRNYXRlcmlhbCIsImdldEFjY2Vzc29yIiwiZ2V0VGV4dHVyZSIsImdldFNhbXBsZXIiLCJnZXRJbWFnZSIsImdldEJ1ZmZlclZpZXciLCJnZXRCdWZmZXIiLCJnZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyIsImJ1ZmZlckluZGV4IiwiYmluQ2h1bmsiLCJnZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IiLCJnbHRmQWNjZXNzb3IiLCJhY2Nlc3NvcnMiLCJidWZmZXJWaWV3cyIsImJ1ZmZlckJ5dGVPZmZzZXQiLCJlbGVtZW50Qnl0ZVNpemUiLCJlbGVtZW50QWRkcmVzc1NjYWxlIiwiZ2V0VHlwZWRBcnJheUZvckltYWdlRGF0YSIsImFkZEFwcGxpY2F0aW9uRGF0YSIsImFkZEV4dHJhRGF0YSIsImFkZE9iamVjdEV4dGVuc2lvbiIsInJlZ2lzdGVyVXNlZEV4dGVuc2lvbiIsInNldE9iamVjdEV4dGVuc2lvbiIsInJlbW92ZU9iamVjdEV4dGVuc2lvbiIsImFkZEV4dGVuc2lvbiIsImV4dGVuc2lvbkRhdGEiLCJhZGRSZXF1aXJlZEV4dGVuc2lvbiIsInJlZ2lzdGVyUmVxdWlyZWRFeHRlbnNpb24iLCJleHQiLCJyZW1vdmVFeHRlbnNpb24iLCJfcmVtb3ZlU3RyaW5nRnJvbUFycmF5Iiwic2V0RGVmYXVsdFNjZW5lIiwic2NlbmVJbmRleCIsInNjZW5lIiwiYWRkU2NlbmUiLCJub2RlSW5kaWNlcyIsInNjZW5lcyIsIm5vZGVzIiwiYWRkTm9kZSIsIm5vZGUiLCJtZXNoSW5kZXgiLCJtYXRyaXgiLCJub2RlRGF0YSIsIm1lc2giLCJhZGRNZXNoIiwibWF0ZXJpYWwiLCJnbFRGTWVzaCIsInByaW1pdGl2ZXMiLCJfYWRkQXR0cmlidXRlcyIsImluZGljZXNBY2Nlc3NvciIsIl9hZGRJbmRpY2VzIiwibWVzaGVzIiwiYWRkUG9pbnRDbG91ZCIsImFkZEltYWdlIiwiaW1hZ2VEYXRhIiwibWltZVR5cGVPcHQiLCJnbFRGSW1hZ2UiLCJhZGRCdWZmZXJWaWV3IiwiZ2xURkJ1ZmZlclZpZXciLCJhZGRBY2Nlc3NvciIsImJ1ZmZlclZpZXdJbmRleCIsImdsVEZBY2Nlc3NvciIsImFkZEJpbmFyeUJ1ZmZlciIsInNvdXJjZUJ1ZmZlciIsIm1pbk1heCIsIl9nZXRBY2Nlc3Nvck1pbk1heCIsImFjY2Vzc29yRGVmYXVsdHMiLCJyb3VuZCIsImFkZFRleHR1cmUiLCJ0ZXh0dXJlIiwiZ2xURlRleHR1cmUiLCJ0ZXh0dXJlcyIsImFkZE1hdGVyaWFsIiwicGJyTWF0ZXJpYWxJbmZvIiwibWF0ZXJpYWxzIiwiY3JlYXRlQmluYXJ5Q2h1bmsiLCJ0b3RhbEJ5dGVMZW5ndGgiLCJ0YXJnZXRBcnJheSIsImRzdEJ5dGVPZmZzZXQiLCJmb3VuZCIsInNwbGljZSIsImF0dHJpYnV0ZUtleSIsImF0dHJpYnV0ZURhdGEiLCJhdHRyTmFtZSIsIl9nZXRHbHRmQXR0cmlidXRlTmFtZSIsImluaXRWYWx1ZXMiLCJzdWJhcnJheSIsImNvbXBvbmVudEluZGV4IiwiZW1vZCIsIm4iLCJCT09MRUFOIiwiU1RSSU5HIiwiRU5VTSIsIklOVDgiLCJVSU5UOCIsIklOVDE2IiwiVUlOVDE2IiwiSU5UMzIiLCJVSU5UMzIiLCJJTlQ2NCIsIkJpZ0ludDY0QXJyYXkiLCJVSU5UNjQiLCJCaWdVaW50NjRBcnJheSIsIkZMT0FUMzIiLCJGTE9BVDY0IiwiZ2V0QXJyYXlFbGVtZW50Qnl0ZVNpemUiLCJnZXRPZmZzZXRzRm9yUHJvcGVydHkiLCJzY2VuZWdyYXBoIiwib2Zmc2V0VHlwZSIsIm51bWJlck9mRWxlbWVudHMiLCJhcnJheU9mZnNldHMiLCJjb252ZXJ0UmF3QnVmZmVyVG9NZXRhZGF0YUFycmF5IiwiZWxlbWVudENvdW50IiwiZ2V0UHJpbWl0aXZlVGV4dHVyZURhdGEiLCJ0ZXh0dXJlSW5mbyIsInByaW1pdGl2ZSIsInRleENvb3JkQWNjZXNzb3JLZXkiLCJ0ZXhDb29yZCIsInRleENvb3JkQWNjZXNzb3JJbmRleCIsInRleHR1cmVDb29yZGluYXRlcyIsInRleHR1cmVJbmRleCIsInBhcnNlZEltYWdlIiwidGV4dHVyZURhdGEiLCJnZXRJbWFnZVZhbHVlQnlDb29yZGluYXRlcyIsImNoYW5uZWxzIiwicHJpbWl0aXZlUHJvcGVydHlEYXRhVG9BdHRyaWJ1dGVzIiwicHJvcGVydHlEYXRhIiwiZmVhdHVyZVRhYmxlIiwiZmVhdHVyZUluZGljZXMiLCJ0ZXhlbERhdGEiLCJmaW5kSW5kZXgiLCJpdGVtIiwiYWNjZXNzb3JJbmRleCIsIkNIQU5ORUxTX01BUCIsInIiLCJnIiwidSIsImNvbXBvbmVudHNDb3VudCIsImlYIiwiaW5kWCIsImgiLCJpWSIsImNvb3JkaW5hdGVzVG9PZmZzZXQiLCJjIiwiaW1hZ2VPZmZzZXQiLCJwYXJzZVZhcmlhYmxlTGVuZ3RoQXJyYXlOdW1lcmljIiwidmFsdWVzRGF0YSIsInZhbHVlc0RhdGFCeXRlc0xlbmd0aCIsInZhbHVlU2l6ZSIsImF0dHJpYnV0ZVZhbHVlQXJyYXkiLCJhcnJheU9mZnNldCIsImFycmF5Qnl0ZVNpemUiLCJ0eXBlZEFycmF5T2Zmc2V0IiwicGFyc2VGaXhlZExlbmd0aEFycmF5TnVtZXJpYyIsImFycmF5Q291bnQiLCJlbGVtZW50T2Zmc2V0IiwiZ2V0UHJvcGVydHlEYXRhU3RyaW5nIiwidmFsdWVzRGF0YUJ5dGVzIiwic3RyaW5nT2Zmc2V0cyIsInN0cmluZ3NBcnJheSIsInRleHREZWNvZGVyIiwic3RyaW5nT2Zmc2V0Iiwic3RyaW5nQnl0ZVNpemUiLCJzdHJpbmdEYXRhIiwic3RyaW5nQXR0cmlidXRlIiwiRVhUX01FU0hfRkVBVFVSRVNfTkFNRSIsImdsdGZEYXRhIiwicHJvY2Vzc01lc2hQcmltaXRpdmVGZWF0dXJlcyIsImRlY29kZUV4dE1lc2hGZWF0dXJlcyIsImVuY29kZUV4dE1lc2hGZWF0dXJlc0ZvclByaW1pdGl2ZSIsImVuY29kZUV4dE1lc2hGZWF0dXJlcyIsImxvYWRCdWZmZXJzIiwiZmVhdHVyZUlkcyIsImZlYXR1cmVJZCIsImZlYXR1cmVJZERhdGEiLCJhY2Nlc3NvcktleSIsImxvYWRJbWFnZXMiLCJjcmVhdGVFeHRNZXNoRmVhdHVyZXMiLCJmZWF0dXJlSWRBcnJheSIsInByb3BlcnR5VGFibGVJbmRleCIsImZlYXR1cmVDb3VudCIsInByb3BlcnR5VGFibGUiLCJlbGVtZW50SW5kZXgiLCJhdHRycyIsImtleXMiLCJmaWx0ZXIiLCJzdWJzdHJpbmciLCJjcmVhdGVBY2Nlc3NvcktleSIsIkVYVF9TVFJVQ1RVUkFMX01FVEFEQVRBX05BTUUiLCJwcm9wZXJ0eVRleHR1cmVzIiwicHJvY2Vzc1ByaW1pdGl2ZVByb3BlcnR5VGV4dHVyZXMiLCJkZWNvZGVQcm9wZXJ0eVRleHR1cmVzIiwic2NoZW1hQ2xhc3NlcyIsImNsYXNzZXMiLCJwcm9wZXJ0eVRhYmxlcyIsInNjaGVtYU5hbWUiLCJmaW5kUHJvcGVydHlUYWJsZUJ5Q2xhc3MiLCJwcm9jZXNzUHJvcGVydHlUYWJsZSIsImRlY29kZVByb3BlcnR5VGFibGVzIiwiZGVjb2RlRXh0U3RydWN0dXJhbE1ldGFkYXRhIiwiY2xhc3NJZCIsImNsYXNzIiwic2NoZW1hQ2xhc3MiLCJwcm9wZXJ0aWVzIiwiZW5jb2RlUHJvcGVydGllcyIsImVuY29kZUV4dFN0cnVjdHVyYWxNZXRhZGF0YSIsInNjaGVtYUNsYXNzTmFtZSIsInByaW1pdGl2ZUV4dGVuc2lvbiIsInByaW1pdGl2ZVByb3BlcnR5VGV4dHVyZUluZGljZXMiLCJwcmltaXRpdmVQcm9wZXJ0eVRleHR1cmVJbmRleCIsInByb2Nlc3NQcmltaXRpdmVQcm9wZXJ0eVRleHR1cmUiLCJwcm9wZXJ0eVRleHR1cmUiLCJkYXRhQXR0cmlidXRlTmFtZXMiLCJjbGFzc05hbWUiLCJwcm9wZXJ0eU5hbWUiLCJ0ZXh0dXJlSW5mb1RvcExldmVsIiwiZmVhdHVyZVRleHR1cmVUYWJsZSIsImNsYXNzUHJvcGVydHkiLCJwcm9wZXJ0eVRhYmxlUHJvcGVydHkiLCJnZXRQcm9wZXJ0eURhdGFGcm9tQmluYXJ5U291cmNlIiwidmFsdWVzQnVmZmVyVmlldyIsImFycmF5T2Zmc2V0VHlwZSIsImdldEFycmF5T2Zmc2V0c0ZvclByb3BlcnR5Iiwic3RyaW5nT2Zmc2V0VHlwZSIsImdldFN0cmluZ09mZnNldHNGb3JQcm9wZXJ0eSIsImVsZW1lbnRTaXplIiwiZ2V0UHJvcGVydHlEYXRhTnVtZXJpYyIsImVudW1UeXBlIiwiZW51bUVudHJ5IiwiZW51bXMiLCJlbnVtVmFsdWVUeXBlIiwidmFsdWVUeXBlIiwicGFyYW1zIiwiZ2V0RW51bXNBcnJheSIsInBhcnNlVmFyaWFibGVMZW5ndGhBcnJheUVOVU0iLCJwYXJzZUZpeGVkTGVuZ3RoQXJyYXlFTlVNIiwiZ2V0UHJvcGVydHlEYXRhRU5VTSIsImVudW1PYmplY3QiLCJnZXRFbnVtQnlWYWx1ZSIsImVudW1WYWx1ZSIsInRhYmxlUHJvcGVydHkiLCJjcmVhdGVQcm9wZXJ0eVRhYmxlUHJvcGVydHkiLCJjcmVhdGVFeHRTdHJ1Y3R1cmFsTWV0YWRhdGEiLCJwcm9wZXJ0eUF0dHJpYnV0ZXMiLCJzY2hlbWFUb1VwZGF0ZSIsImVsZW1lbnRUeXBlIiwiY3JlYXRlU2NoZW1hIiwiY3JlYXRlUHJvcGVydHlUYWJsZSIsInByb3AiLCJzdHJpbmdzIiwidXRmOEVuY29kZSIsImFyciIsInN0ciIsInVpbnQ4QXJyYXkiLCJzdHJBcnJheSIsInN0ck9mZnNldHMiLCJjcmVhdGVQcm9wZXJ0eURhdGFTdHJpbmciLCJjcmVhdGVCdWZmZXJWaWV3IiwibnVtYmVyQXJyYXkiLCJDb25zdHJ1Y3QiLCJDT01QT05FTlRfVFlQRV9UT19BUlJBWV9DT05TVFJVQ1RPUiIsImNyZWF0ZVByb3BlcnR5RGF0YVNjYWxhciIsImRldGVjdG9yIiwid2FzbXBhY2siLCJGSUxURVJTIiwiTk9ORSIsIk9DVEFIRURSQUwiLCJRVUFURVJOSU9OIiwiRVhQT05FTlRJQUwiLCJERUNPREVSUyIsIkFUVFJJQlVURVMiLCJUUklBTkdMRVMiLCJJTkRJQ0VTIiwid2FzbVByb21pc2UiLCJFWFRfTUVTSE9QVF9DT01QUkVTU0lPTiIsImRlY29tcHJlc3NNZXNoZXMiLCJwcm9taXNlcyIsImRlY29kZU1lc2hvcHRCdWZmZXJWaWV3IiwibWVzaG9wdEV4dGVuc2lvbiIsImluc3RhbmNlIiwid2FzbSIsInZhbGlkYXRlIiwiaW5zdGFudGlhdGUiLCJjaCIsIndyaXRlIiwidW5wYWNrIiwiZXhwb3J0cyIsIl9fd2FzbV9jYWxsX2N0b3JzIiwibG9hZFdhc21Nb2R1bGUiLCJsb2FkV2FzbUluc3RhbmNlIiwiZnVuIiwic2JyayIsImNvdW50NCIsInRwIiwic3AiLCJoZWFwIiwibWVtb3J5IiwicmVzIiwibWVzaG9wdERlY29kZUdsdGZCdWZmZXIiLCJtaW1lVHlwZVN1cHBvcnRlZFN5bmMiLCJpc0ltYWdlRm9ybWF0U3VwcG9ydGVkIiwic3VwcG9ydGVkIiwidG9EYXRhVVJMIiwidGVzdEJyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQiLCJjaGVja0Jyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQiLCJpbWFnZUZvcm1hdHNOb2RlIiwiY2hlY2tOb2RlSW1hZ2VGb3JtYXRTdXBwb3J0IiwiRVhUX1RFWFRVUkVfV0VCUCIsInByZXByb2Nlc3MiLCJLSFJfVEVYVFVSRV9CQVNJU1UiLCJnZXRHTFRGQWNjZXNzb3IiLCJjb252ZXJ0VHlwZWRBcnJheXMiLCJ0b1R5cGVkQXJyYXkiLCJnZXRBY2Nlc3NvckRhdGEiLCJLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiIsIm1ha2VNZXNoUHJpbWl0aXZlSXRlcmF0b3IiLCJkZWNvbXByZXNzUHJpbWl0aXZlIiwiY29tcHJlc3NNZXNoIiwiZHJhY29FeHRlbnNpb24iLCJidWZmZXJDb3B5IiwiZHJhY29PcHRpb25zIiwiZGVjb2RlZEF0dHJpYnV0ZXMiLCJnZXRHTFRGQWNjZXNzb3JzIiwiZGVjb2RlZEF0dHJpYnV0ZSIsImNoZWNrUHJpbWl0aXZlIiwiRHJhY29Xcml0ZXIiLCJjb21wcmVzc2VkRGF0YSIsImVuY29kZVN5bmMiLCJmYXV4QWNjZXNzb3JzIiwiX2FkZEZhdXhBdHRyaWJ1dGVzIiwibWF0aGdsIiwicHJlY2lzaW9uIiwicHJpbnRUeXBlcyIsInByaW50RGVncmVlcyIsInByaW50Um93TWFqb3IiLCJfY2FydG9ncmFwaGljUmFkaWFucyIsImZvcm1hdFZhbHVlIiwicGFyc2VGbG9hdCIsImVxdWFscyIsImVwc2lsb24iLCJvbGRFcHNpbG9uIiwiYWJzIiwiTWF0aEFycmF5IiwiY2xvbmUiLCJjb3B5IiwiZnJvbUFycmF5IiwiRUxFTUVOVFMiLCJjaGVjayIsInRvQXJyYXkiLCJ0b09iamVjdCIsInRhcmdldE9iamVjdCIsImFycmF5T3JPYmplY3QiLCJmcm9tT2JqZWN0IiwidG8iLCJ0b1RhcmdldCIsInRvRmxvYXQzMkFycmF5IiwiZm9ybWF0U3RyaW5nIiwiZXhhY3RFcXVhbHMiLCJuZWdhdGUiLCJsZXJwIiwidCIsImFpIiwiZW5kVmFsdWUiLCJ2ZWN0b3IiLCJjbGFtcCIsIm1pblZlY3RvciIsIm1heFZlY3RvciIsInZlY3RvcnMiLCJzdWJ0cmFjdCIsInNjYWxlIiwibXVsdGlwbHlCeVNjYWxhciIsInNjYWxhciIsInZhbGlkIiwic3ViIiwic2V0U2NhbGFyIiwiYWRkU2NhbGFyIiwic3ViU2NhbGFyIiwibXVsdGlwbHlTY2FsYXIiLCJkaXZpZGVTY2FsYXIiLCJjbGFtcFNjYWxhciIsImVsZW1lbnRzIiwiY2hlY2tOdW1iZXIiLCJWZWN0b3IiLCJsZW5ndGhTcXVhcmVkIiwibWFnbml0dWRlIiwibWFnbml0dWRlU3F1YXJlZCIsImRpc3RhbmNlIiwibWF0aEFycmF5IiwiZGlzdGFuY2VTcXVhcmVkIiwiZGlzdCIsInByb2R1Y3QiLCJkaXZpZGUiLCJsZW5ndGhTcSIsImRpc3RhbmNlVG8iLCJkaXN0YW5jZVRvU3F1YXJlZCIsImdldENvbXBvbmVudCIsInNldENvbXBvbmVudCIsImFkZFZlY3RvcnMiLCJzdWJWZWN0b3JzIiwibXVsdGlwbHlWZWN0b3JzIiwiYWRkU2NhbGVkVmVjdG9yIiwidHJhbnNmb3JtTWF0MyIsIk9SSUdJTiIsIlpFUk8iLCJWZWN0b3IzIiwiZnJlZXplIiwiYW5nbGUiLCJtYWciLCJjb3NpbmUiLCJhY29zIiwicm90YXRlWCIsInJhZGlhbnMiLCJvcmlnaW4iLCJyYWQiLCJwIiwicm90YXRlWSIsInJvdGF0ZVoiLCJtYXRyaXg0IiwidHJhbnNmb3JtQXNQb2ludCIsInRyYW5zZm9ybUFzVmVjdG9yIiwidmVjM190cmFuc2Zvcm1NYXQ0QXNWZWN0b3IiLCJ0cmFuc2Zvcm1CeU1hdHJpeDMiLCJtYXRyaXgzIiwidHJhbnNmb3JtQnlNYXRyaXgyIiwibWF0cml4MiIsInZlYzNfdHJhbnNmb3JtTWF0MiIsInRyYW5zZm9ybUJ5UXVhdGVybmlvbiIsInF1YXRlcm5pb24iLCJ1dngiLCJ1dnkiLCJ1dnoiLCJ1dXZ4IiwidXV2eSIsInV1dnoiLCJ3MiIsIk1hdHJpeCIsInJvdyIsIlJBTksiLCJjb2wiLCJnZXRFbGVtZW50SW5kZXgiLCJnZXRFbGVtZW50Iiwic2V0RWxlbWVudCIsImdldENvbHVtbiIsImNvbHVtbkluZGV4IiwiZmlsbCIsImZpcnN0SW5kZXgiLCJzZXRDb2x1bW4iLCJjb2x1bW5WZWN0b3IiLCJJREVOVElUWV9NQVRSSVgiLCJNYXRyaXgzIiwiSURFTlRJVFkiLCJJREVOVElUWV9NQVRSSVgzIiwiWkVST19NQVRSSVgzIiwiaWRlbnRpdHkiLCJmcm9tUXVhdGVybmlvbiIsIm0wMCIsIm0xMCIsIm0yMCIsIm0wMSIsIm0xMSIsIm0yMSIsIm0wMiIsIm0xMiIsIm0yMiIsInNldFJvd01ham9yIiwiZGV0ZXJtaW5hbnQiLCJ0cmFuc3Bvc2UiLCJtdWx0aXBseUxlZnQiLCJtYXQzX211bHRpcGx5IiwibXVsdGlwbHlSaWdodCIsInJvdGF0ZSIsImZhY3RvciIsIm1hdDNfc2NhbGUiLCJ0cmFuc2xhdGUiLCJ2ZWMiLCJ2ZWMyX3RyYW5zZm9ybU1hdDMiLCJ2ZWM0X3RyYW5zZm9ybU1hdDMiLCJjYWxsZXJOYW1lIiwidmFsaWRhdGVWZWN0b3IiLCJjaGVja1ZlY3RvciIsInRyYW5zZm9ybVZlY3RvciIsInRyYW5zZm9ybVZlY3RvcjIiLCJ0cmFuc2Zvcm1WZWN0b3IzIiwiS0hSX1RFWFRVUkVfVFJBTlNGT1JNIiwic2NyYXRjaFZlY3RvciIsInNjcmF0Y2hSb3RhdGlvbk1hdHJpeCIsInNjcmF0Y2hTY2FsZU1hdHJpeCIsInRyYW5zZm9ybVRleENvb3JkcyIsIm1hdGVyaWFsSW5kZXgiLCJtYXRlcmlhbFRleHR1cmVzIiwicGJyTWV0YWxsaWNSb3VnaG5lc3MiLCJiYXNlQ29sb3JUZXh0dXJlIiwiZW1pc3NpdmVUZXh0dXJlIiwibm9ybWFsVGV4dHVyZSIsIm9jY2x1c2lvblRleHR1cmUiLCJtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUiLCJwcm9jZXNzZWRUZXhDb29yZHMiLCJ0cmFuc2Zvcm1QcmltaXRpdmVzIiwidHJhbnNmb3JtUGFyYW1ldGVycyIsIm9yaWdpbmFsVGV4Q29vcmQiLCJvcmlnaW5hbCIsIm5ld1RleENvb3JkIiwicm90YXRpb24iLCJ0cmFuc2xhdGlvbk1hdHJpeCIsInJvdGF0aW9uTWF0cml4Iiwic2NhbGVNYXRyaXgiLCJtYWtlVHJhbnNmb3JtYXRpb25NYXRyaXgiLCJnZXRUcmFuc2Zvcm1QYXJhbWV0ZXJzIiwidHJhbnNmb3JtUHJpbWl0aXZlIiwidGV4Q29vcmRBY2Nlc3NvciIsInV2IiwibmV3VGV4Q29vcmRBcnJheSIsInVwZGF0ZUdsdGYiLCJvcmlnaW5hbEFjY2Vzc29yIiwiY3JlYXRlQXR0cmlidXRlIiwiS0hSX0xJR0hUU19QVU5DVFVBTCIsImdsdGZTY2VuZWdyYXBoIiwibGlnaHRzIiwibm9kZUV4dGVuc2lvbiIsImxpZ2h0IiwiS0hSX01BVEVSSUFMU19VTkxJVCIsIktIUl9tYXRlcmlhbHNfdW5saXQiLCJ1bmxpdCIsIktIUl9URUNITklRVUVTX1dFQkdMIiwidGVjaG5pcXVlcyIsInRlY2huaXF1ZXNFeHRlbnNpb24iLCJwcm9ncmFtcyIsInNoYWRlcnMiLCJzaGFkZXIiLCJwcm9ncmFtIiwiZnJhZ21lbnRTaGFkZXIiLCJ2ZXJ0ZXhTaGFkZXIiLCJ0ZWNobmlxdWUiLCJyZXNvbHZlVGVjaG5pcXVlcyIsIm1hdGVyaWFsRXh0ZW5zaW9uIiwicmVzb2x2ZVZhbHVlcyIsInVuaWZvcm1zIiwidW5pZm9ybSIsIkVYVF9GRUFUVVJFX01FVEFEQVRBX05BTUUiLCJmZWF0dXJlVGV4dHVyZXMiLCJmZWF0dXJlVGV4dHVyZSIsImZpbmRGZWF0dXJlVGV4dHVyZUJ5Q2xhc3MiLCJoYW5kbGVGZWF0dXJlVGV4dHVyZVByb3BlcnRpZXMiLCJmZWF0dXJlVGFibGVzIiwiZGVjb2RlRXh0RmVhdHVyZU1ldGFkYXRhIiwicHJvcGVydHlUYWJsZU5hbWUiLCJmZWF0dXJlVGV4dHVyZXNOYW1lIiwiZmVhdHVyZVRleHR1cmVQcm9wZXJ0eSIsImdldFByb3BlcnR5RGF0YUZyb21UZXh0dXJlIiwibnVtYmVyT2ZGZWF0dXJlcyIsImZlYXR1cmVUYWJsZVByb3BlcnR5IiwiZGF0YUFycmF5IiwiY29tcG9uZW50Q291bnQiLCJhcnJheU9mZnNldEJ1ZmZlclZpZXciLCJzdHJpbmdPZmZzZXRCdWZmZXJWaWV3Iiwic2NoZW1hUHJvcGVydHkiLCJ0eXBlcyIsImlzTnVtZXJpY1Byb3BlcnR5IiwicHJvY2Vzc1ByaW1pdGl2ZVRleHR1cmVzIiwidXNlRXh0ZW5zaW9uIiwiZXhjbHVkZXMiLCJleGNsdWRlRXh0ZW5zaW9ucyIsIktIUl9CSU5BUllfR0xURiIsIkdMVEZfQVJSQVlTIiwiYW5pbWF0aW9ucyIsInNhbXBsZXJzIiwic2tpbnMiLCJHTFRGX0tFWVMiLCJzYW1wbGVyIiwic2tpbiIsIkdMVEZWMU5vcm1hbGl6ZXIiLCJpZFRvSW5kZXhNYXAiLCJfYWRkQXNzZXQiLCJfY29udmVydFRvcExldmVsT2JqZWN0c1RvQXJyYXlzIiwiX2NvbnZlcnRPYmplY3RJZHNUb0FycmF5SW5kaWNlcyIsIl91cGRhdGVPYmplY3RzIiwiX3VwZGF0ZU1hdGVyaWFsIiwiYXJyYXlOYW1lIiwiX2NvbnZlcnRUb3BMZXZlbE9iamVjdFRvQXJyYXkiLCJtYXBOYW1lIiwib2JqZWN0TWFwIiwiX2NvbnZlcnRJZHNUb0luZGljZXMiLCJfY29udmVydElkVG9JbmRleCIsIl9jb252ZXJ0VGV4dHVyZUlkcyIsIl9jb252ZXJ0TWVzaElkcyIsIl9jb252ZXJ0Tm9kZUlkcyIsIl9jb252ZXJ0U2NlbmVJZHMiLCJjaGlsZCIsInRvcExldmVsQXJyYXlOYW1lIiwiYmFzZUNvbG9yRmFjdG9yIiwibWV0YWxsaWNGYWN0b3IiLCJyb3VnaG5lc3NGYWN0b3IiLCJ0ZXh0dXJlSWQiLCJ0ZXgiLCJ0ZXh0dXJlMmRfMCIsImRpZmZ1c2VUZXgiLCJwYXJzZUdMVEYiLCJhcnJheUJ1ZmZlck9yU3RyaW5nIiwibWFnaWMxIiwiaXNHTEIiLCJfIiwicGFyc2VKU09OIiwiR0xCX0ZJTEVfSEVBREVSX1NJWkUiLCJjb250ZW50Rm9ybWF0IiwicGFyc2VHTEJWMSIsImNodW5rRm9ybWF0Iiwic3RyaWN0IiwicGFyc2VHTEJDaHVua3NTeW5jIiwicGFyc2VHTEJWMiIsInBhcnNlR0xCU3luYyIsIl9nbGIiLCJwYXJzZUdMVEZDb250YWluZXJTeW5jIiwibm9ybWFsaXplR0xURlYxIiwicHJlcHJvY2Vzc0V4dGVuc2lvbnMiLCJpbWFnZUluZGljZXMiLCJzb3J0IiwiZ2V0UmVmZXJlbmNlc0ltYWdlSW5kaWNlcyIsImxvYWRJbWFnZSIsImRlY29kZUV4dGVuc2lvbnMiLCJoYXNPd25Qcm9wZXJ0eSIsIm1pcG1hcHMiLCJHTFRGTG9hZGVyIiwiY29tcGFyZUFycmF5QnVmZmVycyIsImFycmF5QnVmZmVyMSIsImFycmF5QnVmZmVyMiIsImFycmF5MSIsImFycmF5MiIsImNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzIiwic291cmNlcyIsInNvdXJjZUFycmF5cyIsInNvdXJjZTIiLCJyZWR1Y2UiLCJjb25jYXRlbmF0ZUFycmF5QnVmZmVyc0Zyb21BcnJheSIsInNsaWNlQXJyYXlCdWZmZXIiLCJzdWJBcnJheSIsImlzV29ya2VyIiwiaW1wb3J0U2NyaXB0cyIsImlzTW9iaWxlIiwib3JpZW50YXRpb24iLCJOUE1fVEFHIiwiX2xvYWRlcnNnbF8iLCJsb2FkTGlicmFyeVByb21pc2VzIiwibG9hZExpYnJhcnkiLCJsaWJyYXJ5VXJsIiwibW9kdWxlTmFtZSIsImxpYnJhcnlOYW1lIiwibGlicmFyeSIsImdldExpYnJhcnlVcmwiLCJlbmRzV2l0aCIsInJlYWRGaWxlQXNBcnJheUJ1ZmZlciIsImxvYWRBc0FycmF5QnVmZmVyIiwicmVxdWlyZUZyb21GaWxlIiwic2NyaXB0U291cmNlIiwicmVxdWlyZUZyb21TdHJpbmciLCJjYWxsIiwic2NyaXB0IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImxvYWRMaWJyYXJ5RnJvbVN0cmluZyIsInJlYWRGaWxlQXNUZXh0IiwibG9hZEFzVGV4dCIsImxvYWRMaWJyYXJ5RnJvbUZpbGUiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwiYXBwbHkiLCJTdXBwcmVzc2VkRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9