"use strict";(self.webpackChunkansy_2025=self.webpackChunkansy_2025||[]).push([[75],{1556:(t,e,r)=>{function n(t,e,r){if(r=r||t.byteLength,t.byteLength<r||e.byteLength<r)return!1;const n=new Uint8Array(t),s=new Uint8Array(e);for(let t=0;t<n.length;++t)if(n[t]!==s[t])return!1;return!0}function s(...t){return function(t){const e=t.map(t=>t instanceof ArrayBuffer?new Uint8Array(t):t),r=e.reduce((t,e)=>t+e.byteLength,0),n=new Uint8Array(r);let s=0;for(const t of e)n.set(t,s),s+=t.byteLength;return n.buffer}(t)}function o(t,e,r){const n=void 0!==r?new Uint8Array(t).subarray(e,e+r):new Uint8Array(t).subarray(e);return new Uint8Array(n).buffer}r.d(e,{AQ:()=>s,YV:()=>n,_m:()=>o})},1609:(t,e,r)=>{r.d(e,{B:()=>Sr});var n={};r.r(n),r.d(n,{createExtMeshFeatures:()=>Kt,decode:()=>vt,encode:()=>xt,name:()=>Lt});var s={};r.r(s),r.d(s,{createExtStructuralMetadata:()=>te,decode:()=>Qt,encode:()=>Pt,name:()=>_t});var o={};r.r(o),r.d(o,{decode:()=>le,name:()=>Be});var i={};r.r(i),r.d(i,{name:()=>me,preprocess:()=>be});var a={};r.r(a),r.d(a,{name:()=>pe,preprocess:()=>Ee});var c={};r.r(c),r.d(c,{decode:()=>we,encode:()=>Je,name:()=>Me,preprocess:()=>De});var u={};r.r(u),r.d(u,{decode:()=>or,name:()=>er});var A={};r.r(A),r.d(A,{decode:()=>fr,encode:()=>Br,name:()=>Ar});var f={};r.r(f),r.d(f,{decode:()=>dr,encode:()=>Cr,name:()=>hr});var B={};r.r(B),r.d(B,{decode:()=>br,encode:()=>yr,name:()=>mr});var l={};function h(t,e,r){if(t.byteLength<=e+r)return"";const n=new DataView(t);let s="";for(let t=0;t<r;t++)s+=String.fromCharCode(n.getUint8(e+t));return s}r.r(l),r.d(l,{decode:()=>Gr,name:()=>Fr});var d=r(1556);async function C(t,e,r,n){return n._parse(t,e,r,n)}var g=r(4020),m=r(7976);const b=globalThis.loaders?.parseImageNode,y="undefined"!=typeof Image,p="undefined"!=typeof ImageBitmap,E=Boolean(b),F=!!m.Bd||E;function G(t){const e=function(t){return"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&t instanceof Image?"image":t&&"object"==typeof t&&t.data&&t.width&&t.height?"data":null}(t);if(!e)throw new Error("Not an image");return e}function I(t){switch(G(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),r=e.getContext("2d");if(!r)throw new Error("getImageData");return e.width=t.width,e.height=t.height,r.drawImage(t,0,0),r.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}const M=/^data:image\/svg\+xml/,D=/\.svg((\?|#).*)?$/;function w(t){return t&&(M.test(t)||D.test(t))}function J(t,e){if(w(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function T(t,e,r){const n=function(t,e){if(w(e)){let e=(new TextDecoder).decode(t);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(e=unescape(encodeURIComponent(e)))}catch(t){throw new Error(t.message)}return`data:image/svg+xml;base64,${btoa(e)}`}return J(t,e)}(t,r),s=self.URL||self.webkitURL,o="string"!=typeof n&&s.createObjectURL(n);try{return await async function(t,e){const r=new Image;return r.src=t,e.image&&e.image.decode&&r.decode?(await r.decode(),r):await new Promise((t,e)=>{try{r.onload=()=>t(r),r.onerror=t=>{const r=t instanceof Error?t.message:"error";e(new Error(r))}}catch(t){e(t)}})}(o||n,e)}finally{o&&s.revokeObjectURL(o)}}const O={};let R=!0;const H=!1,U=!0;function L(t){const e=v(t);return function(t){const e=v(t);return e.byteLength>=24&&2303741511===e.getUint32(0,H)?{mimeType:"image/png",width:e.getUint32(16,H),height:e.getUint32(20,H)}:null}(e)||function(t){const e=v(t);if(!(e.byteLength>=3&&65496===e.getUint16(0,H)&&255===e.getUint8(2)))return null;const{tableMarkers:r,sofMarkers:n}=function(){const t=new Set([65499,65476,65484,65501,65534]);for(let e=65504;e<65520;++e)t.add(e);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let s=2;for(;s+9<e.byteLength;){const t=e.getUint16(s,H);if(n.has(t))return{mimeType:"image/jpeg",height:e.getUint16(s+5,H),width:e.getUint16(s+7,H)};if(!r.has(t))return null;s+=2,s+=e.getUint16(s,H)}return null}(e)||function(t){const e=v(t);return e.byteLength>=10&&1195984440===e.getUint32(0,H)?{mimeType:"image/gif",width:e.getUint16(6,U),height:e.getUint16(8,U)}:null}(e)||function(t){const e=v(t);return e.byteLength>=14&&16973===e.getUint16(0,H)&&e.getUint32(2,U)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,U),height:e.getUint32(22,U)}:null}(e)||function(t){const e=function(t){return function(t,e,r=0){const n=(s="ftyp",[...s].map(t=>t.charCodeAt(0)));var s;for(let e=0;e<n.length;++e)if(n[e]!==t[e+r])return!1;return!0}(t,0,4)&&96&t[8]?function(t){switch((e=t,String.fromCharCode(...e.slice(8,12))).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}var e}(t):null}(new Uint8Array(t instanceof DataView?t.buffer:t));return e?{mimeType:e.mimeType,width:0,height:0}:null}(e)}function v(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}const x={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:"4.3.3",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(t,e,r){const n=((e=e||{}).image||{}).type||"auto",{url:s}=r||{};let o;switch(function(t){switch(t){case"auto":case"data":return function(){if(p)return"imagebitmap";if(y)return"image";if(F)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(t){switch(t){case"auto":return p||y||F;case"imagebitmap":return p;case"image":return y;case"data":return F;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}(t),t}}(n)){case"imagebitmap":o=await async function(t,e,r){let n;n=w(r)?await T(t,e,r):J(t,r);const s=e&&e.imagebitmap;return await async function(t,e=null){if(!function(t){for(const e in t||O)return!1;return!0}(e)&&R||(e=null),e)try{return await createImageBitmap(t,e)}catch(t){console.warn(t),R=!1}return await createImageBitmap(t)}(n,s)}(t,e,s);break;case"image":o=await T(t,e,s);break;case"data":o=await async function(t){const{mimeType:e}=L(t)||{},r=globalThis.loaders?.parseImageNode;return(0,g.v)(r),await r(t,e)}(t);break;default:(0,g.v)(!1)}return"data"===n&&(o=I(o)),o},tests:[t=>Boolean(L(new DataView(t)))],options:{image:{type:"auto",decode:!0}}};var j=r(8016);let K,S;async function N(t){var e;e=t.modules,globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,e);return function(){const t=globalThis.loaders?.modules?.basis;return t||null}()||(K||=async function(t){let e=null,r=null;return[e,r]=await Promise.all([await(0,j._)("basis_transcoder.js","textures",t),await(0,j._)("basis_transcoder.wasm","textures",t)]),e=e||globalThis.BASIS,await function(t,e){const r={};return e&&(r.wasmBinary=e),new Promise(e=>{t(r).then(t=>{const{BasisFile:r,initializeBasis:n}=t;n(),e({BasisFile:r})})})}(e,r)}(t),await K)}async function _(t){const e=t.modules||{};return e.basisEncoder?e.basisEncoder:(S=S||async function(t){let e=null,r=null;return[e,r]=await Promise.all([await(0,j._)("basis_encoder.js","textures",t),await(0,j._)("basis_encoder.wasm","textures",t)]),e=e||globalThis.BASIS,await function(t,e){const r={};return e&&(r.wasmBinary=e),new Promise(e=>{t(r).then(t=>{const{BasisFile:r,KTX2File:n,initializeBasis:s,BasisEncoder:o}=t;s(),e({BasisFile:r,KTX2File:n,BasisEncoder:o})})})}(e,r)}(t),await S)}const Q=["","WEBKIT_","MOZ_"],P={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let k=null;const X=[171,75,84,88,32,50,48,187,13,10,26,10],Y={etc1:{basisFormat:0,compressed:!0,format:36196},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:33776},bc3:{basisFormat:3,compressed:!0,format:33779},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:35840},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:35842},"astc-4x4":{basisFormat:10,compressed:!0,format:37808},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function W(t,e,r){const n=new t(new Uint8Array(e));try{if(!n.startTranscoding())throw new Error("Failed to start basis transcoding");const t=n.getNumImages(),e=[];for(let s=0;s<t;s++){const t=n.getNumLevels(s),o=[];for(let e=0;e<t;e++)o.push(V(n,s,e,r));e.push(o)}return e}finally{n.close(),n.delete()}}function V(t,e,r,n){const s=t.getImageWidth(e,r),o=t.getImageHeight(e,r),i=t.getHasAlpha(),{compressed:a,format:c,basisFormat:u}=$(n,i),A=t.getImageTranscodedSizeInBytes(e,r,u),f=new Uint8Array(A);if(!t.transcodeImage(f,e,r,u,0,0))throw new Error("failed to start Basis transcoding");return{width:s,height:o,data:f,compressed:a,format:c,hasAlpha:i}}function Z(t,e,r){const n=new t(new Uint8Array(e));try{if(!n.startTranscoding())throw new Error("failed to start KTX2 transcoding");const t=n.getLevels(),e=[];for(let s=0;s<t;s++)e.push(q(n,s,r));return[e]}finally{n.close(),n.delete()}}function q(t,e,r){const{alphaFlag:n,height:s,width:o}=t.getImageLevelInfo(e,0,0),{compressed:i,format:a,basisFormat:c}=$(r,n),u=t.getImageTranscodedSizeInBytes(e,0,0,c),A=new Uint8Array(u);if(!t.transcodeImage(A,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:s,data:A,compressed:i,levelSize:u,hasAlpha:n,format:a}}function $(t,e){let r=t&&t.basis&&t.basis.format;return"auto"===r&&(r=z()),"object"==typeof r&&(r=e?r.alpha:r.noAlpha),r=r.toLowerCase(),Y[r]}function z(){const t=function(t){if(!k){t=t||function(){try{return document.createElement("canvas").getContext("webgl")}catch(t){return null}}()||void 0,k=new Set;for(const e of Q)for(const r in P)if(t&&t.getExtension(`${e}${r}`)){const t=P[r];k.add(t)}}return k}();return t.has("astc")?"astc-4x4":t.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:t.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:t.has("etc1")?"etc1":t.has("etc2")?"etc2":"rgb565"}const tt={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:"4.3.3",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}},parse:async function(t,e){if("auto"===e.basis.containerFormat){if(function(t){const e=new Uint8Array(t);return!(e.byteLength<X.length||e[0]!==X[0]||e[1]!==X[1]||e[2]!==X[2]||e[3]!==X[3]||e[4]!==X[4]||e[5]!==X[5]||e[6]!==X[6]||e[7]!==X[7]||e[8]!==X[8]||e[9]!==X[9]||e[10]!==X[10]||e[11]!==X[11])}(t))return Z((await _(e)).KTX2File,t,e);const{BasisFile:r}=await N(e);return W(r,t,e)}if("encoder"===e.basis.module){const r=await _(e);return"ktx2"===e.basis.containerFormat?Z(r.KTX2File,t,e):W(r.BasisFile,t,e)}{const{BasisFile:r}=await N(e);return W(r,t,e)}}};function et(t,e){if(!t)throw new Error(e||"assert failed: gltf")}function rt(t,e){return(0,g.v)(t>=0),(0,g.v)(e>0),t+(e-1)&~(e-1)}function nt(t,e,r){let n;if(t instanceof ArrayBuffer)n=new Uint8Array(t);else{const e=t.byteOffset,r=t.byteLength;n=new Uint8Array(t.buffer||t.arrayBuffer,e,r)}return e.set(n,r),r+rt(n.byteLength,4)}const st=!0,ot=1735152710;function it(t,e,r,n){const s=new Uint8Array(e.buffer,r,n),o=new TextDecoder("utf8").decode(s);return t.json=JSON.parse(o),rt(n,4)}function at(t,e,r,n){return t.header.hasBinChunk=!0,t.binChunks.push({byteOffset:r,byteLength:n,arrayBuffer:e.buffer}),rt(n,4)}function ct(t,e){if(t.startsWith("data:")||t.startsWith("http:")||t.startsWith("https:"))return t;const r=e.baseUri||e.uri;if(!r)throw new Error(`'baseUri' must be provided to resolve relative url ${t}`);return r.substr(0,r.lastIndexOf("/")+1)+t}const ut={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},At={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ft=["SCALAR","VEC2","VEC3","VEC4"],Bt=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],lt=new Map(Bt),ht={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},dt={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Ct={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function gt(t){return ft[t-1]||ft[0]}function mt(t){const e=lt.get(t.constructor);if(!e)throw new Error("Illegal typed array");return e}function bt(t,e){const r=Ct[t.componentType],n=ht[t.type],s=dt[t.componentType],o=t.count*n,i=t.count*n*s;return et(i>=0&&i<=e.byteLength),{ArrayType:r,length:o,byteLength:i,componentByteSize:At[t.componentType],numberOfComponentsInElement:ut[t.type]}}class yt{gltf;sourceBuffers;byteLength;constructor(t){this.gltf={json:t?.json||{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]},buffers:t?.buffers||[],images:t?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(t){return this.json[t]}getExtraData(t){return(this.json.extras||{})[t]}hasExtension(t){const e=this.getUsedExtensions().find(e=>e===t),r=this.getRequiredExtensions().find(e=>e===t);return"string"==typeof e||"string"==typeof r}getExtension(t){const e=this.getUsedExtensions().find(e=>e===t),r=this.json.extensions||{};return e?r[t]:null}getRequiredExtension(t){return this.getRequiredExtensions().find(e=>e===t)?this.getExtension(t):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(t,e){return(t.extensions||{})[e]}getScene(t){return this.getObject("scenes",t)}getNode(t){return this.getObject("nodes",t)}getSkin(t){return this.getObject("skins",t)}getMesh(t){return this.getObject("meshes",t)}getMaterial(t){return this.getObject("materials",t)}getAccessor(t){return this.getObject("accessors",t)}getTexture(t){return this.getObject("textures",t)}getSampler(t){return this.getObject("samplers",t)}getImage(t){return this.getObject("images",t)}getBufferView(t){return this.getObject("bufferViews",t)}getBuffer(t){return this.getObject("buffers",t)}getObject(t,e){if("object"==typeof e)return e;const r=this.json[t]&&this.json[t][e];if(!r)throw new Error(`glTF file error: Could not find ${t}[${e}]`);return r}getTypedArrayForBufferView(t){const e=(t=this.getBufferView(t)).buffer,r=this.gltf.buffers[e];et(r);const n=(t.byteOffset||0)+r.byteOffset;return new Uint8Array(r.arrayBuffer,n,t.byteLength)}getTypedArrayForAccessor(t){const e=this.getAccessor(t);return function(t,e,r){const n="number"==typeof r?t.accessors?.[r]:r;if(!n)throw new Error(`No gltf accessor ${JSON.stringify(r)}`);const s=t.bufferViews?.[n.bufferView||0];if(!s)throw new Error(`No gltf buffer view for accessor ${s}`);const{arrayBuffer:o,byteOffset:i}=e[s.buffer],a=(i||0)+(n.byteOffset||0)+(s.byteOffset||0),{ArrayType:c,length:u,componentByteSize:A,numberOfComponentsInElement:f}=bt(n,s),B=A*f,l=s.byteStride||B;if(void 0===s.byteStride||s.byteStride===B)return new c(o,a,u);const h=new c(u);for(let t=0;t<n.count;t++){const e=new c(o,a+t*l,f);h.set(e,t*f)}return h}(this.gltf.json,this.gltf.buffers,e)}getTypedArrayForImageData(t){t=this.getAccessor(t);const e=this.getBufferView(t.bufferView),r=this.getBuffer(e.buffer).data,n=e.byteOffset||0;return new Uint8Array(r,n,e.byteLength)}addApplicationData(t,e){return this.json[t]=e,this}addExtraData(t,e){return this.json.extras=this.json.extras||{},this.json.extras[t]=e,this}addObjectExtension(t,e,r){return t.extensions=t.extensions||{},t.extensions[e]=r,this.registerUsedExtension(e),this}setObjectExtension(t,e,r){(t.extensions||{})[e]=r}removeObjectExtension(t,e){const r=t?.extensions||{};if(r[e]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const t=this.json.extensionsRemoved;t.includes(e)||t.push(e)}delete r[e]}addExtension(t,e={}){return et(e),this.json.extensions=this.json.extensions||{},this.json.extensions[t]=e,this.registerUsedExtension(t),e}addRequiredExtension(t,e={}){return et(e),this.addExtension(t,e),this.registerRequiredExtension(t),e}registerUsedExtension(t){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(e=>e===t)||this.json.extensionsUsed.push(t)}registerRequiredExtension(t){this.registerUsedExtension(t),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(e=>e===t)||this.json.extensionsRequired.push(t)}removeExtension(t){if(this.json.extensions?.[t]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const e=this.json.extensionsRemoved;e.includes(t)||e.push(t)}this.json.extensions&&delete this.json.extensions[t],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,t),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,t)}setDefaultScene(t){this.json.scene=t}addScene(t){const{nodeIndices:e}=t;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:e}),this.json.scenes.length-1}addNode(t){const{meshIndex:e,matrix:r}=t;this.json.nodes=this.json.nodes||[];const n={mesh:e};return r&&(n.matrix=r),this.json.nodes.push(n),this.json.nodes.length-1}addMesh(t){const{attributes:e,indices:r,material:n,mode:s=4}=t,o={primitives:[{attributes:this._addAttributes(e),mode:s}]};if(r){const t=this._addIndices(r);o.primitives[0].indices=t}return Number.isFinite(n)&&(o.primitives[0].material=n),this.json.meshes=this.json.meshes||[],this.json.meshes.push(o),this.json.meshes.length-1}addPointCloud(t){const e={primitives:[{attributes:this._addAttributes(t),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(e),this.json.meshes.length-1}addImage(t,e){const r=L(t),n=e||r?.mimeType,s={bufferView:this.addBufferView(t),mimeType:n};return this.json.images=this.json.images||[],this.json.images.push(s),this.json.images.length-1}addBufferView(t,e=0,r=this.byteLength){const n=t.byteLength;et(Number.isFinite(n)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(t);const s={buffer:e,byteOffset:r,byteLength:n};return this.byteLength+=rt(n,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(s),this.json.bufferViews.length-1}addAccessor(t,e){const r={bufferView:t,type:gt(e.size),componentType:e.componentType,count:e.count,max:e.max,min:e.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1}addBinaryBuffer(t,e={size:3}){const r=this.addBufferView(t);let n={min:e.min,max:e.max};n.min&&n.max||(n=this._getAccessorMinMax(t,e.size));const s={size:e.size,componentType:mt(t),count:Math.round(t.length/e.size),min:n.min,max:n.max};return this.addAccessor(r,Object.assign(s,e))}addTexture(t){const{imageIndex:e}=t,r={source:e};return this.json.textures=this.json.textures||[],this.json.textures.push(r),this.json.textures.length-1}addMaterial(t){return this.json.materials=this.json.materials||[],this.json.materials.push(t),this.json.materials.length-1}createBinaryChunk(){const t=this.byteLength,e=new ArrayBuffer(t),r=new Uint8Array(e);let n=0;for(const t of this.sourceBuffers||[])n=nt(t,r,n);this.json?.buffers?.[0]?this.json.buffers[0].byteLength=t:this.json.buffers=[{byteLength:t}],this.gltf.binary=e,this.sourceBuffers=[e],this.gltf.buffers=[{arrayBuffer:e,byteOffset:0,byteLength:e.byteLength}]}_removeStringFromArray(t,e){let r=!0;for(;r;){const n=t.indexOf(e);n>-1?t.splice(n,1):r=!1}}_addAttributes(t={}){const e={};for(const r in t){const n=t[r],s=this._getGltfAttributeName(r),o=this.addBinaryBuffer(n.value,n);e[s]=o}return e}_addIndices(t){return this.addBinaryBuffer(t,{size:1})}_getGltfAttributeName(t){switch(t.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return t}}_getAccessorMinMax(t,e){const r={min:null,max:null};if(t.length<e)return r;r.min=[],r.max=[];const n=t.subarray(0,e);for(const t of n)r.min.push(t),r.max.push(t);for(let n=e;n<t.length;n+=e)for(let s=0;s<e;s++)r.min[0+s]=Math.min(r.min[0+s],t[n+s]),r.max[0+s]=Math.max(r.max[0+s],t[n+s]);return r}}function pt(t){return(t%1+1)%1}const Et={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},Ft={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},Gt={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function It(t,e){return Gt[e]*Et[t]}function Mt(t,e,r,n){if("UINT8"!==r&&"UINT16"!==r&&"UINT32"!==r&&"UINT64"!==r)return null;const s=Dt(t.getTypedArrayForBufferView(e),"SCALAR",r,n+1);return s instanceof BigInt64Array||s instanceof BigUint64Array?null:s}function Dt(t,e,r,n=1){const s=Et[e],o=Ft[r],i=Gt[r],a=n*s,c=a*i;let u=t.buffer,A=t.byteOffset;return A%i!==0&&(u=new Uint8Array(u).slice(A,A+c).buffer,A=0),new o(u,A,a)}function wt(t,e,r){const n=`TEXCOORD_${e.texCoord||0}`,s=r.attributes[n],o=t.getTypedArrayForAccessor(s),i=t.gltf.json,a=e.index,c=i.textures?.[a]?.source;if(void 0!==c){const r=i.images?.[c]?.mimeType,n=t.gltf.images?.[c];if(n&&void 0!==n.width){const t=[];for(let s=0;s<o.length;s+=2){const i=Tt(n,r,o,s,e.channels);t.push(i)}return t}}return[]}function Jt(t,e,r,n,s){if(!r?.length)return;const o=[];for(const t of r){let e=n.findIndex(e=>e===t);-1===e&&(e=n.push(t)-1),o.push(e)}const i=new Uint32Array(o),a=t.gltf.buffers.push({arrayBuffer:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength})-1,c=t.addBufferView(i,a,0),u=t.addAccessor(c,{size:1,componentType:mt(i),count:i.length});s.attributes[e]=u}function Tt(t,e,r,n,s=[0]){const o={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},i=r[n],a=r[n+1];let c=1;!e||-1===e.indexOf("image/jpeg")&&-1===e.indexOf("image/png")||(c=4);const u=function(t,e,r,n=1){const s=r.width,o=pt(t)*(s-1),i=Math.round(o),a=r.height,c=pt(e)*(a-1);return(Math.round(c)*s+i)*(r.components?r.components:n)}(i,a,t,c);let A=0;for(const e of s){const r="number"==typeof e?Object.values(o)[e]:o[e],n=u+r.offset,s=I(t);if(s.data.length<=n)throw new Error(`${s.data.length} <= ${n}`);A|=s.data[n]<<r.shift}return A}function Ot(t,e,r,n,s){const o=[];for(let i=0;i<e;i++){const e=r[i],a=r[i+1]-r[i];if(a+e>n)break;const c=e/s,u=a/s;o.push(t.slice(c,c+u))}return o}function Rt(t,e,r){const n=[];for(let s=0;s<e;s++){const e=s*r;n.push(t.slice(e,e+r))}return n}function Ht(t,e,r,n){if(r)throw new Error("Not implemented - arrayOffsets for strings is specified");if(n){const r=[],s=new TextDecoder("utf8");let o=0;for(let i=0;i<t;i++){const t=n[i+1]-n[i];if(t+o<=e.length){const n=e.subarray(o,t+o),i=s.decode(n);r.push(i),o+=t}}return r}return[]}const Ut="EXT_mesh_features",Lt=Ut;async function vt(t,e){!function(t,e){const r=t.gltf.json;if(r.meshes)for(const n of r.meshes)for(const r of n.primitives)jt(t,r,e)}(new yt(t),e)}function xt(t,e){const r=new yt(t);return function(t){const e=t.gltf.json.meshes;if(e)for(const r of e)for(const e of r.primitives)St(t,e)}(r),r.createBinaryChunk(),r.gltf}function jt(t,e,r){if(!r?.gltf?.loadBuffers)return;const n=e.extensions?.[Ut],s=n?.featureIds;if(s)for(const n of s){let s;if(void 0!==n.attribute){const r=`_FEATURE_ID_${n.attribute}`,o=e.attributes[r];s=t.getTypedArrayForAccessor(o)}else s=void 0!==n.texture&&r?.gltf?.loadImages?wt(t,n.texture,e):[];n.data=s}}function Kt(t,e,r,n){e.extensions||(e.extensions={});let s=e.extensions[Ut];s||(s={featureIds:[]},e.extensions[Ut]=s);const{featureIds:o}=s,i={featureCount:r.length,propertyTable:n,data:r};o.push(i),t.addObjectExtension(e,Ut,s)}function St(t,e){const r=e.extensions?.[Ut];if(!r)return;const n=r.featureIds;n.forEach((r,s)=>{if(r.data){const{accessorKey:o,index:i}=function(t){const e="_FEATURE_ID_",r=Object.keys(t).filter(t=>0===t.indexOf(e));let n=-1;for(const t of r){const e=Number(t.substring(12));e>n&&(n=e)}n++;return{accessorKey:`${e}${n}`,index:n}}(e.attributes),a=new Uint32Array(r.data);n[s]={featureCount:a.length,propertyTable:r.propertyTable,attribute:i},t.gltf.buffers.push({arrayBuffer:a.buffer,byteOffset:a.byteOffset,byteLength:a.byteLength});const c=t.addBufferView(a),u=t.addAccessor(c,{size:1,componentType:mt(a),count:a.length});e.attributes[o]=u}})}const Nt="EXT_structural_metadata",_t=Nt;async function Qt(t,e){!function(t,e){if(!e.gltf?.loadBuffers)return;const r=t.getExtension(Nt);r&&(e.gltf?.loadImages&&function(t,e){const r=e.propertyTextures,n=t.gltf.json;if(r&&n.meshes)for(const s of n.meshes)for(const n of s.primitives)Xt(t,r,n,e)}(t,r),function(t,e){const r=e.schema;if(!r)return;const n=r.classes,s=e.propertyTables;if(n&&s)for(const e in n){const n=kt(s,e);n&&Wt(t,r,n)}}(t,r))}(new yt(t),e)}function Pt(t,e){const r=new yt(t);return function(t){const e=t.getExtension(Nt);if(e&&e.propertyTables)for(const r of e.propertyTables){const n=r.class,s=e.schema?.classes?.[n];r.properties&&s&&zt(r,s,t)}}(r),r.createBinaryChunk(),r.gltf}function kt(t,e){for(const r of t)if(r.class===e)return r;return null}function Xt(t,e,r,n){if(!e)return;const s=r.extensions?.[Nt],o=s?.propertyTextures;if(o)for(const s of o)Yt(t,e[s],r,n)}function Yt(t,e,r,n){if(!e.properties)return;n.dataAttributeNames||(n.dataAttributeNames=[]);const s=e.class;for(const o in e.properties){const i=`${s}_${o}`,a=e.properties?.[o];if(!a)continue;a.data||(a.data=[]);const c=a.data,u=wt(t,a,r);null!==u&&(Jt(t,i,u,c,r),a.data=c,n.dataAttributeNames.push(i))}}function Wt(t,e,r){const n=e.classes?.[r.class];if(!n)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${r.class}`);const s=r.count;for(const o in n.properties){const i=n.properties[o],a=r.properties?.[o];if(a){const r=Vt(t,e,i,s,a);a.data=r}}}function Vt(t,e,r,n,s){let o=[];const i=s.values,a=t.getTypedArrayForBufferView(i),c=function(t,e,r,n){return e.array&&void 0===e.count&&void 0!==r.arrayOffsets?Mt(t,r.arrayOffsets,r.arrayOffsetType||"UINT32",n):null}(t,r,s,n),u=function(t,e,r){return void 0!==e.stringOffsets?Mt(t,e.stringOffsets,e.stringOffsetType||"UINT32",r):null}(t,s,n);switch(r.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":o=function(t,e,r,n){const s=t.array,o=t.count,i=It(t.type,t.componentType),a=r.byteLength/i;let c;return c=t.componentType?Dt(r,t.type,t.componentType,a):r,s?n?Ot(c,e,n,r.length,i):o?Rt(c,e,o):[]:c}(r,n,a,c);break;case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${r.type}`);case"STRING":o=Ht(n,a,c,u);break;case"ENUM":o=function(t,e,r,n,s){const o=e.enumType;if(!o)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const i=t.enums?.[o];if(!i)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${o}`);const a=i.valueType||"UINT16",c=It(e.type,a),u=n.byteLength/c;let A=Dt(n,e.type,a,u);if(A||(A=n),e.array){if(s)return function(t){const{valuesData:e,numberOfElements:r,arrayOffsets:n,valuesDataBytesLength:s,elementSize:o,enumEntry:i}=t,a=[];for(let t=0;t<r;t++){const r=n[t],c=n[t+1]-n[t];if(c+r>s)break;const u=Zt(e,r/o,c/o,i);a.push(u)}return a}({valuesData:A,numberOfElements:r,arrayOffsets:s,valuesDataBytesLength:n.length,elementSize:c,enumEntry:i});const t=e.count;return t?function(t,e,r,n){const s=[];for(let o=0;o<e;o++){const e=Zt(t,r*o,r,n);s.push(e)}return s}(A,r,t,i):[]}return Zt(A,0,r,i)}(e,r,n,a,c);break;default:throw new Error(`Unknown classProperty type ${r.type}`)}return o}function Zt(t,e,r,n){const s=[];for(let o=0;o<r;o++)if(t instanceof BigInt64Array||t instanceof BigUint64Array)s.push("");else{const r=qt(n,t[e+o]);r?s.push(r.name):s.push("")}return s}function qt(t,e){for(const r of t.values)if(r.value===e)return r;return null}const $t="schemaClassId";function zt(t,e,r){for(const n in t.properties){const s=t.properties[n].data;if(s){const o=e.properties[n];if(o){const e=ee(s,o,r);t.properties[n]=e}}}}function te(t,e,r=$t){let n=t.getExtension(Nt);n||(n=t.addExtension(Nt)),n.schema=function(t,e,r){const n=r??{id:"schema_id"},s={properties:{}};for(const e of t){const t={type:e.elementType,componentType:e.componentType};s.properties[e.name]=t}return n.classes={},n.classes[e]=s,n}(e,r,n.schema);const s=function(t,e,r){const n={class:e,count:0};let s=0;const o=r.classes?.[e];for(const e of t){if(0===s&&(s=e.values.length),s!==e.values.length&&e.values.length)throw new Error("Illegal values in attributes");const t=o?.properties[e.name];t&&(n.properties||(n.properties={}),n.properties[e.name]={values:0,data:e.values})}return n.count=s,n}(e,r,n.schema);return n.propertyTables||(n.propertyTables=[]),n.propertyTables.push(s)-1}function ee(t,e,r){const n={values:0};if("STRING"===e.type){const{stringData:e,stringOffsets:s}=function(t){const e=new TextEncoder,r=[];let n=0;for(const s of t){const t=e.encode(s);n+=t.length,r.push(t)}const s=new Uint8Array(n),o=[];let i=0;for(const t of r)s.set(t,i),o.push(i),i+=t.length;o.push(i);return{stringData:s,stringOffsets:new Uint32Array(o)}}(t);n.stringOffsets=ne(s,r),n.values=ne(e,r)}else if("SCALAR"===e.type&&e.componentType){const s=function(t,e){const r=[];for(const e of t)r.push(Number(e));const n=re[e];if(!n)throw new Error("Illegal component type");return new n(r)}(t,e.componentType);n.values=ne(s,r)}return n}const re={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:Int32Array,UINT64:Uint32Array,FLOAT32:Float32Array,FLOAT64:Float64Array};function ne(t,e){return e.gltf.buffers.push({arrayBuffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}),e.addBufferView(t)}const se="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",oe="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",ie=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),ae=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),ce={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ue={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};let Ae;const fe="EXT_meshopt_compression",Be=fe;async function le(t,e){const r=new yt(t);if(!e?.gltf?.decompressMeshes||!e.gltf?.loadBuffers)return;const n=[];for(const e of t.json.bufferViews||[])n.push(he(r,e));await Promise.all(n),r.removeExtension(fe)}async function he(t,e){const r=t.getObjectExtension(e,fe);if(r){const{byteOffset:n=0,byteLength:s=0,byteStride:o,count:i,mode:a,filter:c="NONE",buffer:u}=r,A=t.gltf.buffers[u],f=new Uint8Array(A.arrayBuffer,A.byteOffset+n,s),B=new Uint8Array(t.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);await async function(t,e,r,n,s,o="NONE"){const i=await async function(){return Ae||(Ae=async function(){let t=se;WebAssembly.validate(ie)&&(t=oe,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=await WebAssembly.instantiate(function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);e[r]=n>96?n-71:n>64?n-65:n>47?n+4:n>46?63:62}let r=0;for(let n=0;n<t.length;++n)e[r++]=e[n]<60?ae[e[n]]:64*(e[n]-60)+e[++n];return e.buffer.slice(0,r)}(t),{});return await e.instance.exports.__wasm_call_ctors(),e.instance}()),Ae}();!function(t,e,r,n,s,o,i){const a=t.exports.sbrk,c=n+3&-4,u=a(c*s),A=a(o.length),f=new Uint8Array(t.exports.memory.buffer);f.set(o,A);const B=e(u,n,s,A,o.length);if(0===B&&i&&i(u,c,s),r.set(f.subarray(u,u+n*s)),a(u-a(0)),0!==B)throw new Error(`Malformed buffer data: ${B}`)}(i,i.exports[ue[s]],t,e,r,n,i.exports[ce[o||"NONE"]])}(B,i,o,f,a,c),t.removeObjectExtension(e,fe)}}const de={};function Ce(t){if(void 0===de[t]){const e=m.Bd?function(t){switch(t){case"image/avif":case"image/webp":return function(t){try{return 0===document.createElement("canvas").toDataURL(t).indexOf(`data:${t}`)}catch{return!1}}(t);default:return!0}}(t):function(t){const e=globalThis.loaders?.imageFormatsNode||["image/png","image/jpeg","image/gif"],r=globalThis.loaders?.parseImageNode;return Boolean(r)&&e.includes(t)}(t);de[t]=e}return de[t]}const ge="EXT_texture_webp",me=ge;function be(t,e){const r=new yt(t);if(!Ce("image/webp")){if(r.getRequiredExtensions().includes(ge))throw new Error(`gltf: Required extension ${ge} not supported by browser`);return}const{json:n}=r;for(const t of n.textures||[]){const e=r.getObjectExtension(t,ge);e&&(t.source=e.source),r.removeObjectExtension(t,ge)}r.removeExtension(ge)}const ye="KHR_texture_basisu",pe=ye;function Ee(t,e){const r=new yt(t),{json:n}=r;for(const t of n.textures||[]){const e=r.getObjectExtension(t,ye);e&&(t.source=e.source,r.removeObjectExtension(t,ye))}r.removeExtension(ye)}var Fe=r(9679);function Ge(t){const{buffer:e,size:r,count:n}=function(t){let e=t,r=1,n=0;return t&&t.value&&(e=t.value,r=t.size||1),e&&(ArrayBuffer.isView(e)||(e=function(t,e,r=!1){return t?Array.isArray(t)?new e(t):!r||t instanceof e?t:new e(t):null}(e,Float32Array)),n=e.length/r),{buffer:e,size:r,count:n}}(t);return{value:e,size:r,byteOffset:0,count:n,type:gt(r),componentType:mt(e)}}const Ie="KHR_draco_mesh_compression",Me=Ie;function De(t,e,r){const n=new yt(t);for(const t of Re(n))n.getObjectExtension(t,Ie)}async function we(t,e,r){if(!e?.gltf?.decompressMeshes)return;const n=new yt(t),s=[];for(const t of Re(n))n.getObjectExtension(t,Ie)&&s.push(Te(n,t,e,r));await Promise.all(s),n.removeExtension(Ie)}function Je(t,e={}){const r=new yt(t);for(const t of r.json.meshes||[])Oe(t),r.addRequiredExtension(Ie)}async function Te(t,e,r,n){const s=t.getObjectExtension(e,Ie);if(!s)return;const o=t.getTypedArrayForBufferView(s.bufferView),i=(0,d._m)(o.buffer,o.byteOffset),a={...r};delete a["3d-tiles"];const c=await C(i,Fe.Vl,a,n),u=function(t){const e={};for(const r in t){const n=t[r];if("indices"!==r){const t=Ge(n);e[r]=t}}return e}(c.attributes);for(const[r,n]of Object.entries(u))if(r in e.attributes){const s=e.attributes[r],o=t.getAccessor(s);o?.min&&o?.max&&(n.min=o.min,n.max=o.max)}e.attributes=u,c.indices&&(e.indices=Ge(c.indices)),t.removeObjectExtension(e,Ie),function(t){if(!t.attributes&&Object.keys(t.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(e)}function Oe(t,e,r=4,n,s){if(!n.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const o=n.DracoWriter.encodeSync({attributes:t}),i=s?.parseSync?.({attributes:t}),a=n._addFauxAttributes(i.attributes),c=n.addBufferView(o);return{primitives:[{attributes:a,mode:r,extensions:{[Ie]:{bufferView:c,attributes:a}}}]}}function*Re(t){for(const e of t.json.meshes||[])for(const t of e.primitives)yield t}Math.PI,Math.PI,globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};const He=globalThis.mathgl.config;function Ue(t,{precision:e=He.precision}={}){return t=function(t){return Math.round(t/He.EPSILON)*He.EPSILON}(t),`${parseFloat(t.toPrecision(e))}`}function Le(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ve(t,e,r){const n=He.EPSILON;r&&(He.EPSILON=r);try{if(t===e)return!0;if(Le(t)&&Le(e)){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!ve(t[r],e[r]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):"number"==typeof t&&"number"==typeof e&&Math.abs(t-e)<=He.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{He.EPSILON=n}}class xe extends Array{clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}toArray(t=[],e=0){for(let r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}toObject(t){return t}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}to(t){return t===this?this:Le(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(He)}formatString(t){let e="";for(let r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+Ue(this[r],t);return`${t.printTypes?this.constructor.name:""}[${e}]`}equals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(!ve(this[e],t[e]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,e,r){if(void 0===r)return this.lerp(this,t,e);for(let n=0;n<this.ELEMENTS;++n){const s=t[n],o="number"==typeof e?e:e[n];this[n]=s+r*(o-s)}return this.check()}min(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}max(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}clamp(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}add(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=e[t];return this.check()}subtract(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=e[t];return this.check()}scale(t){if("number"==typeof t)for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;else for(let e=0;e<this.ELEMENTS&&e<t.length;++e)this[e]*=t[e];return this.check()}multiplyByScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}check(){if(He.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let t=this.length===this.ELEMENTS;for(let e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}sub(t){return this.subtract(t)}setScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}addScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}divideScalar(t){return this.multiplyByScalar(1/t)}clampScalar(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}get elements(){return this}}function je(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function Ke(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}class Se extends xe{get x(){return this[0]}set x(t){this[0]=je(t)}get y(){return this[1]}set y(t){this[1]=je(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let e=0;for(let r=0;r<this.ELEMENTS;++r){const n=this[r]-t[r];e+=n*n}return je(e)}dot(t){let e=0;for(let r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return je(e)}normalize(){const t=this.magnitude();if(0!==t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}multiply(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e[t];return this.check()}divide(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return Ke(t>=0&&t<this.ELEMENTS,"index is out of range"),je(this[t])}setComponent(t,e){return Ke(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}addVectors(t,e){return this.copy(t).add(e)}subVectors(t,e){return this.copy(t).subtract(e)}multiplyVectors(t,e){return this.copy(t).multiply(e)}addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}let Ne="undefined"!=typeof Float32Array?Float32Array:Array;function _e(t,e,r){const n=e[0],s=e[1],o=e[2];return t[0]=n*r[0]+s*r[3]+o*r[6],t[1]=n*r[1]+s*r[4]+o*r[7],t[2]=n*r[2]+s*r[5]+o*r[8],t}Math.random,Math.PI,function(){const t=new Ne(3);Ne!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0)}();const Qe=[0,0,0];let Pe;class ke extends Se{static get ZERO(){return Pe||(Pe=new ke(0,0,0),Object.freeze(Pe)),Pe}constructor(t=0,e=0,r=0){super(-0,-0,-0),1===arguments.length&&Le(t)?this.copy(t):(He.debug&&(je(t),je(e),je(r)),this[0]=t,this[1]=e,this[2]=r)}set(t,e,r){return this[0]=t,this[1]=e,this[2]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return He.debug&&(je(t.x),je(t.y),je(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=je(t)}angle(t){return function(t,e){const r=t[0],n=t[1],s=t[2],o=e[0],i=e[1],a=e[2],c=Math.sqrt((r*r+n*n+s*s)*(o*o+i*i+a*a)),u=c&&function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}(t,e)/c;return Math.acos(Math.min(Math.max(u,-1),1))}(this,t)}cross(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2],i=r[0],a=r[1],c=r[2];t[0]=s*c-o*a,t[1]=o*i-n*c,t[2]=n*a-s*i}(this,this,t),this.check()}rotateX({radians:t,origin:e=Qe}){return function(t,e,r,n){const s=[],o=[];s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],o[0]=s[0],o[1]=s[1]*Math.cos(n)-s[2]*Math.sin(n),o[2]=s[1]*Math.sin(n)+s[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2]}(this,this,e,t),this.check()}rotateY({radians:t,origin:e=Qe}){return function(t,e,r,n){const s=[],o=[];s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],o[0]=s[2]*Math.sin(n)+s[0]*Math.cos(n),o[1]=s[1],o[2]=s[2]*Math.cos(n)-s[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2]}(this,this,e,t),this.check()}rotateZ({radians:t,origin:e=Qe}){return function(t,e,r,n){const s=[],o=[];s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],o[0]=s[0]*Math.cos(n)-s[1]*Math.sin(n),o[1]=s[0]*Math.sin(n)+s[1]*Math.cos(n),o[2]=s[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2]}(this,this,e,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2];let i=r[3]*n+r[7]*s+r[11]*o+r[15];i=i||1,t[0]=(r[0]*n+r[4]*s+r[8]*o+r[12])/i,t[1]=(r[1]*n+r[5]*s+r[9]*o+r[13])/i,t[2]=(r[2]*n+r[6]*s+r[10]*o+r[14])/i}(this,this,t),this.check()}transformAsVector(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2],i=r[3]*n+r[7]*s+r[11]*o||1;t[0]=(r[0]*n+r[4]*s+r[8]*o)/i,t[1]=(r[1]*n+r[5]*s+r[9]*o)/i,t[2]=(r[2]*n+r[6]*s+r[10]*o)/i}(this,this,t),this.check()}transformByMatrix3(t){return _e(this,this,t),this.check()}transformByMatrix2(t){return function(t,e,r){const n=e[0],s=e[1];t[0]=r[0]*n+r[2]*s,t[1]=r[1]*n+r[3]*s,t[2]=e[2]}(this,this,t),this.check()}transformByQuaternion(t){return function(t,e,r){const n=r[0],s=r[1],o=r[2],i=r[3],a=e[0],c=e[1],u=e[2];let A=s*u-o*c,f=o*a-n*u,B=n*c-s*a,l=s*B-o*f,h=o*A-n*B,d=n*f-s*A;const C=2*i;A*=C,f*=C,B*=C,l*=2,h*=2,d*=2,t[0]=a+A+l,t[1]=c+f+h,t[2]=u+B+d}(this,this,t),this.check()}}class Xe extends xe{toString(){let t="[";if(He.printRowMajor){t+="row-major:";for(let e=0;e<this.RANK;++e)for(let r=0;r<this.RANK;++r)t+=` ${this[r*this.RANK+e]}`}else{t+="column-major:";for(let e=0;e<this.ELEMENTS;++e)t+=` ${this[e]}`}return t+="]",t}getElementIndex(t,e){return e*this.RANK+t}getElement(t,e){return this[e*this.RANK+t]}setElement(t,e,r){return this[e*this.RANK+t]=je(r),this}getColumn(t,e=new Array(this.RANK).fill(-0)){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)e[t]=this[r+t];return e}setColumn(t,e){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)this[r+t]=e[t];return this}}function Ye(t,e,r){const n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=r[0],l=r[1],h=r[2],d=r[3],C=r[4],g=r[5],m=r[6],b=r[7],y=r[8];return t[0]=B*n+l*i+h*u,t[1]=B*s+l*a+h*A,t[2]=B*o+l*c+h*f,t[3]=d*n+C*i+g*u,t[4]=d*s+C*a+g*A,t[5]=d*o+C*c+g*f,t[6]=m*n+b*i+y*u,t[7]=m*s+b*a+y*A,t[8]=m*o+b*c+y*f,t}function We(t,e,r){const n=r[0],s=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}var Ve;!function(){const t=new Ne(2);Ne!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL1ROW0=3]="COL1ROW0",t[t.COL1ROW1=4]="COL1ROW1",t[t.COL1ROW2=5]="COL1ROW2",t[t.COL2ROW0=6]="COL2ROW0",t[t.COL2ROW1=7]="COL2ROW1",t[t.COL2ROW2=8]="COL2ROW2"}(Ve||(Ve={}));const Ze=Object.freeze([1,0,0,0,1,0,0,0,1]);class qe extends Xe{static get IDENTITY(){return ze||(ze=new qe,Object.freeze(ze)),ze}static get ZERO(){return $e||($e=new qe([0,0,0,0,0,0,0,0,0]),Object.freeze($e)),$e}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return Ve}constructor(t,...e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):e.length>0?this.copy([t,...e]):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}identity(){return this.copy(Ze)}fromObject(t){return this.check()}fromQuaternion(t){return function(t,e){const r=e[0],n=e[1],s=e[2],o=e[3],i=r+r,a=n+n,c=s+s,u=r*i,A=n*i,f=n*a,B=s*i,l=s*a,h=s*c,d=o*i,C=o*a,g=o*c;t[0]=1-f-h,t[3]=A-g,t[6]=B+C,t[1]=A+g,t[4]=1-u-h,t[7]=l-d,t[2]=B-C,t[5]=l+d,t[8]=1-u-f}(this,t),this.check()}set(t,e,r,n,s,o,i,a,c){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=s,this[5]=o,this[6]=i,this[7]=a,this[8]=c,this.check()}setRowMajor(t,e,r,n,s,o,i,a,c){return this[0]=t,this[1]=n,this[2]=i,this[3]=e,this[4]=s,this[5]=a,this[6]=r,this[7]=o,this[8]=c,this.check()}determinant(){return function(t){const e=t[0],r=t[1],n=t[2],s=t[3],o=t[4],i=t[5],a=t[6],c=t[7],u=t[8];return e*(u*o-i*c)+r*(-u*s+i*a)+n*(c*s-o*a)}(this)}transpose(){return function(t,e){if(t===e){const r=e[1],n=e[2],s=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=s}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]}(this,this),this.check()}invert(){return function(t,e){const r=e[0],n=e[1],s=e[2],o=e[3],i=e[4],a=e[5],c=e[6],u=e[7],A=e[8],f=A*i-a*u,B=-A*o+a*c,l=u*o-i*c;let h=r*f+n*B+s*l;h&&(h=1/h,t[0]=f*h,t[1]=(-A*n+s*u)*h,t[2]=(a*n-s*i)*h,t[3]=B*h,t[4]=(A*r-s*c)*h,t[5]=(-a*r+s*o)*h,t[6]=l*h,t[7]=(-u*r+n*c)*h,t[8]=(i*r-n*o)*h)}(this,this),this.check()}multiplyLeft(t){return Ye(this,t,this),this.check()}multiplyRight(t){return Ye(this,this,t),this.check()}rotate(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=Math.sin(r),l=Math.cos(r);t[0]=l*n+B*i,t[1]=l*s+B*a,t[2]=l*o+B*c,t[3]=l*i-B*n,t[4]=l*a-B*s,t[5]=l*c-B*o,t[6]=u,t[7]=A,t[8]=f}(this,this,t),this.check()}scale(t){return Array.isArray(t)?We(this,this,t):We(this,this,[t,t]),this.check()}translate(t){return function(t,e,r){const n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=r[0],l=r[1];t[0]=n,t[1]=s,t[2]=o,t[3]=i,t[4]=a,t[5]=c,t[6]=B*n+l*i+u,t[7]=B*s+l*a+A,t[8]=B*o+l*c+f}(this,this,t),this.check()}transform(t,e){let r;switch(t.length){case 2:r=function(t,e,r){const n=e[0],s=e[1];return t[0]=r[0]*n+r[3]*s+r[6],t[1]=r[1]*n+r[4]*s+r[7],t}(e||[-0,-0],t,this);break;case 3:r=_e(e||[-0,-0,-0],t,this);break;case 4:r=function(t,e,r){const n=e[0],s=e[1],o=e[2];return t[0]=r[0]*n+r[3]*s+r[6]*o,t[1]=r[1]*n+r[4]*s+r[7]*o,t[2]=r[2]*n+r[5]*s+r[8]*o,t[3]=e[3],t}(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return function(t,e,r=""){if(He.debug&&!function(t,e){if(t.length!==e)return!1;for(let e=0;e<t.length;++e)if(!Number.isFinite(t[e]))return!1;return!0}(t,e))throw new Error(`math.gl: ${r} some fields set to invalid numbers'`)}(r,t.length),r}transformVector(t,e){return this.transform(t,e)}transformVector2(t,e){return this.transform(t,e)}transformVector3(t,e){return this.transform(t,e)}}let $e,ze=null;const tr="KHR_texture_transform",er=tr,rr=new ke,nr=new qe,sr=new qe;async function or(t,e){if(!new yt(t).hasExtension(tr)||!e.gltf?.loadBuffers)return;const r=t.json.materials||[];for(let e=0;e<r.length;e++)ir(e,t)}function ir(t,e){const r=e.json.materials?.[t],n=[r?.pbrMetallicRoughness?.baseColorTexture,r?.emissiveTexture,r?.normalTexture,r?.occlusionTexture,r?.pbrMetallicRoughness?.metallicRoughnessTexture],s=[];for(const r of n)r&&r?.extensions?.[tr]&&ar(e,t,r,s)}function ar(t,e,r,n){const s=function(t,e){const r=t.extensions?.[tr],{texCoord:n=0}=t,{texCoord:s=n}=r;if(!(-1!==e.findIndex(([t,e])=>t===n&&e===s))){const o=function(t){const{offset:e=[0,0],rotation:r=0,scale:n=[1,1]}=t,s=(new qe).set(1,0,0,0,1,0,e[0],e[1],1),o=nr.set(Math.cos(r),Math.sin(r),0,-Math.sin(r),Math.cos(r),0,0,0,1),i=sr.set(n[0],0,0,0,n[1],0,0,0,1);return s.multiplyRight(o).multiplyRight(i)}(r);return n!==s&&(t.texCoord=s),e.push([n,s]),{originalTexCoord:n,texCoord:s,matrix:o}}return null}(r,n);if(!s)return;const o=t.json.meshes||[];for(const r of o)for(const n of r.primitives){const r=n.material;Number.isFinite(r)&&e===r&&cr(t,n,s)}}function cr(t,e,r){const{originalTexCoord:n,texCoord:s,matrix:o}=r,i=e.attributes[`TEXCOORD_${n}`];if(Number.isFinite(i)){const r=t.json.accessors?.[i];if(r&&r.bufferView){const i=t.json.bufferViews?.[r.bufferView];if(i){const{arrayBuffer:a,byteOffset:c}=t.buffers[i.buffer],u=(c||0)+(r.byteOffset||0)+(i.byteOffset||0),{ArrayType:A,length:f}=bt(r,i),B=At[r.componentType],l=ut[r.type],h=i.byteStride||B*l,d=new Float32Array(f);for(let t=0;t<r.count;t++){const e=new A(a,u+t*h,2);rr.set(e[0],e[1],1),rr.transformByMatrix3(o),d.set([rr[0],rr[1]],t*l)}n===s?function(t,e,r,n){t.componentType=5126,r.push({arrayBuffer:n.buffer,byteOffset:0,byteLength:n.buffer.byteLength}),e.buffer=r.length-1,e.byteLength=n.buffer.byteLength,e.byteOffset=0,delete e.byteStride}(r,i,t.buffers,d):function(t,e,r,n,s){n.buffers.push({arrayBuffer:s.buffer,byteOffset:0,byteLength:s.buffer.byteLength});const o=n.json.bufferViews;if(!o)return;o.push({buffer:n.buffers.length-1,byteLength:s.buffer.byteLength,byteOffset:0});const i=n.json.accessors;i&&(i.push({bufferView:o?.length-1,byteOffset:0,componentType:5126,count:e.count,type:"VEC2"}),r.attributes[`TEXCOORD_${t}`]=i.length-1)}(s,r,e,t,d)}}}}const ur="KHR_lights_punctual",Ar=ur;async function fr(t){const e=new yt(t),{json:r}=e,n=e.getExtension(ur);n&&(e.json.lights=n.lights,e.removeExtension(ur));for(const t of r.nodes||[]){const r=e.getObjectExtension(t,ur);r&&(t.light=r.light),e.removeObjectExtension(t,ur)}}async function Br(t){const e=new yt(t),{json:r}=e;if(r.lights){const t=e.addExtension(ur);et(!t.lights),t.lights=r.lights,delete r.lights}if(e.json.lights){for(const t of e.json.lights){const r=t.node;e.addObjectExtension(r,ur,t)}delete e.json.lights}}const lr="KHR_materials_unlit",hr=lr;async function dr(t){const e=new yt(t),{json:r}=e;for(const t of r.materials||[])t.extensions&&t.extensions.KHR_materials_unlit&&(t.unlit=!0),e.removeObjectExtension(t,lr);e.removeExtension(lr)}function Cr(t){const e=new yt(t),{json:r}=e;if(e.materials)for(const t of r.materials||[])t.unlit&&(delete t.unlit,e.addObjectExtension(t,lr,{}),e.addExtension(lr))}const gr="KHR_techniques_webgl",mr=gr;async function br(t){const e=new yt(t),{json:r}=e,n=e.getExtension(gr);if(n){const t=function(t,e){const{programs:r=[],shaders:n=[],techniques:s=[]}=t,o=new TextDecoder;return n.forEach(t=>{if(!Number.isFinite(t.bufferView))throw new Error("KHR_techniques_webgl: no shader code");t.code=o.decode(e.getTypedArrayForBufferView(t.bufferView))}),r.forEach(t=>{t.fragmentShader=n[t.fragmentShader],t.vertexShader=n[t.vertexShader]}),s.forEach(t=>{t.program=r[t.program]}),s}(n,e);for(const n of r.materials||[]){const r=e.getObjectExtension(n,gr);r&&(n.technique=Object.assign({},r,t[r.technique]),n.technique.values=pr(n.technique,e)),e.removeObjectExtension(n,gr)}e.removeExtension(gr)}}async function yr(t,e){}function pr(t,e){const r=Object.assign({},t.values);return Object.keys(t.uniforms||{}).forEach(e=>{t.uniforms[e].value&&!(e in r)&&(r[e]=t.uniforms[e].value)}),Object.keys(r).forEach(t=>{"object"==typeof r[t]&&void 0!==r[t].index&&(r[t].texture=e.getTexture(r[t].index))}),r}const Er="EXT_feature_metadata",Fr=Er;async function Gr(t,e){!function(t,e){if(!e.gltf?.loadBuffers)return;const r=t.getExtension(Er);r&&(e.gltf?.loadImages&&function(t,e){const r=e.schema;if(!r)return;const n=r.classes,{featureTextures:s}=e;if(n&&s)for(const e in n){const r=n[e],o=Mr(s,e);o&&wr(t,o,r)}}(t,r),function(t,e){const r=e.schema;if(!r)return;const n=r.classes,s=e.featureTables;if(n&&s)for(const e in n){const n=Ir(s,e);n&&Dr(t,r,n)}}(t,r))}(new yt(t),e)}function Ir(t,e){for(const r in t){const n=t[r];if(n.class===e)return n}return null}function Mr(t,e){for(const r in t){const n=t[r];if(n.class===e)return n}return null}function Dr(t,e,r){if(!r.class)return;const n=e.classes?.[r.class];if(!n)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${r.class}`);const s=r.count;for(const e in n.properties){const o=n.properties[e],i=r.properties?.[e];if(i){const e=Jr(t,0,o,s,i);i.data=e}}}function wr(t,e,r){const n=e.class;for(const s in r.properties){const r=e?.properties?.[s];if(r){const e=Tr(t,r,n);r.data=e}}}function Jr(t,e,r,n,s){let o=[];const i=s.bufferView,a=t.getTypedArrayForBufferView(i),c=function(t,e,r,n){return"ARRAY"===e.type&&void 0===e.componentCount&&void 0!==r.arrayOffsetBufferView?Mt(t,r.arrayOffsetBufferView,r.offsetType||"UINT32",n):null}(t,r,s,n),u=function(t,e,r,n){return void 0!==r.stringOffsetBufferView?Mt(t,r.stringOffsetBufferView,r.offsetType||"UINT32",n):null}(t,0,s,n);return"STRING"===r.type||"STRING"===r.componentType?o=Ht(n,a,c,u):function(t){const e=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return e.includes(t.type)||void 0!==t.componentType&&e.includes(t.componentType)}(r)&&(o=function(t,e,r,n){const s="ARRAY"===t.type,o=t.componentCount,i="SCALAR",a=t.componentType||t.type,c=It(i,a),u=Dt(r,i,a,r.byteLength/c);return s?n?Ot(u,e,n,r.length,c):o?Rt(u,e,o):[]:u}(r,n,a,c)),o}function Tr(t,e,r){const n=t.gltf.json;if(!n.meshes)return[];const s=[];for(const o of n.meshes)for(const n of o.primitives)Or(t,r,e,s,n);return s}function Or(t,e,r,n,s){const o=wt(t,{channels:r.channels,...r.texture},s);o&&Jt(t,e,o,n,s)}const Rr=[s,n,o,i,a,c,A,f,B,u,l];function Hr(t,e){const r=e?.gltf?.excludeExtensions||{};return!(t in r&&!r[t])}const Ur="KHR_binary_glTF",Lr={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},vr={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class xr{idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}};json;normalize(t,e){this.json=t.json;const r=t.json;switch(r.asset&&r.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn(`glTF: Unknown version ${r.asset.version}`)}if(!e.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(r),this._convertTopLevelObjectsToArrays(r),function(t){const e=new yt(t),{json:r}=e;for(const t of r.images||[]){const r=e.getObjectExtension(t,Ur);r&&Object.assign(t,r),e.removeObjectExtension(t,Ur)}r.buffers&&r.buffers[0]&&delete r.buffers[0].uri,e.removeExtension(Ur)}(t),this._convertObjectIdsToArrayIndices(r),this._updateObjects(r),this._updateMaterial(r)}_addAsset(t){t.asset=t.asset||{},t.asset.version="2.0",t.asset.generator=t.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(t){for(const e in Lr)this._convertTopLevelObjectToArray(t,e)}_convertTopLevelObjectToArray(t,e){const r=t[e];if(r&&!Array.isArray(r)){t[e]=[];for(const n in r){const s=r[n];s.id=s.id||n;const o=t[e].length;t[e].push(s),this.idToIndexMap[e][n]=o}}}_convertObjectIdsToArrayIndices(t){for(const e in Lr)this._convertIdsToIndices(t,e);"scene"in t&&(t.scene=this._convertIdToIndex(t.scene,"scene"));for(const e of t.textures)this._convertTextureIds(e);for(const e of t.meshes)this._convertMeshIds(e);for(const e of t.nodes)this._convertNodeIds(e);for(const e of t.scenes)this._convertSceneIds(e)}_convertTextureIds(t){t.source&&(t.source=this._convertIdToIndex(t.source,"image"))}_convertMeshIds(t){for(const e of t.primitives){const{attributes:t,indices:r,material:n}=e;for(const e in t)t[e]=this._convertIdToIndex(t[e],"accessor");r&&(e.indices=this._convertIdToIndex(r,"accessor")),n&&(e.material=this._convertIdToIndex(n,"material"))}}_convertNodeIds(t){t.children&&(t.children=t.children.map(t=>this._convertIdToIndex(t,"node"))),t.meshes&&(t.meshes=t.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(t){t.nodes&&(t.nodes=t.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(t,e){t[e]||(console.warn(`gltf v1: json doesn't contain attribute ${e}`),t[e]=[]);for(const r of t[e])for(const t in r){const e=r[t],n=this._convertIdToIndex(e,t);r[t]=n}}_convertIdToIndex(t,e){const r=vr[e];if(r in this.idToIndexMap){const n=this.idToIndexMap[r][t];if(!Number.isFinite(n))throw new Error(`gltf v1: failed to resolve ${e} with id ${t}`);return n}return t}_updateObjects(t){for(const t of this.json.buffers)delete t.type}_updateMaterial(t){for(const e of t.materials){e.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const r=e.values?.tex||e.values?.texture2d_0||e.values?.diffuseTex,n=t.textures.findIndex(t=>t.id===r);-1!==n&&(e.pbrMetallicRoughness.baseColorTexture={index:n})}}}async function jr(t,e,r=0,n,s){return function(t,e,r,n){if(n.uri&&(t.baseUri=n.uri),e instanceof ArrayBuffer&&!function(t,e=0,r={}){const n=new DataView(t),{magic:s=ot}=r,o=n.getUint32(e,!1);return o===s||o===ot}(e,r,n)&&(e=(new TextDecoder).decode(e)),"string"==typeof e)t.json=function(t){try{return JSON.parse(t)}catch(e){throw new Error(`Failed to parse JSON from data starting with "${function(t,e=5){return"string"==typeof t?t.slice(0,e):ArrayBuffer.isView(t)?h(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?h(t,0,e):""}(t)}"`)}}(e);else if(e instanceof ArrayBuffer){const s={};r=function(t,e,r=0){const n=new DataView(e),s=function(t,e=0){return`${String.fromCharCode(t.getUint8(e+0))}${String.fromCharCode(t.getUint8(e+1))}${String.fromCharCode(t.getUint8(e+2))}${String.fromCharCode(t.getUint8(e+3))}`}(n,r+0),o=n.getUint32(r+4,st),i=n.getUint32(r+8,st);switch(Object.assign(t,{header:{byteOffset:r,byteLength:i,hasBinChunk:!1},type:s,version:o,json:{},binChunks:[]}),r+=12,t.version){case 1:return function(t,e,r){(0,g.v)(t.header.byteLength>20);const n=e.getUint32(r+0,st),s=e.getUint32(r+4,st);return r+=8,(0,g.v)(0===s),it(t,e,r,n),(r+=n)+at(t,e,r,t.header.byteLength)}(t,n,r);case 2:return function(t,e,r){return(0,g.v)(t.header.byteLength>20),function(t,e,r,n){for(;r+8<=t.header.byteLength;){const s=e.getUint32(r+0,st),o=e.getUint32(r+4,st);switch(r+=8,o){case 1313821514:it(t,e,r,s);break;case 5130562:at(t,e,r,s);break;case 0:n.strict||it(t,e,r,s);break;case 1:n.strict||at(t,e,r,s)}r+=rt(s,4)}}(t,e,r,{}),r+t.header.byteLength}(t,n,r);default:throw new Error(`Invalid GLB version ${t.version}. Only supports version 1 and 2.`)}}(s,e,r,n.glb),et("glTF"===s.type,`Invalid GLB magic string ${s.type}`),t._glb=s,t.json=s.json}else et(!1,"GLTF: must be ArrayBuffer or string");const s=t.json.buffers||[];if(t.buffers=new Array(s.length).fill(null),t._glb&&t._glb.header.hasBinChunk){const{binChunks:e}=t._glb;t.buffers[0]={arrayBuffer:e[0].arrayBuffer,byteOffset:e[0].byteOffset,byteLength:e[0].byteLength}}const o=t.json.images||[];t.images=new Array(o.length).fill({})}(t,e,r,n),function(t,e={}){(new xr).normalize(t,e)}(t,{normalize:n?.gltf?.normalize}),function(t,e={},r){const n=Rr.filter(t=>Hr(t.name,e));for(const s of n)s.preprocess?.(t,e,r)}(t,n,s),n?.gltf?.loadBuffers&&t.json.buffers&&await async function(t,e,r){const n=t.json.buffers||[];for(let s=0;s<n.length;++s){const o=n[s];if(o.uri){const{fetch:n}=r;et(n);const i=ct(o.uri,e),a=await(r?.fetch?.(i)),c=await(a?.arrayBuffer?.());t.buffers[s]={arrayBuffer:c,byteOffset:0,byteLength:c.byteLength},delete o.uri}else null===t.buffers[s]&&(t.buffers[s]={arrayBuffer:new ArrayBuffer(o.byteLength),byteOffset:0,byteLength:o.byteLength})}}(t,n,s),n?.gltf?.loadImages&&await async function(t,e,r){const n=function(t){const e=new Set,r=t.json.textures||[];for(const t of r)void 0!==t.source&&e.add(t.source);return Array.from(e).sort()}(t),s=t.json.images||[],o=[];for(const i of n)o.push(Kr(t,s[i],i,e,r));return await Promise.all(o)}(t,n,s),await async function(t,e={},r){const n=Rr.filter(t=>Hr(t.name,e));for(const s of n)await(s.decode?.(t,e,r))}(t,n,s),t}async function Kr(t,e,r,n,s){let o;if(e.uri&&!e.hasOwnProperty("bufferView")){const t=ct(e.uri,n),{fetch:r}=s,i=await r(t);o=await i.arrayBuffer(),e.bufferView={data:o}}if(Number.isFinite(e.bufferView)){const r=function(t,e,r){const n=t.bufferViews[r];et(n);const s=e[n.buffer];et(s);const o=(n.byteOffset||0)+s.byteOffset;return new Uint8Array(s.arrayBuffer,o,n.byteLength)}(t.json,t.buffers,e.bufferView);o=(0,d._m)(r.buffer,r.byteOffset,r.byteLength)}et(o,"glTF image has no data");let i=await C(o,[x,tt],{...n,mimeType:e.mimeType,basis:n.basis||{format:z()}},s);i&&i[0]&&(i={compressed:!0,mipmaps:!1,width:i[0].width,height:i[0].height,data:i[0]}),t.images=t.images||[],t.images[r]=i}const Sr={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:"4.3.3",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:async function(t,e={},r){(e={...Sr.options,...e}).gltf={...Sr.options.gltf,...e.gltf};const{byteOffset:n=0}=e;return await jr({},t,n,e,r)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}}},2391:(t,e,r)=>{r.d(e,{I0:()=>i,lw:()=>o,vt:()=>s});var n=r(6561);function s(){var t=new n.tb(9);return n.tb!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e,r){var n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=r[0],l=r[1],h=r[2],d=r[3],C=r[4],g=r[5],m=r[6],b=r[7],y=r[8];return t[0]=B*n+l*i+h*u,t[1]=B*s+l*a+h*A,t[2]=B*o+l*c+h*f,t[3]=d*n+C*i+g*u,t[4]=d*s+C*a+g*A,t[5]=d*o+C*c+g*f,t[6]=m*n+b*i+y*u,t[7]=m*s+b*a+y*A,t[8]=m*o+b*c+y*f,t}function i(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=r+r,a=n+n,c=s+s,u=r*i,A=n*i,f=n*a,B=s*i,l=s*a,h=s*c,d=o*i,C=o*a,g=o*c;return t[0]=1-f-h,t[3]=A-g,t[6]=B+C,t[1]=A+g,t[4]=1-u-h,t[7]=l-d,t[2]=B-C,t[5]=l+d,t[8]=1-u-f,t}},2672:(t,e,r)=>{function n(t,e,r){var n=e[0],s=e[1],o=e[2],i=e[3],a=r[0],c=r[1],u=r[2],A=r[3];return t[0]=n*a+o*c,t[1]=s*a+i*c,t[2]=n*u+o*A,t[3]=s*u+i*A,t}r.d(e,{lw:()=>n})},3605:(t,e,r)=>{function n(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}r.d(e,{v:()=>n})},3862:(t,e,r)=>{function n(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=e[4],a=e[5],c=e[6],u=e[7],A=e[8],f=e[9],B=e[10],l=e[11],h=e[12],d=e[13],C=e[14],g=e[15],m=r*a-n*i,b=r*c-s*i,y=r*u-o*i,p=n*c-s*a,E=n*u-o*a,F=s*u-o*c,G=A*d-f*h,I=A*C-B*h,M=A*g-l*h,D=f*C-B*d,w=f*g-l*d,J=B*g-l*C,T=m*J-b*w+y*D+p*M-E*I+F*G;return T?(T=1/T,t[0]=(a*J-c*w+u*D)*T,t[1]=(s*w-n*J-o*D)*T,t[2]=(d*F-C*E+g*p)*T,t[3]=(B*E-f*F-l*p)*T,t[4]=(c*M-i*J-u*I)*T,t[5]=(r*J-s*M+o*I)*T,t[6]=(C*y-h*F-g*b)*T,t[7]=(A*F-B*y+l*b)*T,t[8]=(i*w-a*M+u*G)*T,t[9]=(n*M-r*w-o*G)*T,t[10]=(h*E-d*y+g*m)*T,t[11]=(f*y-A*E-l*m)*T,t[12]=(a*I-i*D-c*G)*T,t[13]=(r*D-n*I+s*G)*T,t[14]=(d*b-h*p-C*m)*T,t[15]=(A*p-f*b+B*m)*T,t):null}function s(t,e,r){var n=e[0],s=e[1],o=e[2],i=e[3],a=e[4],c=e[5],u=e[6],A=e[7],f=e[8],B=e[9],l=e[10],h=e[11],d=e[12],C=e[13],g=e[14],m=e[15],b=r[0],y=r[1],p=r[2],E=r[3];return t[0]=b*n+y*a+p*f+E*d,t[1]=b*s+y*c+p*B+E*C,t[2]=b*o+y*u+p*l+E*g,t[3]=b*i+y*A+p*h+E*m,b=r[4],y=r[5],p=r[6],E=r[7],t[4]=b*n+y*a+p*f+E*d,t[5]=b*s+y*c+p*B+E*C,t[6]=b*o+y*u+p*l+E*g,t[7]=b*i+y*A+p*h+E*m,b=r[8],y=r[9],p=r[10],E=r[11],t[8]=b*n+y*a+p*f+E*d,t[9]=b*s+y*c+p*B+E*C,t[10]=b*o+y*u+p*l+E*g,t[11]=b*i+y*A+p*h+E*m,b=r[12],y=r[13],p=r[14],E=r[15],t[12]=b*n+y*a+p*f+E*d,t[13]=b*s+y*c+p*B+E*C,t[14]=b*o+y*u+p*l+E*g,t[15]=b*i+y*A+p*h+E*m,t}function o(t,e,r,n){var s=e[0],o=e[1],i=e[2],a=e[3],c=s+s,u=o+o,A=i+i,f=s*c,B=s*u,l=s*A,h=o*u,d=o*A,C=i*A,g=a*c,m=a*u,b=a*A,y=n[0],p=n[1],E=n[2];return t[0]=(1-(h+C))*y,t[1]=(B+b)*y,t[2]=(l-m)*y,t[3]=0,t[4]=(B-b)*p,t[5]=(1-(f+C))*p,t[6]=(d+g)*p,t[7]=0,t[8]=(l+m)*E,t[9]=(d-g)*E,t[10]=(1-(f+h))*E,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function i(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=r+r,a=n+n,c=s+s,u=r*i,A=n*i,f=n*a,B=s*i,l=s*a,h=s*c,d=o*i,C=o*a,g=o*c;return t[0]=1-f-h,t[1]=A+g,t[2]=B-C,t[3]=0,t[4]=A-g,t[5]=1-u-h,t[6]=l+d,t[7]=0,t[8]=B+C,t[9]=l-d,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}r.d(e,{B8:()=>n,I0:()=>i,fN:()=>a,lw:()=>s,o1:()=>o});var a=function(t,e,r,n,s){var o=1/Math.tan(e/2);if(t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=s&&s!==1/0){var i=1/(n-s);t[10]=(s+n)*i,t[14]=2*s*n*i}else t[10]=-1,t[14]=-2*n;return t}},4020:(t,e,r)=>{function n(t,e){if(!t)throw new Error(e||"loader assertion failed.")}r.d(e,{v:()=>n})},4971:(t,e,r)=>{r.d(e,{Bd:()=>n,Fr:()=>o,xD:()=>s}),"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,"undefined"!=typeof global&&global,"undefined"!=typeof document&&document;const n="object"!=typeof process||"[object process]"!==String(process)||process.browser,s="function"==typeof importScripts,o="undefined"!=typeof window&&void 0!==window.orientation,i="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);i&&parseFloat(i[1])},5743:(t,e,r)=>{r.d(e,{H:()=>kt});const n=t=>"function"==typeof t,s=t=>null!==t&&"object"==typeof t,o=t=>s(t)&&t.constructor==={}.constructor,i=t=>Boolean(t)&&"function"==typeof t[Symbol.iterator],a=t=>t&&"function"==typeof t[Symbol.asyncIterator],c=t=>"undefined"!=typeof Response&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,u=t=>"undefined"!=typeof Blob&&t instanceof Blob,A=t=>t&&"object"==typeof t&&t.isBuffer,f=t=>(t=>"undefined"!=typeof ReadableStream&&t instanceof ReadableStream||s(t)&&n(t.tee)&&n(t.cancel)&&n(t.getReader))(t)||(t=>s(t)&&n(t.read)&&n(t.pipe)&&(t=>"boolean"==typeof t)(t.readable))(t);var B=r(4020);function l(t){return!!t&&(Array.isArray(t)&&(t=t[0]),Array.isArray(t?.extensions))}function h(t){let e;return(0,B.v)(t,"null loader"),(0,B.v)(l(t),"invalid loader"),Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t?.parseTextSync||t?.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}let d="";const C={};class g extends Error{constructor(t,e){super(t),this.reason=e.reason,this.url=e.url,this.response=e.response}reason;url;response}const m=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,b=/^([-\w.]+\/[-\w.+]+)/;function y(t,e){return t.toLowerCase()===e.toLowerCase()}function p(t){const e=m.exec(t);return e?e[1]:""}const E=/\?.*/;function F(t){return t.replace(E,"")}function G(t){return c(t)?t.url:u(t)?t.name||"":"string"==typeof t?t:""}function I(t){if(c(t)){const e=t,r=e.headers.get("content-type")||"",n=F(e.url);return function(t){const e=b.exec(t);return e?e[1]:t}(r)||p(n)}return u(t)?t.type||"":"string"==typeof t?p(t):""}async function M(t){if(c(t))return t;const e={},r=function(t){return c(t)?t.headers["content-length"]||-1:u(t)?t.size:"string"==typeof t?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}(t);r>=0&&(e["content-length"]=String(r));const n=G(t),s=I(t);s&&(e["content-type"]=s);const o=await async function(t){if("string"==typeof t)return`data:,${t.slice(0,5)}`;if(t instanceof Blob){const e=t.slice(0,5);return await new Promise(t=>{const r=new FileReader;r.onload=e=>t(e?.target?.result),r.readAsDataURL(e)})}return t instanceof ArrayBuffer?`data:base64,${function(t){let e="";const r=new Uint8Array(t);for(let t=0;t<r.byteLength;t++)e+=String.fromCharCode(r[t]);return btoa(e)}(t.slice(0,5))}`:null}(t);o&&(e["x-first-bytes"]=o),"string"==typeof t&&(t=(new TextEncoder).encode(t));const i=new Response(t,{headers:e});return Object.defineProperty(i,"url",{value:n}),i}async function D(t,e){if("string"==typeof t){const r=function(t){for(const e in C)if(t.startsWith(e)){const r=C[e];t=t.replace(e,r)}return t.startsWith("http://")||t.startsWith("https://")||(t=`${d}${t}`),t}(t);return function(t){return!function(t){return t.startsWith("http:")||t.startsWith("https:")}(t)&&!function(t){return t.startsWith("data:")}(t)}(r)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(r,e):await fetch(r,e)}return await M(t)}function w(){return!("object"==typeof process&&"[object process]"===String(process)&&!process?.browser)||function(){if("undefined"!=typeof window&&"renderer"===window.process?.type)return!0;if("undefined"!=typeof process&&Boolean(process.versions?.electron))return!0;const t="undefined"!=typeof navigator&&navigator.userAgent;return Boolean(t&&t.indexOf("Electron")>=0)}()}const J="4.1.0";class T{constructor(t,e,r="sessionStorage"){this.storage=function(t){try{const e=window[t],r="__storage_test__";return e.setItem(r,r),e.removeItem(r),e}catch(t){return null}}(r),this.id=t,this.config=e,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){if(Object.assign(this.config,t),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let t={};if(this.storage){const e=this.storage.getItem(this.id);t=e?JSON.parse(e):{}}return Object.assign(this.config,t),this}}var O;function R(t){return"string"!=typeof t?t:(t=t.toUpperCase(),O[t]||O.WHITE)}function H(t,e){if(!t)throw new Error(e||"Assertion failed")}!function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(O||(O={}));const U=globalThis,L=(globalThis.document,globalThis.process||{});function v(){let t;if(w()&&U.performance)t=U?.performance?.now?.();else if("hrtime"in L){const e=L?.hrtime?.();t=1e3*e[0]+e[1]/1e6}else t=Date.now();return t}globalThis.console,globalThis.navigator;const x={debug:w()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},j={enabled:!0,level:0};function K(){}const S={},N={once:!0};class _{constructor({id:t}={id:""}){this.VERSION=J,this._startTs=v(),this._deltaTs=v(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=t,this.userData={},this._storage=new T(`__probe-${this.id}__`,j),this.timeStamp(`${this.id} started`),function(t,e=["constructor"]){const r=Object.getPrototypeOf(t),n=Object.getOwnPropertyNames(r),s=t;for(const r of n){const n=s[r];"function"==typeof n&&(e.find(t=>r===t)||(s[r]=n.bind(t)))}}(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((v()-this._startTs).toPrecision(10))}getDelta(){return Number((v()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(t=!0){return this._storage.setConfiguration({enabled:t}),this}setLevel(t){return this._storage.setConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,e){this._storage.setConfiguration({[t]:e})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,e){if(!t)throw new Error(e||"Assertion failed")}warn(t){return this._getLogFunction(0,t,x.warn,arguments,N)}error(t){return this._getLogFunction(0,t,x.error,arguments)}deprecated(t,e){return this.warn(`\`${t}\` is deprecated and will be removed in a later version. Use \`${e}\` instead`)}removed(t,e){return this.error(`\`${t}\` has been removed. Use \`${e}\` instead`)}probe(t,e){return this._getLogFunction(t,e,x.log,arguments,{time:!0,once:!0})}log(t,e){return this._getLogFunction(t,e,x.debug,arguments)}info(t,e){return this._getLogFunction(t,e,console.info,arguments)}once(t,e){return this._getLogFunction(t,e,x.debug||x.info,arguments,N)}table(t,e,r){return e?this._getLogFunction(t,e,console.table||K,r&&[r],{tag:k(e)}):K}time(t,e){return this._getLogFunction(t,e,console.time?console.time:console.info)}timeEnd(t,e){return this._getLogFunction(t,e,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,e){return this._getLogFunction(t,e,console.timeStamp||K)}group(t,e,r={collapsed:!1}){const n=P({logLevel:t,message:e,opts:r}),{collapsed:s}=r;return n.method=(s?console.groupCollapsed:console.group)||console.info,this._getLogFunction(n)}groupCollapsed(t,e,r={}){return this.group(t,e,Object.assign({},r,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||K)}withGroup(t,e,r){this.group(t,e)();try{r()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=Q(t)}_getLogFunction(t,e,r,n,s){if(this._shouldLog(t)){s=P({logLevel:t,message:e,args:n,opts:s}),H(r=r||s.method),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=v();const o=s.tag||s.message;if(s.once&&o){if(S[o])return K;S[o]=v()}return e=function(t,e,r){if("string"==typeof e){const i=r.time?function(t,e=8){const r=Math.max(e-t.length,0);return`${" ".repeat(r)}${t}`}(function(t){let e;return e=t<10?`${t.toFixed(2)}ms`:t<100?`${t.toFixed(1)}ms`:t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(2)}s`,e}(r.total)):"";n=e=r.time?`${t}: ${i}  ${e}`:`${t}: ${e}`,s=r.color,o=r.background,w||"string"!=typeof n||(s&&(n=`[${R(s)}m${n}[39m`),o&&(n=`[${R(o)+10}m${n}[49m`)),e=n}var n,s,o;return e}(this.id,s.message,s),r.bind(console,e,...s.args)}return K}}function Q(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return H(Number.isFinite(e)&&e>=0),e}function P(t){const{logLevel:e,message:r}=t;t.logLevel=Q(e);const n=t.args?Array.from(t.args):[];for(;n.length&&n.shift()!==r;);switch(typeof e){case"string":case"function":void 0!==r&&n.unshift(r),t.message=e;break;case"object":Object.assign(t,e)}"function"==typeof t.message&&(t.message=t.message());const s=typeof t.message;return H("string"===s||"object"===s),Object.assign(t,{args:n},t.opts)}function k(t){for(const e in t)for(const r in t[e])return r||"untitled";return"empty"}_.VERSION=J;const X=new _({id:"loaders.gl"});class Y{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var W=r(7976);const V={fetch:null,mimeType:void 0,nothrow:!1,log:new class{console;constructor(){this.console=console}log(...t){return this.console.log.bind(this.console,...t)}info(...t){return this.console.info.bind(this.console,...t)}warn(...t){return this.console.warn.bind(this.console,...t)}error(...t){return this.console.error.bind(this.console,...t)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:W.Bd,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},Z={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function q(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function $(){const t=q();return t.globalOptions=t.globalOptions||{...V},t.globalOptions}function z(t,e,r,n){return r=r||[],function(t,e){tt(t,null,V,Z,e);for(const r of e){const n=t&&t[r.id]||{},s=r.options&&r.options[r.id]||{},o=r.deprecatedOptions&&r.deprecatedOptions[r.id]||{};tt(n,r.id,s,o,e)}}(t,r=Array.isArray(r)?r:[r]),function(t,e,r){const n={...t.options||{}};return function(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}(n,r),null===n.log&&(n.log=new Y),rt(n,$()),rt(n,e),n}(e,t,n)}function tt(t,e,r,n,o){const i=e||"Top level",a=e?`${e}.`:"";for(const c in t){const u=!e&&s(t[c]);if(!(c in r)&&("baseUri"!==c||e)&&("workerUrl"!==c||!e))if(c in n)X.warn(`${i} loader option '${a}${c}' no longer supported, use '${n[c]}'`)();else if(!u){const t=et(c,o);X.warn(`${i} loader option '${a}${c}' not recognized. ${t}`)()}}}function et(t,e){const r=t.toLowerCase();let n="";for(const s of e)for(const e in s.options){if(t===e)return`Did you mean '${s.id}.${e}'?`;const o=e.toLowerCase();(r.startsWith(o)||o.startsWith(r))&&(n=n||`Did you mean '${s.id}.${e}'?`)}return n}function rt(t,e){for(const r in e)if(r in e){const n=e[r];o(n)&&o(t[r])?t[r]={...t[r],...e[r]}:t[r]=e[r]}}function nt(t,e){const r=$(),n=t||r;return"function"==typeof n.fetch?n.fetch:s(n.fetch)?t=>D(t,n.fetch):e?.fetch?e?.fetch:D}function st(t,e){return ot(t||{},e)}function ot(t,e,r=0){if(r>3)return e;const n={...t};for(const[t,s]of Object.entries(e))s&&"object"==typeof s&&!Array.isArray(s)?n[t]=ot(n[t]||{},e[t],r+1):n[t]=e[t];return n}var it=r(4971);class at{terminate(){}}var ct=r(3605);const ut=new Map;function At(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function ft(t,e=!0,r){const n=r||new Set;if(t)if(Bt(t))n.add(t);else if(Bt(t.buffer))n.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"==typeof t)for(const r in t)ft(t[r],e,n);return void 0===r?Array.from(n):[]}function Bt(t){return!!t&&(t instanceof ArrayBuffer||"undefined"!=typeof MessagePort&&t instanceof MessagePort||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas)}const lt=()=>{};class ht{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return"undefined"!=typeof Worker&&it.Bd||void 0!==at&&!it.Bd}constructor(t){const{name:e,source:r,url:n}=t;(0,ct.v)(r||n),this.name=e,this.source=r,this.url=n,this.onMessage=lt,this.onError=t=>console.log(t),this.worker=it.Bd?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=lt,this.onError=lt,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(t,e){e=e||ft(t),this.worker.postMessage(t,e)}_getErrorFromErrorEvent(t){let e="Failed to load ";return e+=`worker ${this.name} from ${this.url}. `,t.message&&(e+=`${t.message} in `),t.lineno&&(e+=`:${t.lineno}:${t.colno}`),new Error(e)}_createBrowserWorker(){this._loadableURL=function(t){(0,ct.v)(t.source&&!t.url||!t.source&&t.url);let e=ut.get(t.source||t.url);return e||(t.url&&(e=(r=t.url).startsWith("http")?At(`try {\n  importScripts('${r}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`):r,ut.set(t.url,e)),t.source&&(e=At(t.source),ut.set(t.source,e))),(0,ct.v)(e),e;var r}({source:this.source,url:this.url});const t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},t.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},t.onmessageerror=t=>console.error(t),t}_createNodeWorker(){let t;if(this.url){const e=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;t=new at(e,{eval:!1})}else{if(!this.source)throw new Error("no worker");t=new at(this.source,{eval:!0})}return t.on("message",t=>{this.onMessage(t)}),t.on("error",t=>{this.onError(t)}),t.on("exit",t=>{}),t}}class dt{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(t,e){this.name=t,this.workerThread=e,this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e})}postMessage(t,e){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:e})}done(t){(0,ct.v)(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){(0,ct.v)(this.isRunning),this.isRunning=!1,this._reject(t)}}class Ct{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return ht.isSupported()}constructor(t){this.source=t.source,this.url=t.url,this.setProps(t)}destroy(){this.idleQueue.forEach(t=>t.destroy()),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},void 0!==t.name&&(this.name=t.name),void 0!==t.maxConcurrency&&(this.maxConcurrency=t.maxConcurrency),void 0!==t.maxMobileConcurrency&&(this.maxMobileConcurrency=t.maxMobileConcurrency),void 0!==t.reuseWorkers&&(this.reuseWorkers=t.reuseWorkers),void 0!==t.onDebug&&(this.onDebug=t.onDebug)}async startJob(t,e=(t,e,r)=>t.done(r),r=(t,e)=>t.error(e)){const n=new Promise(n=>(this.jobQueue.push({name:t,onMessage:e,onError:r,onStart:n}),this));return this._startQueuedJob(),await n}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const e=this.jobQueue.shift();if(e){this.onDebug({message:"Starting job",name:e.name,workerThread:t,backlog:this.jobQueue.length});const r=new dt(e.name,t);t.onMessage=t=>e.onMessage(r,t.type,t.payload),t.onError=t=>e.onError(r,t),e.onStart(r);try{await r.result}catch(t){console.error(`Worker exception: ${t}`)}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){!it.Bd||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new ht({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return it.Fr?this.maxMobileConcurrency:this.maxConcurrency}}const gt={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class mt{props;workerPools=new Map;static _workerFarm;static isSupported(){return ht.isSupported()}static getWorkerFarm(t={}){return mt._workerFarm=mt._workerFarm||new mt({}),mt._workerFarm.setProps(t),mt._workerFarm}constructor(t){this.props={...gt},this.setProps(t),this.workerPools=new Map}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:e,source:r,url:n}=t;let s=this.workerPools.get(e);return s||(s=new Ct({name:e,source:r,url:n}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(e,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}var bt=r(9099);async function yt(t,e,r,n,s){const o=t.id,i=function(t,e={}){const r=e[t.id]||{},n=it.Bd?`${t.id}-worker.js`:`${t.id}-worker-node.js`;let s=r.workerUrl;if(s||"compression"!==t.id||(s=e.workerUrl),"test"===e._workerType&&(s=it.Bd?`modules/${t.module}/dist/${n}`:`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!s){let e=t.version;"latest"===e&&(e=bt.x);const r=e?`@${e}`:"";s=`https://unpkg.com/@loaders.gl/${t.module}${r}/dist/${n}`}return(0,ct.v)(s),s}(t,r),a=mt.getWorkerFarm(r).getWorkerPool({name:o,url:i});r=JSON.parse(JSON.stringify(r)),n=JSON.parse(JSON.stringify(n||{}));const c=await a.startJob("process-on-worker",pt.bind(null,s));c.postMessage("process",{input:e,options:r,context:n});const u=await c.result;return await u.result}async function pt(t,e,r,n){switch(r){case"done":e.done(n);break;case"error":e.error(new Error(n.error));break;case"process":const{id:s,input:o,options:i}=n;try{const r=await t(o,i);e.postMessage("done",{id:s,result:r})}catch(t){const r=t instanceof Error?t.message:"unknown error";e.postMessage("error",{id:s,error:r})}break;default:console.warn(`parse-with-worker unknown message ${r}`)}}var Et=r(1556);const Ft=262144,Gt=262144,It=1048576;function Mt(t){if((e=t)&&"object"==typeof e&&e.isBuffer)return t;var e;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return 0===t.byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if("string"==typeof t){const e=t;return(new TextEncoder).encode(e).buffer}if(t&&"object"==typeof t&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function Dt(t,e){return W.Bd?async function*(t,e){const r=t.getReader();let n;try{for(;;){const t=n||r.read();e?._streamReadAhead&&(n=r.read());const{done:s,value:o}=await t;if(s)return;yield Mt(o)}}catch(t){r.releaseLock()}}(t,e):async function*(t){for await(const e of t)yield Mt(e)}(t)}const wt="Cannot convert supplied data type";async function Jt(t,e,r){const n=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if("string"==typeof t||n)return function(t,e){if(e.text&&"string"==typeof t)return t;if(A(t)&&(t=t.buffer),t instanceof ArrayBuffer){const r=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let r=t.buffer;const n=t.byteLength||t.length;return 0===t.byteOffset&&n===r.byteLength||(r=r.slice(t.byteOffset,t.byteOffset+n)),r}throw new Error(wt)}(t,e);if(u(t)&&(t=await M(t)),c(t)){const r=t;return await async function(t){if(!t.ok){const e=await async function(t){const e=function(t){if(t.length<50)return t;const e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}(t.url);let r=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;r=r.length>100?`${r.slice(0,100)}...`:r;const n={reason:t.statusText,url:t.url,response:t};try{const e=t.headers.get("Content-Type");n.reason=!t.bodyUsed&&e?.includes("application/json")?await t.json():await t.text()}catch(t){}return new g(r,n)}(t);throw e}}(r),e.binary?await r.arrayBuffer():await r.text()}if(f(t)&&(t=function(t,e){if("string"==typeof t)return function*(t,e){const r=e?.chunkSize||Ft;let n=0;const s=new TextEncoder;for(;n<t.length;){const e=Math.min(t.length-n,r),o=t.slice(n,n+e);n+=e,yield s.encode(o)}}(t,e);if(t instanceof ArrayBuffer)return function*(t,e={}){const{chunkSize:r=Gt}=e;let n=0;for(;n<t.byteLength;){const e=Math.min(t.byteLength-n,r),s=new ArrayBuffer(e),o=new Uint8Array(t,n,e);new Uint8Array(s).set(o),n+=e,yield s}}(t,e);if(u(t))return async function*(t,e){const r=e?.chunkSize||It;let n=0;for(;n<t.size;){const e=n+r,s=await t.slice(n,e).arrayBuffer();n=e,yield s}}(t,e);if(f(t))return Dt(t,e);if(c(t))return Dt(t.body,e);throw new Error("makeIterator")}(t,r)),i(t)||a(t))return async function(t){const e=[];for await(const r of t)e.push(r);return(0,Et.AQ)(...e)}(t);throw new Error(wt)}function Tt(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}const Ot="4.3.3",Rt=Ot[0]>="0"&&Ot[0]<="9"?`v${Ot}`:"",Ht=function(){const t=new _({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=Rt,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}(),Ut=()=>{const t=q();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry},Lt=/\.([^.]+)$/;function vt(t,e=[],r,n){if(!xt(t))return null;if(e&&!Array.isArray(e))return h(e);let s=[];e&&(s=s.concat(e)),r?.ignoreRegisteredLoaders||s.push(...Ut()),function(t){for(const e of t)h(e)}(s);const o=function(t,e,r,n){const s=G(t),o=I(t),i=F(s)||n?.url;let a=null,c="";return r?.mimeType&&(a=Kt(e,r?.mimeType),c=`match forced by supplied MIME type ${r?.mimeType}`),a=a||function(t,e){const r=e&&Lt.exec(e),n=r&&r[1];return n?function(t,e){e=e.toLowerCase();for(const r of t)for(const t of r.extensions)if(t.toLowerCase()===e)return r;return null}(t,n):null}(e,i),c=c||(a?`matched url ${i}`:""),a=a||Kt(e,o),c=c||(a?`matched MIME type ${o}`:""),a=a||function(t,e){if(!e)return null;for(const r of t)if("string"==typeof e){if(St(e,r))return r}else if(ArrayBuffer.isView(e)){if(Nt(e.buffer,e.byteOffset,r))return r}else if(e instanceof ArrayBuffer&&Nt(e,0,r))return r;return null}(e,t),c=c||(a?`matched initial data ${_t(t)}`:""),r?.fallbackMimeType&&(a=a||Kt(e,r?.fallbackMimeType),c=c||(a?`matched fallback MIME type ${o}`:"")),c&&Ht.log(1,`selectLoader selected ${a?.name}: ${c}.`),a}(t,s,r,n);if(!o&&!r?.nothrow)throw new Error(jt(t));return o}function xt(t){return!(t instanceof Response&&204===t.status)}function jt(t){const e=G(t),r=I(t);let n="No valid loader found (";n+=e?`${Tt(e)}, `:"no url provided, ",n+=`MIME type: ${r?`"${r}"`:"not provided"}, `;const s=t?_t(t):"";return n+=s?` first bytes: "${s}"`:"first bytes: not available",n+=")",n}function Kt(t,e){for(const r of t){if(r.mimeTypes?.some(t=>y(e,t)))return r;if(y(e,`application/x.${r.id}`))return r}return null}function St(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(e=>t.startsWith(e))}function Nt(t,e,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some(r=>function(t,e,r,n){if(n instanceof ArrayBuffer)return(0,Et.YV)(n,t,n.byteLength);switch(typeof n){case"function":return n(t);case"string":return n===Qt(t,e,n.length);default:return!1}}(t,e,0,r))}function _t(t,e=5){return"string"==typeof t?t.slice(0,e):ArrayBuffer.isView(t)?Qt(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?Qt(t,0,e):""}function Qt(t,e,r){if(t.byteLength<e+r)return"";const n=new DataView(t);let s="";for(let t=0;t<r;t++)s+=String.fromCharCode(n.getUint8(e+t));return s}async function Pt(t,e,r,n){!e||Array.isArray(e)||l(e)||(n=void 0,r=e,e=void 0),r=r||{};const s=G(t=await t),o=function(t,e){if(t&&!Array.isArray(t))return t;let r;if(t&&(r=Array.isArray(t)?t:[t]),e&&e.loaders){const t=Array.isArray(e.loaders)?e.loaders:[e.loaders];r=r?[...r,...t]:t}return r&&r.length?r:void 0}(e,n),i=await async function(t,e=[],r,n){if(!xt(t))return null;let s=vt(t,e,{...r,nothrow:!0},n);if(s)return s;if(u(t)&&(s=vt(t=await t.slice(0,10).arrayBuffer(),e,r,n)),!s&&!r?.nothrow)throw new Error(jt(t));return s}(t,o,r);return i?(n=function(t,e,r){if(r)return r;const n={fetch:nt(e,t),...t};if(n.url){const t=F(n.url);n.baseUrl=t,n.queryString=function(t){const e=t.match(E);return e&&e[0]}(n.url),n.filename=Tt(t),n.baseUrl=function(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}(t)}return Array.isArray(n.loaders)||(n.loaders=null),n}({url:s,_parse:Pt,loaders:o},r=z(r,i,o,s),n||null),await async function(t,e,r,n){if(function(t){(0,ct.v)(t,"no worker provided");t.version}(t),r=st(t.options,r),c(e)){const t=e,{ok:r,redirected:s,status:o,statusText:i,type:a,url:c}=t,u=Object.fromEntries(t.headers.entries());n.response={headers:u,ok:r,redirected:s,status:o,statusText:i,type:a,url:c}}e=await Jt(e,t,r);const s=t;if(s.parseTextSync&&"string"==typeof e)return s.parseTextSync(e,r,n);if(function(t,e){return!!mt.isSupported()&&!(!it.Bd&&!e?._nodeWorkers)&&t.worker&&e?.worker}(t,r))return await yt(t,e,r,n,Pt);if(s.parseText&&"string"==typeof e)return await s.parseText(e,r,n);if(s.parse)return await s.parse(e,r,n);throw(0,ct.v)(!s.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}(i,t,r,n)):null}async function kt(t,e,r,n){let s,o;Array.isArray(e)||l(e)?(s=e,o=r):(s=[],o=e);const i=nt(o);let a=t;return"string"==typeof t&&(a=await i(t)),u(t)&&(a=await i(t)),Array.isArray(s),await Pt(a,s,o)}},5935:(t,e,r)=>{r.d(e,{$A:()=>c,Il:()=>A,Om:()=>a,S8:()=>i,fA:()=>o,gL:()=>u,vt:()=>s});var n=r(6561);function s(){var t=new n.tb(3);return n.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t,e,r){var s=new n.tb(3);return s[0]=t,s[1]=e,s[2]=r,s}function i(t,e){var r=e[0],n=e[1],s=e[2],o=r*r+n*n+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function a(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function c(t,e,r){var n=e[0],s=e[1],o=e[2],i=r[0],a=r[1],c=r[2];return t[0]=s*c-o*a,t[1]=o*i-n*c,t[2]=n*a-s*i,t}function u(t,e,r){var n=r[0],s=r[1],o=r[2],i=r[3],a=e[0],c=e[1],u=e[2],A=s*u-o*c,f=o*a-n*u,B=n*c-s*a;return A+=A,f+=f,B+=B,t[0]=a+i*A+s*B-o*f,t[1]=c+i*f+o*A-n*B,t[2]=u+i*B+n*f-s*A,t}var A=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)};s()},6561:(t,e,r)=>{r.d(e,{bw:()=>o,p8:()=>n,tb:()=>s});var n=1e-6,s="undefined"!=typeof Float32Array?Float32Array:Array,o=(Math.random,"zyx");Math.PI,Math.PI},7445:(t,e,r)=>{r.d(e,{A6:()=>f,Gn:()=>A,B8:()=>u,lw:()=>c,ml:()=>l});var n,s=r(6561),o=r(2391),i=r(5935);function a(){var t=new s.tb(4);return s.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function c(t,e,r){var n=e[0],s=e[1],o=e[2],i=e[3],a=r[0],c=r[1],u=r[2],A=r[3];return t[0]=n*A+i*a+s*u-o*c,t[1]=s*A+i*c+o*a-n*u,t[2]=o*A+i*u+n*c-s*a,t[3]=i*A-n*a-s*c-o*u,t}function u(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=r*r+n*n+s*s+o*o,a=i?1/i:0;return t[0]=-r*a,t[1]=-n*a,t[2]=-s*a,t[3]=o*a,t}function A(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var s=0;e[4]>e[0]&&(s=1),e[8]>e[3*s+s]&&(s=2);var o=(s+1)%3,i=(s+2)%3;r=Math.sqrt(e[3*s+s]-e[3*o+o]-e[3*i+i]+1),t[s]=.5*r,r=.5/r,t[3]=(e[3*o+i]-e[3*i+o])*r,t[o]=(e[3*o+s]+e[3*s+o])*r,t[i]=(e[3*i+s]+e[3*s+i])*r}return t}function f(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.bw,i=Math.PI/360;e*=i,n*=i,r*=i;var a=Math.sin(e),c=Math.cos(e),u=Math.sin(r),A=Math.cos(r),f=Math.sin(n),B=Math.cos(n);switch(o){case"xyz":t[0]=a*A*B+c*u*f,t[1]=c*u*B-a*A*f,t[2]=c*A*f+a*u*B,t[3]=c*A*B-a*u*f;break;case"xzy":t[0]=a*A*B-c*u*f,t[1]=c*u*B-a*A*f,t[2]=c*A*f+a*u*B,t[3]=c*A*B+a*u*f;break;case"yxz":t[0]=a*A*B+c*u*f,t[1]=c*u*B-a*A*f,t[2]=c*A*f-a*u*B,t[3]=c*A*B+a*u*f;break;case"yzx":t[0]=a*A*B+c*u*f,t[1]=c*u*B+a*A*f,t[2]=c*A*f-a*u*B,t[3]=c*A*B-a*u*f;break;case"zxy":t[0]=a*A*B-c*u*f,t[1]=c*u*B+a*A*f,t[2]=c*A*f+a*u*B,t[3]=c*A*B-a*u*f;break;case"zyx":t[0]=a*A*B-c*u*f,t[1]=c*u*B+a*A*f,t[2]=c*A*f-a*u*B,t[3]=c*A*B+a*u*f;break;default:throw new Error("Unknown angle order "+o)}return t}n=new s.tb(4),s.tb!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0);i.vt(),i.fA(1,0,0),i.fA(0,1,0),a(),a();var B,l=(B=o.vt(),function(t,e,r,n){return B[0]=r[0],B[3]=r[1],B[6]=r[2],B[1]=n[0],B[4]=n[1],B[7]=n[2],B[2]=-e[0],B[5]=-e[1],B[8]=-e[2],function(t,e){var r=e[0],n=e[1],s=e[2],o=e[3],i=r*r+n*n+s*s+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=r*i,t[1]=n*i,t[2]=s*i,t[3]=o*i,t}(t,A(t,B))})},7976:(t,e,r)=>{r.d(e,{Bd:()=>n}),"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,"undefined"!=typeof global&&global,"undefined"!=typeof document&&document;const n=Boolean("object"!=typeof process||"[object process]"!==String(process)||process.browser),s="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);s&&parseFloat(s[1])},8016:(t,e,r)=>{r.d(e,{_:()=>a});var n=r(4971),s=r(3605),o=r(9099);const i={};async function a(t,e=null,r={},a=null){return e&&(t=function(t,e,r={},i=null){if(!r.useLocalLibraries&&t.startsWith("http"))return t;i=i||t;const a=r.modules||{};return a[i]?a[i]:n.Bd?r.CDN?((0,s.v)(r.CDN.startsWith("http")),`${r.CDN}/${e}@${o.Q}/dist/libs/${i}`):n.xD?`../src/libs/${i}`:`modules/${e}/src/libs/${i}`:`modules/${e}/dist/libs/${i}`}(t,e,r,a)),i[t]=i[t]||async function(t){if(t.endsWith("wasm"))return await async function(t){const{readFileAsArrayBuffer:e}=globalThis.loaders||{};if(n.Bd||!e||t.startsWith("http")){const e=await fetch(t);return await e.arrayBuffer()}return await e(t)}(t);if(!n.Bd)try{const{requireFromFile:e}=globalThis.loaders||{};return await(e?.(t))}catch(t){return console.error(t),null}if(n.xD)return importScripts(t);return function(t,e){if(!n.Bd){const{requireFromString:r}=globalThis.loaders||{};return r?.(t,e)}if(n.xD)return eval.call(globalThis,t),null;const r=document.createElement("script");r.id=e;try{r.appendChild(document.createTextNode(t))}catch(e){r.text=t}return document.body.appendChild(r),null}(await async function(t){const{readFileAsText:e}=globalThis.loaders||{};if(n.Bd||!e||t.startsWith("http")){const e=await fetch(t);return await e.text()}return await e(t)}(t),t)}(t),await i[t]}},8401:(t,e,r)=>{function n(t,e,r,n){return new(r||(r=Promise))(function(s,o){function i(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,a)}c((n=n.apply(t,e||[])).next())})}r.d(e,{sH:()=>n}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},9099:(t,e,r)=>{r.d(e,{Q:()=>s,x:()=>n});const n="latest",s=(globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version)},9679:(t,e,r)=>{r.d(e,{Vl:()=>m});const n={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:"4.3.3",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function s(t,e,r){const n=function(t){switch(t.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}(e.value),s=r||function(t){const e={};return"byteOffset"in t&&(e.byteOffset=t.byteOffset.toString(10)),"byteStride"in t&&(e.byteStride=t.byteStride.toString(10)),"normalized"in t&&(e.normalized=t.normalized.toString()),e}(e);return{name:t,type:{type:"fixed-size-list",listSize:e.size,children:[{name:"value",type:n}]},nullable:!1,metadata:s}}function o(t,e,r){return s(t,e,r?i(r.metadata):void 0)}function i(t){Object.entries(t);const e={};for(const r in t)e[`${r}.string`]=JSON.stringify(t[r]);return e}const a={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},c={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class u{draco;decoder;metadataQuerier;constructor(t){this.draco=t,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(t,e={}){const r=new this.draco.DecoderBuffer;r.Init(new Int8Array(t),t.byteLength),this._disableAttributeTransforms(e);const n=this.decoder.GetEncodedGeometryType(r),s=n===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let t;switch(n){case this.draco.TRIANGULAR_MESH:t=this.decoder.DecodeBufferToMesh(r,s);break;case this.draco.POINT_CLOUD:t=this.decoder.DecodeBufferToPointCloud(r,s);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!t.ok()||!s.ptr){const e=`DRACO decompression failed: ${t.error_msg()}`;throw new Error(e)}const a=this._getDracoLoaderData(s,n,e),c=this._getMeshData(s,a,e),u=function(t){let e=1/0,r=1/0,n=1/0,s=-1/0,o=-1/0,i=-1/0;const a=t.POSITION?t.POSITION.value:[],c=a&&a.length;for(let t=0;t<c;t+=3){const c=a[t],u=a[t+1],A=a[t+2];e=c<e?c:e,r=u<r?u:r,n=A<n?A:n,s=c>s?c:s,o=u>o?u:o,i=A>i?A:i}return[[e,r,n],[s,o,i]]}(c.attributes),A=function(t,e,r){const n=i(e.metadata),s=[],a=function(t){const e={};for(const r in t){const n=t[r];e[n.name||"undefined"]=n}return e}(e.attributes);for(const e in t){const r=o(e,t[e],a[e]);s.push(r)}if(r){const t=o("indices",r);s.push(t)}return{fields:s,metadata:n}}(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:s.num_points(),boundingBox:u},...c,schema:A}}finally{this.draco.destroy(r),s&&this.draco.destroy(s)}}_getDracoLoaderData(t,e,r){const n=this._getTopLevelMetadata(t),s=this._getDracoAttributes(t,r);return{geometry_type:e,num_attributes:t.num_attributes(),num_points:t.num_points(),num_faces:t instanceof this.draco.Mesh?t.num_faces():0,metadata:n,attributes:s}}_getDracoAttributes(t,e){const r={};for(let n=0;n<t.num_attributes();n++){const s=this.decoder.GetAttribute(t,n),o=this._getAttributeMetadata(t,n);r[s.unique_id()]={unique_id:s.unique_id(),attribute_type:s.attribute_type(),data_type:s.data_type(),num_components:s.num_components(),byte_offset:s.byte_offset(),byte_stride:s.byte_stride(),normalized:s.normalized(),attribute_index:n,metadata:o};const i=this._getQuantizationTransform(s,e);i&&(r[s.unique_id()].quantization_transform=i);const a=this._getOctahedronTransform(s,e);a&&(r[s.unique_id()].octahedron_transform=a)}return r}_getMeshData(t,e,r){const n=this._getMeshAttributes(e,t,r);if(!n.POSITION)throw new Error("DRACO: No position attribute found.");return t instanceof this.draco.Mesh?"triangle-strip"===r.topology?{topology:"triangle-strip",mode:4,attributes:n,indices:{value:this._getTriangleStripIndices(t),size:1}}:{topology:"triangle-list",mode:5,attributes:n,indices:{value:this._getTriangleListIndices(t),size:1}}:{topology:"point-list",mode:0,attributes:n}}_getMeshAttributes(t,e,r){const n={};for(const s of Object.values(t.attributes)){const t=this._deduceAttributeName(s,r);s.name=t;const o=this._getAttributeValues(e,s);if(o){const{value:e,size:r}=o;n[t]={value:e,size:r,byteOffset:s.byte_offset,byteStride:s.byte_stride,normalized:s.normalized}}}return n}_getTriangleListIndices(t){const e=3*t.num_faces(),r=4*e,n=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(t,r,n),new Uint32Array(this.draco.HEAPF32.buffer,n,e).slice()}finally{this.draco._free(n)}}_getTriangleStripIndices(t){const e=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(t,e),function(t){const e=t.size(),r=new Int32Array(e);for(let n=0;n<e;n++)r[n]=t.GetValue(n);return r}(e)}finally{this.draco.destroy(e)}}_getAttributeValues(t,e){const r=c[e.data_type];if(!r)return console.warn(`DRACO: Unsupported attribute type ${e.data_type}`),null;const n=e.num_components,s=t.num_points()*n,o=s*r.BYTES_PER_ELEMENT,i=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32;default:return t.DT_INVALID}}(this.draco,r);let a;const u=this.draco._malloc(o);try{const n=this.decoder.GetAttribute(t,e.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(t,n,i,o,u),a=new r(this.draco.HEAPF32.buffer,u,s).slice()}finally{this.draco._free(u)}return{value:a,size:n}}_deduceAttributeName(t,e){const r=t.unique_id;for(const[t,n]of Object.entries(e.extraAttributes||{}))if(n===r)return t;const n=t.attribute_type;for(const t in a)if(this.draco[t]===n)return a[t];const s=e.attributeNameEntry||"name";return t.metadata[s]?t.metadata[s].string:`CUSTOM_ATTRIBUTE_${r}`}_getTopLevelMetadata(t){const e=this.decoder.GetMetadata(t);return this._getDracoMetadata(e)}_getAttributeMetadata(t,e){const r=this.decoder.GetAttributeMetadata(t,e);return this._getDracoMetadata(r)}_getDracoMetadata(t){if(!t||!t.ptr)return{};const e={},r=this.metadataQuerier.NumEntries(t);for(let n=0;n<r;n++){const r=this.metadataQuerier.GetEntryName(t,n);e[r]=this._getDracoMetadataField(t,r)}return e}_getDracoMetadataField(t,e){const r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(t,e,r);const n=function(t){const e=t.size(),r=new Int32Array(e);for(let n=0;n<e;n++)r[n]=t.GetValue(n);return r}(r);return{int:this.metadataQuerier.GetIntEntry(t,e),string:this.metadataQuerier.GetStringEntry(t,e),double:this.metadataQuerier.GetDoubleEntry(t,e),intArray:n}}finally{this.draco.destroy(r)}}_disableAttributeTransforms(t){const{quantizedAttributes:e=[],octahedronAttributes:r=[]}=t,n=[...e,...r];for(const t of n)this.decoder.SkipAttributeTransform(this.draco[t])}_getQuantizationTransform(t,e){const{quantizedAttributes:r=[]}=e,n=t.attribute_type();if(r.map(t=>this.decoder[t]).includes(n)){const e=new this.draco.AttributeQuantizationTransform;try{if(e.InitFromAttribute(t))return{quantization_bits:e.quantization_bits(),range:e.range(),min_values:new Float32Array([1,2,3]).map(t=>e.min_value(t))}}finally{this.draco.destroy(e)}}return null}_getOctahedronTransform(t,e){const{octahedronAttributes:r=[]}=e,n=t.attribute_type();if(r.map(t=>this.decoder[t]).includes(n)){const e=new this.draco.AttributeQuantizationTransform;try{if(e.InitFromAttribute(t))return{quantization_bits:e.quantization_bits()}}finally{this.draco.destroy(e)}}return null}}var A=r(8016);const f="https://www.gstatic.com/draco/versioned/decoders/1.5.6",B="draco_wasm_wrapper.js",l="draco_decoder.wasm",h="draco_decoder.js",d="draco_encoder.js",C={[B]:`${f}/${B}`,[l]:`${f}/${l}`,[h]:`${f}/${h}`,[d]:`https://raw.githubusercontent.com/google/draco/1.4.1/javascript/${d}`};let g;const m={...n,parse:async function(t,e){const{draco:r}=await async function(t){const e=t.modules||{};return e.draco3d?g||=e.draco3d.createDecoderModule({}).then(t=>({draco:t})):g||=async function(t){let e,r;return"js"===(t.draco&&t.draco.decoderType)?e=await(0,A._)(C[h],"draco",t,h):[e,r]=await Promise.all([await(0,A._)(C[B],"draco",t,B),await(0,A._)(C[l],"draco",t,l)]),e=e||globalThis.DracoDecoderModule,await function(t,e){const r={};return e&&(r.wasmBinary=e),new Promise(e=>{t({...r,onModuleLoaded:t=>e({draco:t})})})}(e,r)}(t),await g}(e),n=new u(r);try{return n.parseSync(t,e?.draco)}finally{n.destroy()}}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWJTLFFBRERsSSxFQUFRMmdELE9BQVMzZ0QsRUFBUTJnRCxNQUFNQyxhQUUvQndKLFFBQTJCLE9BQVlKLEVBQTRCRCxHQUE0QyxRQUFTL3BELEVBQVMrcEQsSUFJaElLLEVBQW9CbGlELFNBQW9CakYsUUFBUWtGLElBQUksT0FDM0MsT0FBWTZoRCxFQUE0QkQsR0FBbUMsUUFBUy9wRCxFQUFTK3BELFNBQzdGLE9BQVlDLEVBQTRCRCxHQUF3QyxRQUFTL3BELEVBQVMrcEQsS0FLcEhLLEVBQXFCQSxHQUFzQmhxRCxXQUFXZ3FELHlCQUcxRCxTQUFnQ0EsRUFBb0JsaUQsR0FDaEQsTUFBTWxJLEVBQVUsQ0FBQyxFQUlqQixPQUhJa0ksSUFDQWxJLEVBQVFrSSxXQUFhQSxHQUVsQixJQUFJakYsUUFBU0MsSUFDaEJrbkQsRUFBbUIsSUFDWnBxRCxFQUNIcXFELGVBQWlCMUosR0FBVXo5QyxFQUFRLENBQUV5OUMsYUFHakQsQ0FiaUIySixDQUF1QkYsRUFBb0JsaUQsRUFDNUQsQ0FyQytCcWlELENBQWlCdnFELFNBRS9CaXFELENBQ2pCLENDUDRCTyxDQUF1QnhxRCxHQUN6Q3lxRCxFQUFjLElBQUl6SSxFQUFZckIsR0FDcEMsSUFDSSxPQUFPOEosRUFBWWpnQyxVQUFVeHJCLEVBQWFnQixHQUFTMmdELE1BQ3ZELENBQ0EsUUFDSThKLEVBQVloVyxTQUNoQixDQUNKLEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL2JpbmFyeS11dGlscy9hcnJheS1idWZmZXItdXRpbHMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xpYi9iaW5hcnktdXRpbHMvZ2V0LWZpcnN0LWNoYXJhY3RlcnMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xvYWRlci10eXBlcy5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvaW1hZ2VzL2Rpc3QvbGliL2NhdGVnb3J5LWFwaS9pbWFnZS10eXBlLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9pbWFnZXMvZGlzdC9saWIvY2F0ZWdvcnktYXBpL3BhcnNlZC1pbWFnZS1hcGkuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi9wYXJzZXJzL3N2Zy11dGlscy5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvaW1hZ2VzL2Rpc3QvbGliL3BhcnNlcnMvcGFyc2UtdG8taW1hZ2UuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi9wYXJzZXJzL3BhcnNlLXRvLWltYWdlLWJpdG1hcC5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvaW1hZ2VzL2Rpc3QvbGliL2NhdGVnb3J5LWFwaS9iaW5hcnktaW1hZ2UtYXBpLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9pbWFnZXMvZGlzdC9saWIvY2F0ZWdvcnktYXBpL3BhcnNlLWlzb2JtZmYtYmluYXJ5LmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9pbWFnZXMvZGlzdC9pbWFnZS1sb2FkZXIuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi91dGlscy92ZXJzaW9uLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9pbWFnZXMvZGlzdC9saWIvcGFyc2Vycy9wYXJzZS1pbWFnZS5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvaW1hZ2VzL2Rpc3QvbGliL3BhcnNlcnMvcGFyc2UtdG8tbm9kZS1pbWFnZS5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvdGV4dHVyZXMvZGlzdC9saWIvcGFyc2Vycy9iYXNpcy1tb2R1bGUtbG9hZGVyLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9sb2FkZXItdXRpbHMvZGlzdC9saWIvbW9kdWxlLXV0aWxzL2pzLW1vZHVsZS11dGlscy5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvdGV4dHVyZXMvZGlzdC9saWIvZ2wtZXh0ZW5zaW9ucy5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvdGV4dHVyZXMvZGlzdC9saWIvdXRpbHMvdGV4dHVyZS1mb3JtYXRzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC90ZXh0dXJlcy9kaXN0L2xpYi9wYXJzZXJzL3BhcnNlLWt0eC5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvdGV4dHVyZXMvZGlzdC9saWIvcGFyc2Vycy9wYXJzZS1iYXNpcy5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvdGV4dHVyZXMvZGlzdC9iYXNpcy1sb2FkZXIuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3RleHR1cmVzL2Rpc3QvbGliL3V0aWxzL3ZlcnNpb24uanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvdXRpbHMvYXNzZXJ0LmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9sb2FkZXItdXRpbHMvZGlzdC9saWIvYmluYXJ5LXV0aWxzL21lbW9yeS1jb3B5LXV0aWxzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL3BhcnNlcnMvcGFyc2UtZ2xiLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2dsdGYtdXRpbHMvcmVzb2x2ZS11cmwuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZ2x0Zi11dGlscy9nbHRmLWNvbnN0YW50cy5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9nbHRmLXV0aWxzL2dsdGYtdXRpbHMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvYXBpL2dsdGYtc2NlbmVncmFwaC5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9nbHRmLXV0aWxzL2dldC10eXBlZC1hcnJheS5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL3V0aWxzLzNkLXRpbGVzLXV0aWxzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2V4dGVuc2lvbnMvRVhUX21lc2hfZmVhdHVyZXMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZXh0ZW5zaW9ucy9FWFRfc3RydWN0dXJhbF9tZXRhZGF0YS5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L21lc2hvcHQvbWVzaG9wdC1kZWNvZGVyLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2V4dGVuc2lvbnMvRVhUX21lc2hvcHRfY29tcHJlc3Npb24uanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2ltYWdlcy9kaXN0L2xpYi9jYXRlZ29yeS1hcGkvaW1hZ2UtZm9ybWF0LmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2V4dGVuc2lvbnMvRVhUX3RleHR1cmVfd2VicC5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL0tIUl90ZXh0dXJlX2Jhc2lzdS5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9nbHRmLXV0aWxzL2dsdGYtYXR0cmlidXRlLXV0aWxzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2V4dGVuc2lvbnMvS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb24uanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9saWIvY29tbW9uLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvY2xhc3Nlcy9iYXNlL21hdGgtYXJyYXkuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9saWIvdmFsaWRhdG9ycy5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvY29yZS9kaXN0L2xpYi9hc3NlcnQuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9jbGFzc2VzL2Jhc2UvdmVjdG9yLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvZ2wtbWF0cml4L2NvbW1vbi5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvY29yZS9kaXN0L2dsLW1hdHJpeC92ZWMzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvY2xhc3Nlcy92ZWN0b3IzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvbGliL2dsLW1hdHJpeC1leHRyYXMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9jbGFzc2VzL2Jhc2UvbWF0cml4LmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbWF0aC5nbC9jb3JlL2Rpc3QvZ2wtbWF0cml4L21hdDMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9jbGFzc2VzL21hdHJpeDMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0BtYXRoLmdsL2NvcmUvZGlzdC9nbC1tYXRyaXgvdmVjMi5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL0tIUl90ZXh0dXJlX3RyYW5zZm9ybS5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvS0hSX2xpZ2h0c19wdW5jdHVhbC5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvS0hSX21hdGVyaWFsc191bmxpdC5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvZ2x0Zi9kaXN0L2xpYi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvS0hSX3RlY2huaXF1ZXNfd2ViZ2wuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZXh0ZW5zaW9ucy9kZXByZWNhdGVkL0VYVF9mZWF0dXJlX21ldGFkYXRhLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL2FwaS9nbHRmLWV4dGVuc2lvbnMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvZXh0ZW5zaW9ucy9LSFJfYmluYXJ5X2dsdGYuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvYXBpL25vcm1hbGl6ZS1nbHRmLXYxLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvbGliL3BhcnNlcnMvcGFyc2UtZ2x0Zi5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL3BhcnNlci11dGlscy9wYXJzZS1qc29uLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9nbHRmL2Rpc3QvZ2x0Zi1sb2FkZXIuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2dsdGYvZGlzdC9saWIvdXRpbHMvdmVyc2lvbi5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDIuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3dvcmtlci11dGlscy9kaXN0L2xpYi9lbnYtdXRpbHMvYXNzZXJ0LmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDQuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xpYi9lbnYtdXRpbHMvYXNzZXJ0LmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvZW52LXV0aWxzL2dsb2JhbHMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9qYXZhc2NyaXB0LXV0aWxzL2lzLXR5cGUuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9saWIvbG9hZGVyLXV0aWxzL25vcm1hbGl6ZS1sb2FkZXIuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xpYi9wYXRoLXV0aWxzL2ZpbGUtYWxpYXNlcy5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi9mZXRjaC9mZXRjaC1lcnJvci5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi91dGlscy9taW1lLXR5cGUtdXRpbHMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9saWIvdXRpbHMvdXJsLXV0aWxzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL3V0aWxzL3Jlc291cmNlLXV0aWxzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL3V0aWxzL3Jlc3BvbnNlLXV0aWxzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2ZldGNoL2ZldGNoLWZpbGUuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bwcm9iZS5nbC9lbnYvZGlzdC9saWIvaXMtYnJvd3Nlci5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQHByb2JlLmdsL2Vudi9kaXN0L2xpYi9pcy1lbGVjdHJvbi5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQHByb2JlLmdsL2Vudi9kaXN0L2luZGV4LmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AcHJvYmUuZ2wvbG9nL2Rpc3QvdXRpbHMvbG9jYWwtc3RvcmFnZS5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQHByb2JlLmdsL2xvZy9kaXN0L3V0aWxzL2NvbG9yLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AcHJvYmUuZ2wvbG9nL2Rpc3QvdXRpbHMvYXNzZXJ0LmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AcHJvYmUuZ2wvZW52L2Rpc3QvbGliL2dsb2JhbHMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bwcm9iZS5nbC9sb2cvZGlzdC91dGlscy9oaS1yZXMtdGltZXN0YW1wLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AcHJvYmUuZ2wvbG9nL2Rpc3QvbG9nLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AcHJvYmUuZ2wvbG9nL2Rpc3QvdXRpbHMvYXV0b2JpbmQuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bwcm9iZS5nbC9sb2cvZGlzdC91dGlscy9mb3JtYXR0ZXJzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2xvYWRlci11dGlscy9sb2dnZXJzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2xvYWRlci11dGlscy9vcHRpb24tZGVmYXVsdHMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9saWIvbG9hZGVyLXV0aWxzL29wdGlvbi11dGlscy5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi9sb2FkZXItdXRpbHMvZ2V0LWZldGNoLWZ1bmN0aW9uLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9sb2FkZXItdXRpbHMvZGlzdC9saWIvb3B0aW9uLXV0aWxzL21lcmdlLWxvYWRlci1vcHRpb25zLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvbm9kZS93b3JrZXJfdGhyZWFkcy1icm93c2VyLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvd29ya2VyLXV0aWxzL2dldC1sb2FkYWJsZS13b3JrZXItdXJsLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvd29ya2VyLXV0aWxzL2dldC10cmFuc2Zlci1saXN0LmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvd29ya2VyLWZhcm0vd29ya2VyLXRocmVhZC5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzL2Rpc3QvbGliL3dvcmtlci1mYXJtL3dvcmtlci1qb2IuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3dvcmtlci11dGlscy9kaXN0L2xpYi93b3JrZXItZmFybS93b3JrZXItcG9vbC5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzL2Rpc3QvbGliL3dvcmtlci1mYXJtL3dvcmtlci1mYXJtLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9sb2FkZXItdXRpbHMvZGlzdC9saWIvd29ya2VyLWxvYWRlci11dGlscy9wYXJzZS13aXRoLXdvcmtlci5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzL2Rpc3QvbGliL3dvcmtlci1hcGkvZ2V0LXdvcmtlci11cmwuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9pdGVyYXRvcnMvbWFrZS1pdGVyYXRvci9tYWtlLXN0cmluZy1pdGVyYXRvci5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2l0ZXJhdG9ycy9tYWtlLWl0ZXJhdG9yL21ha2UtYXJyYXktYnVmZmVyLWl0ZXJhdG9yLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvaXRlcmF0b3JzL21ha2UtaXRlcmF0b3IvbWFrZS1ibG9iLWl0ZXJhdG9yLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9sb2FkZXItdXRpbHMvZGlzdC9saWIvYmluYXJ5LXV0aWxzL21lbW9yeS1jb252ZXJzaW9uLXV0aWxzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvaXRlcmF0b3JzL21ha2UtaXRlcmF0b3IvbWFrZS1zdHJlYW0taXRlcmF0b3IuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2NvcmUvZGlzdC9saWIvbG9hZGVyLXV0aWxzL2dldC1kYXRhLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvaXRlcmF0b3JzL21ha2UtaXRlcmF0b3IvbWFrZS1pdGVyYXRvci5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL2l0ZXJhdG9ycy9hc3luYy1pdGVyYXRpb24uanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xpYi9wYXRoLXV0aWxzL3BhdGguanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscy9kaXN0L2xpYi9sb2ctdXRpbHMvbG9nLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2FwaS9yZWdpc3Rlci1sb2FkZXJzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2FwaS9zZWxlY3QtbG9hZGVyLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2FwaS9wYXJzZS5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvY29yZS9kaXN0L2xpYi9sb2FkZXItdXRpbHMvbG9hZGVyLWNvbnRleHQuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3dvcmtlci11dGlscy9kaXN0L2xpYi93b3JrZXItYXBpL3ZhbGlkYXRlLXdvcmtlci12ZXJzaW9uLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9jb3JlL2Rpc3QvbGliL2FwaS9sb2FkLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vY29tbW9uLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzQuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vcXVhdC5qcyIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzL2Rpc3QvbGliL2Vudi11dGlscy9nbG9iYWxzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvbGlicmFyeS11dGlscy9saWJyYXJ5LXV0aWxzLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC93b3JrZXItdXRpbHMvZGlzdC9saWIvZW52LXV0aWxzL3ZlcnNpb24uanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2RyYWNvL2Rpc3QvbGliL3V0aWxzL3ZlcnNpb24uanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2RyYWNvL2Rpc3QvZHJhY28tbG9hZGVyLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9zY2hlbWEvZGlzdC9saWIvbWVzaC9kZWR1Y2UtbWVzaC1zY2hlbWEuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3NjaGVtYS9kaXN0L2xpYi90YWJsZS9zaW1wbGUtdGFibGUvZGF0YS10eXBlLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9kcmFjby9kaXN0L2xpYi91dGlscy9nZXQtZHJhY28tc2NoZW1hLmpzIiwiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9AbG9hZGVycy5nbC9kcmFjby9kaXN0L2xpYi9kcmFjby1wYXJzZXIuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL3NjaGVtYS9kaXN0L2xpYi9tZXNoL21lc2gtdXRpbHMuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2RyYWNvL2Rpc3QvbGliL2RyYWNvLW1vZHVsZS1sb2FkZXIuanMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL0Bsb2FkZXJzLmdsL2RyYWNvL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBjb21wYXJlIHR3byBiaW5hcnkgYXJyYXlzIGZvciBlcXVhbGl0eVxuICogQHBhcmFtIGFcbiAqIEBwYXJhbSBiXG4gKiBAcGFyYW0gYnl0ZUxlbmd0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZUFycmF5QnVmZmVycyhhcnJheUJ1ZmZlcjEsIGFycmF5QnVmZmVyMiwgYnl0ZUxlbmd0aCkge1xuICAgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHx8IGFycmF5QnVmZmVyMS5ieXRlTGVuZ3RoO1xuICAgIGlmIChhcnJheUJ1ZmZlcjEuYnl0ZUxlbmd0aCA8IGJ5dGVMZW5ndGggfHwgYXJyYXlCdWZmZXIyLmJ5dGVMZW5ndGggPCBieXRlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYXJyYXkxID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIxKTtcbiAgICBjb25zdCBhcnJheTIgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcjIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBDb25jYXRlbmF0ZSBhIHNlcXVlbmNlIG9mIEFycmF5QnVmZmVycyBmcm9tIGFyZ3VtZW50c1xuICogQHJldHVybiBBIGNvbmNhdGVuYXRlZCBBcnJheUJ1ZmZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0ZW5hdGVBcnJheUJ1ZmZlcnMoLi4uc291cmNlcykge1xuICAgIHJldHVybiBjb25jYXRlbmF0ZUFycmF5QnVmZmVyc0Zyb21BcnJheShzb3VyY2VzKTtcbn1cbi8qKlxuICogQ29uY2F0ZW5hdGUgYSBzZXF1ZW5jZSBvZiBBcnJheUJ1ZmZlcnMgZnJvbSBhcnJheVxuICogQHJldHVybiBBIGNvbmNhdGVuYXRlZCBBcnJheUJ1ZmZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0ZW5hdGVBcnJheUJ1ZmZlcnNGcm9tQXJyYXkoc291cmNlcykge1xuICAgIC8vIE1ha2Ugc3VyZSBhbGwgaW5wdXRzIGFyZSB3cmFwcGVkIGluIHR5cGVkIGFycmF5c1xuICAgIGNvbnN0IHNvdXJjZUFycmF5cyA9IHNvdXJjZXMubWFwKChzb3VyY2UyKSA9PiBzb3VyY2UyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBuZXcgVWludDhBcnJheShzb3VyY2UyKSA6IHNvdXJjZTIpO1xuICAgIC8vIEdldCBsZW5ndGggb2YgYWxsIGlucHV0c1xuICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBzb3VyY2VBcnJheXMucmVkdWNlKChsZW5ndGgsIHR5cGVkQXJyYXkpID0+IGxlbmd0aCArIHR5cGVkQXJyYXkuYnl0ZUxlbmd0aCwgMCk7XG4gICAgLy8gQWxsb2NhdGUgYXJyYXkgd2l0aCBzcGFjZSBmb3IgYWxsIGlucHV0c1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGJ5dGVMZW5ndGgpO1xuICAgIC8vIENvcHkgdGhlIHN1YmFycmF5c1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAoY29uc3Qgc291cmNlQXJyYXkgb2Ygc291cmNlQXJyYXlzKSB7XG4gICAgICAgIHJlc3VsdC5zZXQoc291cmNlQXJyYXksIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBzb3VyY2VBcnJheS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICAvLyBXZSB3b3JrIHdpdGggQXJyYXlCdWZmZXJzLCBkaXNjYXJkIHRoZSB0eXBlZCBhcnJheSB3cmFwcGVyXG4gICAgcmV0dXJuIHJlc3VsdC5idWZmZXI7XG59XG4vKipcbiAqIENvbmNhdGVuYXRlIGFyYml0cmFyeSBjb3VudCBvZiB0eXBlZCBhcnJheXNcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvVHlwZWRfYXJyYXlzXG4gKiBAcGFyYW0gLSBsaXN0IG9mIGFycmF5cy4gQWxsIGFycmF5cyBzaG91bGQgYmUgdGhlIHNhbWUgdHlwZVxuICogQHJldHVybiBBIGNvbmNhdGVuYXRlZCBUeXBlZEFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRlbmF0ZVR5cGVkQXJyYXlzKC4uLnR5cGVkQXJyYXlzKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGFycmF5cyA9IHR5cGVkQXJyYXlzO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBUeXBlZEFycmF5Q29uc3RydWN0b3IgPSAoYXJyYXlzICYmIGFycmF5cy5sZW5ndGggPiAxICYmIGFycmF5c1swXS5jb25zdHJ1Y3RvcikgfHwgbnVsbDtcbiAgICBpZiAoIVR5cGVkQXJyYXlDb25zdHJ1Y3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiY29uY2F0ZW5hdGVUeXBlZEFycmF5c1wiIC0gaW5jb3JyZWN0IHF1YW50aXR5IG9mIGFyZ3VtZW50cyBvciBhcmd1bWVudHMgaGF2ZSBpbmNvbXBhdGlibGUgZGF0YSB0eXBlcycpO1xuICAgIH1cbiAgICBjb25zdCBzdW1MZW5ndGggPSBhcnJheXMucmVkdWNlKChhY2MsIHZhbHVlKSA9PiBhY2MgKyB2YWx1ZS5sZW5ndGgsIDApO1xuICAgIC8vIEB0cy1pZ25vcmUgdHlwZXNjcmlwdCBkb2VzIG5vdCBsaWtlIGR5bmFtaWMgY29uc3RydWN0b3JzXG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFR5cGVkQXJyYXlDb25zdHJ1Y3RvcihzdW1MZW5ndGgpO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAoY29uc3QgYXJyYXkgb2YgYXJyYXlzKSB7XG4gICAgICAgIHJlc3VsdC5zZXQoYXJyYXksIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBhcnJheS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENvcHkgYSB2aWV3IG9mIGFuIEFycmF5QnVmZmVyIGludG8gbmV3IEFycmF5QnVmZmVyIHdpdGggYnl0ZU9mZnNldCA9IDBcbiAqIEBwYXJhbSBhcnJheUJ1ZmZlclxuICogQHBhcmFtIGJ5dGVPZmZzZXRcbiAqIEBwYXJhbSBieXRlTGVuZ3RoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbGljZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgY29uc3Qgc3ViQXJyYXkgPSBieXRlTGVuZ3RoICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikuc3ViYXJyYXkoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGJ5dGVMZW5ndGgpXG4gICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpLnN1YmFycmF5KGJ5dGVPZmZzZXQpO1xuICAgIGNvbnN0IGFycmF5Q29weSA9IG5ldyBVaW50OEFycmF5KHN1YkFycmF5KTtcbiAgICByZXR1cm4gYXJyYXlDb3B5LmJ1ZmZlcjtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLyoqXG4gKiBHZXQgdGhlIGZpcnN0IGNoYXJhY3RlcnMgZnJvbSBhIGJpbmFyeSBmaWxlIChpbnRlcnByZXQgdGhlIGZpcnN0IGJ5dGVzIGFzIGFuIEFTQ0lJIHN0cmluZylcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gbGVuZ3RoXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rmlyc3RDaGFyYWN0ZXJzKGRhdGEsIGxlbmd0aCA9IDUpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSkge1xuICAgICAgICAvLyBUeXBlZCBBcnJheXMgY2FuIGhhdmUgb2Zmc2V0cyBpbnRvIHVuZGVybHlpbmcgYnVmZmVyXG4gICAgICAgIHJldHVybiBnZXRNYWdpY1N0cmluZyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IDA7XG4gICAgICAgIHJldHVybiBnZXRNYWdpY1N0cmluZyhkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG4vKipcbiAqIEdldHMgYSBtYWdpYyBzdHJpbmcgZnJvbSBhIFwiZmlsZVwiXG4gKiBUeXBpY2FsbHkgdXNlZCB0byBjaGVjayBvciBkZXRlY3QgZmlsZSBmb3JtYXRcbiAqIEBwYXJhbSBhcnJheUJ1ZmZlclxuICogQHBhcmFtIGJ5dGVPZmZzZXRcbiAqIEBwYXJhbSBsZW5ndGhcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYWdpY1N0cmluZyhhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgaWYgKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGggPD0gYnl0ZU9mZnNldCArIGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICBsZXQgbWFnaWMgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hZ2ljICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVZpZXcuZ2V0VWludDgoYnl0ZU9mZnNldCArIGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hZ2ljO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vKipcbiAqIFBhcnNlcyBgZGF0YWAgdXNpbmcgYSBzcGVjaWZpZWQgbG9hZGVyXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIGxvYWRlcnNcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY29udGV4dFxuICovXG4vLyBpbXBsZW1lbnRhdGlvbiBzaWduYXR1cmVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUZyb21Db250ZXh0KGRhdGEsIGxvYWRlcnMsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gY29udGV4dC5fcGFyc2UoZGF0YSwgbG9hZGVycywgb3B0aW9ucywgY29udGV4dCk7XG59XG4vKipcbiAqIFBhcnNlcyBgZGF0YWAgc3luY2hyb25vdXNseSB1c2luZyB0aGUgc3BlY2lmaWVkIGxvYWRlciwgcGFyc2UgZnVuY3Rpb24gcHJvdmlkZWQgdmlhIHRoZSBsb2FkZXIgY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTeW5jRnJvbUNvbnRleHQoZGF0YSwgbG9hZGVyLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgaWYgKCFjb250ZXh0Ll9wYXJzZVN5bmMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJzZVN5bmMnKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuX3BhcnNlU3luYyhkYXRhLCBsb2FkZXIsIG9wdGlvbnMsIGNvbnRleHQpO1xufVxuLyoqXG4gKiBQYXJzZXMgYGRhdGFgIHN5bmNocm9ub3VzbHkgdXNpbmcgYSBzcGVjaWZpZWQgbG9hZGVyLCBwYXJzZSBmdW5jdGlvbiBwcm92aWRlZCB2aWEgdGhlIGxvYWRlciBjb250ZXh0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUluQmF0Y2hlc0Zyb21Db250ZXh0KGRhdGEsIGxvYWRlciwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGlmICghY29udGV4dC5fcGFyc2VJbkJhdGNoZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJzZUluQmF0Y2hlcycpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5fcGFyc2VJbkJhdGNoZXMoZGF0YSwgbG9hZGVyLCBvcHRpb25zLCBjb250ZXh0KTtcbn1cbiIsImltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG4vLyBAdHMtaWdub3JlIFRTMjMzOTogUHJvcGVydHkgZG9lcyBub3QgZXhpc3Qgb24gdHlwZVxuY29uc3QgcGFyc2VJbWFnZU5vZGUgPSBnbG9iYWxUaGlzLmxvYWRlcnM/LnBhcnNlSW1hZ2VOb2RlO1xuY29uc3QgSU1BR0VfU1VQUE9SVEVEID0gdHlwZW9mIEltYWdlICE9PSAndW5kZWZpbmVkJzsgLy8gTk9URTogXCJmYWxzZVwiIHBvc2l0aXZlcyBpZiBqc2RvbSBpcyBpbnN0YWxsZWRcbmNvbnN0IElNQUdFX0JJVE1BUF9TVVBQT1JURUQgPSB0eXBlb2YgSW1hZ2VCaXRtYXAgIT09ICd1bmRlZmluZWQnO1xuY29uc3QgTk9ERV9JTUFHRV9TVVBQT1JURUQgPSBCb29sZWFuKHBhcnNlSW1hZ2VOb2RlKTtcbmNvbnN0IERBVEFfU1VQUE9SVEVEID0gaXNCcm93c2VyID8gdHJ1ZSA6IE5PREVfSU1BR0VfU1VQUE9SVEVEO1xuLyoqXG4gKiBDaGVja3MgaWYgYSBsb2FkZXJzLmdsIGltYWdlIHR5cGUgaXMgc3VwcG9ydGVkXG4gKiBAcGFyYW0gdHlwZSBpbWFnZSB0eXBlIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJbWFnZVR5cGVTdXBwb3J0ZWQodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdhdXRvJzpcbiAgICAgICAgICAgIC8vIFNob3VsZCBvbmx5IGV2ZXIgYmUgZmFsc2UgaW4gTm9kZS5qcywgaWYgcG9seWZpbGxzIGhhdmUgbm90IGJlZW4gaW5zdGFsbGVkLi4uXG4gICAgICAgICAgICByZXR1cm4gSU1BR0VfQklUTUFQX1NVUFBPUlRFRCB8fCBJTUFHRV9TVVBQT1JURUQgfHwgREFUQV9TVVBQT1JURUQ7XG4gICAgICAgIGNhc2UgJ2ltYWdlYml0bWFwJzpcbiAgICAgICAgICAgIHJldHVybiBJTUFHRV9CSVRNQVBfU1VQUE9SVEVEO1xuICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgICByZXR1cm4gSU1BR0VfU1VQUE9SVEVEO1xuICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgIHJldHVybiBEQVRBX1NVUFBPUlRFRDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQGxvYWRlcnMuZ2wvaW1hZ2VzOiBpbWFnZSAke3R5cGV9IG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudGApO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgXCJtb3N0IHBlcmZvcm1hbnRcIiBzdXBwb3J0ZWQgaW1hZ2UgdHlwZSBvbiB0aGlzIHBsYXRmb3JtXG4gKiBAcmV0dXJucyBpbWFnZSB0eXBlIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdEltYWdlVHlwZSgpIHtcbiAgICBpZiAoSU1BR0VfQklUTUFQX1NVUFBPUlRFRCkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlYml0bWFwJztcbiAgICB9XG4gICAgaWYgKElNQUdFX1NVUFBPUlRFRCkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICB9XG4gICAgaWYgKERBVEFfU1VQUE9SVEVEKSB7XG4gICAgICAgIHJldHVybiAnZGF0YSc7XG4gICAgfVxuICAgIC8vIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGluIE5vZGUuanNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0luc3RhbGwgXFwnQGxvYWRlcnMuZ2wvcG9seWZpbGxzXFwnIHRvIHBhcnNlIGltYWdlcyB1bmRlciBOb2RlLmpzJyk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNJbWFnZShpbWFnZSkge1xuICAgIHJldHVybiBCb29sZWFuKGdldEltYWdlVHlwZU9yTnVsbChpbWFnZSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUltYWdlKGltYWdlKSB7XG4gICAgc3dpdGNoIChnZXRJbWFnZVR5cGUoaW1hZ2UpKSB7XG4gICAgICAgIGNhc2UgJ2ltYWdlYml0bWFwJzpcbiAgICAgICAgICAgIGltYWdlLmNsb3NlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyBmb3IgaW1hZ2VzIGFuZCBpbWFnZSBkYXRhIG9iamVjdHNcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VUeXBlKGltYWdlKSB7XG4gICAgY29uc3QgZm9ybWF0ID0gZ2V0SW1hZ2VUeXBlT3JOdWxsKGltYWdlKTtcbiAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhbiBpbWFnZScpO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEltYWdlU2l6ZShpbWFnZSkge1xuICAgIHJldHVybiBnZXRJbWFnZURhdGEoaW1hZ2UpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEltYWdlRGF0YShpbWFnZSkge1xuICAgIHN3aXRjaCAoZ2V0SW1hZ2VUeXBlKGltYWdlKSkge1xuICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgIHJldHVybiBpbWFnZTtcbiAgICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICBjYXNlICdpbWFnZWJpdG1hcCc6XG4gICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBpbWFnZSBkYXRhIGZyb20gdGhlIGltYWdlIHZpYSBhIGNhbnZhc1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAvLyBUT0RPIC0gcmV1c2UgdGhlIGNhbnZhcz9cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0SW1hZ2VEYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEltYWdlRGF0YScpO1xuICAgIH1cbn1cbi8vIFBSSVZBVEVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBnZXRJbWFnZVR5cGVPck51bGwoaW1hZ2UpIHtcbiAgICBpZiAodHlwZW9mIEltYWdlQml0bWFwICE9PSAndW5kZWZpbmVkJyAmJiBpbWFnZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2ViaXRtYXAnO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIEltYWdlICE9PSAndW5kZWZpbmVkJyAmJiBpbWFnZSBpbnN0YW5jZW9mIEltYWdlKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgIH1cbiAgICBpZiAoaW1hZ2UgJiYgdHlwZW9mIGltYWdlID09PSAnb2JqZWN0JyAmJiBpbWFnZS5kYXRhICYmIGltYWdlLndpZHRoICYmIGltYWdlLmhlaWdodCkge1xuICAgICAgICByZXR1cm4gJ2RhdGEnO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsIi8vIFNWRyBwYXJzaW5nIGhhcyBsaW1pdGF0aW9ucywgZS5nOlxuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NjA2MzE5XG5jb25zdCBTVkdfREFUQV9VUkxfUEFUVEVSTiA9IC9eZGF0YTppbWFnZVxcL3N2Z1xcK3htbC87XG5jb25zdCBTVkdfVVJMX1BBVFRFUk4gPSAvXFwuc3ZnKChcXD98IykuKik/JC87XG5leHBvcnQgZnVuY3Rpb24gaXNTVkcodXJsKSB7XG4gICAgcmV0dXJuIHVybCAmJiAoU1ZHX0RBVEFfVVJMX1BBVFRFUk4udGVzdCh1cmwpIHx8IFNWR19VUkxfUEFUVEVSTi50ZXN0KHVybCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEJsb2JPclNWR0RhdGFVcmwoYXJyYXlCdWZmZXIsIHVybCkge1xuICAgIGlmIChpc1NWRyh1cmwpKSB7XG4gICAgICAgIC8vIFByZXBhcmUgYSBwcm9wZXJseSB0YWdnZWQgZGF0YSBVUkwsIGFuZCBsb2FkIHVzaW5nIG5vcm1hbCBtZWNoYW5pc21cbiAgICAgICAgY29uc3QgdGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICAgICAgbGV0IHhtbFRleHQgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoYXJyYXlCdWZmZXIpO1xuICAgICAgICAvLyBUT0RPIEVzY2FwZSBpbiBicm93c2VyIHRvIHN1cHBvcnQgZS5nLiBDaGluZXNlIGNoYXJhY3RlcnNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdW5lc2NhcGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuY29kZVVSSUNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHhtbFRleHQgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoeG1sVGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJhc2U2NCBlbmNvZGluZyBpcyBzYWZlci4gdXRmLTggZmFpbHMgaW4gc29tZSBicm93c2Vyc1xuICAgICAgICBjb25zdCBzcmMgPSBgZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke2J0b2EoeG1sVGV4dCl9YDtcbiAgICAgICAgcmV0dXJuIHNyYztcbiAgICB9XG4gICAgcmV0dXJuIGdldEJsb2IoYXJyYXlCdWZmZXIsIHVybCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QmxvYihhcnJheUJ1ZmZlciwgdXJsKSB7XG4gICAgaWYgKGlzU1ZHKHVybCkpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NjA2MzE5XG4gICAgICAgIC8vIHJldHVybiBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpXSwge3R5cGU6ICdpbWFnZS9zdmcreG1sJ30pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NWRyBjYW5ub3QgYmUgcGFyc2VkIGRpcmVjdGx5IHRvIGltYWdlYml0bWFwJyk7XG4gICAgfVxuICAgIC8vIFRPRE8gLSBob3cgdG8gZGV0ZXJtaW5lIG1pbWUgdHlwZT8gUGFyYW0/IFNuaWZmIGhlcmU/XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcildKTsgLy8gTUlNRSB0eXBlIG5vdCBuZWVkZWQ/XG59XG4iLCJpbXBvcnQgeyBnZXRCbG9iT3JTVkdEYXRhVXJsIH0gZnJvbSBcIi4vc3ZnLXV0aWxzLmpzXCI7XG4vLyBQYXJzZXMgaHRtbCBpbWFnZSBmcm9tIGFycmF5IGJ1ZmZlclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlVG9JbWFnZShhcnJheUJ1ZmZlciwgb3B0aW9ucywgdXJsKSB7XG4gICAgLy8gTm90ZTogaW1hZ2UgcGFyc2luZyByZXF1aXJlcyBjb252ZXJzaW9uIHRvIEJsb2IgKGZvciBjcmVhdGVPYmplY3RVUkwpLlxuICAgIC8vIFBvdGVudGlhbGx5IGluZWZmaWNpZW50IGZvciBub3QgdXNpbmcgYHJlc3BvbnNlLmJsb2IoKWAgKGFuZCBmb3IgRmlsZSAvIEJsb2IgaW5wdXRzKS4uLlxuICAgIC8vIEJ1dCBwcmVzdW1hYmx5IG5vdCB3b3J0aCBhZGRpbmcgJ2Jsb2InIGZsYWcgdG8gbG9hZGVyIG9iamVjdHM/XG4gICAgY29uc3QgYmxvYk9yRGF0YVVybCA9IGdldEJsb2JPclNWR0RhdGFVcmwoYXJyYXlCdWZmZXIsIHVybCk7XG4gICAgY29uc3QgVVJMID0gc2VsZi5VUkwgfHwgc2VsZi53ZWJraXRVUkw7XG4gICAgY29uc3Qgb2JqZWN0VXJsID0gdHlwZW9mIGJsb2JPckRhdGFVcmwgIT09ICdzdHJpbmcnICYmIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYk9yRGF0YVVybCk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGxvYWRUb0ltYWdlKG9iamVjdFVybCB8fCBibG9iT3JEYXRhVXJsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGlmIChvYmplY3RVcmwpIHtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob2JqZWN0VXJsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkVG9JbWFnZSh1cmwsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLnNyYyA9IHVybDtcbiAgICAvLyBUaGUgYGltYWdlLm9ubG9hZCgpYCBjYWxsYmFjayBkb2VzIG5vdCBndWFyYW50ZWUgdGhhdCB0aGUgaW1hZ2UgaGFzIGJlZW4gZGVjb2RlZFxuICAgIC8vIHNvIGEgbWFpbiB0aHJlYWQgXCJmcmVlemVcIiBjYW4gYmUgaW5jdXJyZWQgd2hlbiB1c2luZyB0aGUgaW1hZ2UgZm9yIHRoZSBmaXJzdCB0aW1lLlxuICAgIC8vIGBJbWFnZS5kZWNvZGUoKWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCBjb21wbGV0ZXMgd2hlbiBpbWFnZSBpcyBkZWNvZGVkLlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MSW1hZ2VFbGVtZW50L2RlY29kZVxuICAgIC8vIE5vdGU6IFdoZW4gY2FsbGluZyBgaW1nLmRlY29kZSgpYCwgd2UgZG8gbm90IG5lZWQgdG8gd2FpdCBmb3IgYGltZy5vbmxvYWQoKWBcbiAgICAvLyBOb3RlOiBgSFRNTEltYWdlRWxlbWVudC5kZWNvZGUoKWAgaXMgbm90IGF2YWlsYWJsZSBpbiBFZGdlIGFuZCBJRTExXG4gICAgaWYgKG9wdGlvbnMuaW1hZ2UgJiYgb3B0aW9ucy5pbWFnZS5kZWNvZGUgJiYgaW1hZ2UuZGVjb2RlKSB7XG4gICAgICAgIGF3YWl0IGltYWdlLmRlY29kZSgpO1xuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIHByb21pc2UgdGhhdCB0cmFja3Mgb25sb2FkL29uZXJyb3IgY2FsbGJhY2tzXG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1hZ2UpO1xuICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdlcnJvcic7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihtZXNzYWdlKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgaXNTVkcsIGdldEJsb2IgfSBmcm9tIFwiLi9zdmctdXRpbHMuanNcIjtcbmltcG9ydCB7IHBhcnNlVG9JbWFnZSB9IGZyb20gXCIuL3BhcnNlLXRvLWltYWdlLmpzXCI7XG5jb25zdCBFTVBUWV9PQkpFQ1QgPSB7fTtcbmxldCBpbWFnZWJpdG1hcE9wdGlvbnNTdXBwb3J0ZWQgPSB0cnVlO1xuLyoqXG4gKiBBc3luY2hyb25vdXNseSBwYXJzZXMgYW4gYXJyYXkgYnVmZmVyIGludG8gYW4gSW1hZ2VCaXRtYXAgLSB0aGlzIGNvbnRhaW5zIHRoZSBkZWNvZGVkIGRhdGFcbiAqIEltYWdlQml0bWFwcyBhcmUgc3VwcG9ydGVkIG9uIHdvcmtlciB0aHJlYWRzLCBidXQgbm90IHN1cHBvcnRlZCBvbiBFZGdlLCBJRTExIGFuZCBTYWZhcmlcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbWFnZUJpdG1hcCNCcm93c2VyX2NvbXBhdGliaWxpdHlcbiAqXG4gKiBUT0RPIC0gY3JlYXRlSW1hZ2VCaXRtYXAgc3VwcG9ydHMgc291cmNlIHJlY3QgKDUgcGFyYW0gb3ZlcmxvYWQpLCBwYXNzIHRocm91Z2g/XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVRvSW1hZ2VCaXRtYXAoYXJyYXlCdWZmZXIsIG9wdGlvbnMsIHVybCkge1xuICAgIGxldCBibG9iO1xuICAgIC8vIENhbm5vdCBwYXJzZSBTVkcgZGlyZWN0bHkgdG8gSW1hZ2VCaXRtYXAsIHBhcnNlIHRvIEltYWdlIGZpcnN0XG4gICAgaWYgKGlzU1ZHKHVybCkpIHtcbiAgICAgICAgLy8gTm90ZTogdGhpcyBvbmx5IHdvcmtzIG9uIG1haW4gdGhyZWFkXG4gICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgcGFyc2VUb0ltYWdlKGFycmF5QnVmZmVyLCBvcHRpb25zLCB1cmwpO1xuICAgICAgICBibG9iID0gaW1hZ2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgYmxvYiBmcm9tIHRoZSBhcnJheSBidWZmZXJcbiAgICAgICAgYmxvYiA9IGdldEJsb2IoYXJyYXlCdWZmZXIsIHVybCk7XG4gICAgfVxuICAgIGNvbnN0IGltYWdlYml0bWFwT3B0aW9ucyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbWFnZWJpdG1hcDtcbiAgICByZXR1cm4gYXdhaXQgc2FmZUNyZWF0ZUltYWdlQml0bWFwKGJsb2IsIGltYWdlYml0bWFwT3B0aW9ucyk7XG59XG4vKipcbiAqIFNhZmVseSBjcmVhdGVzIGFuIGltYWdlQml0bWFwIHdpdGggb3B0aW9uc1xuICogKlxuICogRmlyZWZveCBjcmFzaGVzIGlmIGltYWdlYml0bWFwT3B0aW9ucyBpcyBzdXBwbGllZFxuICogQXZvaWQgc3VwcGx5aW5nIGlmIG5vdCBwcm92aWRlZCBvciBzdXBwb3J0ZWQsIHJlbWVtYmVyIGlmIG5vdCBzdXBwb3J0ZWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2FmZUNyZWF0ZUltYWdlQml0bWFwKGJsb2IsIGltYWdlYml0bWFwT3B0aW9ucyA9IG51bGwpIHtcbiAgICBpZiAoaXNFbXB0eU9iamVjdChpbWFnZWJpdG1hcE9wdGlvbnMpIHx8ICFpbWFnZWJpdG1hcE9wdGlvbnNTdXBwb3J0ZWQpIHtcbiAgICAgICAgaW1hZ2ViaXRtYXBPcHRpb25zID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGltYWdlYml0bWFwT3B0aW9ucykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBPcHRpb25zXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAoYmxvYiwgaW1hZ2ViaXRtYXBPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIGltYWdlYml0bWFwT3B0aW9uc1N1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChibG9iKTtcbn1cbmZ1bmN0aW9uIGlzRW1wdHlPYmplY3Qob2JqZWN0KSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCB8fCBFTVBUWV9PQkpFQ1QpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbiIsIi8vIEF0dHJpYnV0aW9uc1xuLy8gKiBCYXNlZCBvbiBiaW5hcnktZ2x0Zi11dGlscyB1bmRlciBNSVQgbGljZW5zZTogQ29weXJpZ2h0IChjKSAyMDE2LTE3IEthcmwgQ2hlbmdcbmltcG9ydCB7IGdldElTT0JNRkZNZWRpYVR5cGUgfSBmcm9tIFwiLi9wYXJzZS1pc29ibWZmLWJpbmFyeS5qc1wiO1xuY29uc3QgQklHX0VORElBTiA9IGZhbHNlO1xuY29uc3QgTElUVExFX0VORElBTiA9IHRydWU7XG4vKipcbiAqIEV4dHJhY3RzIGB7bWltZVR5cGUsIHdpZHRoIGFuZCBoZWlnaHR9YCBmcm9tIGEgbWVtb3J5IGJ1ZmZlciBjb250YWluaW5nIGEga25vd24gaW1hZ2UgZm9ybWF0XG4gKiBDdXJyZW50bHkgc3VwcG9ydHMgYGltYWdlL3BuZ2AsIGBpbWFnZS9qcGVnYCwgYGltYWdlL2JtcGAgYW5kIGBpbWFnZS9naWZgLlxuICogQHBhcmFtIGJpbmFyeURhdGE6IERhdGFWaWV3IHwgQXJyYXlCdWZmZXIgaW1hZ2UgZmlsZSBtZW1vcnkgdG8gcGFyc2VcbiAqIEByZXR1cm5zIG1ldGFkYXRhIG9yIG51bGwgaWYgbWVtb3J5IGlzIG5vdCBhIHZhbGlkIGltYWdlIGZpbGUgZm9ybWF0IGxheW91dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJpbmFyeUltYWdlTWV0YWRhdGEoYmluYXJ5RGF0YSkge1xuICAgIGNvbnN0IGRhdGFWaWV3ID0gdG9EYXRhVmlldyhiaW5hcnlEYXRhKTtcbiAgICByZXR1cm4gKGdldFBuZ01ldGFkYXRhKGRhdGFWaWV3KSB8fFxuICAgICAgICBnZXRKcGVnTWV0YWRhdGEoZGF0YVZpZXcpIHx8XG4gICAgICAgIGdldEdpZk1ldGFkYXRhKGRhdGFWaWV3KSB8fFxuICAgICAgICBnZXRCbXBNZXRhZGF0YShkYXRhVmlldykgfHxcbiAgICAgICAgZ2V0SVNPQk1GRk1ldGFkYXRhKGRhdGFWaWV3KSk7XG59XG4vLyBJU09CTUZGXG5mdW5jdGlvbiBnZXRJU09CTUZGTWV0YWRhdGEoYmluYXJ5RGF0YSkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJpbmFyeURhdGEgaW5zdGFuY2VvZiBEYXRhVmlldyA/IGJpbmFyeURhdGEuYnVmZmVyIDogYmluYXJ5RGF0YSk7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gZ2V0SVNPQk1GRk1lZGlhVHlwZShidWZmZXIpO1xuICAgIGlmICghbWVkaWFUeXBlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBtaW1lVHlwZTogbWVkaWFUeXBlLm1pbWVUeXBlLFxuICAgICAgICAvLyBUT0RPIC0gZGVjb2RlIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMFxuICAgIH07XG59XG4vLyBQTkdcbmZ1bmN0aW9uIGdldFBuZ01ldGFkYXRhKGJpbmFyeURhdGEpIHtcbiAgICBjb25zdCBkYXRhVmlldyA9IHRvRGF0YVZpZXcoYmluYXJ5RGF0YSk7XG4gICAgLy8gQ2hlY2sgZmlsZSBjb250YWlucyB0aGUgZmlyc3QgNCBieXRlcyBvZiB0aGUgUE5HIHNpZ25hdHVyZS5cbiAgICBjb25zdCBpc1BuZyA9IGRhdGFWaWV3LmJ5dGVMZW5ndGggPj0gMjQgJiYgZGF0YVZpZXcuZ2V0VWludDMyKDAsIEJJR19FTkRJQU4pID09PSAweDg5NTA0ZTQ3O1xuICAgIGlmICghaXNQbmcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEV4dHJhY3Qgc2l6ZSBmcm9tIGEgYmluYXJ5IFBORyBmaWxlXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWltZVR5cGU6ICdpbWFnZS9wbmcnLFxuICAgICAgICB3aWR0aDogZGF0YVZpZXcuZ2V0VWludDMyKDE2LCBCSUdfRU5ESUFOKSxcbiAgICAgICAgaGVpZ2h0OiBkYXRhVmlldy5nZXRVaW50MzIoMjAsIEJJR19FTkRJQU4pXG4gICAgfTtcbn1cbi8vIEdJRlxuLy8gRXh0cmFjdCBzaXplIGZyb20gYSBiaW5hcnkgR0lGIGZpbGVcbi8vIFRPRE86IEdJRiBpcyBub3QgdGhpcyBzaW1wbGVcbmZ1bmN0aW9uIGdldEdpZk1ldGFkYXRhKGJpbmFyeURhdGEpIHtcbiAgICBjb25zdCBkYXRhVmlldyA9IHRvRGF0YVZpZXcoYmluYXJ5RGF0YSk7XG4gICAgLy8gQ2hlY2sgZmlyc3QgNCBieXRlcyBvZiB0aGUgR0lGIHNpZ25hdHVyZSAoXCJHSUY4XCIpLlxuICAgIGNvbnN0IGlzR2lmID0gZGF0YVZpZXcuYnl0ZUxlbmd0aCA+PSAxMCAmJiBkYXRhVmlldy5nZXRVaW50MzIoMCwgQklHX0VORElBTikgPT09IDB4NDc0OTQ2Mzg7XG4gICAgaWYgKCFpc0dpZikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gR0lGIGlzIGxpdHRsZSBlbmRpYW4uXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWltZVR5cGU6ICdpbWFnZS9naWYnLFxuICAgICAgICB3aWR0aDogZGF0YVZpZXcuZ2V0VWludDE2KDYsIExJVFRMRV9FTkRJQU4pLFxuICAgICAgICBoZWlnaHQ6IGRhdGFWaWV3LmdldFVpbnQxNig4LCBMSVRUTEVfRU5ESUFOKVxuICAgIH07XG59XG4vLyBCTVBcbi8vIFRPRE86IEJNUCBpcyBub3QgdGhpcyBzaW1wbGVcbmV4cG9ydCBmdW5jdGlvbiBnZXRCbXBNZXRhZGF0YShiaW5hcnlEYXRhKSB7XG4gICAgY29uc3QgZGF0YVZpZXcgPSB0b0RhdGFWaWV3KGJpbmFyeURhdGEpO1xuICAgIC8vIENoZWNrIG1hZ2ljIG51bWJlciBpcyB2YWxpZCAoZmlyc3QgMiBjaGFyYWN0ZXJzIHNob3VsZCBiZSBcIkJNXCIpLlxuICAgIC8vIFRoZSBtYW5kYXRvcnkgYml0bWFwIGZpbGUgaGVhZGVyIGlzIDE0IGJ5dGVzIGxvbmcuXG4gICAgY29uc3QgaXNCbXAgPSBkYXRhVmlldy5ieXRlTGVuZ3RoID49IDE0ICYmXG4gICAgICAgIGRhdGFWaWV3LmdldFVpbnQxNigwLCBCSUdfRU5ESUFOKSA9PT0gMHg0MjRkICYmXG4gICAgICAgIGRhdGFWaWV3LmdldFVpbnQzMigyLCBMSVRUTEVfRU5ESUFOKSA9PT0gZGF0YVZpZXcuYnl0ZUxlbmd0aDtcbiAgICBpZiAoIWlzQm1wKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBCTVAgaXMgbGl0dGxlIGVuZGlhbi5cbiAgICByZXR1cm4ge1xuICAgICAgICBtaW1lVHlwZTogJ2ltYWdlL2JtcCcsXG4gICAgICAgIHdpZHRoOiBkYXRhVmlldy5nZXRVaW50MzIoMTgsIExJVFRMRV9FTkRJQU4pLFxuICAgICAgICBoZWlnaHQ6IGRhdGFWaWV3LmdldFVpbnQzMigyMiwgTElUVExFX0VORElBTilcbiAgICB9O1xufVxuLy8gSlBFR1xuLy8gRXh0cmFjdCB3aWR0aCBhbmQgaGVpZ2h0IGZyb20gYSBiaW5hcnkgSlBFRyBmaWxlXG5mdW5jdGlvbiBnZXRKcGVnTWV0YWRhdGEoYmluYXJ5RGF0YSkge1xuICAgIGNvbnN0IGRhdGFWaWV3ID0gdG9EYXRhVmlldyhiaW5hcnlEYXRhKTtcbiAgICAvLyBDaGVjayBmaWxlIGNvbnRhaW5zIHRoZSBKUEVHIFwic3RhcnQgb2YgaW1hZ2VcIiAoU09JKSBtYXJrZXJcbiAgICAvLyBmb2xsb3dlZCBieSBhbm90aGVyIG1hcmtlci5cbiAgICBjb25zdCBpc0pwZWcgPSBkYXRhVmlldy5ieXRlTGVuZ3RoID49IDMgJiZcbiAgICAgICAgZGF0YVZpZXcuZ2V0VWludDE2KDAsIEJJR19FTkRJQU4pID09PSAweGZmZDggJiZcbiAgICAgICAgZGF0YVZpZXcuZ2V0VWludDgoMikgPT09IDB4ZmY7XG4gICAgaWYgKCFpc0pwZWcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgdGFibGVNYXJrZXJzLCBzb2ZNYXJrZXJzIH0gPSBnZXRKcGVnTWFya2VycygpO1xuICAgIC8vIEV4Y2x1ZGUgdGhlIHR3byBieXRlIFNPSSBtYXJrZXIuXG4gICAgbGV0IGkgPSAyO1xuICAgIHdoaWxlIChpICsgOSA8IGRhdGFWaWV3LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbWFya2VyID0gZGF0YVZpZXcuZ2V0VWludDE2KGksIEJJR19FTkRJQU4pO1xuICAgICAgICAvLyBUaGUgZnJhbWUgdGhhdCBjb250YWlucyB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgSlBFRyBpbWFnZS5cbiAgICAgICAgaWYgKHNvZk1hcmtlcnMuaGFzKG1hcmtlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWltZVR5cGU6ICdpbWFnZS9qcGVnJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGRhdGFWaWV3LmdldFVpbnQxNihpICsgNSwgQklHX0VORElBTiksIC8vIE51bWJlciBvZiBsaW5lc1xuICAgICAgICAgICAgICAgIHdpZHRoOiBkYXRhVmlldy5nZXRVaW50MTYoaSArIDcsIEJJR19FTkRJQU4pIC8vIE51bWJlciBvZiBwaXhlbHMgcGVyIGxpbmVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWlzY2VsbGFuZW91cyB0YWJsZXMvZGF0YSBwcmVjZWRpbmcgdGhlIGZyYW1lIGhlYWRlci5cbiAgICAgICAgaWYgKCF0YWJsZU1hcmtlcnMuaGFzKG1hcmtlcikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIExlbmd0aCBpbmNsdWRlcyBzaXplIG9mIGxlbmd0aCBwYXJhbWV0ZXIgYnV0IG5vdCB0aGUgdHdvIGJ5dGUgaGVhZGVyLlxuICAgICAgICBpICs9IDI7XG4gICAgICAgIGkgKz0gZGF0YVZpZXcuZ2V0VWludDE2KGksIEJJR19FTkRJQU4pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEpwZWdNYXJrZXJzKCkge1xuICAgIC8vIFRhYmxlcy9taXNjIGhlYWRlciBtYXJrZXJzLlxuICAgIC8vIERRVCwgREhULCBEQUMsIERSSSwgQ09NLCBBUFBfblxuICAgIGNvbnN0IHRhYmxlTWFya2VycyA9IG5ldyBTZXQoWzB4ZmZkYiwgMHhmZmM0LCAweGZmY2MsIDB4ZmZkZCwgMHhmZmZlXSk7XG4gICAgZm9yIChsZXQgaSA9IDB4ZmZlMDsgaSA8IDB4ZmZmMDsgKytpKSB7XG4gICAgICAgIHRhYmxlTWFya2Vycy5hZGQoaSk7XG4gICAgfVxuICAgIC8vIFNPRiBtYXJrZXJzIGFuZCBESFAgbWFya2VyLlxuICAgIC8vIFRoZXNlIG1hcmtlcnMgYXJlIGFmdGVyIHRhYmxlcy9taXNjIGRhdGEuXG4gICAgY29uc3Qgc29mTWFya2VycyA9IG5ldyBTZXQoW1xuICAgICAgICAweGZmYzAsIDB4ZmZjMSwgMHhmZmMyLCAweGZmYzMsIDB4ZmZjNSwgMHhmZmM2LCAweGZmYzcsIDB4ZmZjOSwgMHhmZmNhLCAweGZmY2IsIDB4ZmZjZCwgMHhmZmNlLFxuICAgICAgICAweGZmY2YsIDB4ZmZkZVxuICAgIF0pO1xuICAgIHJldHVybiB7IHRhYmxlTWFya2Vycywgc29mTWFya2VycyB9O1xufVxuLy8gVE9ETyAtIG1vdmUgaW50byBpbWFnZSBtb2R1bGU/XG5mdW5jdGlvbiB0b0RhdGFWaWV3KGRhdGEpIHtcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIERhdGFWaWV3KSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIpO1xuICAgIH1cbiAgICAvLyBUT0RPOiBtYWtlIHRoZXNlIGZ1bmN0aW9ucyB3b3JrIGZvciBOb2RlLmpzIGJ1ZmZlcnM/XG4gICAgLy8gaWYgKGJ1ZmZlclRvQXJyYXlCdWZmZXIpIHtcbiAgICAvLyAgIGRhdGEgPSBidWZmZXJUb0FycmF5QnVmZmVyKGRhdGEpO1xuICAgIC8vIH1cbiAgICAvLyBDYXJlZnVsIC0gTm9kZSBCdWZmZXJzIHdpbGwgbG9vayBsaWtlIEFycmF5QnVmZmVycyAoa2VlcCBhZnRlciBpc0J1ZmZlcilcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YVZpZXcoZGF0YSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcigndG9EYXRhVmlldycpO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBjb2RlIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL2ZpbGUtdHlwZSB1bmRlciBNSVQgbGljZW5zZVxuLyoqXG4gKiBUZXN0cyBpZiBhIGJ1ZmZlciBpcyBpbiBJU08gYmFzZSBtZWRpYSBmaWxlIGZvcm1hdCAoSVNPQk1GRikgQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fYmFzZV9tZWRpYV9maWxlX2Zvcm1hdFxuICogKElTT0JNRkYgaXMgYSBtZWRpYSBjb250YWluZXIgc3RhbmRhcmQgYmFzZWQgb24gdGhlIEFwcGxlIFF1aWNrVGltZSBjb250YWluZXIgZm9ybWF0KVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SVNPQk1GRk1lZGlhVHlwZShidWZmZXIpIHtcbiAgICAvLyBBbG1vc3QgYWxsIElTTyBiYXNlIG1lZGlhIGZpbGVzIHN0YXJ0IHdpdGggYGZ0eXBgIGJveC4gKEl0J3Mgbm90IHJlcXVpcmVkIHRvIGJlIGZpcnN0LCBidXQgaXQncyByZWNvbW1lbmRlZCB0byBiZS4pXG4gICAgaWYgKCFjaGVja1N0cmluZyhidWZmZXIsICdmdHlwJywgNCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEV4dHJhIGNoZWNrOiB0ZXN0IGZvciA4ODU5LTEgcHJpbnRhYmxlIGNoYXJhY3RlcnMgKGZvciBzaW1wbGljaXR5LCBpdCdzIGEgbWFzayB3aGljaCBhbHNvIGNhdGNoZXMgb25lIG5vbi1wcmludGFibGUgY2hhcmFjdGVyKS5cbiAgICBpZiAoKGJ1ZmZlcls4XSAmIDB4NjApID09PSAweDAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBgZnR5cGAgYm94IG11c3QgY29udGFpbiBhIGJyYW5kIG1ham9yIGlkZW50aWZpZXIsIHdoaWNoIG11c3QgY29uc2lzdCBvZiBJU08gODg1OS0xIHByaW50YWJsZSBjaGFyYWN0ZXJzLlxuICAgIHJldHVybiBkZWNvZGVNYWpvckJyYW5kKGJ1ZmZlcik7XG59XG4vKipcbiAqIGJyYW5kcyBleHBsYWluZWQgQHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3RydWt0dXJhZy9saWJoZWlmL2lzc3Vlcy84M1xuICogY29kZSBhZGFwdGVkIGZyb20gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL2ZpbGUtdHlwZS9ibG9iL21haW4vY29yZS5qcyNMNDg5LUw0OTJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZU1ham9yQnJhbmQoYnVmZmVyKSB7XG4gICAgY29uc3QgYnJhbmRNYWpvciA9IGdldFVURjhTdHJpbmcoYnVmZmVyLCA4LCAxMikucmVwbGFjZSgnXFwwJywgJyAnKS50cmltKCk7XG4gICAgc3dpdGNoIChicmFuZE1ham9yKSB7XG4gICAgICAgIGNhc2UgJ2F2aWYnOlxuICAgICAgICBjYXNlICdhdmlzJzpcbiAgICAgICAgICAgIHJldHVybiB7IGV4dGVuc2lvbjogJ2F2aWYnLCBtaW1lVHlwZTogJ2ltYWdlL2F2aWYnIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gV2UgZG9uJ3QgbmVlZCB0aGVzZSBub3csIGJ1dCB0aGV5IGFyZSBlYXN5IHRvIGFkZFxuICAgIC8vIGNhc2UgJ21pZjEnOlxuICAgIC8vICAgcmV0dXJuIHtleHRlbnNpb246ICdoZWljJywgbWltZVR5cGU6ICdpbWFnZS9oZWlmJ307XG4gICAgLy8gY2FzZSAnbXNmMSc6XG4gICAgLy8gICByZXR1cm4ge2V4dGVuc2lvbjogJ2hlaWMnLCBtaW1lVHlwZTogJ2ltYWdlL2hlaWYtc2VxdWVuY2UnfTtcbiAgICAvLyBjYXNlICdoZWljJzpcbiAgICAvLyBjYXNlICdoZWl4JzpcbiAgICAvLyAgIHJldHVybiB7ZXh0ZW5zaW9uOiAnaGVpYycsIG1pbWVUeXBlOiAnaW1hZ2UvaGVpYyd9O1xuICAgIC8vIGNhc2UgJ2hldmMnOlxuICAgIC8vIGNhc2UgJ2hldngnOlxuICAgIC8vICAgcmV0dXJuIHtleHRlbnNpb246ICdoZWljJywgbWltZVR5cGU6ICdpbWFnZS9oZWljLXNlcXVlbmNlJ307XG4gICAgLy8gY2FzZSAncXQnOlxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICdtb3YnLCBtaW1lOiAndmlkZW8vcXVpY2t0aW1lJ307XG4gICAgLy8gY2FzZSAnTTRWJzpcbiAgICAvLyBjYXNlICdNNFZIJzpcbiAgICAvLyBjYXNlICdNNFZQJzpcbiAgICAvLyAgIHJldHVybiB7ZXh0OiAnbTR2JywgbWltZTogJ3ZpZGVvL3gtbTR2J307XG4gICAgLy8gY2FzZSAnTTRQJzpcbiAgICAvLyAgIHJldHVybiB7ZXh0OiAnbTRwJywgbWltZTogJ3ZpZGVvL21wNCd9O1xuICAgIC8vIGNhc2UgJ000Qic6XG4gICAgLy8gICByZXR1cm4ge2V4dDogJ200YicsIG1pbWU6ICdhdWRpby9tcDQnfTtcbiAgICAvLyBjYXNlICdNNEEnOlxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICdtNGEnLCBtaW1lOiAnYXVkaW8veC1tNGEnfTtcbiAgICAvLyBjYXNlICdGNFYnOlxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICdmNHYnLCBtaW1lOiAndmlkZW8vbXA0J307XG4gICAgLy8gY2FzZSAnRjRQJzpcbiAgICAvLyAgIHJldHVybiB7ZXh0OiAnZjRwJywgbWltZTogJ3ZpZGVvL21wNCd9O1xuICAgIC8vIGNhc2UgJ0Y0QSc6XG4gICAgLy8gICByZXR1cm4ge2V4dDogJ2Y0YScsIG1pbWU6ICdhdWRpby9tcDQnfTtcbiAgICAvLyBjYXNlICdGNEInOlxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICdmNGInLCBtaW1lOiAnYXVkaW8vbXA0J307XG4gICAgLy8gY2FzZSAnY3J4JzpcbiAgICAvLyAgIHJldHVybiB7ZXh0OiAnY3IzJywgbWltZTogJ2ltYWdlL3gtY2Fub24tY3IzJ307XG4gICAgLy8gZGVmYXVsdDpcbiAgICAvLyBpZiAoYnJhbmRNYWpvci5zdGFydHNXaXRoKCczZycpKSB7XG4gICAgLy8gICBpZiAoYnJhbmRNYWpvci5zdGFydHNXaXRoKCczZzInKSkge1xuICAgIC8vICAgICByZXR1cm4ge2V4dDogJzNnMicsIG1pbWU6ICd2aWRlby8zZ3BwMid9O1xuICAgIC8vICAgfVxuICAgIC8vICAgcmV0dXJuIHtleHQ6ICczZ3AnLCBtaW1lOiAndmlkZW8vM2dwcCd9O1xuICAgIC8vIH1cbiAgICAvLyByZXR1cm4ge2V4dDogJ21wNCcsIG1pbWU6ICd2aWRlby9tcDQnfTtcbn1cbi8qKiBJbnRlcnByZXQgYSBjaHVuayBvZiBieXRlcyBhcyBhIFVURjggc3RyaW5nICovXG5mdW5jdGlvbiBnZXRVVEY4U3RyaW5nKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uYXJyYXkuc2xpY2Uoc3RhcnQsIGVuZCkpO1xufVxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gWy4uLnN0cmluZ10ubWFwKChjaGFyYWN0ZXIpID0+IGNoYXJhY3Rlci5jaGFyQ29kZUF0KDApKTtcbn1cbmZ1bmN0aW9uIGNoZWNrU3RyaW5nKGJ1ZmZlciwgaGVhZGVyLCBvZmZzZXQgPSAwKSB7XG4gICAgY29uc3QgaGVhZGVyQnl0ZXMgPSBzdHJpbmdUb0J5dGVzKGhlYWRlcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWFkZXJCeXRlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoaGVhZGVyQnl0ZXNbaV0gIT09IGJ1ZmZlcltpICsgb2Zmc2V0XSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuIiwiLy8gaW1wb3J0IHR5cGUgeyBJbWFnZVR5cGUgfSBmcm9tICdAbG9hZGVycy5nbC9zY2hlbWEnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuL2xpYi91dGlscy92ZXJzaW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUltYWdlIH0gZnJvbSBcIi4vbGliL3BhcnNlcnMvcGFyc2UtaW1hZ2UuanNcIjtcbmltcG9ydCB7IGdldEJpbmFyeUltYWdlTWV0YWRhdGEgfSBmcm9tIFwiLi9saWIvY2F0ZWdvcnktYXBpL2JpbmFyeS1pbWFnZS1hcGkuanNcIjtcbmNvbnN0IEVYVEVOU0lPTlMgPSBbJ3BuZycsICdqcGcnLCAnanBlZycsICdnaWYnLCAnd2VicCcsICdibXAnLCAnaWNvJywgJ3N2ZycsICdhdmlmJ107XG5jb25zdCBNSU1FX1RZUEVTID0gW1xuICAgICdpbWFnZS9wbmcnLFxuICAgICdpbWFnZS9qcGVnJyxcbiAgICAnaW1hZ2UvZ2lmJyxcbiAgICAnaW1hZ2Uvd2VicCcsXG4gICAgJ2ltYWdlL2F2aWYnLFxuICAgICdpbWFnZS9ibXAnLFxuICAgICdpbWFnZS92bmQubWljcm9zb2Z0Lmljb24nLFxuICAgICdpbWFnZS9zdmcreG1sJ1xuXTtcbmNvbnN0IERFRkFVTFRfSU1BR0VfTE9BREVSX09QVElPTlMgPSB7XG4gICAgaW1hZ2U6IHtcbiAgICAgICAgdHlwZTogJ2F1dG8nLFxuICAgICAgICBkZWNvZGU6IHRydWUgLy8gaWYgZm9ybWF0IGlzIEhUTUxcbiAgICB9XG4gICAgLy8gaW1hZ2ViaXRtYXA6IHt9IC0gcGFzc2VzIChwbGF0Zm9ybSBkZXBlbmRlbnQpIHBhcmFtZXRlcnMgdG8gSW1hZ2VCaXRtYXAgY29uc3RydWN0b3Jcbn07XG4vKipcbiAqIExvYWRzIGEgcGxhdGZvcm0tc3BlY2lmaWMgaW1hZ2UgdHlwZVxuICogTm90ZTogVGhpcyB0eXBlIGNhbiBiZSB1c2VkIGFzIGlucHV0IGRhdGEgdG8gV2ViR0wgdGV4dHVyZSBjcmVhdGlvblxuICovXG5leHBvcnQgY29uc3QgSW1hZ2VMb2FkZXIgPSB7XG4gICAgZGF0YVR5cGU6IG51bGwsXG4gICAgYmF0Y2hUeXBlOiBudWxsLFxuICAgIGlkOiAnaW1hZ2UnLFxuICAgIG1vZHVsZTogJ2ltYWdlcycsXG4gICAgbmFtZTogJ0ltYWdlcycsXG4gICAgdmVyc2lvbjogVkVSU0lPTixcbiAgICBtaW1lVHlwZXM6IE1JTUVfVFlQRVMsXG4gICAgZXh0ZW5zaW9uczogRVhURU5TSU9OUyxcbiAgICBwYXJzZTogcGFyc2VJbWFnZSxcbiAgICAvLyBUT0RPOiBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoO1xuICAgIHRlc3RzOiBbKGFycmF5QnVmZmVyKSA9PiBCb29sZWFuKGdldEJpbmFyeUltYWdlTWV0YWRhdGEobmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKSkpXSxcbiAgICBvcHRpb25zOiBERUZBVUxUX0lNQUdFX0xPQURFUl9PUFRJT05TXG59O1xuIiwiLy8gVmVyc2lvbiBjb25zdGFudCBjYW5ub3QgYmUgaW1wb3J0ZWQsIGl0IG5lZWRzIHRvIGNvcnJlc3BvbmQgdG8gdGhlIGJ1aWxkIHZlcnNpb24gb2YgKip0aGlzKiogbW9kdWxlLlxuLy8gX19WRVJTSU9OX18gaXMgaW5qZWN0ZWQgYnkgYmFiZWwtcGx1Z2luLXZlcnNpb24taW5saW5lXG4vLyBAdHMtaWdub3JlIFRTMjMwNDogQ2Fubm90IGZpbmQgbmFtZSAnX19WRVJTSU9OX18nLlxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSB0eXBlb2YgXCI0LjMuM1wiICE9PSAndW5kZWZpbmVkJyA/IFwiNC4zLjNcIiA6ICdsYXRlc3QnO1xuIiwiaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IGlzSW1hZ2VUeXBlU3VwcG9ydGVkLCBnZXREZWZhdWx0SW1hZ2VUeXBlIH0gZnJvbSBcIi4uL2NhdGVnb3J5LWFwaS9pbWFnZS10eXBlLmpzXCI7XG5pbXBvcnQgeyBnZXRJbWFnZURhdGEgfSBmcm9tIFwiLi4vY2F0ZWdvcnktYXBpL3BhcnNlZC1pbWFnZS1hcGkuanNcIjtcbmltcG9ydCB7IHBhcnNlVG9JbWFnZSB9IGZyb20gXCIuL3BhcnNlLXRvLWltYWdlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVRvSW1hZ2VCaXRtYXAgfSBmcm9tIFwiLi9wYXJzZS10by1pbWFnZS1iaXRtYXAuanNcIjtcbmltcG9ydCB7IHBhcnNlVG9Ob2RlSW1hZ2UgfSBmcm9tIFwiLi9wYXJzZS10by1ub2RlLWltYWdlLmpzXCI7XG4vLyBQYXJzZSB0byBwbGF0Zm9ybSBkZWZpbmVkIGltYWdlIHR5cGUgKGRhdGEgb24gbm9kZSwgSW1hZ2VCaXRtYXAgb3IgSFRNTEltYWdlIG9uIGJyb3dzZXIpXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlSW1hZ2UoYXJyYXlCdWZmZXIsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBpbWFnZU9wdGlvbnMgPSBvcHRpb25zLmltYWdlIHx8IHt9O1xuICAgIC8vIFRoZSB1c2VyIGNhbiByZXF1ZXN0IGEgc3BlY2lmaWMgb3V0cHV0IGZvcm1hdCB2aWEgYG9wdGlvbnMuaW1hZ2UudHlwZWBcbiAgICBjb25zdCBpbWFnZVR5cGUgPSBpbWFnZU9wdGlvbnMudHlwZSB8fCAnYXV0byc7XG4gICAgY29uc3QgeyB1cmwgfSA9IGNvbnRleHQgfHwge307XG4gICAgLy8gTm90ZTogRm9yIG9wdGlvbnMuaW1hZ2UudHlwZSA9PT0gYGRhdGFgLCB3ZSBtYXkgc3RpbGwgbmVlZCB0byBsb2FkIGFzIGBpbWFnZWAgb3IgYGltYWdlYml0bWFwYFxuICAgIGNvbnN0IGxvYWRUeXBlID0gZ2V0TG9hZGFibGVJbWFnZVR5cGUoaW1hZ2VUeXBlKTtcbiAgICBsZXQgaW1hZ2U7XG4gICAgc3dpdGNoIChsb2FkVHlwZSkge1xuICAgICAgICBjYXNlICdpbWFnZWJpdG1hcCc6XG4gICAgICAgICAgICBpbWFnZSA9IGF3YWl0IHBhcnNlVG9JbWFnZUJpdG1hcChhcnJheUJ1ZmZlciwgb3B0aW9ucywgdXJsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgICBpbWFnZSA9IGF3YWl0IHBhcnNlVG9JbWFnZShhcnJheUJ1ZmZlciwgb3B0aW9ucywgdXJsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgIC8vIE5vZGUuanMgbG9hZHMgaW1hZ2VkYXRhIGRpcmVjdGx5XG4gICAgICAgICAgICBpbWFnZSA9IGF3YWl0IHBhcnNlVG9Ob2RlSW1hZ2UoYXJyYXlCdWZmZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgIH1cbiAgICAvLyBCcm93c2VyOiBpZiBvcHRpb25zLmltYWdlLnR5cGUgPT09ICdkYXRhJywgd2UgY2FuIG5vdyBleHRyYWN0IGRhdGEgZnJvbSB0aGUgbG9hZGVkIGltYWdlXG4gICAgaWYgKGltYWdlVHlwZSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgIGltYWdlID0gZ2V0SW1hZ2VEYXRhKGltYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlO1xufVxuLy8gR2V0IGEgbG9hZGFibGUgaW1hZ2UgdHlwZSBmcm9tIGltYWdlIHR5cGVcbmZ1bmN0aW9uIGdldExvYWRhYmxlSW1hZ2VUeXBlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnYXV0byc6XG4gICAgICAgIGNhc2UgJ2RhdGEnOlxuICAgICAgICAgICAgLy8gQnJvd3NlcjogRm9yIGltYWdlIGRhdGEgd2UgbmVlZCBzdGlsbCBuZWVkIHRvIGxvYWQgdXNpbmcgYW4gaW1hZ2UgZm9ybWF0XG4gICAgICAgICAgICAvLyBOb2RlOiB0aGUgZGVmYXVsdCBpbWFnZSB0eXBlIGlzIGBkYXRhYC5cbiAgICAgICAgICAgIHJldHVybiBnZXREZWZhdWx0SW1hZ2VUeXBlKCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBub3Qgc3VwcG9ydGVkXG4gICAgICAgICAgICBpc0ltYWdlVHlwZVN1cHBvcnRlZCh0eXBlKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGFzc2VydCB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBnZXRCaW5hcnlJbWFnZU1ldGFkYXRhIH0gZnJvbSBcIi4uL2NhdGVnb3J5LWFwaS9iaW5hcnktaW1hZ2UtYXBpLmpzXCI7XG4vLyBVc2UgcG9seWZpbGxzIGlmIGluc3RhbGxlZCB0byBwYXJzZWQgaW1hZ2UgdXNpbmcgZ2V0LXBpeGVsc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlVG9Ob2RlSW1hZ2UoYXJyYXlCdWZmZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IG1pbWVUeXBlIH0gPSBnZXRCaW5hcnlJbWFnZU1ldGFkYXRhKGFycmF5QnVmZmVyKSB8fCB7fTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgcGFyc2VJbWFnZU5vZGUgPSBnbG9iYWxUaGlzLmxvYWRlcnM/LnBhcnNlSW1hZ2VOb2RlO1xuICAgIGFzc2VydChwYXJzZUltYWdlTm9kZSk7IC8vICdAbG9hZGVycy5nbC9wb2x5ZmlsbHMgbm90IGluc3RhbGxlZCdcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gc2hvdWxkIHdlIHRocm93IGVycm9yIGluIHRoaXMgY2FzZT9cbiAgICByZXR1cm4gYXdhaXQgcGFyc2VJbWFnZU5vZGUoYXJyYXlCdWZmZXIsIG1pbWVUeXBlKTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgcmVnaXN0ZXJKU01vZHVsZXMsIGdldEpTTW9kdWxlT3JOdWxsIH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IGxvYWRMaWJyYXJ5IH0gZnJvbSAnQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzJztcbmV4cG9ydCBjb25zdCBCQVNJU19FWFRFUk5BTF9MSUJSQVJJRVMgPSB7XG4gICAgLyoqIEJhc2lzIHRyYW5zY29kZXIsIGphdmFzY3JpcHQgd3JhcHBlciBwYXJ0ICovXG4gICAgVFJBTlNDT0RFUjogJ2Jhc2lzX3RyYW5zY29kZXIuanMnLFxuICAgIC8qKiBCYXNpcyB0cmFuc2NvZGVyLCBjb21waWxlZCB3ZWIgYXNzZW1ibHkgcGFydCAqL1xuICAgIFRSQU5TQ09ERVJfV0FTTTogJ2Jhc2lzX3RyYW5zY29kZXIud2FzbScsXG4gICAgLyoqIEJhc2lzIGVuY29kZXIsIGphdmFzY3JpcHQgd3JhcHBlciBwYXJ0ICovXG4gICAgRU5DT0RFUjogJ2Jhc2lzX2VuY29kZXIuanMnLFxuICAgIC8qKiBCYXNpcyBlbmNvZGVyLCBjb21waWxlZCB3ZWIgYXNzZW1ibHkgcGFydCAqL1xuICAgIEVOQ09ERVJfV0FTTTogJ2Jhc2lzX2VuY29kZXIud2FzbSdcbn07XG5sZXQgbG9hZEJhc2lzVHJhbnNjb2RlclByb21pc2U7XG4vKipcbiAqIExvYWRzIHdhc20gdHJhbnNjb2RlciBtb2R1bGVcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyB7QmFzaXNGaWxlfSBwcm9taXNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQmFzaXNUcmFuc2NvZGVyTW9kdWxlKG9wdGlvbnMpIHtcbiAgICByZWdpc3RlckpTTW9kdWxlcyhvcHRpb25zLm1vZHVsZXMpO1xuICAgIGNvbnN0IGJhc2lzID0gZ2V0SlNNb2R1bGVPck51bGwoJ2Jhc2lzJyk7XG4gICAgaWYgKGJhc2lzKSB7XG4gICAgICAgIHJldHVybiBiYXNpcztcbiAgICB9XG4gICAgbG9hZEJhc2lzVHJhbnNjb2RlclByb21pc2UgfHw9IGxvYWRCYXNpc1RyYW5zY29kZXIob3B0aW9ucyk7XG4gICAgcmV0dXJuIGF3YWl0IGxvYWRCYXNpc1RyYW5zY29kZXJQcm9taXNlO1xufVxuLyoqXG4gKiBMb2FkcyB3YXNtIHRyYW5zY29kZXIgbW9kdWxlXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnMge0Jhc2lzRmlsZX0gcHJvbWlzZVxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkQmFzaXNUcmFuc2NvZGVyKG9wdGlvbnMpIHtcbiAgICBsZXQgQkFTSVMgPSBudWxsO1xuICAgIGxldCB3YXNtQmluYXJ5ID0gbnVsbDtcbiAgICBbQkFTSVMsIHdhc21CaW5hcnldID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBhd2FpdCBsb2FkTGlicmFyeShCQVNJU19FWFRFUk5BTF9MSUJSQVJJRVMuVFJBTlNDT0RFUiwgJ3RleHR1cmVzJywgb3B0aW9ucyksXG4gICAgICAgIGF3YWl0IGxvYWRMaWJyYXJ5KEJBU0lTX0VYVEVSTkFMX0xJQlJBUklFUy5UUkFOU0NPREVSX1dBU00sICd0ZXh0dXJlcycsIG9wdGlvbnMpXG4gICAgXSk7XG4gICAgLy8gRGVwZW5kcyBvbiBob3cgaW1wb3J0IGhhcHBlbmVkLi4uXG4gICAgLy8gQHRzLWlnbm9yZSBUUzIzMzk6IFByb3BlcnR5IGRvZXMgbm90IGV4aXN0IG9uIHR5cGVcbiAgICBCQVNJUyA9IEJBU0lTIHx8IGdsb2JhbFRoaXMuQkFTSVM7XG4gICAgcmV0dXJuIGF3YWl0IGluaXRpYWxpemVCYXNpc1RyYW5zY29kZXJNb2R1bGUoQkFTSVMsIHdhc21CaW5hcnkpO1xufVxuLyoqXG4gKiBJbml0aWFsaXplIHdhc20gdHJhbnNjb2RlciBtb2R1bGVcbiAqIEBwYXJhbSBCYXNpc01vZHVsZSAtIGpzIHBhcnQgb2YgdGhlIG1vZHVsZVxuICogQHBhcmFtIHdhc21CaW5hcnkgLSB3YXNtIHBhcnQgb2YgdGhlIG1vZHVsZVxuICogQHJldHVybnMge0Jhc2lzRmlsZX0gcHJvbWlzZVxuICovXG5mdW5jdGlvbiBpbml0aWFsaXplQmFzaXNUcmFuc2NvZGVyTW9kdWxlKEJhc2lzTW9kdWxlLCB3YXNtQmluYXJ5KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgIGlmICh3YXNtQmluYXJ5KSB7XG4gICAgICAgIG9wdGlvbnMud2FzbUJpbmFyeSA9IHdhc21CaW5hcnk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAvLyBpZiB5b3UgdHJ5IHRvIHJldHVybiBCYXNpc01vZHVsZSB0aGUgYnJvd3NlciBjcmFzaGVzIVxuICAgICAgICBCYXNpc01vZHVsZShvcHRpb25zKS50aGVuKChtb2R1bGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgQmFzaXNGaWxlLCBpbml0aWFsaXplQmFzaXMgfSA9IG1vZHVsZTtcbiAgICAgICAgICAgIGluaXRpYWxpemVCYXNpcygpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IEJhc2lzRmlsZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5sZXQgbG9hZEJhc2lzRW5jb2RlclByb21pc2U7XG4vKipcbiAqIExvYWRzIHdhc20gZW5jb2RlciBtb2R1bGVcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyB7QmFzaXNGaWxlLCBLVFgyRmlsZX0gcHJvbWlzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEJhc2lzRW5jb2Rlck1vZHVsZShvcHRpb25zKSB7XG4gICAgY29uc3QgbW9kdWxlcyA9IG9wdGlvbnMubW9kdWxlcyB8fCB7fTtcbiAgICBpZiAobW9kdWxlcy5iYXNpc0VuY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZXMuYmFzaXNFbmNvZGVyO1xuICAgIH1cbiAgICBsb2FkQmFzaXNFbmNvZGVyUHJvbWlzZSA9IGxvYWRCYXNpc0VuY29kZXJQcm9taXNlIHx8IGxvYWRCYXNpc0VuY29kZXIob3B0aW9ucyk7XG4gICAgcmV0dXJuIGF3YWl0IGxvYWRCYXNpc0VuY29kZXJQcm9taXNlO1xufVxuLyoqXG4gKiBMb2FkcyB3YXNtIGVuY29kZXIgbW9kdWxlXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnMge0Jhc2lzRmlsZSwgS1RYMkZpbGV9IHByb21pc2VcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZEJhc2lzRW5jb2RlcihvcHRpb25zKSB7XG4gICAgbGV0IEJBU0lTX0VOQ09ERVIgPSBudWxsO1xuICAgIGxldCB3YXNtQmluYXJ5ID0gbnVsbDtcbiAgICBbQkFTSVNfRU5DT0RFUiwgd2FzbUJpbmFyeV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGF3YWl0IGxvYWRMaWJyYXJ5KEJBU0lTX0VYVEVSTkFMX0xJQlJBUklFUy5FTkNPREVSLCAndGV4dHVyZXMnLCBvcHRpb25zKSxcbiAgICAgICAgYXdhaXQgbG9hZExpYnJhcnkoQkFTSVNfRVhURVJOQUxfTElCUkFSSUVTLkVOQ09ERVJfV0FTTSwgJ3RleHR1cmVzJywgb3B0aW9ucylcbiAgICBdKTtcbiAgICAvLyBEZXBlbmRzIG9uIGhvdyBpbXBvcnQgaGFwcGVuZWQuLi5cbiAgICAvLyBAdHMtaWdub3JlIFRTMjMzOTogUHJvcGVydHkgZG9lcyBub3QgZXhpc3Qgb24gdHlwZVxuICAgIEJBU0lTX0VOQ09ERVIgPSBCQVNJU19FTkNPREVSIHx8IGdsb2JhbFRoaXMuQkFTSVM7XG4gICAgcmV0dXJuIGF3YWl0IGluaXRpYWxpemVCYXNpc0VuY29kZXJNb2R1bGUoQkFTSVNfRU5DT0RFUiwgd2FzbUJpbmFyeSk7XG59XG4vKipcbiAqIEluaXRpYWxpemUgd2FzbSB0cmFuc2NvZGVyIG1vZHVsZVxuICogQHBhcmFtIEJhc2lzRW5jb2Rlck1vZHVsZSAtIGpzIHBhcnQgb2YgdGhlIG1vZHVsZVxuICogQHBhcmFtIHdhc21CaW5hcnkgLSB3YXNtIHBhcnQgb2YgdGhlIG1vZHVsZVxuICogQHJldHVybnMge0Jhc2lzRmlsZSwgS1RYMkZpbGV9IHByb21pc2VcbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZUJhc2lzRW5jb2Rlck1vZHVsZShCYXNpc0VuY29kZXJNb2R1bGUsIHdhc21CaW5hcnkpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgaWYgKHdhc21CaW5hcnkpIHtcbiAgICAgICAgb3B0aW9ucy53YXNtQmluYXJ5ID0gd2FzbUJpbmFyeTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIC8vIGlmIHlvdSB0cnkgdG8gcmV0dXJuIEJhc2lzTW9kdWxlIHRoZSBicm93c2VyIGNyYXNoZXMhXG4gICAgICAgIEJhc2lzRW5jb2Rlck1vZHVsZShvcHRpb25zKS50aGVuKChtb2R1bGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgQmFzaXNGaWxlLCBLVFgyRmlsZSwgaW5pdGlhbGl6ZUJhc2lzLCBCYXNpc0VuY29kZXIgfSA9IG1vZHVsZTtcbiAgICAgICAgICAgIGluaXRpYWxpemVCYXNpcygpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IEJhc2lzRmlsZSwgS1RYMkZpbGUsIEJhc2lzRW5jb2RlciB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGxvZyB9IGZyb20gXCIuLi9sb2ctdXRpbHMvbG9nLmpzXCI7XG4vKipcbiAqIFJlZ2lzdGVyIGFwcGxpY2F0aW9uLWltcG9ydGVkIG1vZHVsZXNcbiAqIFRoZXNlIG1vZHVsZXMgYXJlIHR5cGljYWxseSB0byBiaWcgdG8gYnVuZGxlLCBvciBtYXkgaGF2ZSBpc3N1ZXMgb24gc29tZSBidW5kbGVycy9lbnZpcm9ubWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVySlNNb2R1bGVzKG1vZHVsZXMpIHtcbiAgICBnbG9iYWxUaGlzLmxvYWRlcnMgfHw9IHt9O1xuICAgIGdsb2JhbFRoaXMubG9hZGVycy5tb2R1bGVzIHx8PSB7fTtcbiAgICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMubG9hZGVycy5tb2R1bGVzLCBtb2R1bGVzKTtcbn1cbi8qKlxuICogR2V0IGEgcHJlLXJlZ2lzdGVyZWQgYXBwbGljYXRpb24taW1wb3J0ZWQgbW9kdWxlLCB3YXJuIGlmIG5vdCBwcmVzZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0pTTW9kdWxlKG5hbWUsIGNhbGxlcikge1xuICAgIGNvbnN0IG1vZHVsZSA9IGdsb2JhbFRoaXMubG9hZGVycz8ubW9kdWxlcz8uW25hbWVdO1xuICAgIGlmICghbW9kdWxlKSB7XG4gICAgICAgIGxvZy53YXJuKGAke2NhbGxlcn06ICR7bmFtZX0gbGlicmFyeSBub3QgaW5zdGFsbGVkYCkoKTtcbiAgICB9XG59XG4vKipcbiAqIEdldCBhIHByZS1yZWdpc3RlcmVkIGFwcGxpY2F0aW9uLWltcG9ydGVkIG1vZHVsZSwgdGhyb3cgaWYgbm90IHByZXNlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEpTTW9kdWxlKG5hbWUsIGNhbGxlcikge1xuICAgIGNvbnN0IG1vZHVsZSA9IGdsb2JhbFRoaXMubG9hZGVycz8ubW9kdWxlcz8uW25hbWVdO1xuICAgIGlmICghbW9kdWxlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtjYWxsZXJ9OiAke25hbWV9IGxpYnJhcnkgbm90IGluc3RhbGxlZGApO1xuICAgIH1cbiAgICByZXR1cm4gbW9kdWxlO1xufVxuLyoqXG4gKiBHZXQgYSBwcmUtcmVnaXN0ZXJlZCBhcHBsaWNhdGlvbi1pbXBvcnRlZCBtb2R1bGUsIHJldHVybiBudWxsIGlmIG5vdCBwcmVzZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRKU01vZHVsZU9yTnVsbChuYW1lKSB7XG4gICAgY29uc3QgbW9kdWxlID0gZ2xvYmFsVGhpcy5sb2FkZXJzPy5tb2R1bGVzPy5bbmFtZV07XG4gICAgcmV0dXJuIG1vZHVsZSB8fCBudWxsO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbmV4cG9ydCBjb25zdCBHTF9FWFRFTlNJT05TX0NPTlNUQU5UUyA9IHtcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1xuICAgIENPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQ6IDB4ODNmMCxcbiAgICBDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVDogMHg4M2YxLFxuICAgIENPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUOiAweDgzZjIsXG4gICAgQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQ6IDB4ODNmMyxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXMzXG4gICAgQ09NUFJFU1NFRF9SMTFfRUFDOiAweDkyNzAsXG4gICAgQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQzogMHg5MjcxLFxuICAgIENPTVBSRVNTRURfUkcxMV9FQUM6IDB4OTI3MixcbiAgICBDT01QUkVTU0VEX1NJR05FRF9SRzExX0VBQzogMHg5MjczLFxuICAgIENPTVBSRVNTRURfUkdCOF9FVEMyOiAweDkyNzQsXG4gICAgQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQzogMHg5Mjc1LFxuICAgIENPTVBSRVNTRURfU1JHQjhfRVRDMjogMHg5Mjc2LFxuICAgIENPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOiAweDkyNzcsXG4gICAgQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMjogMHg5Mjc4LFxuICAgIENPTVBSRVNTRURfU1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyOiAweDkyNzksXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXG4gICAgQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRzogMHg4YzAwLFxuICAgIENPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HOiAweDhjMDIsXG4gICAgQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNRzogMHg4YzAxLFxuICAgIENPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HOiAweDhjMDMsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzFcbiAgICBDT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMOiAweDhkNjQsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0Y1xuICAgIENPTVBSRVNTRURfUkdCX0FUQ19XRUJHTDogMHg4YzkyLFxuICAgIENPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0w6IDB4OGM5MyxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTDogMHg4N2VlLFxuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjXG4gICAgQ09NUFJFU1NFRF9SR0JBX0FTVENfNFg0X0tIUjogMHg5M2IwLFxuICAgIENPTVBSRVNTRURfUkdCQV9BU1RDXzVYNF9LSFI6IDB4OTNiMSxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ181WDVfS0hSOiAweDkzYjIsXG4gICAgQ09NUFJFU1NFRF9SR0JBX0FTVENfNlg1X0tIUjogMHg5M2IzLFxuICAgIENPTVBSRVNTRURfUkdCQV9BU1RDXzZYNl9LSFI6IDB4OTNiNCxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ184WDVfS0hSOiAweDkzYjUsXG4gICAgQ09NUFJFU1NFRF9SR0JBX0FTVENfOFg2X0tIUjogMHg5M2I2LFxuICAgIENPTVBSRVNTRURfUkdCQV9BU1RDXzhYOF9LSFI6IDB4OTNiNyxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ18xMFg1X0tIUjogMHg5M2I4LFxuICAgIENPTVBSRVNTRURfUkdCQV9BU1RDXzEwWDZfS0hSOiAweDkzYjksXG4gICAgQ09NUFJFU1NFRF9SR0JBX0FTVENfMTBYOF9LSFI6IDB4OTNiYSxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ18xMFgxMF9LSFI6IDB4OTNiYixcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ18xMlgxMF9LSFI6IDB4OTNiYyxcbiAgICBDT01QUkVTU0VEX1JHQkFfQVNUQ18xMlgxMl9LSFI6IDB4OTNiZCxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzRYNF9LSFI6IDB4OTNkMCxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzVYNF9LSFI6IDB4OTNkMSxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzVYNV9LSFI6IDB4OTNkMixcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzZYNV9LSFI6IDB4OTNkMyxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzZYNl9LSFI6IDB4OTNkNCxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzhYNV9LSFI6IDB4OTNkNSxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzhYNl9LSFI6IDB4OTNkNixcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzhYOF9LSFI6IDB4OTNkNyxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEwWDVfS0hSOiAweDkzZDgsXG4gICAgQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMFg2X0tIUjogMHg5M2Q5LFxuICAgIENPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTBYOF9LSFI6IDB4OTNkYSxcbiAgICBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEwWDEwX0tIUjogMHg5M2RiLFxuICAgIENPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTJYMTBfS0hSOiAweDkzZGMsXG4gICAgQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMlgxMl9LSFI6IDB4OTNkZCxcbiAgICAvLyBFWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9yZ3RjXG4gICAgQ09NUFJFU1NFRF9SRURfUkdUQzFfRVhUOiAweDhkYmIsXG4gICAgQ09NUFJFU1NFRF9TSUdORURfUkVEX1JHVEMxX0VYVDogMHg4ZGJjLFxuICAgIENPTVBSRVNTRURfUkVEX0dSRUVOX1JHVEMyX0VYVDogMHg4ZGJkLFxuICAgIENPTVBSRVNTRURfU0lHTkVEX1JFRF9HUkVFTl9SR1RDMl9FWFQ6IDB4OGRiZSxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiXG4gICAgQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQ6IDB4OGM0YyxcbiAgICBDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVDogMHg4YzRkLFxuICAgIENPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhUOiAweDhjNGUsXG4gICAgQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ6IDB4OGM0ZlxufTtcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuY29uc3QgQlJPV1NFUl9QUkVGSVhFUyA9IFsnJywgJ1dFQktJVF8nLCAnTU9aXyddO1xuY29uc3QgV0VCR0xfRVhURU5TSU9OUyA9IHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbiAgICBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YzogJ2R4dCcsXG4gICAgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYjogJ2R4dC1zcmdiJyxcbiAgICBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMTogJ2V0YzEnLFxuICAgIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGM6ICdldGMyJyxcbiAgICBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGM6ICdwdnJ0YycsXG4gICAgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0YzogJ2F0YycsXG4gICAgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGM6ICdhc3RjJyxcbiAgICBFWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9yZ3RjOiAncmd0YydcbiAgICAvKiBlc2xpbnQtZW5hYmxlIGNhbWVsY2FzZSAqL1xufTtcbmxldCBmb3JtYXRzID0gbnVsbDtcbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgZm9ybWF0cy5cbiAqIENyZWF0ZXMgYSB0ZW1wb3JhcnkgV2ViR0xSZW5kZXJpbmdDb250ZXh0IGlmIG5vbmUgaXMgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIGdsIC0gT3B0aW9uYWwgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN1cHBvcnRlZEdQVVRleHR1cmVGb3JtYXRzKGdsKSB7XG4gICAgaWYgKCFmb3JtYXRzKSB7XG4gICAgICAgIGdsID0gZ2wgfHwgZ2V0V2ViR0xDb250ZXh0KCkgfHwgdW5kZWZpbmVkO1xuICAgICAgICBmb3JtYXRzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHByZWZpeCBvZiBCUk9XU0VSX1BSRUZJWEVTKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV4dGVuc2lvbiBpbiBXRUJHTF9FWFRFTlNJT05TKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdsICYmIGdsLmdldEV4dGVuc2lvbihgJHtwcmVmaXh9JHtleHRlbnNpb259YCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3B1VGV4dHVyZUZvcm1hdCA9IFdFQkdMX0VYVEVOU0lPTlNbZXh0ZW5zaW9uXTtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0cy5hZGQoZ3B1VGV4dHVyZUZvcm1hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb3JtYXRzO1xufVxuLyoqXG4gKiBAcmV0dXJucyB7V2ViR0xSZW5kZXJpbmdDb250ZXh0P31cbiAqL1xuZnVuY3Rpb24gZ2V0V2ViR0xDb250ZXh0KCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICByZXR1cm4gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IHJlYWQgfSBmcm9tICdrdHgtcGFyc2UnO1xuaW1wb3J0IHsgZXh0cmFjdE1pcG1hcEltYWdlcyB9IGZyb20gXCIuLi91dGlscy9leHRyYWN0LW1pcG1hcC1pbWFnZXMuanNcIjtcbmltcG9ydCB7IG1hcFZrRm9ybWF0VG9XZWJHTCB9IGZyb20gXCIuLi91dGlscy9rdHgtZm9ybWF0LWhlbHBlci5qc1wiO1xuY29uc3QgS1RYMl9JRCA9IFtcbiAgICAvLyAnwrQnLCAnSycsICdUJywgJ1gnLCAnMicsICcwJywgJ8KqJywgJ1xccicsICdcXG4nLCAnXFx4MUEnLCAnXFxuJ1xuICAgIDB4YWIsIDB4NGIsIDB4NTQsIDB4NTgsIDB4MjAsIDB4MzIsIDB4MzAsIDB4YmIsIDB4MGQsIDB4MGEsIDB4MWEsIDB4MGFcbl07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZXhwb3J0IGZ1bmN0aW9uIGlzS1RYKGRhdGEpIHtcbiAgICAvLyBjb25zdCBpZCA9IG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgY29uc3QgaWQgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICBjb25zdCBub3RLVFggPSBpZC5ieXRlTGVuZ3RoIDwgS1RYMl9JRC5sZW5ndGggfHxcbiAgICAgICAgaWRbMF0gIT09IEtUWDJfSURbMF0gfHwgLy8gJ8K0J1xuICAgICAgICBpZFsxXSAhPT0gS1RYMl9JRFsxXSB8fCAvLyAnSydcbiAgICAgICAgaWRbMl0gIT09IEtUWDJfSURbMl0gfHwgLy8gJ1QnXG4gICAgICAgIGlkWzNdICE9PSBLVFgyX0lEWzNdIHx8IC8vICdYJ1xuICAgICAgICBpZFs0XSAhPT0gS1RYMl9JRFs0XSB8fCAvLyAnICdcbiAgICAgICAgaWRbNV0gIT09IEtUWDJfSURbNV0gfHwgLy8gJzInXG4gICAgICAgIGlkWzZdICE9PSBLVFgyX0lEWzZdIHx8IC8vICcwJ1xuICAgICAgICBpZFs3XSAhPT0gS1RYMl9JRFs3XSB8fCAvLyAnwqonXG4gICAgICAgIGlkWzhdICE9PSBLVFgyX0lEWzhdIHx8IC8vICdcXHInXG4gICAgICAgIGlkWzldICE9PSBLVFgyX0lEWzldIHx8IC8vICdcXG4nXG4gICAgICAgIGlkWzEwXSAhPT0gS1RYMl9JRFsxMF0gfHwgLy8gJ1xceDFBJ1xuICAgICAgICBpZFsxMV0gIT09IEtUWDJfSURbMTFdOyAvLyAnXFxuJ1xuICAgIHJldHVybiAhbm90S1RYO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlS1RYKGFycmF5QnVmZmVyKSB7XG4gICAgY29uc3QgdWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICBjb25zdCBrdHggPSByZWFkKHVpbnQ4QXJyYXkpO1xuICAgIGNvbnN0IG1pcE1hcExldmVscyA9IE1hdGgubWF4KDEsIGt0eC5sZXZlbHMubGVuZ3RoKTtcbiAgICBjb25zdCB3aWR0aCA9IGt0eC5waXhlbFdpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGt0eC5waXhlbEhlaWdodDtcbiAgICBjb25zdCBpbnRlcm5hbEZvcm1hdCA9IG1hcFZrRm9ybWF0VG9XZWJHTChrdHgudmtGb3JtYXQpO1xuICAgIHJldHVybiBleHRyYWN0TWlwbWFwSW1hZ2VzKGt0eC5sZXZlbHMsIHtcbiAgICAgICAgbWlwTWFwTGV2ZWxzLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBzaXplRnVuY3Rpb246IChsZXZlbCkgPT4gbGV2ZWwudW5jb21wcmVzc2VkQnl0ZUxlbmd0aCxcbiAgICAgICAgaW50ZXJuYWxGb3JtYXRcbiAgICB9KTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgbG9hZEJhc2lzRW5jb2Rlck1vZHVsZSwgbG9hZEJhc2lzVHJhbnNjb2Rlck1vZHVsZSB9IGZyb20gXCIuL2Jhc2lzLW1vZHVsZS1sb2FkZXIuanNcIjtcbmltcG9ydCB7IEdMX0VYVEVOU0lPTlNfQ09OU1RBTlRTIH0gZnJvbSBcIi4uL2dsLWV4dGVuc2lvbnMuanNcIjtcbmltcG9ydCB7IGdldFN1cHBvcnRlZEdQVVRleHR1cmVGb3JtYXRzIH0gZnJvbSBcIi4uL3V0aWxzL3RleHR1cmUtZm9ybWF0cy5qc1wiO1xuaW1wb3J0IHsgaXNLVFggfSBmcm9tIFwiLi9wYXJzZS1rdHguanNcIjtcbmNvbnN0IE91dHB1dEZvcm1hdCA9IHtcbiAgICBldGMxOiB7XG4gICAgICAgIGJhc2lzRm9ybWF0OiAwLFxuICAgICAgICBjb21wcmVzc2VkOiB0cnVlLFxuICAgICAgICBmb3JtYXQ6IEdMX0VYVEVOU0lPTlNfQ09OU1RBTlRTLkNPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0xcbiAgICB9LFxuICAgIGV0YzI6IHsgYmFzaXNGb3JtYXQ6IDEsIGNvbXByZXNzZWQ6IHRydWUgfSxcbiAgICBiYzE6IHtcbiAgICAgICAgYmFzaXNGb3JtYXQ6IDIsXG4gICAgICAgIGNvbXByZXNzZWQ6IHRydWUsXG4gICAgICAgIGZvcm1hdDogR0xfRVhURU5TSU9OU19DT05TVEFOVFMuQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVFxuICAgIH0sXG4gICAgYmMzOiB7XG4gICAgICAgIGJhc2lzRm9ybWF0OiAzLFxuICAgICAgICBjb21wcmVzc2VkOiB0cnVlLFxuICAgICAgICBmb3JtYXQ6IEdMX0VYVEVOU0lPTlNfQ09OU1RBTlRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUXG4gICAgfSxcbiAgICBiYzQ6IHsgYmFzaXNGb3JtYXQ6IDQsIGNvbXByZXNzZWQ6IHRydWUgfSxcbiAgICBiYzU6IHsgYmFzaXNGb3JtYXQ6IDUsIGNvbXByZXNzZWQ6IHRydWUgfSxcbiAgICAnYmM3LW02LW9wYXF1ZS1vbmx5JzogeyBiYXNpc0Zvcm1hdDogNiwgY29tcHJlc3NlZDogdHJ1ZSB9LFxuICAgICdiYzctbTUnOiB7IGJhc2lzRm9ybWF0OiA3LCBjb21wcmVzc2VkOiB0cnVlIH0sXG4gICAgJ3B2cnRjMS00LXJnYic6IHtcbiAgICAgICAgYmFzaXNGb3JtYXQ6IDgsXG4gICAgICAgIGNvbXByZXNzZWQ6IHRydWUsXG4gICAgICAgIGZvcm1hdDogR0xfRVhURU5TSU9OU19DT05TVEFOVFMuQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNR1xuICAgIH0sXG4gICAgJ3B2cnRjMS00LXJnYmEnOiB7XG4gICAgICAgIGJhc2lzRm9ybWF0OiA5LFxuICAgICAgICBjb21wcmVzc2VkOiB0cnVlLFxuICAgICAgICBmb3JtYXQ6IEdMX0VYVEVOU0lPTlNfQ09OU1RBTlRTLkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HXG4gICAgfSxcbiAgICAnYXN0Yy00eDQnOiB7XG4gICAgICAgIGJhc2lzRm9ybWF0OiAxMCxcbiAgICAgICAgY29tcHJlc3NlZDogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiBHTF9FWFRFTlNJT05TX0NPTlNUQU5UUy5DT01QUkVTU0VEX1JHQkFfQVNUQ180WDRfS0hSXG4gICAgfSxcbiAgICAnYXRjLXJnYic6IHsgYmFzaXNGb3JtYXQ6IDExLCBjb21wcmVzc2VkOiB0cnVlIH0sXG4gICAgJ2F0Yy1yZ2JhLWludGVycG9sYXRlZC1hbHBoYSc6IHsgYmFzaXNGb3JtYXQ6IDEyLCBjb21wcmVzc2VkOiB0cnVlIH0sXG4gICAgcmdiYTMyOiB7IGJhc2lzRm9ybWF0OiAxMywgY29tcHJlc3NlZDogZmFsc2UgfSxcbiAgICByZ2I1NjU6IHsgYmFzaXNGb3JtYXQ6IDE0LCBjb21wcmVzc2VkOiBmYWxzZSB9LFxuICAgIGJncjU2NTogeyBiYXNpc0Zvcm1hdDogMTUsIGNvbXByZXNzZWQ6IGZhbHNlIH0sXG4gICAgcmdiYTQ0NDQ6IHsgYmFzaXNGb3JtYXQ6IDE2LCBjb21wcmVzc2VkOiBmYWxzZSB9XG59O1xuLyoqXG4gKiBwYXJzZSBkYXRhIHdpdGggYSBCaW5vbWlhbCBCYXNpc19Vbml2ZXJzYWwgbW9kdWxlXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zIGNvbXByZXNzZWQgdGV4dHVyZSBkYXRhXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUJhc2lzKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5iYXNpcy5jb250YWluZXJGb3JtYXQgPT09ICdhdXRvJykge1xuICAgICAgICBpZiAoaXNLVFgoZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVDb25zdHJ1Y3RvcnMgPSBhd2FpdCBsb2FkQmFzaXNFbmNvZGVyTW9kdWxlKG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlS1RYMkZpbGUoZmlsZUNvbnN0cnVjdG9ycy5LVFgyRmlsZSwgZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBCYXNpc0ZpbGUgfSA9IGF3YWl0IGxvYWRCYXNpc1RyYW5zY29kZXJNb2R1bGUob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwYXJzZUJhc2lzRmlsZShCYXNpc0ZpbGUsIGRhdGEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzd2l0Y2ggKG9wdGlvbnMuYmFzaXMubW9kdWxlKSB7XG4gICAgICAgIGNhc2UgJ2VuY29kZXInOlxuICAgICAgICAgICAgY29uc3QgZmlsZUNvbnN0cnVjdG9ycyA9IGF3YWl0IGxvYWRCYXNpc0VuY29kZXJNb2R1bGUob3B0aW9ucyk7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuYmFzaXMuY29udGFpbmVyRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAna3R4Mic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUtUWDJGaWxlKGZpbGVDb25zdHJ1Y3RvcnMuS1RYMkZpbGUsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jhc2lzJzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VCYXNpc0ZpbGUoZmlsZUNvbnN0cnVjdG9ycy5CYXNpc0ZpbGUsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICd0cmFuc2NvZGVyJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHsgQmFzaXNGaWxlIH0gPSBhd2FpdCBsb2FkQmFzaXNUcmFuc2NvZGVyTW9kdWxlKG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQmFzaXNGaWxlKEJhc2lzRmlsZSwgZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJzZSAqLmJhc2lzIGZpbGUgZGF0YVxuICogQHBhcmFtIEJhc2lzRmlsZSAtIGluaXRpYWxpemVkIHRyYW5zY29kZXIgbW9kdWxlXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zIGNvbXByZXNzZWQgdGV4dHVyZSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQmFzaXNGaWxlKEJhc2lzRmlsZSwgZGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGJhc2lzRmlsZSA9IG5ldyBCYXNpc0ZpbGUobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgIHRyeSB7XG4gICAgICAgIGlmICghYmFzaXNGaWxlLnN0YXJ0VHJhbnNjb2RpbmcoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc3RhcnQgYmFzaXMgdHJhbnNjb2RpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbWFnZUNvdW50ID0gYmFzaXNGaWxlLmdldE51bUltYWdlcygpO1xuICAgICAgICBjb25zdCBpbWFnZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW1hZ2VJbmRleCA9IDA7IGltYWdlSW5kZXggPCBpbWFnZUNvdW50OyBpbWFnZUluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxldmVsc0NvdW50ID0gYmFzaXNGaWxlLmdldE51bUxldmVscyhpbWFnZUluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGxldmVscyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgbGV2ZWxJbmRleCA9IDA7IGxldmVsSW5kZXggPCBsZXZlbHNDb3VudDsgbGV2ZWxJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWxzLnB1c2godHJhbnNjb2RlSW1hZ2UoYmFzaXNGaWxlLCBpbWFnZUluZGV4LCBsZXZlbEluZGV4LCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZXMucHVzaChsZXZlbHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbWFnZXM7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBiYXNpc0ZpbGUuY2xvc2UoKTtcbiAgICAgICAgYmFzaXNGaWxlLmRlbGV0ZSgpO1xuICAgIH1cbn1cbi8qKlxuICogUGFyc2UgdGhlIHBhcnRpY3VsYXIgbGV2ZWwgaW1hZ2Ugb2YgYSBiYXNpcyBmaWxlXG4gKiBAcGFyYW0gYmFzaXNGaWxlXG4gKiBAcGFyYW0gaW1hZ2VJbmRleFxuICogQHBhcmFtIGxldmVsSW5kZXhcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyBjb21wcmVzc2VkIHRleHR1cmUgZGF0YVxuICovXG5mdW5jdGlvbiB0cmFuc2NvZGVJbWFnZShiYXNpc0ZpbGUsIGltYWdlSW5kZXgsIGxldmVsSW5kZXgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB3aWR0aCA9IGJhc2lzRmlsZS5nZXRJbWFnZVdpZHRoKGltYWdlSW5kZXgsIGxldmVsSW5kZXgpO1xuICAgIGNvbnN0IGhlaWdodCA9IGJhc2lzRmlsZS5nZXRJbWFnZUhlaWdodChpbWFnZUluZGV4LCBsZXZlbEluZGV4KTtcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0Jpbm9taWFsTExDL2Jhc2lzX3VuaXZlcnNhbC9wdWxsLzgzXG4gICAgY29uc3QgaGFzQWxwaGEgPSBiYXNpc0ZpbGUuZ2V0SGFzQWxwaGEoIC8qIGltYWdlSW5kZXgsIGxldmVsSW5kZXggKi8pO1xuICAgIC8vIENoZWNrIG9wdGlvbnMgZm9yIG91dHB1dCBmb3JtYXQgZXRjXG4gICAgY29uc3QgeyBjb21wcmVzc2VkLCBmb3JtYXQsIGJhc2lzRm9ybWF0IH0gPSBnZXRCYXNpc09wdGlvbnMob3B0aW9ucywgaGFzQWxwaGEpO1xuICAgIGNvbnN0IGRlY29kZWRTaXplID0gYmFzaXNGaWxlLmdldEltYWdlVHJhbnNjb2RlZFNpemVJbkJ5dGVzKGltYWdlSW5kZXgsIGxldmVsSW5kZXgsIGJhc2lzRm9ybWF0KTtcbiAgICBjb25zdCBkZWNvZGVkRGF0YSA9IG5ldyBVaW50OEFycmF5KGRlY29kZWRTaXplKTtcbiAgICBpZiAoIWJhc2lzRmlsZS50cmFuc2NvZGVJbWFnZShkZWNvZGVkRGF0YSwgaW1hZ2VJbmRleCwgbGV2ZWxJbmRleCwgYmFzaXNGb3JtYXQsIDAsIDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIHN0YXJ0IEJhc2lzIHRyYW5zY29kaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHN0YW5kYXJkIGxvYWRlcnMuZ2wgaW1hZ2UgY2F0ZWdvcnkgcGF5bG9hZFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBkYXRhOiBkZWNvZGVkRGF0YSxcbiAgICAgICAgY29tcHJlc3NlZCxcbiAgICAgICAgZm9ybWF0LFxuICAgICAgICAvLyBBZGRpdGlvbmFsIGZpZWxkc1xuICAgICAgICAvLyBBZGQgbGV2ZWxTaXplIGZpZWxkLlxuICAgICAgICBoYXNBbHBoYVxuICAgIH07XG59XG4vKipcbiAqIFBhcnNlICoua3R4MiBmaWxlIGRhdGFcbiAqIEBwYXJhbSBLVFgyRmlsZVxuICogQHBhcmFtIGRhdGFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyBjb21wcmVzc2VkIHRleHR1cmUgZGF0YVxuICovXG5mdW5jdGlvbiBwYXJzZUtUWDJGaWxlKEtUWDJGaWxlLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3Qga3R4MkZpbGUgPSBuZXcgS1RYMkZpbGUobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgIHRyeSB7XG4gICAgICAgIGlmICgha3R4MkZpbGUuc3RhcnRUcmFuc2NvZGluZygpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBzdGFydCBLVFgyIHRyYW5zY29kaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGV2ZWxzQ291bnQgPSBrdHgyRmlsZS5nZXRMZXZlbHMoKTtcbiAgICAgICAgY29uc3QgbGV2ZWxzID0gW107XG4gICAgICAgIGZvciAobGV0IGxldmVsSW5kZXggPSAwOyBsZXZlbEluZGV4IDwgbGV2ZWxzQ291bnQ7IGxldmVsSW5kZXgrKykge1xuICAgICAgICAgICAgbGV2ZWxzLnB1c2godHJhbnNjb2RlS1RYMkltYWdlKGt0eDJGaWxlLCBsZXZlbEluZGV4LCBvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtsZXZlbHNdO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAga3R4MkZpbGUuY2xvc2UoKTtcbiAgICAgICAga3R4MkZpbGUuZGVsZXRlKCk7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJzZSB0aGUgcGFydGljdWxhciBsZXZlbCBpbWFnZSBvZiBhIGt0eDIgZmlsZVxuICogQHBhcmFtIGt0eDJGaWxlXG4gKiBAcGFyYW0gbGV2ZWxJbmRleFxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIHRyYW5zY29kZUtUWDJJbWFnZShrdHgyRmlsZSwgbGV2ZWxJbmRleCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgYWxwaGFGbGFnLCBoZWlnaHQsIHdpZHRoIH0gPSBrdHgyRmlsZS5nZXRJbWFnZUxldmVsSW5mbyhsZXZlbEluZGV4LCAwLCAwKTtcbiAgICAvLyBDaGVjayBvcHRpb25zIGZvciBvdXRwdXQgZm9ybWF0IGV0Y1xuICAgIGNvbnN0IHsgY29tcHJlc3NlZCwgZm9ybWF0LCBiYXNpc0Zvcm1hdCB9ID0gZ2V0QmFzaXNPcHRpb25zKG9wdGlvbnMsIGFscGhhRmxhZyk7XG4gICAgY29uc3QgZGVjb2RlZFNpemUgPSBrdHgyRmlsZS5nZXRJbWFnZVRyYW5zY29kZWRTaXplSW5CeXRlcyhsZXZlbEluZGV4LCAwIC8qIGxheWVySW5kZXggKi8sIDAgLyogZmFjZUluZGV4ICovLCBiYXNpc0Zvcm1hdCk7XG4gICAgY29uc3QgZGVjb2RlZERhdGEgPSBuZXcgVWludDhBcnJheShkZWNvZGVkU2l6ZSk7XG4gICAgaWYgKCFrdHgyRmlsZS50cmFuc2NvZGVJbWFnZShkZWNvZGVkRGF0YSwgbGV2ZWxJbmRleCwgMCAvKiBsYXllckluZGV4ICovLCAwIC8qIGZhY2VJbmRleCAqLywgYmFzaXNGb3JtYXQsIDAsIC0xIC8qIGNoYW5uZWwwICovLCAtMSAvKiBjaGFubmVsMSAqLykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdHJhbnNjb2RlIEtUWDIgaW1hZ2UnKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gc3RhbmRhcmQgbG9hZGVycy5nbCBpbWFnZSBjYXRlZ29yeSBwYXlsb2FkXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIGRhdGE6IGRlY29kZWREYXRhLFxuICAgICAgICBjb21wcmVzc2VkLFxuICAgICAgICAvLyBBZGRpdGlvbmFsIGZpZWxkc1xuICAgICAgICBsZXZlbFNpemU6IGRlY29kZWRTaXplLFxuICAgICAgICBoYXNBbHBoYTogYWxwaGFGbGFnLFxuICAgICAgICBmb3JtYXRcbiAgICB9O1xufVxuLyoqXG4gKiBHZXQgQmFzaXNGb3JtYXQgYnkgbG9hZGVyIGZvcm1hdCBvcHRpb25cbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gaGFzQWxwaGFcbiAqIEByZXR1cm5zIEJhc2lzRm9ybWF0IGRhdGFcbiAqL1xuZnVuY3Rpb24gZ2V0QmFzaXNPcHRpb25zKG9wdGlvbnMsIGhhc0FscGhhKSB7XG4gICAgbGV0IGZvcm1hdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNpcyAmJiBvcHRpb25zLmJhc2lzLmZvcm1hdDtcbiAgICBpZiAoZm9ybWF0ID09PSAnYXV0bycpIHtcbiAgICAgICAgZm9ybWF0ID0gc2VsZWN0U3VwcG9ydGVkQmFzaXNGb3JtYXQoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvcm1hdCA9IGhhc0FscGhhID8gZm9ybWF0LmFscGhhIDogZm9ybWF0Lm5vQWxwaGE7XG4gICAgfVxuICAgIGZvcm1hdCA9IGZvcm1hdC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBPdXRwdXRGb3JtYXRbZm9ybWF0XTtcbn1cbi8qKlxuICogU2VsZWN0IHRyYW5zY29kZSBmb3JtYXQgZnJvbSB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgZm9ybWF0c1xuICogQHJldHVybnMga2V5IGZvciBPdXRwdXRGb3JtYXQgbWFwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RTdXBwb3J0ZWRCYXNpc0Zvcm1hdCgpIHtcbiAgICBjb25zdCBzdXBwb3J0ZWRGb3JtYXRzID0gZ2V0U3VwcG9ydGVkR1BVVGV4dHVyZUZvcm1hdHMoKTtcbiAgICBpZiAoc3VwcG9ydGVkRm9ybWF0cy5oYXMoJ2FzdGMnKSkge1xuICAgICAgICByZXR1cm4gJ2FzdGMtNHg0JztcbiAgICB9XG4gICAgZWxzZSBpZiAoc3VwcG9ydGVkRm9ybWF0cy5oYXMoJ2R4dCcpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbHBoYTogJ2JjMycsXG4gICAgICAgICAgICBub0FscGhhOiAnYmMxJ1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChzdXBwb3J0ZWRGb3JtYXRzLmhhcygncHZydGMnKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWxwaGE6ICdwdnJ0YzEtNC1yZ2JhJyxcbiAgICAgICAgICAgIG5vQWxwaGE6ICdwdnJ0YzEtNC1yZ2InXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHN1cHBvcnRlZEZvcm1hdHMuaGFzKCdldGMxJykpIHtcbiAgICAgICAgcmV0dXJuICdldGMxJztcbiAgICB9XG4gICAgZWxzZSBpZiAoc3VwcG9ydGVkRm9ybWF0cy5oYXMoJ2V0YzInKSkge1xuICAgICAgICByZXR1cm4gJ2V0YzInO1xuICAgIH1cbiAgICByZXR1cm4gJ3JnYjU2NSc7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi9saWIvdXRpbHMvdmVyc2lvbi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCYXNpcyB9IGZyb20gXCIuL2xpYi9wYXJzZXJzL3BhcnNlLWJhc2lzLmpzXCI7XG4vKipcbiAqIFdvcmtlciBsb2FkZXIgZm9yIEJhc2lzIHN1cGVyIGNvbXByZXNzZWQgdGV4dHVyZXNcbiAqL1xuZXhwb3J0IGNvbnN0IEJhc2lzV29ya2VyTG9hZGVyID0ge1xuICAgIGRhdGFUeXBlOiBudWxsLFxuICAgIGJhdGNoVHlwZTogbnVsbCxcbiAgICBuYW1lOiAnQmFzaXMnLFxuICAgIGlkOiAnYmFzaXMnLFxuICAgIG1vZHVsZTogJ3RleHR1cmVzJyxcbiAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgIHdvcmtlcjogdHJ1ZSxcbiAgICBleHRlbnNpb25zOiBbJ2Jhc2lzJywgJ2t0eDInXSxcbiAgICBtaW1lVHlwZXM6IFsnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJywgJ2ltYWdlL2t0eDInXSxcbiAgICB0ZXN0czogWydzQiddLFxuICAgIGJpbmFyeTogdHJ1ZSxcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIGJhc2lzOiB7XG4gICAgICAgICAgICBmb3JtYXQ6ICdhdXRvJyxcbiAgICAgICAgICAgIGxpYnJhcnlQYXRoOiAnbGlicy8nLFxuICAgICAgICAgICAgY29udGFpbmVyRm9ybWF0OiAnYXV0bycsXG4gICAgICAgICAgICBtb2R1bGU6ICd0cmFuc2NvZGVyJ1xuICAgICAgICB9XG4gICAgfVxufTtcbi8qKlxuICogTG9hZGVyIGZvciBCYXNpcyBzdXBlciBjb21wcmVzc2VkIHRleHR1cmVzXG4gKi9cbmV4cG9ydCBjb25zdCBCYXNpc0xvYWRlciA9IHtcbiAgICAuLi5CYXNpc1dvcmtlckxvYWRlcixcbiAgICBwYXJzZTogcGFyc2VCYXNpc1xufTtcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gVmVyc2lvbiBjb25zdGFudCBjYW5ub3QgYmUgaW1wb3J0ZWQsIGl0IG5lZWRzIHRvIGNvcnJlc3BvbmQgdG8gdGhlIGJ1aWxkIHZlcnNpb24gb2YgKip0aGlzKiogbW9kdWxlLlxuLy8gX19WRVJTSU9OX18gaXMgaW5qZWN0ZWQgYnkgYmFiZWwtcGx1Z2luLXZlcnNpb24taW5saW5lXG4vLyBAdHMtaWdub3JlIFRTMjMwNDogQ2Fubm90IGZpbmQgbmFtZSAnX19WRVJTSU9OX18nLlxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSB0eXBlb2YgXCI0LjMuM1wiICE9PSAndW5kZWZpbmVkJyA/IFwiNC4zLjNcIiA6ICdsYXRlc3QnO1xuIiwiLy8gUmVwbGFjZW1lbnQgZm9yIHRoZSBleHRlcm5hbCBhc3NlcnQgbWV0aG9kIHRvIHJlZHVjZSBidW5kbGUgc2l6ZVxuLy8gTm90ZTogV2UgZG9uJ3QgdXNlIHRoZSBzZWNvbmQgXCJtZXNzYWdlXCIgYXJndW1lbnQgaW4gY2FsbGluZyBjb2RlLFxuLy8gc28gbm8gbmVlZCB0byBzdXBwb3J0IGl0IGhlcmVcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UgfHwgJ2Fzc2VydCBmYWlsZWQ6IGdsdGYnKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vZW52LXV0aWxzL2Fzc2VydC5qc1wiO1xuLyoqXG4gKiBDYWxjdWxhdGUgbmV3IHNpemUgb2YgYW4gYXJyYXlCdWZmZXIgdG8gYmUgYWxpZ25lZCB0byBhbiBuLWJ5dGUgYm91bmRhcnlcbiAqIFRoaXMgZnVuY3Rpb24gaW5jcmVhc2VzIGBieXRlTGVuZ3RoYCBieSB0aGUgbWluaW11bSBkZWx0YSxcbiAqIGFsbG93aW5nIHRoZSB0b3RhbCBsZW5ndGggdG8gYmUgZGl2aWRlZCBieSBgcGFkZGluZ2BcbiAqIEBwYXJhbSBieXRlTGVuZ3RoXG4gKiBAcGFyYW0gcGFkZGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFkVG9OQnl0ZXMoYnl0ZUxlbmd0aCwgcGFkZGluZykge1xuICAgIGFzc2VydChieXRlTGVuZ3RoID49IDApOyAvLyBgSW5jb3JyZWN0ICdieXRlTGVuZ3RoJyB2YWx1ZTogJHtieXRlTGVuZ3RofWBcbiAgICBhc3NlcnQocGFkZGluZyA+IDApOyAvLyBgSW5jb3JyZWN0ICdwYWRkaW5nJyB2YWx1ZTogJHtwYWRkaW5nfWBcbiAgICByZXR1cm4gKGJ5dGVMZW5ndGggKyAocGFkZGluZyAtIDEpKSAmIH4ocGFkZGluZyAtIDEpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVpbnQ4QXJyYXkgYmFzZWQgb24gdHdvIGRpZmZlcmVudCBBcnJheUJ1ZmZlcnNcbiAqIEBwYXJhbSB0YXJnZXRCdWZmZXIgVGhlIGZpcnN0IGJ1ZmZlci5cbiAqIEBwYXJhbSBzb3VyY2VCdWZmZXIgVGhlIHNlY29uZCBidWZmZXIuXG4gKiBAcmV0dXJuIFRoZSBuZXcgQXJyYXlCdWZmZXIgY3JlYXRlZCBvdXQgb2YgdGhlIHR3by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHlBcnJheUJ1ZmZlcih0YXJnZXRCdWZmZXIsIHNvdXJjZUJ1ZmZlciwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCA9IHNvdXJjZUJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgY29uc3QgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXRCdWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgIGNvbnN0IHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoc291cmNlQnVmZmVyKTtcbiAgICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuICAgIHJldHVybiB0YXJnZXRCdWZmZXI7XG59XG4vKipcbiAqIENvcHkgZnJvbSBzb3VyY2UgdG8gdGFyZ2V0IGF0IHRoZSB0YXJnZXRPZmZzZXRcbiAqXG4gKiBAcGFyYW0gc291cmNlIC0gVGhlIGRhdGEgdG8gY29weVxuICogQHBhcmFtIHRhcmdldCAtIFRoZSBkZXN0aW5hdGlvbiB0byBjb3B5IGRhdGEgaW50b1xuICogQHBhcmFtIHRhcmdldE9mZnNldCAtIFRoZSBzdGFydCBvZmZzZXQgaW50byB0YXJnZXQgdG8gcGxhY2UgdGhlIGNvcGllZCBkYXRhXG4gKiBAcmV0dXJucyB0aGUgbmV3IG9mZnNldCB0YWtpbmcgaW50byBhY2NvdW50IHByb3BlciBwYWRkaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5VG9BcnJheShzb3VyY2UsIHRhcmdldCwgdGFyZ2V0T2Zmc2V0KSB7XG4gICAgbGV0IHNvdXJjZUFycmF5O1xuICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBzb3VyY2VBcnJheSA9IG5ldyBVaW50OEFycmF5KHNvdXJjZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBQYWNrIGJ1ZmZlciBvbnRvIHRoZSBiaWcgdGFyZ2V0IGFycmF5XG4gICAgICAgIC8vXG4gICAgICAgIC8vICdzb3VyY2UuZGF0YS5idWZmZXInIGNvdWxkIGJlIGEgdmlldyBvbnRvIGEgbGFyZ2VyIGJ1ZmZlci5cbiAgICAgICAgLy8gV2UgTVVTVCB1c2UgdGhpcyBjb25zdHJ1Y3RvciB0byBlbnN1cmUgdGhlIGJ5dGVPZmZzZXQgYW5kIGJ5dGVMZW5ndGggaXNcbiAgICAgICAgLy8gc2V0IHRvIGNvcnJlY3QgdmFsdWVzIGZyb20gJ3NvdXJjZS5kYXRhJyBhbmQgbm90IHRoZSB1bmRlcmx5aW5nXG4gICAgICAgIC8vIGJ1ZmZlciBmb3IgdGFyZ2V0LnNldCgpIHRvIHdvcmsgcHJvcGVybHkuXG4gICAgICAgIGNvbnN0IHNyY0J5dGVPZmZzZXQgPSBzb3VyY2UuYnl0ZU9mZnNldDtcbiAgICAgICAgY29uc3Qgc3JjQnl0ZUxlbmd0aCA9IHNvdXJjZS5ieXRlTGVuZ3RoO1xuICAgICAgICAvLyBJbiBnbHRmIHBhcnNlciBpdCBpcyBzZXQgYXMgXCJhcnJheUJ1ZmZlclwiIGluc3RlYWQgb2YgXCJidWZmZXJcIlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmlzZ2wvbG9hZGVycy5nbC9ibG9iLzFlM2E4MmEwYTY1ZDdiNmE2N2IxZTYwNjMzNDUzZTVlZGRhMjk2MGEvbW9kdWxlcy9nbHRmL3NyYy9saWIvcGFyc2UtZ2x0Zi5qcyNMODVcbiAgICAgICAgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheShzb3VyY2UuYnVmZmVyIHx8IHNvdXJjZS5hcnJheUJ1ZmZlciwgc3JjQnl0ZU9mZnNldCwgc3JjQnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIC8vIFBhY2sgYnVmZmVyIG9udG8gdGhlIGJpZyB0YXJnZXQgYXJyYXlcbiAgICB0YXJnZXQuc2V0KHNvdXJjZUFycmF5LCB0YXJnZXRPZmZzZXQpO1xuICAgIHJldHVybiB0YXJnZXRPZmZzZXQgKyBwYWRUb05CeXRlcyhzb3VyY2VBcnJheS5ieXRlTGVuZ3RoLCA0KTtcbn1cbiIsImltcG9ydCB7IHBhZFRvTkJ5dGVzLCBhc3NlcnQgfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuLyoqIEJpbmFyeSBHTFRGIGlzIGxpdHRsZSBlbmRpYW4uICovXG5jb25zdCBMSVRUTEVfRU5ESUFOID0gdHJ1ZTtcbi8qKiAnZ2xURicgaW4gQmlnLUVuZGlhbiBBU0NJSSAqL1xuY29uc3QgTUFHSUNfZ2xURiA9IDB4Njc2YzU0NDY7XG5jb25zdCBHTEJfRklMRV9IRUFERVJfU0laRSA9IDEyO1xuY29uc3QgR0xCX0NIVU5LX0hFQURFUl9TSVpFID0gODtcbmNvbnN0IEdMQl9DSFVOS19UWVBFX0pTT04gPSAweDRlNGY1MzRhO1xuY29uc3QgR0xCX0NIVU5LX1RZUEVfQklOID0gMHgwMDRlNDk0MjtcbmNvbnN0IEdMQl9WMV9DT05URU5UX0ZPUk1BVF9KU09OID0gMHgwO1xuLyoqIEBkZXByZWNhdGVkIC0gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3Igb2xkIHh2aXogZmlsZXMgKi9cbmNvbnN0IEdMQl9DSFVOS19UWVBFX0pTT05fWFZJWl9ERVBSRUNBVEVEID0gMDtcbi8qKiBAZGVwcmVjYXRlZCAtIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZm9yIG9sZCB4dml6IGZpbGVzICovXG5jb25zdCBHTEJfQ0hVTktfVFlQRV9CSVhfWFZJWl9ERVBSRUNBVEVEID0gMTtcbmZ1bmN0aW9uIGdldE1hZ2ljU3RyaW5nKGRhdGFWaWV3LCBieXRlT2Zmc2V0ID0gMCkge1xuICAgIHJldHVybiBgXFxcbiR7U3RyaW5nLmZyb21DaGFyQ29kZShkYXRhVmlldy5nZXRVaW50OChieXRlT2Zmc2V0ICsgMCkpfVxcXG4ke1N0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVZpZXcuZ2V0VWludDgoYnl0ZU9mZnNldCArIDEpKX1cXFxuJHtTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFWaWV3LmdldFVpbnQ4KGJ5dGVPZmZzZXQgKyAyKSl9XFxcbiR7U3RyaW5nLmZyb21DaGFyQ29kZShkYXRhVmlldy5nZXRVaW50OChieXRlT2Zmc2V0ICsgMykpfWA7XG59XG4vKiogQ2hlY2sgaWYgdGhlIGNvbnRlbnRzIG9mIGFuIGFycmF5IGJ1ZmZlciBjb250YWlucyBHTEIgYnl0ZSBtYXJrZXJzICovXG5leHBvcnQgZnVuY3Rpb24gaXNHTEIoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQgPSAwLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgLy8gQ2hlY2sgdGhhdCBHTEIgSGVhZGVyIHN0YXJ0cyB3aXRoIHRoZSBtYWdpYyBudW1iZXJcbiAgICBjb25zdCB7IG1hZ2ljID0gTUFHSUNfZ2xURiB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBtYWdpYzEgPSBkYXRhVmlldy5nZXRVaW50MzIoYnl0ZU9mZnNldCwgZmFsc2UpO1xuICAgIHJldHVybiBtYWdpYzEgPT09IG1hZ2ljIHx8IG1hZ2ljMSA9PT0gTUFHSUNfZ2xURjtcbn1cbi8qKlxuICogU3luY2hyb25vdXNseSBwYXJzZSBhIEdMQlxuICogQHBhcmFtIGdsYiAtIFRhcmdldCwgT3V0cHV0IGlzIHN0b3JlZCB0aGVyZVxuICogQHBhcmFtIGFycmF5QnVmZmVyIC0gSW5wdXQgZGF0YVxuICogQHBhcmFtIGJ5dGVPZmZzZXQgLSBPZmZzZXQgaW50byBhcnJheUJ1ZmZlciB0byBzdGFydCBwYXJzaW5nIGZyb20gKGZvciBcImVtYmVkZGVkXCIgR0xCcywgZS5nLiBpbiAzRCB0aWxlcylcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VHTEJTeW5jKGdsYiwgYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQgPSAwLCBvcHRpb25zID0ge30pIHtcbiAgICAvLyBDaGVjayB0aGF0IEdMQiBIZWFkZXIgc3RhcnRzIHdpdGggdGhlIG1hZ2ljIG51bWJlclxuICAgIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICAvLyBDb21wYXJlIGZvcm1hdCB3aXRoIEdMQkxvYWRlciBkb2N1bWVudGF0aW9uXG4gICAgY29uc3QgdHlwZSA9IGdldE1hZ2ljU3RyaW5nKGRhdGFWaWV3LCBieXRlT2Zmc2V0ICsgMCk7XG4gICAgY29uc3QgdmVyc2lvbiA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgNCwgTElUVExFX0VORElBTik7IC8vIFZlcnNpb24gMiBvZiBiaW5hcnkgZ2xURiBjb250YWluZXIgZm9ybWF0XG4gICAgY29uc3QgYnl0ZUxlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgOCwgTElUVExFX0VORElBTik7IC8vIFRvdGFsIGJ5dGUgbGVuZ3RoIG9mIGJpbmFyeSBmaWxlXG4gICAgT2JqZWN0LmFzc2lnbihnbGIsIHtcbiAgICAgICAgLy8gUHV0IGxlc3MgaW1wb3J0YW50IHN0dWZmIGluIGEgaGVhZGVyLCB0byBhdm9pZCBjbHV0dGVyXG4gICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgICAgYnl0ZU9mZnNldCwgLy8gQnl0ZSBvZmZzZXQgaW50byB0aGUgaW5pdGlhbCBhcnJheUJ1ZmZlclxuICAgICAgICAgICAgYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgIGhhc0JpbkNodW5rOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB0eXBlLFxuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBqc29uOiB7fSxcbiAgICAgICAgYmluQ2h1bmtzOiBbXVxuICAgIH0pO1xuICAgIGJ5dGVPZmZzZXQgKz0gR0xCX0ZJTEVfSEVBREVSX1NJWkU7XG4gICAgc3dpdGNoIChnbGIudmVyc2lvbikge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VHTEJWMShnbGIsIGRhdGFWaWV3LCBieXRlT2Zmc2V0KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlR0xCVjIoZ2xiLCBkYXRhVmlldywgYnl0ZU9mZnNldCwgKG9wdGlvbnMgPSB7fSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEdMQiB2ZXJzaW9uICR7Z2xiLnZlcnNpb259LiBPbmx5IHN1cHBvcnRzIHZlcnNpb24gMSBhbmQgMi5gKTtcbiAgICB9XG59XG4vKipcbiAqIFBhcnNlIGEgVjEgR0xCXG4gKiBAcGFyYW0gZ2xiIC0gdGFyZ2V0LCBvdXRwdXQgaXMgc3RvcmVkIGluIHRoaXMgb2JqZWN0XG4gKiBAcGFyYW0gZGF0YVZpZXcgLSBJbnB1dCwgbWVtb3J5IHRvIGJlIHBhcnNlZFxuICogQHBhcmFtIGJ5dGVPZmZzZXQgLSBPZmZzZXQgb2YgZmlyc3QgYnl0ZSBvZiBHTEIgZGF0YSBpbiB0aGUgZGF0YSB2aWV3XG4gKiBAcmV0dXJucyBOdW1iZXIgb2YgYnl0ZXMgcGFyc2VkICh0aGVyZSBjb3VsZCBiZSBhZGRpdGlvbmFsIG5vbi1HTEIgZGF0YSBhZnRlciB0aGUgR0xCKVxuICovXG5mdW5jdGlvbiBwYXJzZUdMQlYxKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQpIHtcbiAgICAvLyBTYW5pdHk6IGVuc3VyZSBmaWxlIGlzIGJpZyBlbm91Z2ggdG8gaG9sZCBhdCBsZWFzdCB0aGUgaGVhZGVyc1xuICAgIGFzc2VydChnbGIuaGVhZGVyLmJ5dGVMZW5ndGggPiBHTEJfRklMRV9IRUFERVJfU0laRSArIEdMQl9DSFVOS19IRUFERVJfU0laRSk7XG4gICAgLy8gRXhwbGFuYXRpb24gb2YgR0xCIHN0cnVjdHVyZTpcbiAgICAvLyBodHRwczovL2Nsb3VkLmdpdGh1YnVzZXJjb250ZW50LmNvbS9hc3NldHMvMzQ3OTUyNy8yMjYwMDcyNS8zNmI4NzEyMi1lYTU1LTExZTYtOWQ0MC02ZmQ0MjgxOWZjYWIucG5nXG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgMCwgTElUVExFX0VORElBTik7IC8vIEJ5dGUgbGVuZ3RoIG9mIGNodW5rXG4gICAgY29uc3QgY29udGVudEZvcm1hdCA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgNCwgTElUVExFX0VORElBTik7IC8vIENodW5rIGZvcm1hdCBhcyB1aW50MzJcbiAgICBieXRlT2Zmc2V0ICs9IEdMQl9DSFVOS19IRUFERVJfU0laRTtcbiAgICAvLyBHTEIgdjEgb25seSBzdXBwb3J0cyBhIHNpbmdsZSBjaHVuayB0eXBlXG4gICAgYXNzZXJ0KGNvbnRlbnRGb3JtYXQgPT09IEdMQl9WMV9DT05URU5UX0ZPUk1BVF9KU09OKTtcbiAgICBwYXJzZUpTT05DaHVuayhnbGIsIGRhdGFWaWV3LCBieXRlT2Zmc2V0LCBjb250ZW50TGVuZ3RoKTtcbiAgICAvLyBObyBuZWVkIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHBhZFRvQnl0ZXMoKSBmcm9tIHBhcnNlSlNPTkNodW5rKClcbiAgICBieXRlT2Zmc2V0ICs9IGNvbnRlbnRMZW5ndGg7XG4gICAgYnl0ZU9mZnNldCArPSBwYXJzZUJJTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGdsYi5oZWFkZXIuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIGJ5dGVPZmZzZXQ7XG59XG4vKipcbiAqIFBhcnNlIGEgVjIgR0xCXG4gKiBAcGFyYW0gZ2xiIC0gdGFyZ2V0LCBvdXRwdXQgaXMgc3RvcmVkIGluIHRoaXMgb2JqZWN0XG4gKiBAcGFyYW0gZGF0YVZpZXcgLSBJbnB1dCwgbWVtb3J5IHRvIGJlIHBhcnNlZFxuICogQHBhcmFtIGJ5dGVPZmZzZXQgLSBPZmZzZXQgb2YgZmlyc3QgYnl0ZSBvZiBHTEIgZGF0YSBpbiB0aGUgZGF0YSB2aWV3XG4gKiBAcmV0dXJucyBOdW1iZXIgb2YgYnl0ZXMgcGFyc2VkICh0aGVyZSBjb3VsZCBiZSBhZGRpdGlvbmFsIG5vbi1HTEIgZGF0YSBhZnRlciB0aGUgR0xCKVxuICovXG5mdW5jdGlvbiBwYXJzZUdMQlYyKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIG9wdGlvbnMpIHtcbiAgICAvLyBTYW5pdHk6IGVuc3VyZSBmaWxlIGlzIGJpZyBlbm91Z2ggdG8gaG9sZCBhdCBsZWFzdCB0aGUgZmlyc3QgY2h1bmsgaGVhZGVyXG4gICAgYXNzZXJ0KGdsYi5oZWFkZXIuYnl0ZUxlbmd0aCA+IEdMQl9GSUxFX0hFQURFUl9TSVpFICsgR0xCX0NIVU5LX0hFQURFUl9TSVpFKTtcbiAgICBwYXJzZUdMQkNodW5rc1N5bmMoZ2xiLCBkYXRhVmlldywgYnl0ZU9mZnNldCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGJ5dGVPZmZzZXQgKyBnbGIuaGVhZGVyLmJ5dGVMZW5ndGg7XG59XG4vKiogSXRlcmF0ZSBvdmVyIEdMQiBjaHVua3MgYW5kIHBhcnNlIHRoZW0gKi9cbmZ1bmN0aW9uIHBhcnNlR0xCQ2h1bmtzU3luYyhnbGIsIGRhdGFWaWV3LCBieXRlT2Zmc2V0LCBvcHRpb25zKSB7XG4gICAgLy8gUGVyIHNwZWMgd2UgbXVzdCBpdGVyYXRlIG92ZXIgY2h1bmtzLCBpZ25vcmluZyBhbGwgZXhjZXB0IEpTT04gYW5kIEJJTlxuICAgIC8vIEl0ZXJhdGUgYXMgbG9uZyBhcyB0aGVyZSBpcyBzcGFjZSBsZWZ0IGZvciBhbm90aGVyIGNodW5rIGhlYWRlclxuICAgIHdoaWxlIChieXRlT2Zmc2V0ICsgOCA8PSBnbGIuaGVhZGVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY2h1bmtMZW5ndGggPSBkYXRhVmlldy5nZXRVaW50MzIoYnl0ZU9mZnNldCArIDAsIExJVFRMRV9FTkRJQU4pOyAvLyBCeXRlIGxlbmd0aCBvZiBjaHVua1xuICAgICAgICBjb25zdCBjaHVua0Zvcm1hdCA9IGRhdGFWaWV3LmdldFVpbnQzMihieXRlT2Zmc2V0ICsgNCwgTElUVExFX0VORElBTik7IC8vIENodW5rIGZvcm1hdCBhcyB1aW50MzJcbiAgICAgICAgYnl0ZU9mZnNldCArPSBHTEJfQ0hVTktfSEVBREVSX1NJWkU7XG4gICAgICAgIC8vIFBlciBzcGVjIHdlIG11c3QgaXRlcmF0ZSBvdmVyIGNodW5rcywgaWdub3JpbmcgYWxsIGV4Y2VwdCBKU09OIGFuZCBCSU5cbiAgICAgICAgc3dpdGNoIChjaHVua0Zvcm1hdCkge1xuICAgICAgICAgICAgY2FzZSBHTEJfQ0hVTktfVFlQRV9KU09OOlxuICAgICAgICAgICAgICAgIHBhcnNlSlNPTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR0xCX0NIVU5LX1RZUEVfQklOOlxuICAgICAgICAgICAgICAgIHBhcnNlQklOQ2h1bmsoZ2xiLCBkYXRhVmlldywgYnl0ZU9mZnNldCwgY2h1bmtMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3IgdmVyeSBvbGQgeHZpeiBmaWxlc1xuICAgICAgICAgICAgY2FzZSBHTEJfQ0hVTktfVFlQRV9KU09OX1hWSVpfREVQUkVDQVRFRDpcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSlNPTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdMQl9DSFVOS19UWVBFX0JJWF9YVklaX0RFUFJFQ0FURUQ6XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLnN0cmljdCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUJJTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSwgcGVyIHNwZWNcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oYFVua25vd24gR0xCIGNodW5rIHR5cGVgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGJ5dGVPZmZzZXQgKz0gcGFkVG9OQnl0ZXMoY2h1bmtMZW5ndGgsIDQpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZU9mZnNldDtcbn1cbi8qIFBhcnNlIGEgR0xCIEpTT04gY2h1bmsgKi9cbmZ1bmN0aW9uIHBhcnNlSlNPTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKSB7XG4gICAgLy8gMS4gQ3JlYXRlIGEgXCJ2aWV3XCIgb2YgdGhlIGJpbmFyeSBlbmNvZGVkIEpTT04gZGF0YSBpbnNpZGUgdGhlIEdMQlxuICAgIGNvbnN0IGpzb25DaHVuayA9IG5ldyBVaW50OEFycmF5KGRhdGFWaWV3LmJ1ZmZlciwgYnl0ZU9mZnNldCwgY2h1bmtMZW5ndGgpO1xuICAgIC8vIDIuIERlY29kZSB0aGUgSlNPTiBiaW5hcnkgYXJyYXkgaW50byBjbGVhciB0ZXh0XG4gICAgY29uc3QgdGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcbiAgICBjb25zdCBqc29uVGV4dCA9IHRleHREZWNvZGVyLmRlY29kZShqc29uQ2h1bmspO1xuICAgIC8vIDMuIFBhcnNlIHRoZSBKU09OIHRleHQgaW50byBhIEphdmFTY3JpcHQgZGF0YSBzdHJ1Y3R1cmVcbiAgICBnbGIuanNvbiA9IEpTT04ucGFyc2UoanNvblRleHQpO1xuICAgIHJldHVybiBwYWRUb05CeXRlcyhjaHVua0xlbmd0aCwgNCk7XG59XG4vKiogUGFyc2UgYSBHTEIgQklOIGNodW5rICovXG5mdW5jdGlvbiBwYXJzZUJJTkNodW5rKGdsYiwgZGF0YVZpZXcsIGJ5dGVPZmZzZXQsIGNodW5rTGVuZ3RoKSB7XG4gICAgLy8gTm90ZTogQklOIGNodW5rIGNhbiBiZSBvcHRpb25hbFxuICAgIGdsYi5oZWFkZXIuaGFzQmluQ2h1bmsgPSB0cnVlO1xuICAgIGdsYi5iaW5DaHVua3MucHVzaCh7XG4gICAgICAgIGJ5dGVPZmZzZXQsXG4gICAgICAgIGJ5dGVMZW5ndGg6IGNodW5rTGVuZ3RoLFxuICAgICAgICBhcnJheUJ1ZmZlcjogZGF0YVZpZXcuYnVmZmVyXG4gICAgICAgIC8vIFRPRE8gLSBjb3B5LCBvciBjcmVhdGUgdHlwZWQgYXJyYXkgdmlldz9cbiAgICB9KTtcbiAgICByZXR1cm4gcGFkVG9OQnl0ZXMoY2h1bmtMZW5ndGgsIDQpO1xufVxuIiwiLy8gUmVzb2x2ZXMgYSByZWxhdGl2ZSB1cmwgYWdhaW5zdCBhIGJhc2VVcmxcbi8vIElmIHVybCBpcyBhYnNvbHV0ZSwgcmV0dXJuIGl0IHVuY2hhbmdlZFxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVcmwodXJsLCBvcHRpb25zKSB7XG4gICAgLy8gVE9ETzogVXNlIGJldHRlciBsb2dpYyB0byBoYW5kbGUgYWxsIHByb3RvY29scyBwbHVzIG5vdCBkZWxheSBvbiBkYXRhXG4gICAgY29uc3QgYWJzb2x1dGUgPSB1cmwuc3RhcnRzV2l0aCgnZGF0YTonKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cDonKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Jyk7XG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIGNvbnN0IGJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmkgfHwgb3B0aW9ucy51cmk7XG4gICAgaWYgKCFiYXNlVXJsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJ2Jhc2VVcmknIG11c3QgYmUgcHJvdmlkZWQgdG8gcmVzb2x2ZSByZWxhdGl2ZSB1cmwgJHt1cmx9YCk7XG4gICAgfVxuICAgIHJldHVybiBiYXNlVXJsLnN1YnN0cigwLCBiYXNlVXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKSArIHVybDtcbn1cbiIsImV4cG9ydCBjb25zdCBDT01QT05FTlRTID0ge1xuICAgIFNDQUxBUjogMSxcbiAgICBWRUMyOiAyLFxuICAgIFZFQzM6IDMsXG4gICAgVkVDNDogNCxcbiAgICBNQVQyOiA0LFxuICAgIE1BVDM6IDksXG4gICAgTUFUNDogMTZcbn07XG5leHBvcnQgY29uc3QgQllURVMgPSB7XG4gICAgNTEyMDogMSwgLy8gQllURVxuICAgIDUxMjE6IDEsIC8vIFVOU0lHTkVEX0JZVEVcbiAgICA1MTIyOiAyLCAvLyBTSE9SVFxuICAgIDUxMjM6IDIsIC8vIFVOU0lHTkVEX1NIT1JUXG4gICAgNTEyNTogNCwgLy8gVU5TSUdORURfSU5UXG4gICAgNTEyNjogNCAvLyBGTE9BVFxufTtcbi8vIEVOVU0gTE9PS1VQXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qnl0ZXNGcm9tQ29tcG9uZW50VHlwZShjb21wb25lbnRUeXBlKSB7XG4gICAgcmV0dXJuIEJZVEVTW2NvbXBvbmVudFR5cGVdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemVGcm9tQWNjZXNzb3JUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gQ09NUE9ORU5UU1t0eXBlXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRHTEVudW1Gcm9tU2FtcGxlclBhcmFtZXRlcihwYXJhbWV0ZXIpIHtcbiAgICBjb25zdCBHTF9URVhUVVJFX01BR19GSUxURVIgPSAweDI4MDA7XG4gICAgY29uc3QgR0xfVEVYVFVSRV9NSU5fRklMVEVSID0gMHgyODAxO1xuICAgIGNvbnN0IEdMX1RFWFRVUkVfV1JBUF9TID0gMHgyODAyO1xuICAgIGNvbnN0IEdMX1RFWFRVUkVfV1JBUF9UID0gMHgyODAzO1xuICAgIGNvbnN0IFBBUkFNRVRFUl9NQVAgPSB7XG4gICAgICAgIG1hZ0ZpbHRlcjogR0xfVEVYVFVSRV9NQUdfRklMVEVSLFxuICAgICAgICBtaW5GaWx0ZXI6IEdMX1RFWFRVUkVfTUlOX0ZJTFRFUixcbiAgICAgICAgd3JhcFM6IEdMX1RFWFRVUkVfV1JBUF9TLFxuICAgICAgICB3cmFwVDogR0xfVEVYVFVSRV9XUkFQX1RcbiAgICB9O1xuICAgIHJldHVybiBQQVJBTUVURVJfTUFQW3BhcmFtZXRlcl07XG59XG4iLCJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBCWVRFUywgQ09NUE9ORU5UUyB9IGZyb20gXCIuLi9nbHRmLXV0aWxzL2dsdGYtY29uc3RhbnRzLmpzXCI7XG4vKipcbiAqIE1lbW9yeSBuZWVkZWQgdG8gc3RvcmUgdGV4dHVyZSBhbmQgYWxsIG1pcG1hcCBsZXZlbHMgMSArIDEvNCArIDEvMTYgKyAxLzY0ICsgLi4uXG4gKiBNaW5pbXVtIDEuMzMsIGJ1dCBkdWUgdG8gR1BVIGxheW91dCBtYXkgYmUgMS41XG4gKi9cbmNvbnN0IE1JUE1BUF9GQUNUT1IgPSAxLjMzO1xuY29uc3QgVFlQRVMgPSBbJ1NDQUxBUicsICdWRUMyJywgJ1ZFQzMnLCAnVkVDNCddO1xuY29uc3QgQVJSQVlfQ09OU1RSVUNUT1JfVE9fV0VCR0xfQ09OU1RBTlQgPSBbXG4gICAgW0ludDhBcnJheSwgNTEyMF0sXG4gICAgW1VpbnQ4QXJyYXksIDUxMjFdLFxuICAgIFtJbnQxNkFycmF5LCA1MTIyXSxcbiAgICBbVWludDE2QXJyYXksIDUxMjNdLFxuICAgIFtVaW50MzJBcnJheSwgNTEyNV0sXG4gICAgW0Zsb2F0MzJBcnJheSwgNTEyNl0sXG4gICAgW0Zsb2F0NjRBcnJheSwgNTEzMF1cbl07XG5jb25zdCBBUlJBWV9UT19DT01QT05FTlRfVFlQRSA9IG5ldyBNYXAoQVJSQVlfQ09OU1RSVUNUT1JfVE9fV0VCR0xfQ09OU1RBTlQpO1xuY29uc3QgQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UUyA9IHtcbiAgICBTQ0FMQVI6IDEsXG4gICAgVkVDMjogMixcbiAgICBWRUMzOiAzLFxuICAgIFZFQzQ6IDQsXG4gICAgTUFUMjogNCxcbiAgICBNQVQzOiA5LFxuICAgIE1BVDQ6IDE2XG59O1xuY29uc3QgQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRSA9IHtcbiAgICA1MTIwOiAxLFxuICAgIDUxMjE6IDEsXG4gICAgNTEyMjogMixcbiAgICA1MTIzOiAyLFxuICAgIDUxMjU6IDQsXG4gICAgNTEyNjogNFxufTtcbmNvbnN0IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWSA9IHtcbiAgICA1MTIwOiBJbnQ4QXJyYXksXG4gICAgNTEyMTogVWludDhBcnJheSxcbiAgICA1MTIyOiBJbnQxNkFycmF5LFxuICAgIDUxMjM6IFVpbnQxNkFycmF5LFxuICAgIDUxMjU6IFVpbnQzMkFycmF5LFxuICAgIDUxMjY6IEZsb2F0MzJBcnJheVxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRBY2Nlc3NvclR5cGVGcm9tU2l6ZShzaXplKSB7XG4gICAgY29uc3QgdHlwZSA9IFRZUEVTW3NpemUgLSAxXTtcbiAgICByZXR1cm4gdHlwZSB8fCBUWVBFU1swXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb25lbnRUeXBlRnJvbUFycmF5KHR5cGVkQXJyYXkpIHtcbiAgICBjb25zdCBjb21wb25lbnRUeXBlID0gQVJSQVlfVE9fQ09NUE9ORU5UX1RZUEUuZ2V0KHR5cGVkQXJyYXkuY29uc3RydWN0b3IpO1xuICAgIGlmICghY29tcG9uZW50VHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgdHlwZWQgYXJyYXknKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudFR5cGU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QWNjZXNzb3JBcnJheVR5cGVBbmRMZW5ndGgoYWNjZXNzb3IsIGJ1ZmZlclZpZXcpIHtcbiAgICBjb25zdCBBcnJheVR5cGUgPSBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVlbYWNjZXNzb3IuY29tcG9uZW50VHlwZV07XG4gICAgY29uc3QgY29tcG9uZW50cyA9IEFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFNbYWNjZXNzb3IudHlwZV07XG4gICAgY29uc3QgYnl0ZXNQZXJDb21wb25lbnQgPSBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFW2FjY2Vzc29yLmNvbXBvbmVudFR5cGVdO1xuICAgIGNvbnN0IGxlbmd0aCA9IGFjY2Vzc29yLmNvdW50ICogY29tcG9uZW50cztcbiAgICBjb25zdCBieXRlTGVuZ3RoID0gYWNjZXNzb3IuY291bnQgKiBjb21wb25lbnRzICogYnl0ZXNQZXJDb21wb25lbnQ7XG4gICAgYXNzZXJ0KGJ5dGVMZW5ndGggPj0gMCAmJiBieXRlTGVuZ3RoIDw9IGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgY29uc3QgY29tcG9uZW50Qnl0ZVNpemUgPSBCWVRFU1thY2Nlc3Nvci5jb21wb25lbnRUeXBlXTtcbiAgICBjb25zdCBudW1iZXJPZkNvbXBvbmVudHNJbkVsZW1lbnQgPSBDT01QT05FTlRTW2FjY2Vzc29yLnR5cGVdO1xuICAgIHJldHVybiB7IEFycmF5VHlwZSwgbGVuZ3RoLCBieXRlTGVuZ3RoLCBjb21wb25lbnRCeXRlU2l6ZSwgbnVtYmVyT2ZDb21wb25lbnRzSW5FbGVtZW50IH07XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgR1BVIG1lbW9yeSB1c2VkIGJ5IGEgR0xURiB0aWxlLCBmb3IgYm90aCBidWZmZXIgYW5kIHRleHR1cmUgbWVtb3J5XG4gKiBAcGFyYW0gZ2x0ZiAtIHRoZSBnbHRmIGNvbnRlbnQgb2YgYSBHTFRGIHRpbGVcbiAqIEByZXR1cm5zIC0gdG90YWwgbWVtb3J5IHVzYWdlIGluIGJ5dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZW1vcnlVc2FnZUdMVEYoZ2x0Zikge1xuICAgIGxldCB7IGltYWdlcywgYnVmZmVyVmlld3MgfSA9IGdsdGY7XG4gICAgaW1hZ2VzID0gaW1hZ2VzIHx8IFtdO1xuICAgIGJ1ZmZlclZpZXdzID0gYnVmZmVyVmlld3MgfHwgW107XG4gICAgY29uc3QgaW1hZ2VCdWZmZXJWaWV3cyA9IGltYWdlcy5tYXAoKGkpID0+IGkuYnVmZmVyVmlldyk7XG4gICAgYnVmZmVyVmlld3MgPSBidWZmZXJWaWV3cy5maWx0ZXIoKHZpZXcpID0+ICFpbWFnZUJ1ZmZlclZpZXdzLmluY2x1ZGVzKHZpZXcpKTtcbiAgICBjb25zdCBidWZmZXJNZW1vcnkgPSBidWZmZXJWaWV3cy5yZWR1Y2UoKGFjYywgdmlldykgPT4gYWNjICsgdmlldy5ieXRlTGVuZ3RoLCAwKTtcbiAgICAvLyBBc3N1bWUgZWFjaCBwaXhlbCBvZiB0aGUgdGV4dHVyZSBpcyA0IGNoYW5uZWwgd2l0aCBtaW1tYXBzICh3aGljaCBhZGQgMzMlKVxuICAgIC8vIFRPRE8gY29ycmVjdGx5IGhhbmRsZSBjb21wcmVzc2VkIHRleHR1cmVzXG4gICAgY29uc3QgcGl4ZWxDb3VudCA9IGltYWdlcy5yZWR1Y2UoKGFjYywgaW1hZ2UpID0+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGltYWdlLmltYWdlO1xuICAgICAgICByZXR1cm4gYWNjICsgd2lkdGggKiBoZWlnaHQ7XG4gICAgfSwgMCk7XG4gICAgcmV0dXJuIGJ1ZmZlck1lbW9yeSArIE1hdGguY2VpbCg0ICogcGl4ZWxDb3VudCAqIE1JUE1BUF9GQUNUT1IpO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBnZXRCaW5hcnlJbWFnZU1ldGFkYXRhIH0gZnJvbSAnQGxvYWRlcnMuZ2wvaW1hZ2VzJztcbmltcG9ydCB7IHBhZFRvTkJ5dGVzLCBjb3B5VG9BcnJheSB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBnZXRBY2Nlc3NvclR5cGVGcm9tU2l6ZSwgZ2V0Q29tcG9uZW50VHlwZUZyb21BcnJheSB9IGZyb20gXCIuLi9nbHRmLXV0aWxzL2dsdGYtdXRpbHMuanNcIjtcbmltcG9ydCB7IGdldFR5cGVkQXJyYXlGb3JBY2Nlc3NvciBhcyBfZ2V0VHlwZWRBcnJheUZvckFjY2Vzc29yIH0gZnJvbSBcIi4uL2dsdGYtdXRpbHMvZ2V0LXR5cGVkLWFycmF5LmpzXCI7XG5mdW5jdGlvbiBtYWtlRGVmYXVsdEdMVEZKc29uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiAnMi4wJyxcbiAgICAgICAgICAgIGdlbmVyYXRvcjogJ2xvYWRlcnMuZ2wnXG4gICAgICAgIH0sXG4gICAgICAgIGJ1ZmZlcnM6IFtdLFxuICAgICAgICBleHRlbnNpb25zOiB7fSxcbiAgICAgICAgZXh0ZW5zaW9uc1JlcXVpcmVkOiBbXSxcbiAgICAgICAgZXh0ZW5zaW9uc1VzZWQ6IFtdXG4gICAgfTtcbn1cbi8qKlxuICogQ2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YVxuICovXG5leHBvcnQgY2xhc3MgR0xURlNjZW5lZ3JhcGgge1xuICAgIC8vIGludGVybmFsXG4gICAgZ2x0ZjtcbiAgICBzb3VyY2VCdWZmZXJzO1xuICAgIGJ5dGVMZW5ndGg7XG4gICAgLy8gVE9ETyAtIHdoeSBpcyB0aGlzIG5vdCBHTFRGV2l0aEJ1ZmZlcnMgLSB3aGF0IGhhcHBlbnMgdG8gaW1hZ2VzP1xuICAgIGNvbnN0cnVjdG9yKGdsdGYpIHtcbiAgICAgICAgLy8gRGVjbGFyZSBsb2NhbGx5IHNvXG4gICAgICAgIHRoaXMuZ2x0ZiA9IHtcbiAgICAgICAgICAgIGpzb246IGdsdGY/Lmpzb24gfHwgbWFrZURlZmF1bHRHTFRGSnNvbigpLFxuICAgICAgICAgICAgYnVmZmVyczogZ2x0Zj8uYnVmZmVycyB8fCBbXSxcbiAgICAgICAgICAgIGltYWdlczogZ2x0Zj8uaW1hZ2VzIHx8IFtdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc291cmNlQnVmZmVycyA9IFtdO1xuICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSAwO1xuICAgICAgICAvLyBJbml0aWFsaXplIGJ1ZmZlcnNcbiAgICAgICAgaWYgKHRoaXMuZ2x0Zi5idWZmZXJzICYmIHRoaXMuZ2x0Zi5idWZmZXJzWzBdKSB7XG4gICAgICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSB0aGlzLmdsdGYuYnVmZmVyc1swXS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXJzID0gW3RoaXMuZ2x0Zi5idWZmZXJzWzBdXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBY2Nlc3NvcnNcbiAgICBnZXQganNvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2x0Zi5qc29uO1xuICAgIH1cbiAgICBnZXRBcHBsaWNhdGlvbkRhdGEoa2V5KSB7XG4gICAgICAgIC8vIFRPRE8gLSBEYXRhIGlzIGFscmVhZHkgdW5wYWNrZWQgYnkgR0xCUGFyc2VyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmpzb25ba2V5XTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGdldEV4dHJhRGF0YShrZXkpIHtcbiAgICAgICAgLy8gVE9ETyAtIERhdGEgaXMgYWxyZWFkeSB1bnBhY2tlZCBieSBHTEJQYXJzZXJcbiAgICAgICAgY29uc3QgZXh0cmFzID0gKHRoaXMuanNvbi5leHRyYXMgfHwge30pO1xuICAgICAgICByZXR1cm4gZXh0cmFzW2tleV07XG4gICAgfVxuICAgIGhhc0V4dGVuc2lvbihleHRlbnNpb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGlzVXNlZEV4dGVuc2lvbiA9IHRoaXMuZ2V0VXNlZEV4dGVuc2lvbnMoKS5maW5kKChuYW1lKSA9PiBuYW1lID09PSBleHRlbnNpb25OYW1lKTtcbiAgICAgICAgY29uc3QgaXNSZXF1aXJlZEV4dGVuc2lvbiA9IHRoaXMuZ2V0UmVxdWlyZWRFeHRlbnNpb25zKCkuZmluZCgobmFtZSkgPT4gbmFtZSA9PT0gZXh0ZW5zaW9uTmFtZSk7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaXNVc2VkRXh0ZW5zaW9uID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaXNSZXF1aXJlZEV4dGVuc2lvbiA9PT0gJ3N0cmluZyc7XG4gICAgfVxuICAgIGdldEV4dGVuc2lvbihleHRlbnNpb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGlzRXh0ZW5zaW9uID0gdGhpcy5nZXRVc2VkRXh0ZW5zaW9ucygpLmZpbmQoKG5hbWUpID0+IG5hbWUgPT09IGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdGhpcy5qc29uLmV4dGVuc2lvbnMgfHwge307XG4gICAgICAgIHJldHVybiBpc0V4dGVuc2lvbiA/IGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gOiBudWxsO1xuICAgIH1cbiAgICBnZXRSZXF1aXJlZEV4dGVuc2lvbihleHRlbnNpb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGlzUmVxdWlyZWQgPSB0aGlzLmdldFJlcXVpcmVkRXh0ZW5zaW9ucygpLmZpbmQoKG5hbWUpID0+IG5hbWUgPT09IGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICByZXR1cm4gaXNSZXF1aXJlZCA/IHRoaXMuZ2V0RXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0UmVxdWlyZWRFeHRlbnNpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnNSZXF1aXJlZCB8fCBbXTtcbiAgICB9XG4gICAgZ2V0VXNlZEV4dGVuc2lvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24uZXh0ZW5zaW9uc1VzZWQgfHwgW107XG4gICAgfVxuICAgIGdldFJlbW92ZWRFeHRlbnNpb25zKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCB8fCBbXSk7XG4gICAgfVxuICAgIGdldE9iamVjdEV4dGVuc2lvbihvYmplY3QsIGV4dGVuc2lvbk5hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IG9iamVjdC5leHRlbnNpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXTtcbiAgICB9XG4gICAgZ2V0U2NlbmUoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdzY2VuZXMnLCBpbmRleCk7XG4gICAgfVxuICAgIGdldE5vZGUoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdub2RlcycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0U2tpbihpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3QoJ3NraW5zJywgaW5kZXgpO1xuICAgIH1cbiAgICBnZXRNZXNoKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdCgnbWVzaGVzJywgaW5kZXgpO1xuICAgIH1cbiAgICBnZXRNYXRlcmlhbChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3QoJ21hdGVyaWFscycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0QWNjZXNzb3IoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdhY2Nlc3NvcnMnLCBpbmRleCk7XG4gICAgfVxuICAgIC8vIGdldENhbWVyYShpbmRleDogbnVtYmVyKTogb2JqZWN0IHwgbnVsbCB7XG4gICAgLy8gICByZXR1cm4gbnVsbDsgLy8gVE9ETzogZml4IHRoaTogb2JqZWN0ICBhcyBudWxsO1xuICAgIC8vIH1cbiAgICBnZXRUZXh0dXJlKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdCgndGV4dHVyZXMnLCBpbmRleCk7XG4gICAgfVxuICAgIGdldFNhbXBsZXIoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdzYW1wbGVycycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0SW1hZ2UoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdpbWFnZXMnLCBpbmRleCk7XG4gICAgfVxuICAgIGdldEJ1ZmZlclZpZXcoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCdidWZmZXJWaWV3cycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0QnVmZmVyKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdCgnYnVmZmVycycsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0T2JqZWN0KGFycmF5LCBpbmRleCkge1xuICAgICAgICAvLyBjaGVjayBpZiBhbHJlYWR5IHJlc29sdmVkXG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5qc29uW2FycmF5XSAmJiB0aGlzLmpzb25bYXJyYXldW2luZGV4XTtcbiAgICAgICAgaWYgKCFvYmplY3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZ2xURiBmaWxlIGVycm9yOiBDb3VsZCBub3QgZmluZCAke2FycmF5fVske2luZGV4fV1gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFjY2VwdHMgYnVmZmVyIHZpZXcgaW5kZXggb3IgYnVmZmVyIHZpZXcgb2JqZWN0XG4gICAgICogQHJldHVybnMgYSBgVWludDhBcnJheWBcbiAgICAgKi9cbiAgICBnZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyhidWZmZXJWaWV3KSB7XG4gICAgICAgIGJ1ZmZlclZpZXcgPSB0aGlzLmdldEJ1ZmZlclZpZXcoYnVmZmVyVmlldyk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYnVmZmVySW5kZXggPSBidWZmZXJWaWV3LmJ1ZmZlcjtcbiAgICAgICAgLy8gR2V0IGhvbGQgb2YgdGhlIGFycmF5QnVmZmVyXG4gICAgICAgIC8vIGNvbnN0IGJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKGJ1ZmZlckluZGV4KTtcbiAgICAgICAgY29uc3QgYmluQ2h1bmsgPSB0aGlzLmdsdGYuYnVmZmVyc1tidWZmZXJJbmRleF07XG4gICAgICAgIGFzc2VydChiaW5DaHVuayk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IChidWZmZXJWaWV3LmJ5dGVPZmZzZXQgfHwgMCkgKyBiaW5DaHVuay5ieXRlT2Zmc2V0O1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShiaW5DaHVuay5hcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgYnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqIEFjY2VwdHMgYWNjZXNzb3IgaW5kZXggb3IgYWNjZXNzb3Igb2JqZWN0XG4gICAgICogQHJldHVybnMgYSB0eXBlZCBhcnJheSB3aXRoIHR5cGUgdGhhdCBtYXRjaGVzIHRoZSB0eXBlc1xuICAgICAqL1xuICAgIGdldFR5cGVkQXJyYXlGb3JBY2Nlc3NvcihhY2Nlc3Nvcikge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGdsdGZBY2Nlc3NvciA9IHRoaXMuZ2V0QWNjZXNzb3IoYWNjZXNzb3IpO1xuICAgICAgICByZXR1cm4gX2dldFR5cGVkQXJyYXlGb3JBY2Nlc3Nvcih0aGlzLmdsdGYuanNvbiwgdGhpcy5nbHRmLmJ1ZmZlcnMsIGdsdGZBY2Nlc3Nvcik7XG4gICAgfVxuICAgIC8qKiBhY2NlcHRzIGFjY2Vzc29yIGluZGV4IG9yIGFjY2Vzc29yIG9iamVjdFxuICAgICAqIHJldHVybnMgYSBgVWludDhBcnJheWBcbiAgICAgKi9cbiAgICBnZXRUeXBlZEFycmF5Rm9ySW1hZ2VEYXRhKGltYWdlKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaW1hZ2UgPSB0aGlzLmdldEFjY2Vzc29yKGltYWdlKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBidWZmZXJWaWV3ID0gdGhpcy5nZXRCdWZmZXJWaWV3KGltYWdlLmJ1ZmZlclZpZXcpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmdldEJ1ZmZlcihidWZmZXJWaWV3LmJ1ZmZlcik7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBidWZmZXIuZGF0YTtcbiAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCB8fCAwO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIC8vIE1PRElGRVJTXG4gICAgLyoqXG4gICAgICogQWRkIGFuIGV4dHJhIGFwcGxpY2F0aW9uLWRlZmluZWQga2V5IHRvIHRoZSB0b3AtbGV2ZWwgZGF0YSBzdHJ1Y3R1cmVcbiAgICAgKi9cbiAgICBhZGRBcHBsaWNhdGlvbkRhdGEoa2V5LCBkYXRhKSB7XG4gICAgICAgIHRoaXMuanNvbltrZXldID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGBleHRyYXNgIC0gU3RhbmRhcmQgR0xURiBmaWVsZCBmb3Igc3RvcmluZyBhcHBsaWNhdGlvbiBzcGVjaWZpYyBkYXRhXG4gICAgICovXG4gICAgYWRkRXh0cmFEYXRhKGtleSwgZGF0YSkge1xuICAgICAgICB0aGlzLmpzb24uZXh0cmFzID0gdGhpcy5qc29uLmV4dHJhcyB8fCB7fTtcbiAgICAgICAgdGhpcy5qc29uLmV4dHJhc1trZXldID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFkZE9iamVjdEV4dGVuc2lvbihvYmplY3QsIGV4dGVuc2lvbk5hbWUsIGRhdGEpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBvYmplY3QuZXh0ZW5zaW9ucyA9IG9iamVjdC5leHRlbnNpb25zIHx8IHt9O1xuICAgICAgICAvLyBUT0RPIC0gY2xvYmJlciBvciBtZXJnZT9cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBvYmplY3QuZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IGRhdGE7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVc2VkRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0T2JqZWN0RXh0ZW5zaW9uKG9iamVjdCwgZXh0ZW5zaW9uTmFtZSwgZGF0YSkge1xuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gb2JqZWN0LmV4dGVuc2lvbnMgfHwge307XG4gICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBkYXRhO1xuICAgICAgICAvLyBUT0RPIC0gYWRkIHRvIHVzZWRFeHRlbnNpb25zLi4uXG4gICAgfVxuICAgIHJlbW92ZU9iamVjdEV4dGVuc2lvbihvYmplY3QsIGV4dGVuc2lvbk5hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IG9iamVjdD8uZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCA9IHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbnNSZW1vdmVkID0gdGhpcy5qc29uLmV4dGVuc2lvbnNSZW1vdmVkO1xuICAgICAgICAgICAgaWYgKCFleHRlbnNpb25zUmVtb3ZlZC5pbmNsdWRlcyhleHRlbnNpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnNSZW1vdmVkLnB1c2goZXh0ZW5zaW9uTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCB0byBzdGFuZGFyZCBHTFRGIHRvcCBsZXZlbCBleHRlbnNpb24gb2JqZWN0LCBtYXJrIGFzIHVzZWRcbiAgICAgKi9cbiAgICBhZGRFeHRlbnNpb24oZXh0ZW5zaW9uTmFtZSwgZXh0ZW5zaW9uRGF0YSA9IHt9KSB7XG4gICAgICAgIGFzc2VydChleHRlbnNpb25EYXRhKTtcbiAgICAgICAgdGhpcy5qc29uLmV4dGVuc2lvbnMgPSB0aGlzLmpzb24uZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5qc29uLmV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBleHRlbnNpb25EYXRhO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbihleHRlbnNpb25OYW1lKTtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbkRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIEdMVEYgdG9wIGxldmVsIGV4dGVuc2lvbiBvYmplY3QsIG1hcmsgYXMgdXNlZCBhbmQgcmVxdWlyZWRcbiAgICAgKi9cbiAgICBhZGRSZXF1aXJlZEV4dGVuc2lvbihleHRlbnNpb25OYW1lLCBleHRlbnNpb25EYXRhID0ge30pIHtcbiAgICAgICAgYXNzZXJ0KGV4dGVuc2lvbkRhdGEpO1xuICAgICAgICB0aGlzLmFkZEV4dGVuc2lvbihleHRlbnNpb25OYW1lLCBleHRlbnNpb25EYXRhKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclJlcXVpcmVkRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uRGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGV4dGVuc2lvbk5hbWUgdG8gbGlzdCBvZiB1c2VkIGV4dGVuc2lvbnNcbiAgICAgKi9cbiAgICByZWdpc3RlclVzZWRFeHRlbnNpb24oZXh0ZW5zaW9uTmFtZSkge1xuICAgICAgICB0aGlzLmpzb24uZXh0ZW5zaW9uc1VzZWQgPSB0aGlzLmpzb24uZXh0ZW5zaW9uc1VzZWQgfHwgW107XG4gICAgICAgIGlmICghdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLmZpbmQoKGV4dCkgPT4gZXh0ID09PSBleHRlbnNpb25OYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLnB1c2goZXh0ZW5zaW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGV4dGVuc2lvbk5hbWUgdG8gbGlzdCBvZiByZXF1aXJlZCBleHRlbnNpb25zXG4gICAgICovXG4gICAgcmVnaXN0ZXJSZXF1aXJlZEV4dGVuc2lvbihleHRlbnNpb25OYW1lKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVc2VkRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICB0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkID0gdGhpcy5qc29uLmV4dGVuc2lvbnNSZXF1aXJlZCB8fCBbXTtcbiAgICAgICAgaWYgKCF0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLmZpbmQoKGV4dCkgPT4gZXh0ID09PSBleHRlbnNpb25OYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5qc29uLmV4dGVuc2lvbnNSZXF1aXJlZC5wdXNoKGV4dGVuc2lvbk5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXh0ZW5zaW9uIGZyb20gdGhlIHRvcC1sZXZlbCBsaXN0XG4gICAgICovXG4gICAgcmVtb3ZlRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuanNvbi5leHRlbnNpb25zPy5bZXh0ZW5zaW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCA9IHRoaXMuanNvbi5leHRlbnNpb25zUmVtb3ZlZCB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbnNSZW1vdmVkID0gdGhpcy5qc29uLmV4dGVuc2lvbnNSZW1vdmVkO1xuICAgICAgICAgICAgaWYgKCFleHRlbnNpb25zUmVtb3ZlZC5pbmNsdWRlcyhleHRlbnNpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnNSZW1vdmVkLnB1c2goZXh0ZW5zaW9uTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuanNvbi5leHRlbnNpb25zKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5qc29uLmV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZVN0cmluZ0Zyb21BcnJheSh0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLCBleHRlbnNpb25OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVTdHJpbmdGcm9tQXJyYXkodGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLCBleHRlbnNpb25OYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiAgU2V0IGRlZmF1bHQgc2NlbmUgd2hpY2ggaXMgdG8gYmUgZGlzcGxheWVkIGF0IGxvYWQgdGltZVxuICAgICAqL1xuICAgIHNldERlZmF1bHRTY2VuZShzY2VuZUluZGV4KSB7XG4gICAgICAgIHRoaXMuanNvbi5zY2VuZSA9IHNjZW5lSW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0b2RvOiBhZGQgbW9yZSBwcm9wZXJ0aWVzIGZvciBzY2VuZSBpbml0aWFsaXphdGlvbjpcbiAgICAgKiAgIG5hbWVgLCBgZXh0ZW5zaW9uc2AsIGBleHRyYXNgXG4gICAgICogICBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjcmVmZXJlbmNlLXNjZW5lXG4gICAgICovXG4gICAgYWRkU2NlbmUoc2NlbmUpIHtcbiAgICAgICAgY29uc3QgeyBub2RlSW5kaWNlcyB9ID0gc2NlbmU7XG4gICAgICAgIHRoaXMuanNvbi5zY2VuZXMgPSB0aGlzLmpzb24uc2NlbmVzIHx8IFtdO1xuICAgICAgICB0aGlzLmpzb24uc2NlbmVzLnB1c2goeyBub2Rlczogbm9kZUluZGljZXMgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24uc2NlbmVzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0b2RvOiBhZGQgbW9yZSBwcm9wZXJ0aWVzIGZvciBub2RlIGluaXRpYWxpemF0aW9uOlxuICAgICAqICAgYG5hbWVgLCBgZXh0ZW5zaW9uc2AsIGBleHRyYXNgLCBgY2FtZXJhYCwgYGNoaWxkcmVuYCwgYHNraW5gLCBgcm90YXRpb25gLCBgc2NhbGVgLCBgdHJhbnNsYXRpb25gLCBgd2VpZ2h0c2BcbiAgICAgKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNub2RlXG4gICAgICovXG4gICAgYWRkTm9kZShub2RlKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzaEluZGV4LCBtYXRyaXggfSA9IG5vZGU7XG4gICAgICAgIHRoaXMuanNvbi5ub2RlcyA9IHRoaXMuanNvbi5ub2RlcyB8fCBbXTtcbiAgICAgICAgY29uc3Qgbm9kZURhdGEgPSB7IG1lc2g6IG1lc2hJbmRleCB9O1xuICAgICAgICBpZiAobWF0cml4KSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBub2RlRGF0YS5tYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5qc29uLm5vZGVzLnB1c2gobm9kZURhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5qc29uLm5vZGVzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKiBBZGRzIGEgbWVzaCB0byB0aGUganNvbiBwYXJ0ICovXG4gICAgYWRkTWVzaChtZXNoKSB7XG4gICAgICAgIGNvbnN0IHsgYXR0cmlidXRlcywgaW5kaWNlcywgbWF0ZXJpYWwsIG1vZGUgPSA0IH0gPSBtZXNoO1xuICAgICAgICBjb25zdCBhY2Nlc3NvcnMgPSB0aGlzLl9hZGRBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xuICAgICAgICBjb25zdCBnbFRGTWVzaCA9IHtcbiAgICAgICAgICAgIHByaW1pdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGFjY2Vzc29ycyxcbiAgICAgICAgICAgICAgICAgICAgbW9kZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGluZGljZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGljZXNBY2Nlc3NvciA9IHRoaXMuX2FkZEluZGljZXMoaW5kaWNlcyk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBnbFRGTWVzaC5wcmltaXRpdmVzWzBdLmluZGljZXMgPSBpbmRpY2VzQWNjZXNzb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShtYXRlcmlhbCkpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGdsVEZNZXNoLnByaW1pdGl2ZXNbMF0ubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmpzb24ubWVzaGVzID0gdGhpcy5qc29uLm1lc2hlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLm1lc2hlcy5wdXNoKGdsVEZNZXNoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgYWRkUG9pbnRDbG91ZChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYWNjZXNzb3JJbmRpY2VzID0gdGhpcy5fYWRkQXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgY29uc3QgZ2xURk1lc2ggPSB7XG4gICAgICAgICAgICBwcmltaXRpdmVzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBhY2Nlc3NvckluZGljZXMsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IDAgLy8gR0wuUE9JTlRTXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmpzb24ubWVzaGVzID0gdGhpcy5qc29uLm1lc2hlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLm1lc2hlcy5wdXNoKGdsVEZNZXNoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGJpbmFyeSBpbWFnZS4gQnVpbGRzIGdsVEYgXCJKU09OIG1ldGFkYXRhXCIgYW5kIHNhdmVzIGJ1ZmZlciByZWZlcmVuY2VcbiAgICAgKiBCdWZmZXIgd2lsbCBiZSBjb3BpZWQgaW50byBCSU4gY2h1bmsgZHVyaW5nIFwicGFja1wiXG4gICAgICogQ3VycmVudGx5IGVuY29kZXMgYXMgZ2xURiBpbWFnZVxuICAgICAqIEBwYXJhbSBpbWFnZURhdGFcbiAgICAgKiBAcGFyYW0gbWltZVR5cGVcbiAgICAgKi9cbiAgICBhZGRJbWFnZShpbWFnZURhdGEsIG1pbWVUeXBlT3B0KSB7XG4gICAgICAgIC8vIElmIGltYWdlIGlzIHJlZmVyZW5jaW5nIGEgYnVmZmVyVmlldyBpbnN0ZWFkIG9mIFVSSSwgbWltZVR5cGUgbXVzdCBiZSBkZWZpbmVkOlxuICAgICAgICAvLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNpbWFnZXNcbiAgICAgICAgLy8gICBcImEgcmVmZXJlbmNlIHRvIGEgYnVmZmVyVmlldzsgaW4gdGhhdCBjYXNlIG1pbWVUeXBlIG11c3QgYmUgZGVmaW5lZC5cIlxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGdldEJpbmFyeUltYWdlTWV0YWRhdGEoaW1hZ2VEYXRhKTtcbiAgICAgICAgY29uc3QgbWltZVR5cGUgPSBtaW1lVHlwZU9wdCB8fCBtZXRhZGF0YT8ubWltZVR5cGU7XG4gICAgICAgIGNvbnN0IGJ1ZmZlclZpZXdJbmRleCA9IHRoaXMuYWRkQnVmZmVyVmlldyhpbWFnZURhdGEpO1xuICAgICAgICBjb25zdCBnbFRGSW1hZ2UgPSB7XG4gICAgICAgICAgICBidWZmZXJWaWV3OiBidWZmZXJWaWV3SW5kZXgsXG4gICAgICAgICAgICBtaW1lVHlwZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmpzb24uaW1hZ2VzID0gdGhpcy5qc29uLmltYWdlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLmltYWdlcy5wdXNoKGdsVEZJbWFnZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24uaW1hZ2VzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBvbmUgdW50eXBlZCBzb3VyY2UgYnVmZmVyLCBjcmVhdGUgYSBtYXRjaGluZyBnbFRGIGBidWZmZXJWaWV3YCwgYW5kIHJldHVybiBpdHMgaW5kZXhcbiAgICAgKiBAcGFyYW0gYnVmZmVyXG4gICAgICovXG4gICAgYWRkQnVmZmVyVmlldyhidWZmZXIsIGJ1ZmZlckluZGV4ID0gMCwgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZUxlbmd0aCkge1xuICAgICAgICBjb25zdCBieXRlTGVuZ3RoID0gYnVmZmVyLmJ5dGVMZW5ndGg7XG4gICAgICAgIGFzc2VydChOdW1iZXIuaXNGaW5pdGUoYnl0ZUxlbmd0aCkpO1xuICAgICAgICAvLyBBZGQgdGhpcyBidWZmZXIgdG8gdGhlIGxpc3Qgb2YgYnVmZmVycyB0byBiZSB3cml0dGVuIHRvIHRoZSBib2R5LlxuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnMgPSB0aGlzLnNvdXJjZUJ1ZmZlcnMgfHwgW107XG4gICAgICAgIHRoaXMuc291cmNlQnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IGdsVEZCdWZmZXJWaWV3ID0ge1xuICAgICAgICAgICAgYnVmZmVyOiBidWZmZXJJbmRleCxcbiAgICAgICAgICAgIC8vIFdyaXRlIG9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgYmluYXJ5IGJvZHlcbiAgICAgICAgICAgIGJ5dGVPZmZzZXQsXG4gICAgICAgICAgICBieXRlTGVuZ3RoXG4gICAgICAgIH07XG4gICAgICAgIC8vIFdlJ3ZlIG5vdyBhZGRlZCB0aGUgY29udGVudHMgdG8gdGhlIGJvZHksIHNvIHVwZGF0ZSB0aGUgdG90YWwgbGVuZ3RoXG4gICAgICAgIC8vIEV2ZXJ5IHN1Yi1jaHVuayBuZWVkcyB0byBiZSA0LWJ5dGUgYWxpZ24gZWRcbiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoICs9IHBhZFRvTkJ5dGVzKGJ5dGVMZW5ndGgsIDQpO1xuICAgICAgICAvLyBBZGQgYSBidWZmZXJWaWV3IGluZGljYXRpbmcgc3RhcnQgYW5kIGxlbmd0aCBvZiB0aGlzIGJpbmFyeSBzdWItY2h1bmtcbiAgICAgICAgdGhpcy5qc29uLmJ1ZmZlclZpZXdzID0gdGhpcy5qc29uLmJ1ZmZlclZpZXdzIHx8IFtdO1xuICAgICAgICB0aGlzLmpzb24uYnVmZmVyVmlld3MucHVzaChnbFRGQnVmZmVyVmlldyk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24uYnVmZmVyVmlld3MubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBhY2Nlc3NvciB0byBhIGJ1ZmZlclZpZXdcbiAgICAgKiBAcGFyYW0gYnVmZmVyVmlld0luZGV4XG4gICAgICogQHBhcmFtIGFjY2Vzc29yXG4gICAgICovXG4gICAgYWRkQWNjZXNzb3IoYnVmZmVyVmlld0luZGV4LCBhY2Nlc3Nvcikge1xuICAgICAgICBjb25zdCBnbFRGQWNjZXNzb3IgPSB7XG4gICAgICAgICAgICBidWZmZXJWaWV3OiBidWZmZXJWaWV3SW5kZXgsXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0eXBlOiBnZXRBY2Nlc3NvclR5cGVGcm9tU2l6ZShhY2Nlc3Nvci5zaXplKSxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IGFjY2Vzc29yLmNvbXBvbmVudFR5cGUsXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb3VudDogYWNjZXNzb3IuY291bnQsXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBtYXg6IGFjY2Vzc29yLm1heCxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG1pbjogYWNjZXNzb3IubWluXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuanNvbi5hY2Nlc3NvcnMgPSB0aGlzLmpzb24uYWNjZXNzb3JzIHx8IFtdO1xuICAgICAgICB0aGlzLmpzb24uYWNjZXNzb3JzLnB1c2goZ2xURkFjY2Vzc29yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvbi5hY2Nlc3NvcnMubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgYmluYXJ5IGJ1ZmZlci4gQnVpbGRzIGdsVEYgXCJKU09OIG1ldGFkYXRhXCIgYW5kIHNhdmVzIGJ1ZmZlciByZWZlcmVuY2VcbiAgICAgKiBCdWZmZXIgd2lsbCBiZSBjb3BpZWQgaW50byBCSU4gY2h1bmsgZHVyaW5nIFwicGFja1wiXG4gICAgICogQ3VycmVudGx5IGVuY29kZXMgYnVmZmVycyBhcyBnbFRGIGFjY2Vzc29ycywgYnV0IHRoaXMgY291bGQgYmUgb3B0aW1pemVkXG4gICAgICogQHBhcmFtIHNvdXJjZUJ1ZmZlclxuICAgICAqIEBwYXJhbSBhY2Nlc3NvclxuICAgICAqL1xuICAgIGFkZEJpbmFyeUJ1ZmZlcihzb3VyY2VCdWZmZXIsIGFjY2Vzc29yID0geyBzaXplOiAzIH0pIHtcbiAgICAgICAgY29uc3QgYnVmZmVyVmlld0luZGV4ID0gdGhpcy5hZGRCdWZmZXJWaWV3KHNvdXJjZUJ1ZmZlcik7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbGV0IG1pbk1heCA9IHsgbWluOiBhY2Nlc3Nvci5taW4sIG1heDogYWNjZXNzb3IubWF4IH07XG4gICAgICAgIGlmICghbWluTWF4Lm1pbiB8fCAhbWluTWF4Lm1heCkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgbWluTWF4ID0gdGhpcy5fZ2V0QWNjZXNzb3JNaW5NYXgoc291cmNlQnVmZmVyLCBhY2Nlc3Nvci5zaXplKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY2Nlc3NvckRlZmF1bHRzID0ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgc2l6ZTogYWNjZXNzb3Iuc2l6ZSxcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkoc291cmNlQnVmZmVyKSxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvdW50OiBNYXRoLnJvdW5kKHNvdXJjZUJ1ZmZlci5sZW5ndGggLyBhY2Nlc3Nvci5zaXplKSxcbiAgICAgICAgICAgIG1pbjogbWluTWF4Lm1pbixcbiAgICAgICAgICAgIG1heDogbWluTWF4Lm1heFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRBY2Nlc3NvcihidWZmZXJWaWV3SW5kZXgsIE9iamVjdC5hc3NpZ24oYWNjZXNzb3JEZWZhdWx0cywgYWNjZXNzb3IpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHRleHR1cmUgdG8gdGhlIGpzb24gcGFydFxuICAgICAqIEB0b2RvOiBhZGQgbW9yZSBwcm9wZXJ0aWVzIGZvciB0ZXh0dXJlIGluaXRpYWxpemF0aW9uXG4gICAgICogYHNhbXBsZXJgLCBgbmFtZWAsIGBleHRlbnNpb25zYCwgYGV4dHJhc2BcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjdGV4dHVyZVxuICAgICAqL1xuICAgIGFkZFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICBjb25zdCB7IGltYWdlSW5kZXggfSA9IHRleHR1cmU7XG4gICAgICAgIGNvbnN0IGdsVEZUZXh0dXJlID0ge1xuICAgICAgICAgICAgc291cmNlOiBpbWFnZUluZGV4XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuanNvbi50ZXh0dXJlcyA9IHRoaXMuanNvbi50ZXh0dXJlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLnRleHR1cmVzLnB1c2goZ2xURlRleHR1cmUpO1xuICAgICAgICByZXR1cm4gdGhpcy5qc29uLnRleHR1cmVzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKiBBZGRzIGEgbWF0ZXJpYWwgdG8gdGhlIGpzb24gcGFydCAqL1xuICAgIGFkZE1hdGVyaWFsKHBick1hdGVyaWFsSW5mbykge1xuICAgICAgICB0aGlzLmpzb24ubWF0ZXJpYWxzID0gdGhpcy5qc29uLm1hdGVyaWFscyB8fCBbXTtcbiAgICAgICAgdGhpcy5qc29uLm1hdGVyaWFscy5wdXNoKHBick1hdGVyaWFsSW5mbyk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24ubWF0ZXJpYWxzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKiBQYWNrIHRoZSBiaW5hcnkgY2h1bmsgKi9cbiAgICBjcmVhdGVCaW5hcnlDaHVuaygpIHtcbiAgICAgICAgLy8gQWxsb2NhdGUgdG90YWwgYXJyYXlcbiAgICAgICAgY29uc3QgdG90YWxCeXRlTGVuZ3RoID0gdGhpcy5ieXRlTGVuZ3RoO1xuICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0b3RhbEJ5dGVMZW5ndGgpO1xuICAgICAgICBjb25zdCB0YXJnZXRBcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgLy8gQ29weSBlYWNoIGFycmF5IGludG9cbiAgICAgICAgbGV0IGRzdEJ5dGVPZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZUJ1ZmZlciBvZiB0aGlzLnNvdXJjZUJ1ZmZlcnMgfHwgW10pIHtcbiAgICAgICAgICAgIGRzdEJ5dGVPZmZzZXQgPSBjb3B5VG9BcnJheShzb3VyY2VCdWZmZXIsIHRhcmdldEFycmF5LCBkc3RCeXRlT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdGhlIGdsVEYgQklOIENIVU5LIGJ5dGUgbGVuZ3RoXG4gICAgICAgIGlmICh0aGlzLmpzb24/LmJ1ZmZlcnM/LlswXSkge1xuICAgICAgICAgICAgdGhpcy5qc29uLmJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aCA9IHRvdGFsQnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuanNvbi5idWZmZXJzID0gW3sgYnl0ZUxlbmd0aDogdG90YWxCeXRlTGVuZ3RoIH1dO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhdmUgZ2VuZXJhdGVkIGFycmF5QnVmZmVyXG4gICAgICAgIHRoaXMuZ2x0Zi5iaW5hcnkgPSBhcnJheUJ1ZmZlcjtcbiAgICAgICAgLy8gUHV0IGFycmF5QnVmZmVyIHRvIHNvdXJjZUJ1ZmZlcnMgZm9yIHBvc3NpYmxlIGFkZGl0aW9uYWwgd3JpdGluZyBkYXRhIGluIHRoZSBjaHVua1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnMgPSBbYXJyYXlCdWZmZXJdO1xuICAgICAgICB0aGlzLmdsdGYuYnVmZmVycyA9IFt7IGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0OiAwLCBieXRlTGVuZ3RoOiBhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoIH1dO1xuICAgIH1cbiAgICAvLyBQUklWQVRFXG4gICAgX3JlbW92ZVN0cmluZ0Zyb21BcnJheShhcnJheSwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBmb3VuZCA9IHRydWU7XG4gICAgICAgIHdoaWxlIChmb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKHN0cmluZyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhdHRyaWJ1dGVzIHRvIGJ1ZmZlcnMgYW5kIGNyZWF0ZSBgYXR0cmlidXRlc2Agb2JqZWN0IHdoaWNoIGlzIHBhcnQgb2YgYG1lc2hgXG4gICAgICovXG4gICAgX2FkZEF0dHJpYnV0ZXMoYXR0cmlidXRlcyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZUtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVEYXRhID0gYXR0cmlidXRlc1thdHRyaWJ1dGVLZXldO1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSB0aGlzLl9nZXRHbHRmQXR0cmlidXRlTmFtZShhdHRyaWJ1dGVLZXkpO1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzb3IgPSB0aGlzLmFkZEJpbmFyeUJ1ZmZlcihhdHRyaWJ1dGVEYXRhLnZhbHVlLCBhdHRyaWJ1dGVEYXRhKTtcbiAgICAgICAgICAgIHJlc3VsdFthdHRyTmFtZV0gPSBhY2Nlc3NvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgaW5kaWNlcyB0byBidWZmZXJzXG4gICAgICovXG4gICAgX2FkZEluZGljZXMoaW5kaWNlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRCaW5hcnlCdWZmZXIoaW5kaWNlcywgeyBzaXplOiAxIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWR1Y2UgZ2x0ZiBzcGVjaWZpYyBhdHRyaWJ1ZSBuYW1lIGZyb20gaW5wdXQgYXR0cmlidXRlIG5hbWVcbiAgICAgKi9cbiAgICBfZ2V0R2x0ZkF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBzd2l0Y2ggKGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSAncG9zaXRpb24nOlxuICAgICAgICAgICAgY2FzZSAncG9zaXRpb25zJzpcbiAgICAgICAgICAgIGNhc2UgJ3ZlcnRpY2VzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1BPU0lUSU9OJztcbiAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XG4gICAgICAgICAgICBjYXNlICdub3JtYWxzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ05PUk1BTCc7XG4gICAgICAgICAgICBjYXNlICdjb2xvcic6XG4gICAgICAgICAgICBjYXNlICdjb2xvcnMnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnQ09MT1JfMCc7XG4gICAgICAgICAgICBjYXNlICd0ZXhjb29yZCc6XG4gICAgICAgICAgICBjYXNlICd0ZXhjb29yZHMnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnVEVYQ09PUkRfMCc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVOYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBgbWluYCBhbmQgYG1heGAgYXJyYXlzIG9mIGFjY2Vzc29yIGFjY29yZGluZyB0byBzcGVjOlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNyZWZlcmVuY2UtYWNjZXNzb3JcbiAgICAgKi9cbiAgICBfZ2V0QWNjZXNzb3JNaW5NYXgoYnVmZmVyLCBzaXplKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgbWluOiBudWxsLCBtYXg6IG51bGwgfTtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPCBzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmVzdWx0Lm1pbiA9IFtdO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJlc3VsdC5tYXggPSBbXTtcbiAgICAgICAgY29uc3QgaW5pdFZhbHVlcyA9IGJ1ZmZlci5zdWJhcnJheSgwLCBzaXplKTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBpbml0VmFsdWVzKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICByZXN1bHQubWluLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgcmVzdWx0Lm1heC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IHNpemU7IGluZGV4IDwgYnVmZmVyLmxlbmd0aDsgaW5kZXggKz0gc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgY29tcG9uZW50SW5kZXggPSAwOyBjb21wb25lbnRJbmRleCA8IHNpemU7IGNvbXBvbmVudEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgcmVzdWx0Lm1pblswICsgY29tcG9uZW50SW5kZXhdID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHJlc3VsdC5taW5bMCArIGNvbXBvbmVudEluZGV4XSwgYnVmZmVyW2luZGV4ICsgY29tcG9uZW50SW5kZXhdKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgcmVzdWx0Lm1heFswICsgY29tcG9uZW50SW5kZXhdID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHJlc3VsdC5tYXhbMCArIGNvbXBvbmVudEluZGV4XSwgYnVmZmVyW2luZGV4ICsgY29tcG9uZW50SW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbiIsIi8vIFRPRE8gLSBHTFRGU2NlbmVncmFwaCBzaG91bGQgdXNlIHRoZXNlXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBnZXRBY2Nlc3NvckFycmF5VHlwZUFuZExlbmd0aCB9IGZyb20gXCIuL2dsdGYtdXRpbHMuanNcIjtcbi8vIGFjY2VwdHMgYnVmZmVyIHZpZXcgaW5kZXggb3IgYnVmZmVyIHZpZXcgb2JqZWN0XG4vLyByZXR1cm5zIGEgYFVpbnQ4QXJyYXlgXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcoanNvbiwgYnVmZmVycywgYnVmZmVyVmlld0luZGV4KSB7XG4gICAgY29uc3QgYnVmZmVyVmlldyA9IGpzb24uYnVmZmVyVmlld3NbYnVmZmVyVmlld0luZGV4XTtcbiAgICBhc3NlcnQoYnVmZmVyVmlldyk7XG4gICAgLy8gR2V0IGhvbGQgb2YgdGhlIGFycmF5QnVmZmVyXG4gICAgY29uc3QgYnVmZmVySW5kZXggPSBidWZmZXJWaWV3LmJ1ZmZlcjtcbiAgICBjb25zdCBiaW5DaHVuayA9IGJ1ZmZlcnNbYnVmZmVySW5kZXhdO1xuICAgIGFzc2VydChiaW5DaHVuayk7XG4gICAgY29uc3QgYnl0ZU9mZnNldCA9IChidWZmZXJWaWV3LmJ5dGVPZmZzZXQgfHwgMCkgKyBiaW5DaHVuay5ieXRlT2Zmc2V0O1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShiaW5DaHVuay5hcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgYnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcbn1cbi8vIGFjY2VwdHMgYWNjZXNzb3IgaW5kZXggb3IgYWNjZXNzb3Igb2JqZWN0XG4vLyByZXR1cm5zIGEgYFVpbnQ4QXJyYXlgXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZWRBcnJheUZvckltYWdlRGF0YShqc29uLCBidWZmZXJzLCBpbWFnZUluZGV4KSB7XG4gICAgY29uc3QgaW1hZ2UgPSBqc29uLmltYWdlc1tpbWFnZUluZGV4XTtcbiAgICBjb25zdCBidWZmZXJWaWV3SW5kZXggPSBqc29uLmJ1ZmZlclZpZXdzW2ltYWdlLmJ1ZmZlclZpZXddO1xuICAgIHJldHVybiBnZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyhqc29uLCBidWZmZXJzLCBidWZmZXJWaWV3SW5kZXgpO1xufVxuLyoqXG4gKiBHZXRzIGRhdGEgcG9pbnRlZCBieSB0aGUgYWNjZXNzb3IuXG4gKiBAcGFyYW0ganNvbiAtIGpzb24gcGFydCBvZiBnbHRmIGNvbnRlbnQgb2YgYSBHTFRGIHRpbGUuXG4gKiBAcGFyYW0gYnVmZmVycyAtIEFycmF5IGNvbnRhaW5pbmcgYnVmZmVycyBvZiBkYXRhLlxuICogQHBhcmFtIGFjY2Vzc29yIC0gYWNjZXB0cyBhY2Nlc3NvciBpbmRleCBvciBhY2Nlc3NvciBvYmplY3QuXG4gKiBAcmV0dXJucyB7VHlwZWRBcnJheX0gVHlwZWQgYXJyYXkgd2l0aCB0eXBlIG1hdGNoaW5nIHRoZSB0eXBlIG9mIGRhdGEgcG9pdGVkIGJ5IHRoZSBhY2Nlc3Nvci5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IoanNvbiwgYnVmZmVycywgYWNjZXNzb3IpIHtcbiAgICBjb25zdCBnbHRmQWNjZXNzb3IgPSB0eXBlb2YgYWNjZXNzb3IgPT09ICdudW1iZXInID8ganNvbi5hY2Nlc3NvcnM/LlthY2Nlc3Nvcl0gOiBhY2Nlc3NvcjtcbiAgICBpZiAoIWdsdGZBY2Nlc3Nvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGdsdGYgYWNjZXNzb3IgJHtKU09OLnN0cmluZ2lmeShhY2Nlc3Nvcil9YCk7XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlclZpZXcgPSBqc29uLmJ1ZmZlclZpZXdzPy5bZ2x0ZkFjY2Vzc29yLmJ1ZmZlclZpZXcgfHwgMF07XG4gICAgaWYgKCFidWZmZXJWaWV3KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZ2x0ZiBidWZmZXIgdmlldyBmb3IgYWNjZXNzb3IgJHtidWZmZXJWaWV3fWApO1xuICAgIH1cbiAgICAvLyBHZXQgYGFycmF5QnVmZmVyYCB0aGUgYGJ1ZmZlclZpZXdgIGxvb2tzIGF0XG4gICAgY29uc3QgeyBhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldDogYnVmZmVyQnl0ZU9mZnNldCB9ID0gYnVmZmVyc1tidWZmZXJWaWV3LmJ1ZmZlcl07XG4gICAgLy8gUmVzdWx0aW5nIGJ5dGVPZmZzZXQgaXMgc3VtIG9mIHRoZSBidWZmZXIsIGFjY2Vzc29yIGFuZCBidWZmZXJWaWV3IGJ5dGUgb2Zmc2V0c1xuICAgIGNvbnN0IGJ5dGVPZmZzZXQgPSAoYnVmZmVyQnl0ZU9mZnNldCB8fCAwKSArIChnbHRmQWNjZXNzb3IuYnl0ZU9mZnNldCB8fCAwKSArIChidWZmZXJWaWV3LmJ5dGVPZmZzZXQgfHwgMCk7XG4gICAgLy8gRGVkdWNlIFR5cGVkQXJyYXkgdHlwZSBhbmQgaXRzIGxlbmd0aCBmcm9tIGBhY2Nlc3NvcmAgYW5kIGBidWZmZXJWaWV3YCBkYXRhXG4gICAgY29uc3QgeyBBcnJheVR5cGUsIGxlbmd0aCwgY29tcG9uZW50Qnl0ZVNpemUsIG51bWJlck9mQ29tcG9uZW50c0luRWxlbWVudCB9ID0gZ2V0QWNjZXNzb3JBcnJheVR5cGVBbmRMZW5ndGgoZ2x0ZkFjY2Vzc29yLCBidWZmZXJWaWV3KTtcbiAgICAvLyAnbGVuZ3RoJyBpcyBhIHdob2xlIG51bWJlciBvZiBjb21wb25lbnRzIG9mIGFsbCBlbGVtZW50cyBpbiB0aGUgYnVmZmVyIHBvaW50ZWQgYnkgdGhlIGFjY2Vzc29yXG4gICAgLy8gTXVsdGlwbGllciB0byBjYWxjdWxhdGUgdGhlIGFkZHJlc3Mgb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGFycmF5QnVmZmVyXG4gICAgY29uc3QgZWxlbWVudEJ5dGVTaXplID0gY29tcG9uZW50Qnl0ZVNpemUgKiBudW1iZXJPZkNvbXBvbmVudHNJbkVsZW1lbnQ7XG4gICAgY29uc3QgZWxlbWVudEFkZHJlc3NTY2FsZSA9IGJ1ZmZlclZpZXcuYnl0ZVN0cmlkZSB8fCBlbGVtZW50Qnl0ZVNpemU7XG4gICAgLy8gQ3JlYXJlIGFuIGFycmF5IG9mIGNvbXBvbmVudCdzIHR5cGUgd2hlcmUgYWxsIGNvbXBvbmVudHMgKG5vdCBqdXN0IGVsZW1lbnRzKSB3aWxsIHJlc2lkZVxuICAgIGlmICh0eXBlb2YgYnVmZmVyVmlldy5ieXRlU3RyaWRlID09PSAndW5kZWZpbmVkJyB8fCBidWZmZXJWaWV3LmJ5dGVTdHJpZGUgPT09IGVsZW1lbnRCeXRlU2l6ZSkge1xuICAgICAgICAvLyBObyBpdGVybGVhdmluZ1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXlUeXBlKGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBJdGVybGVhdmluZ1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheVR5cGUobGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdsdGZBY2Nlc3Nvci5jb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBBcnJheVR5cGUoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQgKyBpICogZWxlbWVudEFkZHJlc3NTY2FsZSwgbnVtYmVyT2ZDb21wb25lbnRzSW5FbGVtZW50KTtcbiAgICAgICAgcmVzdWx0LnNldCh2YWx1ZXMsIGkgKiBudW1iZXJPZkNvbXBvbmVudHNJbkVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLyoqXG4gKiBsb2FkZXJzLmdsLCBNSVQgbGljZW5zZVxuICpcbiAqIFNoYXJlZCBjb2RlIGZvciAzRFRpbGVzIGV4dGVuc2lvbnM6XG4gKiAqIEVYVF9mZWF0dXJlX21ldGFkYXRhXG4gKiAqIEVYVF9tZXNoX2ZlYXR1cmVzXG4gKiAqIEVYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhXG4gKi9cbmltcG9ydCB7IGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkgfSBmcm9tIFwiLi4vLi4vZ2x0Zi11dGlscy9nbHRmLXV0aWxzLmpzXCI7XG5pbXBvcnQgeyBnZXRJbWFnZURhdGEgfSBmcm9tICdAbG9hZGVycy5nbC9pbWFnZXMnO1xuZnVuY3Rpb24gZW1vZChuKSB7XG4gICAgcmV0dXJuICgobiAlIDEpICsgMSkgJSAxO1xufVxuY29uc3QgQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UUyA9IHtcbiAgICBTQ0FMQVI6IDEsXG4gICAgVkVDMjogMixcbiAgICBWRUMzOiAzLFxuICAgIFZFQzQ6IDQsXG4gICAgTUFUMjogNCxcbiAgICBNQVQzOiA5LFxuICAgIE1BVDQ6IDE2LFxuICAgIEJPT0xFQU46IDEsXG4gICAgU1RSSU5HOiAxLFxuICAgIEVOVU06IDFcbn07XG5jb25zdCBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVkgPSB7XG4gICAgSU5UODogSW50OEFycmF5LFxuICAgIFVJTlQ4OiBVaW50OEFycmF5LFxuICAgIElOVDE2OiBJbnQxNkFycmF5LFxuICAgIFVJTlQxNjogVWludDE2QXJyYXksXG4gICAgSU5UMzI6IEludDMyQXJyYXksXG4gICAgVUlOVDMyOiBVaW50MzJBcnJheSxcbiAgICBJTlQ2NDogQmlnSW50NjRBcnJheSxcbiAgICBVSU5UNjQ6IEJpZ1VpbnQ2NEFycmF5LFxuICAgIEZMT0FUMzI6IEZsb2F0MzJBcnJheSxcbiAgICBGTE9BVDY0OiBGbG9hdDY0QXJyYXlcbn07XG5jb25zdCBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFID0ge1xuICAgIElOVDg6IDEsXG4gICAgVUlOVDg6IDEsXG4gICAgSU5UMTY6IDIsXG4gICAgVUlOVDE2OiAyLFxuICAgIElOVDMyOiA0LFxuICAgIFVJTlQzMjogNCxcbiAgICBJTlQ2NDogOCxcbiAgICBVSU5UNjQ6IDgsXG4gICAgRkxPQVQzMjogNCxcbiAgICBGTE9BVDY0OiA4XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFycmF5RWxlbWVudEJ5dGVTaXplKGF0dHJpYnV0ZVR5cGUsIGNvbXBvbmVudFR5cGUpIHtcbiAgICByZXR1cm4gKEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19CWVRFX1NJWkVbY29tcG9uZW50VHlwZV0gKlxuICAgICAgICBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTW2F0dHJpYnV0ZVR5cGVdKTtcbn1cbi8qKlxuICogR2V0cyBvZmZzZXQgYXJyYXkgZnJvbSBgYXJyYXlPZmZzZXRzYCBvciBgc3RyaW5nT2Zmc2V0c2AuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIGJ1ZmZlclZpZXdJbmRleCAtIEJ1ZmZlciB2aWV3IGluZGV4XG4gKiBAcGFyYW0gb2Zmc2V0VHlwZSAtIFRoZSB0eXBlIG9mIHZhbHVlcyBpbiBgYXJyYXlPZmZzZXRzYCBvciBgc3RyaW5nT2Zmc2V0c2AuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheS5cbiAqIEByZXR1cm5zIEFycmF5IG9mIHZhbHVlcyBvZmZzZXRzLiBUaGUgbnVtYmVyIG9mIG9mZnNldHMgaW4gdGhlIGFycmF5IGlzIGVxdWFsIHRvIGBudW1iZXJPZkVsZW1lbnRzYCBwbHVzIG9uZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE9mZnNldHNGb3JQcm9wZXJ0eShzY2VuZWdyYXBoLCBidWZmZXJWaWV3SW5kZXgsIG9mZnNldFR5cGUsIG51bWJlck9mRWxlbWVudHMpIHtcbiAgICBpZiAob2Zmc2V0VHlwZSAhPT0gJ1VJTlQ4JyAmJlxuICAgICAgICBvZmZzZXRUeXBlICE9PSAnVUlOVDE2JyAmJlxuICAgICAgICBvZmZzZXRUeXBlICE9PSAnVUlOVDMyJyAmJlxuICAgICAgICBvZmZzZXRUeXBlICE9PSAnVUlOVDY0Jykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgYXJyYXlPZmZzZXRzQnl0ZXMgPSBzY2VuZWdyYXBoLmdldFR5cGVkQXJyYXlGb3JCdWZmZXJWaWV3KGJ1ZmZlclZpZXdJbmRleCk7XG4gICAgY29uc3QgYXJyYXlPZmZzZXRzID0gY29udmVydFJhd0J1ZmZlclRvTWV0YWRhdGFBcnJheShhcnJheU9mZnNldHNCeXRlcywgJ1NDQUxBUicsIC8vIG9mZnNldHMgY29uc2lzdCBvZiBPTkUgY29tcG9uZW50XG4gICAgb2Zmc2V0VHlwZSwgbnVtYmVyT2ZFbGVtZW50cyArIDEgLy8gVGhlIG51bWJlciBvZiBvZmZzZXRzIGlzIGVxdWFsIHRvIHRoZSBwcm9wZXJ0eSB0YWJsZSBgY291bnRgIHBsdXMgb25lLlxuICAgICk7XG4gICAgLy8gV2UgZG9uJ3Qgc3VwcG9ydCBCaWdJbnQgb2Zmc2V0cyBhdCB0aGUgbW9tZW50LiBJdCByZXF1aXJlcyBhZGRpdGlvbmFsIGxvZ2ljIGFuZCBwb3RlbnRpYWwgaXNzdWVzIGluIFNhZmFyaVxuICAgIGlmIChhcnJheU9mZnNldHMgaW5zdGFuY2VvZiBCaWdJbnQ2NEFycmF5IHx8IGFycmF5T2Zmc2V0cyBpbnN0YW5jZW9mIEJpZ1VpbnQ2NEFycmF5KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlPZmZzZXRzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyByYXcgYnl0ZXMgdGhhdCBhcmUgaW4gdGhlIGJ1ZmZlciB0byBhbiBhcnJheSBvZiB0aGUgdHlwZSBkZWZpbmVkIGJ5IHRoZSBzY2hlbWEuXG4gKiBAcGFyYW0gZGF0YSAtIFJhdyBieXRlcyBpbiB0aGUgYnVmZmVyLlxuICogQHBhcmFtIGF0dHJpYnV0ZVR5cGUgLSBTQ0FMQVIsIFZFQ04sIE1BVE4uXG4gKiBAcGFyYW0gY29tcG9uZW50VHlwZSAtIFR5cGUgb2YgdGhlIGNvbXBvbmVudCBpbiBlbGVtZW50cywgZS5nLiAnVUlOVDgnIG9yICdGTE9BVDMyJy5cbiAqIEBwYXJhbSBlbGVtZW50Q291bnQgLSBOdW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LiBEZWZhdWx0IHZhbHVlIGlzIDEuXG4gKiBAcmV0dXJucyBEYXRhIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UmF3QnVmZmVyVG9NZXRhZGF0YUFycmF5KGRhdGEsIGF0dHJpYnV0ZVR5cGUsIGNvbXBvbmVudFR5cGUsIGVsZW1lbnRDb3VudCA9IDEpIHtcbiAgICBjb25zdCBudW1iZXJPZkNvbXBvbmVudHMgPSBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTW2F0dHJpYnV0ZVR5cGVdO1xuICAgIGNvbnN0IEFycmF5VHlwZSA9IEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWVtjb21wb25lbnRUeXBlXTtcbiAgICBjb25zdCBzaXplID0gQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRVtjb21wb25lbnRUeXBlXTtcbiAgICBjb25zdCBsZW5ndGggPSBlbGVtZW50Q291bnQgKiBudW1iZXJPZkNvbXBvbmVudHM7XG4gICAgY29uc3QgYnl0ZUxlbmd0aCA9IGxlbmd0aCAqIHNpemU7XG4gICAgbGV0IGJ1ZmZlciA9IGRhdGEuYnVmZmVyO1xuICAgIGxldCBvZmZzZXQgPSBkYXRhLmJ5dGVPZmZzZXQ7XG4gICAgaWYgKG9mZnNldCAlIHNpemUgIT09IDApIHtcbiAgICAgICAgY29uc3QgYnVmZmVyQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICBidWZmZXIgPSBidWZmZXJBcnJheS5zbGljZShvZmZzZXQsIG9mZnNldCArIGJ5dGVMZW5ndGgpLmJ1ZmZlcjtcbiAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBcnJheVR5cGUoYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCk7XG59XG4vKipcbiAqIFByb2Nlc3NlcyBkYXRhIGVuY29kZWQgaW4gdGhlIHRleHR1cmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcmltaXRpdmUuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIHRleHR1cmVJbmZvIC0gUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIHdoZXJlIGV4dGVuc2lvbiBkYXRhIGFyZSBzdG9yZWQuXG4gKiBAcGFyYW0gcHJpbWl0aXZlIC0gUHJpbWl0aXZlIG9iamVjdCBpbiB0aGUgbWVzaC5cbiAqIEByZXR1cm5zIEFycmF5IG9mIGRhdGEgdGFrZW4uIE51bGwgaWYgZGF0YSBjYW4ndCBiZSB0YWtlbiBmcm9tIHRoZSB0ZXh0dXJlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJpbWl0aXZlVGV4dHVyZURhdGEoc2NlbmVncmFwaCwgdGV4dHVyZUluZm8sIHByaW1pdGl2ZSkge1xuICAgIC8qXG4gICAgICB0ZXh0dXJlLmluZGV4IGlzIGFuIGluZGV4IGZvciB0aGUgXCJ0ZXh0dXJlc1wiIGFycmF5LlxuICAgICAgVGhlIHRleHR1cmUgb2JqZWN0IHJlZmVyZW5jZWQgYnkgdGhpcyBpbmRleCBsb29rcyBsaWtlIHRoaXM6XG4gICAgICB7XG4gICAgICBcInNhbXBsZXJcIjogMCxcbiAgICAgIFwic291cmNlXCI6IDBcbiAgICAgIH1cbiAgICAgIFwic2FtcGxlclwiIGlzIGFuIGluZGV4IGZvciB0aGUgXCJzYW1wbGVyc1wiIGFycmF5XG4gICAgICBcInNvdXJjZVwiIGlzIGFuIGluZGV4IGZvciB0aGUgXCJpbWFnZXNcIiBhcnJheSB0aGF0IGNvbnRhaW5zIGRhdGEgc3RvcmVkIGluIHJnYmEgY2hhbm5lbHMgb2YgdGhlIGltYWdlLlxuICBcbiAgICAgIHRleHR1cmUudGV4Q29vcmQgaXMgYSBudW1iZXItc3VmZml4IChsaWtlIDEpIGZvciBhbiBhdHRyaWJ1dGUgbGlrZSBcIlRFWENPT1JEXzFcIiBpbiBtZXNoZXMucHJpbWl0aXZlc1xuICAgICAgVGhlIHZhbHVlIG9mIFwiVEVYQ09PUkRfMVwiIGlzIGFuIGFjY2Vzc29yIHRoYXQgaXMgdXNlZCB0byBnZXQgY29vcmRpbmF0ZXMuXG4gICAgICBUaGVzZSBjb29yZGluYXRlcyBhcmUgYmVpbmcgdXNlZCB0byBnZXQgZGF0YSBmcm9tIHRoZSBpbWFnZS5cbiAgICAgIFxuICAgICAgRGVmYXVsdCBmb3IgdGV4dHVyZS50ZXhDb29yZCBpcyAwXG4gICAgICBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvM2QtdGlsZXMtbmV4dC9zcGVjaWZpY2F0aW9uLzIuMC9zY2hlbWEvdGV4dHVyZUluZm8uc2NoZW1hLmpzb25cbiAgICAqL1xuICAgIGNvbnN0IHRleENvb3JkQWNjZXNzb3JLZXkgPSBgVEVYQ09PUkRfJHt0ZXh0dXJlSW5mby50ZXhDb29yZCB8fCAwfWA7XG4gICAgY29uc3QgdGV4Q29vcmRBY2Nlc3NvckluZGV4ID0gcHJpbWl0aXZlLmF0dHJpYnV0ZXNbdGV4Q29vcmRBY2Nlc3NvcktleV07XG4gICAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gc2NlbmVncmFwaC5nZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IodGV4Q29vcmRBY2Nlc3NvckluZGV4KTtcbiAgICBjb25zdCBqc29uID0gc2NlbmVncmFwaC5nbHRmLmpzb247XG4gICAgY29uc3QgdGV4dHVyZUluZGV4ID0gdGV4dHVyZUluZm8uaW5kZXg7XG4gICAgY29uc3QgaW1hZ2VJbmRleCA9IGpzb24udGV4dHVyZXM/Llt0ZXh0dXJlSW5kZXhdPy5zb3VyY2U7XG4gICAgaWYgKHR5cGVvZiBpbWFnZUluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBtaW1lVHlwZSA9IGpzb24uaW1hZ2VzPy5baW1hZ2VJbmRleF0/Lm1pbWVUeXBlO1xuICAgICAgICBjb25zdCBwYXJzZWRJbWFnZSA9IHNjZW5lZ3JhcGguZ2x0Zi5pbWFnZXM/LltpbWFnZUluZGV4XTtcbiAgICAgICAgLy8gQ2hlY2tpbmcgZm9yIHdpZHRoIGlzIHRvIHByZXZlbnQgaGFuZGxpbmcgVW4tcHJvY2Vzc2VkIGltYWdlcyAoZS5nLiBbYW5hbHl6ZV0gc3RhZ2UsIHdoZXJlIGxvYWRJbWFnZXMgb3B0aW9uIGlzIHNldCB0byBmYWxzZSlcbiAgICAgICAgaWYgKHBhcnNlZEltYWdlICYmIHR5cGVvZiBwYXJzZWRJbWFnZS53aWR0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVEYXRhID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaW5kZXggKz0gMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0SW1hZ2VWYWx1ZUJ5Q29vcmRpbmF0ZXMocGFyc2VkSW1hZ2UsIG1pbWVUeXBlLCB0ZXh0dXJlQ29vcmRpbmF0ZXMsIGluZGV4LCB0ZXh0dXJlSW5mby5jaGFubmVscyk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZURhdGEucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZURhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtdO1xufVxuLyoqXG4gKiBQdXRzIHByb3BlcnR5IGRhdGEgdG8gYXR0cmlidXRlcy5cbiAqIEl0IGNyZWF0ZXMgY29ycmVzcG9uZGluZyBidWZmZXIsIGJ1ZmZlclZpZXcgYW5kIGFjY2Vzc29yXG4gKiBzbyB0aGUgZGF0YSBjYW4gYmUgYWNjZXNzZWQgbGlrZSByZWd1bGFyIGRhdGEgc3RvcmVkIGluIGJ1ZmZlcnMuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIFNjZW5lZ3JhcGggb2JqZWN0LlxuICogQHBhcmFtIGF0dHJpYnV0ZU5hbWUgLSBOYW1lIG9mIHRoZSBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0gcHJvcGVydHlEYXRhIC0gUHJvcGVydHkgZGF0YSB0byBzdG9yZS5cbiAqIEBwYXJhbSBmZWF0dXJlVGFibGUgLSBBcnJheSB3aGVyZSB1bmlxdWUgZGF0YSBmcm9tIHRoZSBwcm9wZXJ0eSBkYXRhIGFyZSBiZWluZyBzdG9yZWQuXG4gKiBAcGFyYW0gcHJpbWl0aXZlIC0gUHJpbWl0aXZlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByaW1pdGl2ZVByb3BlcnR5RGF0YVRvQXR0cmlidXRlcyhzY2VuZWdyYXBoLCBhdHRyaWJ1dGVOYW1lLCBwcm9wZXJ0eURhdGEsIGZlYXR1cmVUYWJsZSwgcHJpbWl0aXZlKSB7XG4gICAgLy8gTm8gcmVhc29uIHRvIGNyZWF0ZSBhbiBlbXB0eSBidWZmZXIgaWYgdGhlcmUgaXMgbm8gcHJvcGVydHkgZGF0YSB0byBzdG9yZS5cbiAgICBpZiAoIXByb3BlcnR5RGF0YT8ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLypcbiAgICAgIGZlYXR1cmVUYWJsZSB3aWxsIGNvbnRhaW4gdW5pcXVlIHZhbHVlcywgZS5nLlxuICAgICAgcHJvcGVydHlEYXRhID0gWzI0LCAzNSwgMjgsIDI0XVxuICAgICAgZmVhdHVyZVRhYmxlID0gWzI0LCAzNSwgMjhdXG4gICAgICBmZWF0dXJlSW5kaWNlcyB3aWxsIGNvbnRhaW4gaW5kaWNlcyB0aGF0IHJlZmVyIGZlYXR1cmVUZXh0dXJlVGFibGUsIGUuZy5cbiAgICAgIGZlYXR1cmVJbmRpY2VzID0gWzAsIDEsIDIsIDBdXG4gICAgKi9cbiAgICBjb25zdCBmZWF0dXJlSW5kaWNlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgdGV4ZWxEYXRhIG9mIHByb3BlcnR5RGF0YSkge1xuICAgICAgICBsZXQgaW5kZXggPSBmZWF0dXJlVGFibGUuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtID09PSB0ZXhlbERhdGEpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZlYXR1cmVUYWJsZS5wdXNoKHRleGVsRGF0YSkgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGZlYXR1cmVJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCB0eXBlZEFycmF5ID0gbmV3IFVpbnQzMkFycmF5KGZlYXR1cmVJbmRpY2VzKTtcbiAgICBjb25zdCBidWZmZXJJbmRleCA9IHNjZW5lZ3JhcGguZ2x0Zi5idWZmZXJzLnB1c2goe1xuICAgICAgICBhcnJheUJ1ZmZlcjogdHlwZWRBcnJheS5idWZmZXIsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IHR5cGVkQXJyYXkuYnl0ZU9mZnNldCxcbiAgICAgICAgYnl0ZUxlbmd0aDogdHlwZWRBcnJheS5ieXRlTGVuZ3RoXG4gICAgfSkgLSAxO1xuICAgIGNvbnN0IGJ1ZmZlclZpZXdJbmRleCA9IHNjZW5lZ3JhcGguYWRkQnVmZmVyVmlldyh0eXBlZEFycmF5LCBidWZmZXJJbmRleCwgMCk7XG4gICAgY29uc3QgYWNjZXNzb3JJbmRleCA9IHNjZW5lZ3JhcGguYWRkQWNjZXNzb3IoYnVmZmVyVmlld0luZGV4LCB7XG4gICAgICAgIHNpemU6IDEsXG4gICAgICAgIGNvbXBvbmVudFR5cGU6IGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkodHlwZWRBcnJheSksXG4gICAgICAgIGNvdW50OiB0eXBlZEFycmF5Lmxlbmd0aFxuICAgIH0pO1xuICAgIHByaW1pdGl2ZS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID0gYWNjZXNzb3JJbmRleDtcbn1cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgZnJvbSB0aGUgdGV4dHVyZSBieSBjb29yZGluYXRlcyBwcm92aWRlZC5cbiAqIEBwYXJhbSBwYXJzZWRJbWFnZSAtIEltYWdlIHdoZXJlIHRoZSBkYXRhIGFyZSBzdG9yZWQuXG4gKiBAcGFyYW0gbWltZVR5cGUgLSBNSU1FIHR5cGUuXG4gKiBAcGFyYW0gdGV4dHVyZUNvb3JkaW5hdGVzIC0gdXYgY29vcmRpbmF0ZXMgdG8gYWNjZXNzIGRhdGEgaW4gdGhlIGltYWdlLlxuICogQHBhcmFtIGluZGV4IC0gSW5kZXggb2YgdXYgY29vcmRpbmF0ZXMgaW4gdGhlIGFycmF5IHRleHR1cmVDb29yZGluYXRlcy5cbiAqIEBwYXJhbSBjaGFubmVscyAtIEltYWdlIGNoYW5uZWxzIHdoZXJlIGRhdGEgYXJlIHN0b3JlZC5cbiAqICBDaGFubmVscyBvZiBhbiBSR0JBIHRleHR1cmUgYXJlIG51bWJlcmVkIDAuLjMgcmVzcGVjdGl2ZWx5LlxuICogIEZvciBFeHRfbWVzaF9mZWF0dXJlcyBhbmQgRVhUX3N0cnVjdXJhbF9tZXRhZGF0YSB0aGUgY2hhbm5lbHMgZGVmYXVsdCBpcyBbMF1cbiAqICBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvM2QtdGlsZXMtbmV4dC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX21lc2hfZmVhdHVyZXMvc2NoZW1hL2ZlYXR1cmVJZFRleHR1cmUuc2NoZW1hLmpzb25cbiAqICBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvM2QtdGlsZXMtbmV4dC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEvc2NoZW1hL3Byb3BlcnR5VGV4dHVyZS5wcm9wZXJ0eS5zY2hlbWEuanNvblxuICogQHJldHVybnMgVmFsdWUgdGFrZW4gZnJvbSB0aGUgaW1hZ2UuXG4gKi9cbmZ1bmN0aW9uIGdldEltYWdlVmFsdWVCeUNvb3JkaW5hdGVzKHBhcnNlZEltYWdlLCBtaW1lVHlwZSwgdGV4dHVyZUNvb3JkaW5hdGVzLCBpbmRleCwgY2hhbm5lbHMgPSBbMF0pIHtcbiAgICBjb25zdCBDSEFOTkVMU19NQVAgPSB7XG4gICAgICAgIHI6IHsgb2Zmc2V0OiAwLCBzaGlmdDogMCB9LFxuICAgICAgICBnOiB7IG9mZnNldDogMSwgc2hpZnQ6IDggfSxcbiAgICAgICAgYjogeyBvZmZzZXQ6IDIsIHNoaWZ0OiAxNiB9LFxuICAgICAgICBhOiB7IG9mZnNldDogMywgc2hpZnQ6IDI0IH1cbiAgICB9O1xuICAgIGNvbnN0IHUgPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaW5kZXhdO1xuICAgIGNvbnN0IHYgPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaW5kZXggKyAxXTtcbiAgICBsZXQgY29tcG9uZW50cyA9IDE7XG4gICAgaWYgKG1pbWVUeXBlICYmIChtaW1lVHlwZS5pbmRleE9mKCdpbWFnZS9qcGVnJykgIT09IC0xIHx8IG1pbWVUeXBlLmluZGV4T2YoJ2ltYWdlL3BuZycpICE9PSAtMSkpXG4gICAgICAgIGNvbXBvbmVudHMgPSA0O1xuICAgIGNvbnN0IG9mZnNldCA9IGNvb3JkaW5hdGVzVG9PZmZzZXQodSwgdiwgcGFyc2VkSW1hZ2UsIGNvbXBvbmVudHMpO1xuICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgZm9yIChjb25zdCBjIG9mIGNoYW5uZWxzKSB7XG4gICAgICAgIC8qXG4gICAgICAgIEFjY29yZGluZyB0byB0aGUgRVhUX2ZlYXR1cmVfbWV0YWRhdGEgZXh0ZW5zaW9uIHNwZWNpZmljYXRpb246XG4gICAgICAgICAgQ2hhbm5lbHMgYXJlIGxhYmVsZWQgYnkgcmdiYSBhbmQgYXJlIHN3aXp6bGVkIHdpdGggYSBzdHJpbmcgb2YgMS00IGNoYXJhY3RlcnMuXG4gICAgICAgIEFjY29yZGluZyB0byB0aGUgRVhUX21lc2hfZmVhdHVyZXMgZXh0ZW5zaW9uIHNwZWNpZmljYXRpb246XG4gICAgICAgICAgVGhlIGNoYW5uZWxzIGFycmF5IGNvbnRhaW5zIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGNoYW5uZWxzIG9mIHRoZSBzb3VyY2UgdGV4dHVyZSB0aGF0IHRoZSBmZWF0dXJlIElEIGNvbnNpc3RzIG9mLlxuICAgICAgICAgIENoYW5uZWxzIG9mIGFuIFJHQkEgdGV4dHVyZSBhcmUgbnVtYmVyZWQgMOKAkzMgcmVzcGVjdGl2ZWx5LlxuICAgICAgICBGdW5jdGlvbiBnZXRJbWFnZVZhbHVlQnlDb29yZGluYXRlcyBpcyB1c2VkIHRvIHByb2Nlc3MgYm90aCBleHRlbnNpb25zLlxuICAgICAgICBTbywgdGhlcmUgc2hvdWxkIGJlIHBvc3NpYmxlIHRvIGdldCB0aGUgZWxlbWVudCBvZiBDSEFOTkVMU19NQVAgYnkgZWl0aGVyIGluZGV4ICgwLCAxLCAyLCAzKSBvciBrZXkgKHIsIGcsIGIsIGEpLlxuICAgICAgICAqL1xuICAgICAgICBjb25zdCBtYXAgPSB0eXBlb2YgYyA9PT0gJ251bWJlcicgPyBPYmplY3QudmFsdWVzKENIQU5ORUxTX01BUClbY10gOiBDSEFOTkVMU19NQVBbY107XG4gICAgICAgIGNvbnN0IGltYWdlT2Zmc2V0ID0gb2Zmc2V0ICsgbWFwLm9mZnNldDtcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gZ2V0SW1hZ2VEYXRhKHBhcnNlZEltYWdlKTtcbiAgICAgICAgaWYgKGltYWdlRGF0YS5kYXRhLmxlbmd0aCA8PSBpbWFnZU9mZnNldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2ltYWdlRGF0YS5kYXRhLmxlbmd0aH0gPD0gJHtpbWFnZU9mZnNldH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbWFnZVZhbHVlID0gaW1hZ2VEYXRhLmRhdGFbaW1hZ2VPZmZzZXRdO1xuICAgICAgICB2YWx1ZSB8PSBpbWFnZVZhbHVlIDw8IG1hcC5zaGlmdDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIG9mZnNldCBpbiB0aGUgaW1hZ2Ugd2hlcmUgdGhlIGRhdGEgYXJlIHN0b3JlZC5cbiAqIEBwYXJhbSB1IC0gdS1jb29yZGluYXRlLlxuICogQHBhcmFtIHYgLSB2LWNvb3JkaW5hdGUuXG4gKiBAcGFyYW0gcGFyc2VkSW1hZ2UgLSBJbWFnZSB3aGVyZSB0aGUgZGF0YSBhcmUgc3RvcmVkLlxuICogQHBhcmFtIGNvbXBvbmVudHNDb3VudCAtIE51bWJlciBvZiBjb21wb25lbnRzIHRoZSBkYXRhIGNvbnNpc3RzIG9mLlxuICogQHJldHVybnMgT2Zmc2V0IGluIHRoZSBpbWFnZSB3aGVyZSB0aGUgZGF0YSBhcmUgc3RvcmVkLlxuICovXG5mdW5jdGlvbiBjb29yZGluYXRlc1RvT2Zmc2V0KHUsIHYsIHBhcnNlZEltYWdlLCBjb21wb25lbnRzQ291bnQgPSAxKSB7XG4gICAgY29uc3QgdyA9IHBhcnNlZEltYWdlLndpZHRoO1xuICAgIGNvbnN0IGlYID0gZW1vZCh1KSAqICh3IC0gMSk7XG4gICAgY29uc3QgaW5kWCA9IE1hdGgucm91bmQoaVgpO1xuICAgIGNvbnN0IGggPSBwYXJzZWRJbWFnZS5oZWlnaHQ7XG4gICAgY29uc3QgaVkgPSBlbW9kKHYpICogKGggLSAxKTtcbiAgICBjb25zdCBpbmRZID0gTWF0aC5yb3VuZChpWSk7XG4gICAgY29uc3QgY29tcG9uZW50cyA9IHBhcnNlZEltYWdlLmNvbXBvbmVudHMgPyBwYXJzZWRJbWFnZS5jb21wb25lbnRzIDogY29tcG9uZW50c0NvdW50O1xuICAgIC8vIGNvbXBvbmVudHMgaXMgYSBudW1iZXIgb2YgY2hhbm5lbHMgaW4gdGhlIGltYWdlXG4gICAgY29uc3Qgb2Zmc2V0ID0gKGluZFkgKiB3ICsgaW5kWCkgKiBjb21wb25lbnRzO1xuICAgIHJldHVybiBvZmZzZXQ7XG59XG4vKipcbiAqIFBhcnNlcyB2YXJpYWJsZS1sZW5ndGggYXJyYXkgZGF0YS5cbiAqIEluIHRoaXMgY2FzZSBldmVyeSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgaW4gdGhlIHRhYmxlIHdpbGwgYmUgYW4gYXJyYXlcbiAqIG9mIGFyYml0cmFyeSBsZW5ndGguXG4gKiBAcGFyYW0gdmFsdWVzRGF0YSAtIFZhbHVlcyBpbiBhIGZsYXQgdHlwZWQgYXJyYXkuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIE51bWJlciBvZiByb3dzIGluIHRoZSBwcm9wZXJ0eSB0YWJsZS5cbiAqIEBwYXJhbSBhcnJheU9mZnNldHMgLSBPZmZzZXRzIG9mIG5lc3RlZCBhcnJheXMgaW4gdGhlIGZsYXQgdmFsdWVzIGFycmF5LlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlc0xlbmd0aCAtIERhdGEgYnl0ZSBsZW5ndGguXG4gKiBAcGFyYW0gdmFsdWVTaXplIC0gVmFsdWUgc2l6ZSBpbiBieXRlcy5cbiAqIEByZXR1cm5zIEFycmF5IG9mIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVmFyaWFibGVMZW5ndGhBcnJheU51bWVyaWModmFsdWVzRGF0YSwgbnVtYmVyT2ZFbGVtZW50cywgYXJyYXlPZmZzZXRzLCB2YWx1ZXNEYXRhQnl0ZXNMZW5ndGgsIHZhbHVlU2l6ZSkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlQXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtYmVyT2ZFbGVtZW50czsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBhcnJheU9mZnNldCA9IGFycmF5T2Zmc2V0c1tpbmRleF07XG4gICAgICAgIGNvbnN0IGFycmF5Qnl0ZVNpemUgPSBhcnJheU9mZnNldHNbaW5kZXggKyAxXSAtIGFycmF5T2Zmc2V0c1tpbmRleF07XG4gICAgICAgIGlmIChhcnJheUJ5dGVTaXplICsgYXJyYXlPZmZzZXQgPiB2YWx1ZXNEYXRhQnl0ZXNMZW5ndGgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGVkQXJyYXlPZmZzZXQgPSBhcnJheU9mZnNldCAvIHZhbHVlU2l6ZTtcbiAgICAgICAgY29uc3QgZWxlbWVudENvdW50ID0gYXJyYXlCeXRlU2l6ZSAvIHZhbHVlU2l6ZTtcbiAgICAgICAgYXR0cmlidXRlVmFsdWVBcnJheS5wdXNoKHZhbHVlc0RhdGEuc2xpY2UodHlwZWRBcnJheU9mZnNldCwgdHlwZWRBcnJheU9mZnNldCArIGVsZW1lbnRDb3VudCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVBcnJheTtcbn1cbi8qKlxuICogUGFyc2VzIGZpeGVkLWxlbmd0aCBhcnJheSBkYXRhLlxuICogSW4gdGhpcyBjYXNlIGV2ZXJ5IHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBpbiB0aGUgdGFibGUgd2lsbCBiZSBhbiBhcnJheVxuICogb2YgY29uc3RhbnQgbGVuZ3RoIGVxdWFsIHRvIGBhcnJheUNvdW50YC5cbiAqIEBwYXJhbSB2YWx1ZXNEYXRhIC0gVmFsdWVzIGluIGEgZmxhdCB0eXBlZCBhcnJheS5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gTnVtYmVyIG9mIHJvd3MgaW4gdGhlIHByb3BlcnR5IHRhYmxlLlxuICogQHBhcmFtIGFycmF5Q291bnQgLSBOZXN0ZWQgYXJyYXlzIGxlbmd0aC5cbiAqIEByZXR1cm5zIEFycmF5IG9mIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRml4ZWRMZW5ndGhBcnJheU51bWVyaWModmFsdWVzRGF0YSwgbnVtYmVyT2ZFbGVtZW50cywgYXJyYXlDb3VudCkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlQXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtYmVyT2ZFbGVtZW50czsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50T2Zmc2V0ID0gaW5kZXggKiBhcnJheUNvdW50O1xuICAgICAgICBhdHRyaWJ1dGVWYWx1ZUFycmF5LnB1c2godmFsdWVzRGF0YS5zbGljZShlbGVtZW50T2Zmc2V0LCBlbGVtZW50T2Zmc2V0ICsgYXJyYXlDb3VudCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVBcnJheTtcbn1cbi8qKlxuICogRGVjb2RlcyBwcm9wZXJ0aWVzIG9mIHN0cmluZyB0eXBlIGZyb20gYmluYXJ5IHNvdXJjZS5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5IHRoYXQgcHJvcGVydHlUYWJsZVByb3BlcnR5IGNvbnRhaW5zLiBJdCdzIGEgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIHRhYmxlLlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlcyAtIERhdGEgdGFrZW4gZnJvbSB2YWx1ZXMgcHJvcGVydHkgb2YgdGhlIHByb3BlcnR5IHRhYmxlIHByb3BlcnR5LlxuICogQHBhcmFtIGFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcGFyYW0gc3RyaW5nT2Zmc2V0cyAtIEluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIG9mZnNldHMgZm9yIHN0cmluZ3MuIEl0IHNob3VsZCBiZSBhdmFpbGFibGUgZm9yIHN0cmluZyB0eXBlLlxuICogQHJldHVybnMgU3RyaW5nIHByb3BlcnR5IHZhbHVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcGVydHlEYXRhU3RyaW5nKG51bWJlck9mRWxlbWVudHMsIHZhbHVlc0RhdGFCeXRlcywgYXJyYXlPZmZzZXRzLCBzdHJpbmdPZmZzZXRzKSB7XG4gICAgaWYgKGFycmF5T2Zmc2V0cykge1xuICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgaXQgYXMgc29vbiBhcyB3ZSBoYXZlIHRoZSBjb3JyZXNwb25kaW5nIHRpbGVzZXRcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQgLSBhcnJheU9mZnNldHMgZm9yIHN0cmluZ3MgaXMgc3BlY2lmaWVkJyk7XG4gICAgfVxuICAgIGlmIChzdHJpbmdPZmZzZXRzKSB7XG4gICAgICAgIGNvbnN0IHN0cmluZ3NBcnJheSA9IFtdO1xuICAgICAgICBjb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpO1xuICAgICAgICBsZXQgc3RyaW5nT2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG51bWJlck9mRWxlbWVudHM7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ0J5dGVTaXplID0gc3RyaW5nT2Zmc2V0c1tpbmRleCArIDFdIC0gc3RyaW5nT2Zmc2V0c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc3RyaW5nQnl0ZVNpemUgKyBzdHJpbmdPZmZzZXQgPD0gdmFsdWVzRGF0YUJ5dGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0RhdGEgPSB2YWx1ZXNEYXRhQnl0ZXMuc3ViYXJyYXkoc3RyaW5nT2Zmc2V0LCBzdHJpbmdCeXRlU2l6ZSArIHN0cmluZ09mZnNldCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nQXR0cmlidXRlID0gdGV4dERlY29kZXIuZGVjb2RlKHN0cmluZ0RhdGEpO1xuICAgICAgICAgICAgICAgIHN0cmluZ3NBcnJheS5wdXNoKHN0cmluZ0F0dHJpYnV0ZSk7XG4gICAgICAgICAgICAgICAgc3RyaW5nT2Zmc2V0ICs9IHN0cmluZ0J5dGVTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzQXJyYXk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbiIsImltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IGdldFByaW1pdGl2ZVRleHR1cmVEYXRhIH0gZnJvbSBcIi4vdXRpbHMvM2QtdGlsZXMtdXRpbHMuanNcIjtcbmltcG9ydCB7IGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkgfSBmcm9tIFwiLi4vZ2x0Zi11dGlscy9nbHRmLXV0aWxzLmpzXCI7XG5jb25zdCBFWFRfTUVTSF9GRUFUVVJFU19OQU1FID0gJ0VYVF9tZXNoX2ZlYXR1cmVzJztcbmV4cG9ydCBjb25zdCBuYW1lID0gRVhUX01FU0hfRkVBVFVSRVNfTkFNRTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBkZWNvZGVFeHRNZXNoRmVhdHVyZXMoc2NlbmVncmFwaCwgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKGdsdGZEYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgZW5jb2RlRXh0TWVzaEZlYXR1cmVzKHNjZW5lZ3JhcGgsIG9wdGlvbnMpO1xuICAgIHNjZW5lZ3JhcGguY3JlYXRlQmluYXJ5Q2h1bmsoKTtcbiAgICByZXR1cm4gc2NlbmVncmFwaC5nbHRmO1xufVxuLyoqXG4gKiBEZWNvZGVzIGZlYXR1cmUgbWV0YWRhdGEgZnJvbSBleHRlbnNpb24uXG4gKiBAcGFyYW0ge0dMVEZTY2VuZWdyYXBofSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0ge0dMVEZMb2FkZXJPcHRpb25zfSBvcHRpb25zIC0gR0xURkxvYWRlciBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBkZWNvZGVFeHRNZXNoRmVhdHVyZXMoc2NlbmVncmFwaCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGpzb24gPSBzY2VuZWdyYXBoLmdsdGYuanNvbjtcbiAgICBpZiAoIWpzb24ubWVzaGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBtZXNoZXMvcHJpbWl0aXZlcy5cbiAgICBmb3IgKGNvbnN0IG1lc2ggb2YganNvbi5tZXNoZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmltaXRpdmUgb2YgbWVzaC5wcmltaXRpdmVzKSB7XG4gICAgICAgICAgICBwcm9jZXNzTWVzaFByaW1pdGl2ZUZlYXR1cmVzKHNjZW5lZ3JhcGgsIHByaW1pdGl2ZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFRha2VzIGRhdGEgZnJvbSBFWFRfbWVzaF9mZWF0dXJlcyBhbmQgc3RvcmUgaXQgaW4gJ2RhdGEnIHByb3BlcnR5IG9mIGZlYXR1cmVJZHMuXG4gKiBJZiBjb21iaW5lZCB3aXRoIEVYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhLCBjb3JyZXNwb25kaW5nIGRhdGEgYXJlIHRha2VuIGZyb20gdGhlIHByb3BlcnR5IHRhYmxlcyBvZiB0aGF0IGV4dGVuc2lvbi5cbiAqIEBwYXJhbSB7R0xURlNjZW5lZ3JhcGh9IHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSB7R0xURk1lc2hQcmltaXRpdmV9IHByaW1pdGl2ZSAtIFByaW1pdGl2ZSB0aGF0IGNvbnRhaW5zIGV4dGVuc2lvbnMuXG4gKiBAcGFyYW0ge0dMVEZMb2FkZXJPcHRpb25zfSBvcHRpb25zIC0gR0xURkxvYWRlciBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBwcm9jZXNzTWVzaFByaW1pdGl2ZUZlYXR1cmVzKHNjZW5lZ3JhcGgsIHByaW1pdGl2ZSwgb3B0aW9ucykge1xuICAgIC8vIFByb2Nlc3Npbmcgb2YgbWVzaCBwcmltaXRpdmUgZmVhdHVyZXMgcmVxdWlyZXMgYnVmZmVycyB0byBiZSBsb2FkZWQuXG4gICAgaWYgKCFvcHRpb25zPy5nbHRmPy5sb2FkQnVmZmVycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV4dGVuc2lvbiA9IHByaW1pdGl2ZS5leHRlbnNpb25zPy5bRVhUX01FU0hfRkVBVFVSRVNfTkFNRV07XG4gICAgY29uc3QgZmVhdHVyZUlkcyA9IGV4dGVuc2lvbj8uZmVhdHVyZUlkcztcbiAgICBpZiAoIWZlYXR1cmVJZHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGZlYXR1cmVJZCBvZiBmZWF0dXJlSWRzKSB7XG4gICAgICAgIGxldCBmZWF0dXJlSWREYXRhO1xuICAgICAgICAvLyBQcm9jZXNzIFwiRmVhdHVyZSBJRCBieSBWZXJ0ZXhcIlxuICAgICAgICBpZiAodHlwZW9mIGZlYXR1cmVJZC5hdHRyaWJ1dGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NvcktleSA9IGBfRkVBVFVSRV9JRF8ke2ZlYXR1cmVJZC5hdHRyaWJ1dGV9YDtcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc29ySW5kZXggPSBwcmltaXRpdmUuYXR0cmlidXRlc1thY2Nlc3NvcktleV07XG4gICAgICAgICAgICBmZWF0dXJlSWREYXRhID0gc2NlbmVncmFwaC5nZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IoYWNjZXNzb3JJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJvY2VzcyBcIkZlYXR1cmUgSUQgYnkgVGV4dHVyZSBDb29yZGluYXRlc1wiXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmZWF0dXJlSWQudGV4dHVyZSAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0aW9ucz8uZ2x0Zj8ubG9hZEltYWdlcykge1xuICAgICAgICAgICAgZmVhdHVyZUlkRGF0YSA9IGdldFByaW1pdGl2ZVRleHR1cmVEYXRhKHNjZW5lZ3JhcGgsIGZlYXR1cmVJZC50ZXh0dXJlLCBwcmltaXRpdmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb2Nlc3MgXCJGZWF0dXJlIElEIGJ5IEluZGV4XCJcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgV2hlbiBib3RoIGZlYXR1cmVJZC5hdHRyaWJ1dGUgYW5kIGZlYXR1cmVJZC50ZXh0dXJlIGFyZSB1bmRlZmluZWQsXG4gICAgICAgICAgICB0aGVuIHRoZSBmZWF0dXJlIElEIHZhbHVlIGZvciBlYWNoIHZlcnRleCBpcyBnaXZlbiBpbXBsaWNpdGx5LCB2aWEgdGhlIGluZGV4IG9mIHRoZSB2ZXJ0ZXguXG4gICAgICAgICAgICBJbiB0aGlzIGNhc2UsIHRoZSBmZWF0dXJlQ291bnQgbXVzdCBtYXRjaCB0aGUgbnVtYmVyIG9mIHZlcnRpY2VzIG9mIHRoZSBtZXNoIHByaW1pdGl2ZS5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBUT0RPOiBBdCB0aGUgbW9tZW50IG9mIHdyaXRpbmcgd2UgZG9uJ3QgaGF2ZSBhIHRpbGVzZXQgd2l0aCB0aGUgZGF0YSBvZiB0aGF0IGtpbmQuIEltcGxlbWVudCBpdCBsYXRlci5cbiAgICAgICAgICAgIGZlYXR1cmVJZERhdGEgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBmZWF0dXJlSWQuZGF0YSA9IGZlYXR1cmVJZERhdGE7XG4gICAgfVxufVxuLypcbiAgRW5jb2RpbmcgZGF0YVxuKi9cbmZ1bmN0aW9uIGVuY29kZUV4dE1lc2hGZWF0dXJlcyhzY2VuZWdyYXBoLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbWVzaGVzID0gc2NlbmVncmFwaC5nbHRmLmpzb24ubWVzaGVzO1xuICAgIGlmICghbWVzaGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBtZXNoZXMvcHJpbWl0aXZlcy5cbiAgICBmb3IgKGNvbnN0IG1lc2ggb2YgbWVzaGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIG1lc2gucHJpbWl0aXZlcykge1xuICAgICAgICAgICAgZW5jb2RlRXh0TWVzaEZlYXR1cmVzRm9yUHJpbWl0aXZlKHNjZW5lZ3JhcGgsIHByaW1pdGl2ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgRXh0TWVzaEZlYXR1cmVzLCBjcmVhdGVzIGEgZmVhdHVyZUlkIGNvbnRhaW5pbmcgZmVhdHVyZSBpZHMgcHJvdmlkZWQuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIHByaW1pdGl2ZSAtIHRhcmdldCBwcmltaXRpdmUgaW5zdGFuY2UgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGV4dGVuc2lvblxuICogQHBhcmFtIGZlYXR1cmVJZEFycmF5IC0gQXJyYXkgb2YgZmVhdHVyZSBpZFxuICogQHBhcmFtIHByb3BlcnR5VGFibGVJbmRleCAtIGluZGV4IG9mIHRoZSBwcm9wZXJ0eSB0YWJsZSBjcmVhdGVkIGJ5IHRoZSBFeHRTdHJ1Y3R1cmFsTWV0YWRhdGEgKG9wdGlvbmFsKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4dE1lc2hGZWF0dXJlcyhzY2VuZWdyYXBoLCBwcmltaXRpdmUsIGZlYXR1cmVJZEFycmF5LCBwcm9wZXJ0eVRhYmxlSW5kZXgpIHtcbiAgICBpZiAoIXByaW1pdGl2ZS5leHRlbnNpb25zKSB7XG4gICAgICAgIHByaW1pdGl2ZS5leHRlbnNpb25zID0ge307XG4gICAgfVxuICAgIGxldCBleHRlbnNpb24gPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1tFWFRfTUVTSF9GRUFUVVJFU19OQU1FXTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICBleHRlbnNpb24gPSB7IGZlYXR1cmVJZHM6IFtdIH07XG4gICAgICAgIHByaW1pdGl2ZS5leHRlbnNpb25zW0VYVF9NRVNIX0ZFQVRVUkVTX05BTUVdID0gZXh0ZW5zaW9uO1xuICAgIH1cbiAgICBjb25zdCB7IGZlYXR1cmVJZHMgfSA9IGV4dGVuc2lvbjtcbiAgICBjb25zdCBmZWF0dXJlSWQgPSB7XG4gICAgICAgIGZlYXR1cmVDb3VudDogZmVhdHVyZUlkQXJyYXkubGVuZ3RoLFxuICAgICAgICBwcm9wZXJ0eVRhYmxlOiBwcm9wZXJ0eVRhYmxlSW5kZXgsXG4gICAgICAgIGRhdGE6IGZlYXR1cmVJZEFycmF5XG4gICAgfTtcbiAgICBmZWF0dXJlSWRzLnB1c2goZmVhdHVyZUlkKTtcbiAgICBzY2VuZWdyYXBoLmFkZE9iamVjdEV4dGVuc2lvbihwcmltaXRpdmUsIEVYVF9NRVNIX0ZFQVRVUkVTX05BTUUsIGV4dGVuc2lvbik7XG59XG4vKipcbiAqIEVuY29kZXMgYSBmZWF0dXJlIElEIHNldCB0byBleHRlbnNpb24uXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIHByaW1pdGl2ZSAtIFByaW1pdGl2ZSB0aGF0IHRoZSBkYXRhIGVuY29kZWQgYmVsb25ncyB0by5cbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2dsVEYvdHJlZS8zZC10aWxlcy1uZXh0L2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfbWVzaF9mZWF0dXJlc1xuICovXG5mdW5jdGlvbiBlbmNvZGVFeHRNZXNoRmVhdHVyZXNGb3JQcmltaXRpdmUoc2NlbmVncmFwaCwgcHJpbWl0aXZlKSB7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gcHJpbWl0aXZlLmV4dGVuc2lvbnM/LltFWFRfTUVTSF9GRUFUVVJFU19OQU1FXTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZlYXR1cmVJZHMgPSBleHRlbnNpb24uZmVhdHVyZUlkcztcbiAgICBmZWF0dXJlSWRzLmZvckVhY2goKGZlYXR1cmVJZCwgZWxlbWVudEluZGV4KSA9PiB7XG4gICAgICAgIGlmIChmZWF0dXJlSWQuZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgeyBhY2Nlc3NvcktleSwgaW5kZXggfSA9IGNyZWF0ZUFjY2Vzc29yS2V5KHByaW1pdGl2ZS5hdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVkQXJyYXkgPSBuZXcgVWludDMyQXJyYXkoZmVhdHVyZUlkLmRhdGEpO1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZmVhdHVyZUlkIG9iamVjdC5cbiAgICAgICAgICAgIC8vIEV2ZXJ5dGhpbmcgdGhhdCBjb3VsZCBjb21lIGZyb20gdGhlIG9yaWdpbmFsIGV4dGVuc2lvbiBpbiBjYXNlIG9mIHJvdW5kLXRyaXAgZGVjb2RlL2VuY29kZSBvcGVyYXRpb25zIHNob3VsZCBiZSBkZWxldGVkLlxuICAgICAgICAgICAgLy8gV2UgbmVlZCBtYWtlIHN1cmUgdGhlIGZlYXR1cmVJZCBvYmplY3QgaXMgY2xlYW4uXG4gICAgICAgICAgICBmZWF0dXJlSWRzW2VsZW1lbnRJbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZUNvdW50OiB0eXBlZEFycmF5Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eVRhYmxlOiBmZWF0dXJlSWQucHJvcGVydHlUYWJsZSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6IGluZGV4XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2NlbmVncmFwaC5nbHRmLmJ1ZmZlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgYXJyYXlCdWZmZXI6IHR5cGVkQXJyYXkuYnVmZmVyLFxuICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXQ6IHR5cGVkQXJyYXkuYnl0ZU9mZnNldCxcbiAgICAgICAgICAgICAgICBieXRlTGVuZ3RoOiB0eXBlZEFycmF5LmJ5dGVMZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyVmlld0luZGV4ID0gc2NlbmVncmFwaC5hZGRCdWZmZXJWaWV3KHR5cGVkQXJyYXkpO1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzb3JJbmRleCA9IHNjZW5lZ3JhcGguYWRkQWNjZXNzb3IoYnVmZmVyVmlld0luZGV4LCB7XG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlOiBnZXRDb21wb25lbnRUeXBlRnJvbUFycmF5KHR5cGVkQXJyYXkpLFxuICAgICAgICAgICAgICAgIGNvdW50OiB0eXBlZEFycmF5Lmxlbmd0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcmltaXRpdmUuYXR0cmlidXRlc1thY2Nlc3NvcktleV0gPSBhY2Nlc3NvckluZGV4O1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gYWNjZXNzb3Iga2V5IGZvciB0aGUgYXR0cmlidXRlIGFycmF5IHByb3ZpZGVkLlxuICogVGhlIGdlbmVyYXRlZCBrZXkgaGFzIGEgc3VmZml4IChudW1iZXIpIHRoYXQgaXMgdGhlIG5leHQgY29uc2VxdXRpdmUgaW4gdGhlIGxpc3Qgb2YgZXhpc3RpbmcgYWNjZXNzb3JzLlxuICogQHBhcmFtIGF0dHJpYnV0ZXMgLSBhdHRyaWJ1dGUgYXJyYXlcbiAqIEByZXR1cm5zIGFjY2Vzc29yIGtleSBhbmQgdGhlIGtleSBzdWZmaXggKG51bWJlcikgdXNlZCBpbiB0aGUga2V5LlxuICovXG5mdW5jdGlvbiBjcmVhdGVBY2Nlc3NvcktleShhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgcHJlZml4ID0gJ19GRUFUVVJFX0lEXyc7XG4gICAgLy8gU2VhcmNoIGZvciBhbGwgXCJfRkVBVFVSRV9JRF9uXCIgYXR0cmlidXJlcyBpbiB0aGUgcHJpbWl0aXZlIHByb3ZpZGVkIGlmIGFueS5cbiAgICAvLyBJZiB0aGVyZSBhcmUgc29tZSwgZS5nLiBcIl9GRUFUVVJFX0lEXzBcIiwgXCJfRkVBVFVSRV9JRF8xXCIsXG4gICAgLy8gd2Ugd2lsbCBhZGQgYSBuZXcgb25lIHdpdGggdGhlIG5hbWUgXCJfRkVBVFVSRV9JRF8yXCJcbiAgICBjb25zdCBhdHRycyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pbmRleE9mKHByZWZpeCkgPT09IDApO1xuICAgIGxldCBtYXggPSAtMTtcbiAgICBmb3IgKGNvbnN0IGEgb2YgYXR0cnMpIHtcbiAgICAgICAgY29uc3QgbiA9IE51bWJlcihhLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgIGlmIChuID4gbWF4KSB7XG4gICAgICAgICAgICBtYXggPSBuO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1heCsrO1xuICAgIGNvbnN0IGFjY2Vzc29yS2V5ID0gYCR7cHJlZml4fSR7bWF4fWA7XG4gICAgcmV0dXJuIHsgYWNjZXNzb3JLZXksIGluZGV4OiBtYXggfTtcbn1cbiIsImltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IGNvbnZlcnRSYXdCdWZmZXJUb01ldGFkYXRhQXJyYXksIGdldFByaW1pdGl2ZVRleHR1cmVEYXRhLCBwcmltaXRpdmVQcm9wZXJ0eURhdGFUb0F0dHJpYnV0ZXMsIGdldEFycmF5RWxlbWVudEJ5dGVTaXplLCBnZXRPZmZzZXRzRm9yUHJvcGVydHksIHBhcnNlVmFyaWFibGVMZW5ndGhBcnJheU51bWVyaWMsIHBhcnNlRml4ZWRMZW5ndGhBcnJheU51bWVyaWMsIGdldFByb3BlcnR5RGF0YVN0cmluZyB9IGZyb20gXCIuL3V0aWxzLzNkLXRpbGVzLXV0aWxzLmpzXCI7XG5jb25zdCBFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FID0gJ0VYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhJztcbmV4cG9ydCBjb25zdCBuYW1lID0gRVhUX1NUUlVDVFVSQUxfTUVUQURBVEFfTkFNRTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBkZWNvZGVFeHRTdHJ1Y3R1cmFsTWV0YWRhdGEoc2NlbmVncmFwaCwgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKGdsdGZEYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgZW5jb2RlRXh0U3RydWN0dXJhbE1ldGFkYXRhKHNjZW5lZ3JhcGgsIG9wdGlvbnMpO1xuICAgIHNjZW5lZ3JhcGguY3JlYXRlQmluYXJ5Q2h1bmsoKTtcbiAgICByZXR1cm4gc2NlbmVncmFwaC5nbHRmO1xufVxuLypcbi8vIEV4YW1wbGUgb2YgdGhlIGV4dGVuc2lvbi5cbi8vIFNlZSBtb3JlIGluZm8gYXQgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2dsVEYvdHJlZS8zZC10aWxlcy1uZXh0L2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfc3RydWN0dXJhbF9tZXRhZGF0YVxuY29uc3QgZXh0ZW5zaW9ucyA9IHtcbiAgXCJleHRlbnNpb25zXCI6IHtcbiAgICBcIkVYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhXCI6IHtcbiAgICAgIFwic2NoZW1hXCI6IHtcbiAgICAgICAgXCJjbGFzc2VzXCI6IHtcbiAgICAgICAgICBcInRyZWVcIjoge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVHJlZVwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIldvb2R5LCBwZXJlbm5pYWwgcGxhbnQuXCIsXG4gICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgICBcInNwZWNpZXNcIjoge1xuICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUeXBlIG9mIHRyZWUuXCIsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRU5VTVwiLFxuICAgICAgICAgICAgICAgIFwiZW51bVR5cGVcIjogXCJzcGVjaWVzRW51bVwiLFxuICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBcImFnZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBhZ2Ugb2YgdGhlIHRyZWUsIGluIHllYXJzXCIsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiU0NBTEFSXCIsXG4gICAgICAgICAgICAgICAgXCJjb21wb25lbnRUeXBlXCI6IFwiVUlOVDhcIixcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJlbnVtc1wiOiB7XG4gICAgICAgICAgXCJzcGVjaWVzRW51bVwiOiB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTcGVjaWVzXCIsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQW4gZXhhbXBsZSBlbnVtIGZvciB0cmVlIHNwZWNpZXMuXCIsXG4gICAgICAgICAgICAvLyB2YWx1ZVR5cGUgaXMgbm90IGRlZmluZWQgaGVyZS4gRGVmYXVsdCBpcyBcIlVJTlQxNlwiXG4gICAgICAgICAgICBcInZhbHVlc1wiOiBbXG4gICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiVW5zcGVjaWZpZWRcIiwgXCJ2YWx1ZVwiOiAwIH0sXG4gICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiT2FrXCIsIFwidmFsdWVcIjogMSB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJwcm9wZXJ0eVRhYmxlc1wiOiBbe1xuICAgICAgICBcIm5hbWVcIjogXCJ0cmVlX3N1cnZleV8yMDIxLTA5LTI5XCIsXG4gICAgICAgIFwiY2xhc3NcIjogXCJ0cmVlXCIsXG4gICAgICAgIFwiY291bnRcIjogMTAsICAvLyBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGVhY2ggcHJvcGVydHkgYXJyYXkgKGluIGBzcGVjaWVzYCwgaW4gYGFnZWApLlxuICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgIFwic3BlY2llc1wiOiB7XG4gICAgICAgICAgICBcInZhbHVlc1wiOiAwLCAvLyBJdCdzIGFuIGluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiYWdlXCI6IHtcbiAgICAgICAgICAgIFwidmFsdWVzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1dXG4gICAgfVxuICB9XG59XG4qL1xuLyoqXG4gKiBEZWNvZGVzIGZlYXR1cmUgbWV0YWRhdGEgZnJvbSBleHRlbnNpb24uXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIG9wdGlvbnMgLSBHTFRGTG9hZGVyIG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGRlY29kZUV4dFN0cnVjdHVyYWxNZXRhZGF0YShzY2VuZWdyYXBoLCBvcHRpb25zKSB7XG4gICAgLy8gRGVjb2RpbmcgbWV0YWRhdGEgaW52b2x2ZXMgYnVmZmVycyBwcm9jZXNzaW5nLlxuICAgIC8vIFNvLCBpZiBidWZmZXJzIGhhdmUgbm90IGJlZW4gbG9hZGVkLCB0aGVyZSBpcyBubyByZWFzb24gdG8gcHJvY2VzcyBtZXRhZGF0YS5cbiAgICBpZiAoIW9wdGlvbnMuZ2x0Zj8ubG9hZEJ1ZmZlcnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBleHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldEV4dGVuc2lvbihFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FKTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmdsdGY/LmxvYWRJbWFnZXMpIHtcbiAgICAgICAgZGVjb2RlUHJvcGVydHlUZXh0dXJlcyhzY2VuZWdyYXBoLCBleHRlbnNpb24pO1xuICAgIH1cbiAgICBkZWNvZGVQcm9wZXJ0eVRhYmxlcyhzY2VuZWdyYXBoLCBleHRlbnNpb24pO1xufVxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSB0ZXh0dXJlc1xuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBleHRlbnNpb24gLSBUb3AtbGV2ZWwgZXh0ZW5zaW9uLlxuICovXG5mdW5jdGlvbiBkZWNvZGVQcm9wZXJ0eVRleHR1cmVzKHNjZW5lZ3JhcGgsIGV4dGVuc2lvbikge1xuICAgIGNvbnN0IHByb3BlcnR5VGV4dHVyZXMgPSBleHRlbnNpb24ucHJvcGVydHlUZXh0dXJlcztcbiAgICBjb25zdCBqc29uID0gc2NlbmVncmFwaC5nbHRmLmpzb247XG4gICAgaWYgKHByb3BlcnR5VGV4dHVyZXMgJiYganNvbi5tZXNoZXMpIHtcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBtZXNoZXMvcHJpbWl0aXZlcy5cbiAgICAgICAgZm9yIChjb25zdCBtZXNoIG9mIGpzb24ubWVzaGVzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiBtZXNoLnByaW1pdGl2ZXMpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzUHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlcyhzY2VuZWdyYXBoLCBwcm9wZXJ0eVRleHR1cmVzLCBwcmltaXRpdmUsIGV4dGVuc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFByb2Nlc3NlcyB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIHByb3BlcnR5IHRhYmxlcy5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gZXh0ZW5zaW9uIC0gVG9wLWxldmVsIGV4dGVuc2lvbi5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlUHJvcGVydHlUYWJsZXMoc2NlbmVncmFwaCwgZXh0ZW5zaW9uKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gZXh0ZW5zaW9uLnNjaGVtYTtcbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtYUNsYXNzZXMgPSBzY2hlbWEuY2xhc3NlcztcbiAgICBjb25zdCBwcm9wZXJ0eVRhYmxlcyA9IGV4dGVuc2lvbi5wcm9wZXJ0eVRhYmxlcztcbiAgICBpZiAoc2NoZW1hQ2xhc3NlcyAmJiBwcm9wZXJ0eVRhYmxlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHNjaGVtYU5hbWUgaW4gc2NoZW1hQ2xhc3Nlcykge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlUYWJsZSA9IGZpbmRQcm9wZXJ0eVRhYmxlQnlDbGFzcyhwcm9wZXJ0eVRhYmxlcywgc2NoZW1hTmFtZSk7XG4gICAgICAgICAgICBpZiAocHJvcGVydHlUYWJsZSkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NQcm9wZXJ0eVRhYmxlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgcHJvcGVydHlUYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEZpbmRzIHRoZSBwcm9wZXJ0eSB0YWJsZSBieSBjbGFzcyBuYW1lLlxuICogQHBhcmFtIHByb3BlcnR5VGFibGVzIC0gcHJvcGVydHlUYWJsZSBkZWZpbml0aW9uIHRha2VuIGZyb20gdGhlIHRvcC1sZXZlbCBleHRlbnNpb24uXG4gKiBAcGFyYW0gc2NoZW1hQ2xhc3NOYW1lIC0gY2xhc3MgbmFtZSBpbiB0aGUgZXh0ZW5zaW9uIHNjaGVtYS5cbiAqL1xuZnVuY3Rpb24gZmluZFByb3BlcnR5VGFibGVCeUNsYXNzKHByb3BlcnR5VGFibGVzLCBzY2hlbWFDbGFzc05hbWUpIHtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5VGFibGUgb2YgcHJvcGVydHlUYWJsZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5VGFibGUuY2xhc3MgPT09IHNjaGVtYUNsYXNzTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5VGFibGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFRha2VzIGRhdGEgZnJvbSBwcm9wZXJ0eSB0ZXh0dXJlcyByZWZmZXJlZCBieSB0aGUgcHJpbWl0aXZlLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRleHR1cmVzIC0gcHJvcGVydHlUZXh0dXJlIGRlZmluaXRpb24gdGFrZW4gZnJvbSB0aGUgdG9wLWxldmVsIGV4dGVudGlvbi5cbiAqIEBwYXJhbSBwcmltaXRpdmUgLSBQcmltaXRpdmUgb2JqZWN0LlxuICogQHBhcmFtIGV4dGVuc2lvbiAtIFRvcC1sZXZlbCBleHRlbnNpb24uXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NQcmltaXRpdmVQcm9wZXJ0eVRleHR1cmVzKHNjZW5lZ3JhcGgsIHByb3BlcnR5VGV4dHVyZXMsIHByaW1pdGl2ZSwgZXh0ZW5zaW9uKSB7XG4gICAgaWYgKCFwcm9wZXJ0eVRleHR1cmVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJpbWl0aXZlRXh0ZW5zaW9uID0gcHJpbWl0aXZlLmV4dGVuc2lvbnM/LltFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FXTtcbiAgICBjb25zdCBwcmltaXRpdmVQcm9wZXJ0eVRleHR1cmVJbmRpY2VzID0gcHJpbWl0aXZlRXh0ZW5zaW9uPy5wcm9wZXJ0eVRleHR1cmVzO1xuICAgIGlmICghcHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlSW5kaWNlcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgcHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlSW5kZXggb2YgcHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlSW5kaWNlcykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eVRleHR1cmUgPSBwcm9wZXJ0eVRleHR1cmVzW3ByaW1pdGl2ZVByb3BlcnR5VGV4dHVyZUluZGV4XTtcbiAgICAgICAgcHJvY2Vzc1ByaW1pdGl2ZVByb3BlcnR5VGV4dHVyZShzY2VuZWdyYXBoLCBwcm9wZXJ0eVRleHR1cmUsIHByaW1pdGl2ZSwgZXh0ZW5zaW9uKTtcbiAgICB9XG59XG4vKipcbiAqIFRha2VzIHByb3BlcnR5IGRhdGEgZnJvbSB0aGUgdGV4dHVyZSBwb2ludGVkIGJ5IHRoZSBwcmltaXRpdmUgYW5kIGFwcGVuZHMgdGhlbSB0byBgZXhlbnNpb24uZGF0YWAuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIHByb3BlcnR5VGV4dHVyZSAtIHByb3BlcnR5VGV4dHVyZSBkZWZpbml0aW9uIHRha2VuIGZyb20gdGhlIHRvcC1sZXZlbCBleHRlbnNpb24uXG4gKiBAcGFyYW0gcHJpbWl0aXZlIC0gUHJpbWl0aXZlIG9iamVjdC5cbiAqIEBwYXJhbSBleHRlbnNpb24gLSBUb3AtbGV2ZWwgZXh0ZW5zaW9uLlxuICovXG5mdW5jdGlvbiBwcm9jZXNzUHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlKHNjZW5lZ3JhcGgsIHByb3BlcnR5VGV4dHVyZSwgcHJpbWl0aXZlLCBleHRlbnNpb24pIHtcbiAgICBpZiAoIXByb3BlcnR5VGV4dHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFleHRlbnNpb24uZGF0YUF0dHJpYnV0ZU5hbWVzKSB7XG4gICAgICAgIGV4dGVuc2lvbi5kYXRhQXR0cmlidXRlTmFtZXMgPSBbXTtcbiAgICB9XG4gICAgLyogSXRlcmF0ZSB0aHJvdWdoIGFsbCBwcm9wZXJ0aWVzIGRlZmluZWQgaW4gcHJvcGVydHlUZXh0dXJlLCBlLmcuIFwic3BlZWRcIiBhbmQgXCJkaXJlY3Rpb25cIjpcbiAgICAgIHtcbiAgICAgICAgXCJjbGFzc1wiOiBcIndpbmRcIixcbiAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICBcInNwZWVkXCI6IHtcbiAgICAgICAgICAgIFwiaW5kZXhcIjogMCxcbiAgICAgICAgICAgIFwidGV4Q29vcmRcIjogMCxcbiAgICAgICAgICAgIFwiY2hhbm5lbHNcIjogWzBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRpcmVjdGlvblwiOiB7XG4gICAgICAgICAgICBcImluZGV4XCI6IDAsXG4gICAgICAgICAgICBcInRleENvb3JkXCI6IDAsXG4gICAgICAgICAgICBcImNoYW5uZWxzXCI6IFsxLCAyXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICovXG4gICAgY29uc3QgY2xhc3NOYW1lID0gcHJvcGVydHlUZXh0dXJlLmNsYXNzO1xuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIHByb3BlcnR5VGV4dHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8vIHByb3BlcnR5TmFtZSBoYXMgdmFsdWVzIGxpa2UgXCJzcGVlZFwiLCBcImRpcmVjdGlvblwiXG4gICAgICAgIC8vIE1ha2UgYXR0cmlidXRlTmFtZSBhcyBhIGNvbWJpbmF0aW9uIG9mIHRoZSBjbGFzcyBuYW1lIGFuZCB0aGUgcHJvcGVydHlOYW1lIGxpa2UgXCJ3aW5kX3NwZWVkXCIgb3IgXCJ3aW5kX2RpcmVjdGlvblwiXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBgJHtjbGFzc05hbWV9XyR7cHJvcGVydHlOYW1lfWA7XG4gICAgICAgIGNvbnN0IHRleHR1cmVJbmZvVG9wTGV2ZWwgPSBwcm9wZXJ0eVRleHR1cmUucHJvcGVydGllcz8uW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGlmICghdGV4dHVyZUluZm9Ub3BMZXZlbCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgZGF0YSB0YWtlbiBmcm9tIGFsbCBtZXNoZXMvcHJpbWl0aXZlcyAodGhlIHNhbWUgcHJvcGVydHksIGUuZy4gXCJzcGVlZFwiIG9yIFwiZGlyZWN0aW9uXCIpIHdpbGwgYmUgY29tYmluZWQgaW50byBvbmUgYXJyYXkgYW5kIHNhdmVkIGluIHRleHR1cmVJbmZvVG9wTGV2ZWwuZGF0YVxuICAgICAgICAvLyBJbml0aWFsbHkgdGV4dHVyZUluZm9Ub3BMZXZlbC5kYXRhIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhbiBlbXB0eSBhcnJheS5cbiAgICAgICAgaWYgKCF0ZXh0dXJlSW5mb1RvcExldmVsLmRhdGEpIHtcbiAgICAgICAgICAgIHRleHR1cmVJbmZvVG9wTGV2ZWwuZGF0YSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZlYXR1cmVUZXh0dXJlVGFibGUgPSB0ZXh0dXJlSW5mb1RvcExldmVsLmRhdGE7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5RGF0YSA9IGdldFByaW1pdGl2ZVRleHR1cmVEYXRhKHNjZW5lZ3JhcGgsIHRleHR1cmVJbmZvVG9wTGV2ZWwsIHByaW1pdGl2ZSk7XG4gICAgICAgIGlmIChwcm9wZXJ0eURhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJpbWl0aXZlUHJvcGVydHlEYXRhVG9BdHRyaWJ1dGVzKHNjZW5lZ3JhcGgsIGF0dHJpYnV0ZU5hbWUsIHByb3BlcnR5RGF0YSwgZmVhdHVyZVRleHR1cmVUYWJsZSwgcHJpbWl0aXZlKTtcbiAgICAgICAgdGV4dHVyZUluZm9Ub3BMZXZlbC5kYXRhID0gZmVhdHVyZVRleHR1cmVUYWJsZTtcbiAgICAgICAgZXh0ZW5zaW9uLmRhdGFBdHRyaWJ1dGVOYW1lcy5wdXNoKGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbn1cbi8qKlxuICogTmF2aWdhdGVzIHRocm91Z2ggYWxsIHByb3BlcmllcyBpbiB0aGUgcHJvcGVydHkgdGFibGUsIGdldHMgcHJvcGVydGllcyBkYXRhLFxuICogYW5kIHB1dCB0aGUgZGF0YSB0byBgcHJvcGVydHlUYWJsZS5kYXRhYCBhcyBhbiBhcnJheS5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gc2NoZW1hIC0gc2NoZW1hIG9iamVjdC5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlIC0gcHJvcGVydHlUYWJsZSBkZWZpbml0aW9uIHRha2VuIGZyb20gdGhlIHRvcC1sZXZlbCBleHRlbnNpb24uXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NQcm9wZXJ0eVRhYmxlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgcHJvcGVydHlUYWJsZSkge1xuICAgIGNvbnN0IHNjaGVtYUNsYXNzID0gc2NoZW1hLmNsYXNzZXM/Lltwcm9wZXJ0eVRhYmxlLmNsYXNzXTtcbiAgICBpZiAoIXNjaGVtYUNsYXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5jb3JyZWN0IGRhdGEgaW4gdGhlIEVYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhIGV4dGVuc2lvbjogbm8gc2NoZW1hIGNsYXNzIHdpdGggbmFtZSAke3Byb3BlcnR5VGFibGUuY2xhc3N9YCk7XG4gICAgfVxuICAgIGNvbnN0IG51bWJlck9mRWxlbWVudHMgPSBwcm9wZXJ0eVRhYmxlLmNvdW50OyAvLyBgcHJvcGVydHlUYWJsZS5jb3VudGAgaXMgYSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheS5cbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBzY2hlbWFDbGFzcy5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzUHJvcGVydHkgPSBzY2hlbWFDbGFzcy5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGNvbnN0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSA9IHByb3BlcnR5VGFibGUucHJvcGVydGllcz8uW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGlmIChwcm9wZXJ0eVRhYmxlUHJvcGVydHkpIHtcbiAgICAgICAgICAgIC8vIEdldHRpbmcgYWxsIGVsZW1lbnRzIChgbnVtYmVyT2ZFbGVtZW50c2ApIG9mIHRoZSBhcnJheSBpbiB0aGUgYHByb3BlcnR5VGFibGVQcm9wZXJ0eWBcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFGcm9tQmluYXJ5U291cmNlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgcHJvcGVydHlUYWJsZVByb3BlcnR5KTtcbiAgICAgICAgICAgIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5kYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGVjb2RlcyBhIHByb3BlcnR5VGFibGUgY29sdW1uIGZyb20gYmluYXJ5IHNvdXJjZSBiYXNlZCBvbiBwcm9wZXJ0eSB0eXBlLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBzY2hlbWEgLSBTY2hlbWEgb2JqZWN0LlxuICogQHBhcmFtIGNsYXNzUHJvcGVydHkgLSBjbGFzcyBwcm9wZXJ0eSBvYmplY3QuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheSB0aGF0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSBjb250YWlucy4gSXQncyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZS5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgLSBwcm9wZXJ0eVRhYmxlJ3MgcHJvcGVydHkgbWV0YWRhdGEuXG4gKiBAcmV0dXJucyB7c3RyaW5nW10gfCBudW1iZXJbXSB8IHN0cmluZ1tdW10gfCBudW1iZXJbXVtdfVxuICovXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eURhdGFGcm9tQmluYXJ5U291cmNlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgcHJvcGVydHlUYWJsZVByb3BlcnR5KSB7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICBjb25zdCB2YWx1ZXNCdWZmZXJWaWV3ID0gcHJvcGVydHlUYWJsZVByb3BlcnR5LnZhbHVlcztcbiAgICBjb25zdCB2YWx1ZXNEYXRhQnl0ZXMgPSBzY2VuZWdyYXBoLmdldFR5cGVkQXJyYXlGb3JCdWZmZXJWaWV3KHZhbHVlc0J1ZmZlclZpZXcpO1xuICAgIGNvbnN0IGFycmF5T2Zmc2V0cyA9IGdldEFycmF5T2Zmc2V0c0ZvclByb3BlcnR5KHNjZW5lZ3JhcGgsIGNsYXNzUHJvcGVydHksIHByb3BlcnR5VGFibGVQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cyk7XG4gICAgY29uc3Qgc3RyaW5nT2Zmc2V0cyA9IGdldFN0cmluZ09mZnNldHNGb3JQcm9wZXJ0eShzY2VuZWdyYXBoLCBwcm9wZXJ0eVRhYmxlUHJvcGVydHksIG51bWJlck9mRWxlbWVudHMpO1xuICAgIHN3aXRjaCAoY2xhc3NQcm9wZXJ0eS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ1NDQUxBUic6XG4gICAgICAgIGNhc2UgJ1ZFQzInOlxuICAgICAgICBjYXNlICdWRUMzJzpcbiAgICAgICAgY2FzZSAnVkVDNCc6XG4gICAgICAgIGNhc2UgJ01BVDInOlxuICAgICAgICBjYXNlICdNQVQzJzpcbiAgICAgICAgY2FzZSAnTUFUNCc6IHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFOdW1lcmljKGNsYXNzUHJvcGVydHksIG51bWJlck9mRWxlbWVudHMsIHZhbHVlc0RhdGFCeXRlcywgYXJyYXlPZmZzZXRzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0JPT0xFQU4nOiB7XG4gICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgaXQgYXMgc29vbiBhcyB3ZSBoYXZlIHRoZSBjb3JyZXNwb25kaW5nIHRpbGVzZXRcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IGltcGxlbWVudGVkIC0gY2xhc3NQcm9wZXJ0eS50eXBlPSR7Y2xhc3NQcm9wZXJ0eS50eXBlfWApO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1NUUklORyc6IHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFTdHJpbmcobnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMsIHN0cmluZ09mZnNldHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnRU5VTSc6IHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFFTlVNKHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjbGFzc1Byb3BlcnR5IHR5cGUgJHtjbGFzc1Byb3BlcnR5LnR5cGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuLyoqXG4gKiBQYXJzZXMgcHJvcGVydHlUYWJsZS5wcm9wZXJ0eS5hcnJheU9mZnNldHMgdGhhdCBhcmUgb2Zmc2V0cyBvZiBzdWItYXJyYXlzIGluIGEgZmxhdHRlbiBhcnJheSBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIGNsYXNzUHJvcGVydHkgLSBjbGFzcyBwcm9wZXJ0eSBvYmplY3QuXG4gKiBAcGFyYW0gcHJvcGVydHlUYWJsZVByb3BlcnR5IC0gcHJvcGVydHlUYWJsZSdzIHByb3BlcnR5IG1ldGFkYXRhLlxuICogQHBhcmFtIG51bWJlck9mRWxlbWVudHMgLSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGVhY2ggcHJvcGVydHkgYXJyYXkgdGhhdCBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgY29udGFpbnMuIEl0J3MgYSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdGFibGUuXG4gKiBAcmV0dXJucyBUeXBlZCBhcnJheSB3aXRoIG9mZnNldCB2YWx1ZXMuXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvMjk3NmYxMTgzMzQzYTQ3YTI5ZTQwNTlhNzA5NjEzNzFjZDJmY2VlOC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEvc2NoZW1hL3Byb3BlcnR5VGFibGUucHJvcGVydHkuc2NoZW1hLmpzb24jTDIxXG4gKi9cbmZ1bmN0aW9uIGdldEFycmF5T2Zmc2V0c0ZvclByb3BlcnR5KHNjZW5lZ3JhcGgsIGNsYXNzUHJvcGVydHksIHByb3BlcnR5VGFibGVQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cykge1xuICAgIGlmIChjbGFzc1Byb3BlcnR5LmFycmF5ICYmXG4gICAgICAgIC8vIGBjb3VudGAgaXMgYSBudW1iZXIgb2YgYXJyYXkgZWxlbWVudHMuIE1heSBvbmx5IGJlIGRlZmluZWQgd2hlbiBgYXJyYXlgIGlzIHRydWUuXG4gICAgICAgIC8vIElmIGBjb3VudGAgaXMgTk9UIGRlZmluZWQsIGl0J3MgYSBWQVJJQUJMRS1sZW5ndGggYXJyYXlcbiAgICAgICAgdHlwZW9mIGNsYXNzUHJvcGVydHkuY291bnQgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIC8vIGBhcnJheU9mZnNldHNgIGlzIGFuIGluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIG9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuXG4gICAgICAgIHR5cGVvZiBwcm9wZXJ0eVRhYmxlUHJvcGVydHkuYXJyYXlPZmZzZXRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBEYXRhIGFyZSBpbiBhIFZBUklBQkxFLWxlbmd0aCBhcnJheVxuICAgICAgICByZXR1cm4gZ2V0T2Zmc2V0c0ZvclByb3BlcnR5KHNjZW5lZ3JhcGgsIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5hcnJheU9mZnNldHMsIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5hcnJheU9mZnNldFR5cGUgfHwgJ1VJTlQzMicsIG51bWJlck9mRWxlbWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUGFyc2VzIHByb3BlcnR5VGFibGUucHJvcGVydHkuc3RyaW5nT2Zmc2V0cy5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gcHJvcGVydHlUYWJsZVByb3BlcnR5IC0gcHJvcGVydHlUYWJsZSdzIHByb3BlcnR5IG1ldGFkYXRhLlxuICogQHBhcmFtIG51bWJlck9mRWxlbWVudHMgLSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGVhY2ggcHJvcGVydHkgYXJyYXkgdGhhdCBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgY29udGFpbnMuIEl0J3MgYSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdGFibGUuXG4gKiBAcmV0dXJucyBUeXBlZCBhcnJheSB3aXRoIG9mZnNldCB2YWx1ZXMuXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvMjk3NmYxMTgzMzQzYTQ3YTI5ZTQwNTlhNzA5NjEzNzFjZDJmY2VlOC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEvc2NoZW1hL3Byb3BlcnR5VGFibGUucHJvcGVydHkuc2NoZW1hLmpzb24jTDI5QzEwLUwyOUMyM1xuICovXG5mdW5jdGlvbiBnZXRTdHJpbmdPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgcHJvcGVydHlUYWJsZVByb3BlcnR5LCBudW1iZXJPZkVsZW1lbnRzKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0eVRhYmxlUHJvcGVydHkuc3RyaW5nT2Zmc2V0cyAhPT0gJ3VuZGVmaW5lZCcgLy8gYHN0cmluZ09mZnNldHNgIGlzIGFuIGluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIG9mZnNldHMgZm9yIHN0cmluZ3MuXG4gICAgKSB7XG4gICAgICAgIC8vIERhdGEgYXJlIGluIGEgRklYRUQtbGVuZ3RoIGFycmF5XG4gICAgICAgIHJldHVybiBnZXRPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgcHJvcGVydHlUYWJsZVByb3BlcnR5LnN0cmluZ09mZnNldHMsIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5zdHJpbmdPZmZzZXRUeXBlIHx8ICdVSU5UMzInLCBudW1iZXJPZkVsZW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIERlY29kZXMgcHJvcGVydGllcyBvZiBTQ0FMQVIsIFZFQy1OLCBNQVQtTiB0eXBlcyBmcm9tIGJpbmFyeSBzb3Vyc2UuXG4gKiBAcGFyYW0gY2xhc3NQcm9wZXJ0eSAtIGNsYXNzIHByb3BlcnR5IG9iamVjdC5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5IHRoYXQgcHJvcGVydHlUYWJsZVByb3BlcnR5IGNvbnRhaW5zLiBJdCdzIGEgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIHRhYmxlLlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlcyAtIERhdGEgdGFrZW4gZnJvbSB2YWx1ZXMgcHJvcGVydHkgb2YgdGhlIHByb3BlcnR5IHRhYmxlIHByb3BlcnR5LlxuICogQHBhcmFtIGFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcmV0dXJucyBQcm9wZXJ0eSB2YWx1ZXMgaW4gYSB0eXBlZCBhcnJheSBvciBpbiBhbiBhcnJheSBvZiB0eXBlZCBhcnJheXMuXG4gKi9cbmZ1bmN0aW9uIGdldFByb3BlcnR5RGF0YU51bWVyaWMoY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMpIHtcbiAgICBjb25zdCBpc0FycmF5ID0gY2xhc3NQcm9wZXJ0eS5hcnJheTtcbiAgICBjb25zdCBhcnJheUNvdW50ID0gY2xhc3NQcm9wZXJ0eS5jb3VudDtcbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IGdldEFycmF5RWxlbWVudEJ5dGVTaXplKGNsYXNzUHJvcGVydHkudHlwZSwgY2xhc3NQcm9wZXJ0eS5jb21wb25lbnRUeXBlKTtcbiAgICBjb25zdCBlbGVtZW50Q291bnQgPSB2YWx1ZXNEYXRhQnl0ZXMuYnl0ZUxlbmd0aCAvIGVsZW1lbnRTaXplO1xuICAgIGxldCB2YWx1ZXNEYXRhO1xuICAgIGlmIChjbGFzc1Byb3BlcnR5LmNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgdmFsdWVzRGF0YSA9IGNvbnZlcnRSYXdCdWZmZXJUb01ldGFkYXRhQXJyYXkodmFsdWVzRGF0YUJ5dGVzLCBjbGFzc1Byb3BlcnR5LnR5cGUsIFxuICAgICAgICAvLyBUaGUgZGF0YXR5cGUgb2YgdGhlIGVsZW1lbnQncyBjb21wb25lbnRzLiBPbmx5IGFwcGxpY2FibGUgdG8gYFNDQUxBUmAsIGBWRUNOYCwgYW5kIGBNQVROYCB0eXBlcy5cbiAgICAgICAgY2xhc3NQcm9wZXJ0eS5jb21wb25lbnRUeXBlLCBlbGVtZW50Q291bnQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVGhlIHNwZWMgZG9lc24ndCBwcm92aWRlIGFueSBpbmZvIHdoYXQgdG8gZG8gaWYgY29tcG9uZW50VHlwZSBpcyBub3Qgc2V0LlxuICAgICAgICB2YWx1ZXNEYXRhID0gdmFsdWVzRGF0YUJ5dGVzO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheSkge1xuICAgICAgICBpZiAoYXJyYXlPZmZzZXRzKSB7XG4gICAgICAgICAgICAvLyBWQVJJQUJMRS1sZW5ndGggYXJyYXlcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVZhcmlhYmxlTGVuZ3RoQXJyYXlOdW1lcmljKHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5T2Zmc2V0cywgdmFsdWVzRGF0YUJ5dGVzLmxlbmd0aCwgZWxlbWVudFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcnJheUNvdW50KSB7XG4gICAgICAgICAgICAvLyBGSVhFRC1sZW5ndGggYXJyYXlcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZpeGVkTGVuZ3RoQXJyYXlOdW1lcmljKHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5Q291bnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlc0RhdGE7XG59XG4vKipcbiAqIERlY29kZXMgcHJvcGVydGllcyBvZiBlbnVtIHR5cGUgZnJvbSBiaW5hcnkgc291cmNlLlxuICogQHBhcmFtIHNjaGVtYSAtIFNjaGVtYSBvYmplY3QuXG4gKiBAcGFyYW0gY2xhc3NQcm9wZXJ0eSAtIENsYXNzIHByb3BlcnR5IG9iamVjdC5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5IHRoYXQgcHJvcGVydHlUYWJsZVByb3BlcnR5IGNvbnRhaW5zLiBJdCdzIGEgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIHRhYmxlLlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlcyAtIERhdGEgdGFrZW4gZnJvbSB2YWx1ZXMgcHJvcGVydHkgb2YgdGhlIHByb3BlcnR5IHRhYmxlIHByb3BlcnR5LlxuICogQHBhcmFtIGFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcmV0dXJucyBTdHJpbmdzIGFycmF5IG9mIG5lc3RlZCBzdHJpbmdzIGFycmF5LlxuICovXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eURhdGFFTlVNKHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMpIHtcbiAgICBjb25zdCBlbnVtVHlwZSA9IGNsYXNzUHJvcGVydHkuZW51bVR5cGU7XG4gICAgLy8gRW51bSBJRCBhcyBkZWNsYXJlZCBpbiB0aGUgYGVudW1zYCBkaWN0aW9uYXJ5LiBSZXF1aXJlZCB3aGVuIGB0eXBlYCBpcyBgRU5VTWAuXG4gICAgaWYgKCFlbnVtVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBkYXRhIGluIHRoZSBFWFRfc3RydWN0dXJhbF9tZXRhZGF0YSBleHRlbnNpb246IGNsYXNzUHJvcGVydHkuZW51bVR5cGUgaXMgbm90IHNldCBmb3IgdHlwZSBFTlVNJyk7XG4gICAgfVxuICAgIGNvbnN0IGVudW1FbnRyeSA9IHNjaGVtYS5lbnVtcz8uW2VudW1UeXBlXTtcbiAgICBpZiAoIWVudW1FbnRyeSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluY29ycmVjdCBkYXRhIGluIHRoZSBFWFRfc3RydWN0dXJhbF9tZXRhZGF0YSBleHRlbnNpb246IHNjaGVtYS5lbnVtcyBkb2VzJ3QgY29udGFpbiAke2VudW1UeXBlfWApO1xuICAgIH1cbiAgICBjb25zdCBlbnVtVmFsdWVUeXBlID0gZW51bUVudHJ5LnZhbHVlVHlwZSB8fCAnVUlOVDE2JztcbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IGdldEFycmF5RWxlbWVudEJ5dGVTaXplKGNsYXNzUHJvcGVydHkudHlwZSwgZW51bVZhbHVlVHlwZSk7XG4gICAgY29uc3QgZWxlbWVudENvdW50ID0gdmFsdWVzRGF0YUJ5dGVzLmJ5dGVMZW5ndGggLyBlbGVtZW50U2l6ZTtcbiAgICBsZXQgdmFsdWVzRGF0YSA9IGNvbnZlcnRSYXdCdWZmZXJUb01ldGFkYXRhQXJyYXkodmFsdWVzRGF0YUJ5dGVzLCBjbGFzc1Byb3BlcnR5LnR5cGUsIGVudW1WYWx1ZVR5cGUsIGVsZW1lbnRDb3VudCk7XG4gICAgaWYgKCF2YWx1ZXNEYXRhKSB7XG4gICAgICAgIHZhbHVlc0RhdGEgPSB2YWx1ZXNEYXRhQnl0ZXM7XG4gICAgfVxuICAgIGlmIChjbGFzc1Byb3BlcnR5LmFycmF5KSB7XG4gICAgICAgIGlmIChhcnJheU9mZnNldHMpIHtcbiAgICAgICAgICAgIC8vIFZBUklBQkxFLWxlbmd0aCBhcnJheVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVmFyaWFibGVMZW5ndGhBcnJheUVOVU0oe1xuICAgICAgICAgICAgICAgIHZhbHVlc0RhdGEsXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBhcnJheU9mZnNldHMsXG4gICAgICAgICAgICAgICAgdmFsdWVzRGF0YUJ5dGVzTGVuZ3RoOiB2YWx1ZXNEYXRhQnl0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGVsZW1lbnRTaXplLFxuICAgICAgICAgICAgICAgIGVudW1FbnRyeVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJyYXlDb3VudCA9IGNsYXNzUHJvcGVydHkuY291bnQ7XG4gICAgICAgIGlmIChhcnJheUNvdW50KSB7XG4gICAgICAgICAgICAvLyBGSVhFRC1sZW5ndGggYXJyYXlcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZpeGVkTGVuZ3RoQXJyYXlFTlVNKHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5Q291bnQsIGVudW1FbnRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvLyBTaW5nbGUgdmFsdWUgKG5vdCBhbiBhcnJheSlcbiAgICByZXR1cm4gZ2V0RW51bXNBcnJheSh2YWx1ZXNEYXRhLCAwLCBudW1iZXJPZkVsZW1lbnRzLCBlbnVtRW50cnkpO1xufVxuLyoqXG4gKiBQYXJzZXMgdmFyaWFibGUgbGVuZ3RoIG5lc3RlZCBFTlVNIGFycmF5cy5cbiAqIEBwYXJhbSBwYXJhbXMudmFsdWVzRGF0YSAtIFZhbHVlcyBpbiBhIGZsYXQgdHlwZWQgYXJyYXkuXG4gKiBAcGFyYW0gcGFyYW1zLm51bWJlck9mRWxlbWVudHMgLSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGVhY2ggcHJvcGVydHkgYXJyYXkgdGhhdCBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgY29udGFpbnMuIEl0J3MgYSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdGFibGUuXG4gKiBAcGFyYW0gcGFyYW1zLmFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcGFyYW0gcGFyYW1zLnZhbHVlc0RhdGFCeXRlc0xlbmd0aCAtIEJ5dGUgbGVuZ3RoIG9mIHZhbHVlcyBhcnJheS5cbiAqIEBwYXJhbSBwYXJhbXMuZWxlbWVudFNpemUgLSBTaW5nbGUgZWxlbWVudCBieXRlIHNpemUuXG4gKiBAcGFyYW0gcGFyYW1zLmVudW1FbnRyeSAtIEVudW1zIGRpY3Rpb25hcnkuXG4gKiBAcmV0dXJucyBOZXN0ZWQgc3RyaW5ncyBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VWYXJpYWJsZUxlbmd0aEFycmF5RU5VTShwYXJhbXMpIHtcbiAgICBjb25zdCB7IHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5T2Zmc2V0cywgdmFsdWVzRGF0YUJ5dGVzTGVuZ3RoLCBlbGVtZW50U2l6ZSwgZW51bUVudHJ5IH0gPSBwYXJhbXM7XG4gICAgY29uc3QgYXR0cmlidXRlVmFsdWVBcnJheSA9IFtdO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1iZXJPZkVsZW1lbnRzOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IGFycmF5T2Zmc2V0ID0gYXJyYXlPZmZzZXRzW2luZGV4XTtcbiAgICAgICAgY29uc3QgYXJyYXlCeXRlU2l6ZSA9IGFycmF5T2Zmc2V0c1tpbmRleCArIDFdIC0gYXJyYXlPZmZzZXRzW2luZGV4XTtcbiAgICAgICAgaWYgKGFycmF5Qnl0ZVNpemUgKyBhcnJheU9mZnNldCA+IHZhbHVlc0RhdGFCeXRlc0xlbmd0aCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHlwZWRBcnJheU9mZnNldCA9IGFycmF5T2Zmc2V0IC8gZWxlbWVudFNpemU7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRDb3VudCA9IGFycmF5Qnl0ZVNpemUgLyBlbGVtZW50U2l6ZTtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBnZXRFbnVtc0FycmF5KHZhbHVlc0RhdGEsIHR5cGVkQXJyYXlPZmZzZXQsIGVsZW1lbnRDb3VudCwgZW51bUVudHJ5KTtcbiAgICAgICAgYXR0cmlidXRlVmFsdWVBcnJheS5wdXNoKGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlQXJyYXk7XG59XG4vKipcbiAqIFBhcnNlcyBmaXhlZCBsZW5ndGggRU5VTSBhcnJheXMuXG4gKiBAcGFyYW0gdmFsdWVzRGF0YSAtIFZhbHVlcyBpbiBhIGZsYXQgdHlwZWQgYXJyYXkuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheSB0aGF0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSBjb250YWlucy4gSXQncyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZS5cbiAqIEBwYXJhbSBhcnJheUNvdW50IC0gTmVzdGVkIGFycmF5cyBsZW5ndGguXG4gKiBAcGFyYW0gZW51bUVudHJ5IC0gRW51bXMgZGljdGlvbmFyeS5cbiAqIEByZXR1cm5zIE5lc3RlZCBzdHJpbmdzIGFycmF5LlxuICovXG5mdW5jdGlvbiBwYXJzZUZpeGVkTGVuZ3RoQXJyYXlFTlVNKHZhbHVlc0RhdGEsIG51bWJlck9mRWxlbWVudHMsIGFycmF5Q291bnQsIGVudW1FbnRyeSkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlQXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtYmVyT2ZFbGVtZW50czsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50T2Zmc2V0ID0gYXJyYXlDb3VudCAqIGluZGV4O1xuICAgICAgICBjb25zdCBhcnJheSA9IGdldEVudW1zQXJyYXkodmFsdWVzRGF0YSwgZWxlbWVudE9mZnNldCwgYXJyYXlDb3VudCwgZW51bUVudHJ5KTtcbiAgICAgICAgYXR0cmlidXRlVmFsdWVBcnJheS5wdXNoKGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlQXJyYXk7XG59XG4vKipcbiAqIFBhcnNlcyBFTlVNIHZhbHVlcyBpbnRvIGEgc3RyaW5nIGFycmF5LlxuICogQHBhcmFtIHZhbHVlc0RhdGEgLSBWYWx1ZXMgaW4gYSBmbGF0IHR5cGVkIGFycmF5LlxuICogQHBhcmFtIG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBwYXJzZSBmcm9tLlxuICogQHBhcmFtIGNvdW50IC0gVmFsdWVzIGxlbmd0aCB0byBwYXJzZS5cbiAqIEBwYXJhbSBlbnVtRW50cnkgLSBFbnVtcyBkaWN0aW9uYXJ5LlxuICogQHJldHVybnMgQXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHBhcnNlZCBFTlVNIG5hbWVzLlxuICovXG5mdW5jdGlvbiBnZXRFbnVtc0FycmF5KHZhbHVlc0RhdGEsIG9mZnNldCwgY291bnQsIGVudW1FbnRyeSkge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIC8vIEF0IHRoZSBtb21lbnQgd2UgZG9uJ3Qgc3VwcG9ydCBCaWdJbnQuIEl0IHJlcXVpcmVzIGFkZGl0aW9uYWwgY2FsY3VsYXRpb25zIGxvZ2ljXG4gICAgICAgIC8vIGFuZCBtaWdodCBiZSBhbiBpc3N1ZSBpbiBTYWZhcmlcbiAgICAgICAgaWYgKHZhbHVlc0RhdGEgaW5zdGFuY2VvZiBCaWdJbnQ2NEFycmF5IHx8IHZhbHVlc0RhdGEgaW5zdGFuY2VvZiBCaWdVaW50NjRBcnJheSkge1xuICAgICAgICAgICAgYXJyYXkucHVzaCgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc0RhdGFbb2Zmc2V0ICsgaV07XG4gICAgICAgICAgICBjb25zdCBlbnVtT2JqZWN0ID0gZ2V0RW51bUJ5VmFsdWUoZW51bUVudHJ5LCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoZW51bU9iamVjdCkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZW51bU9iamVjdC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogTG9va3MgdXAgRU5VTSB3aG9zZSBgdmFsdWVgIHByb3BlcnR5IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBudW1iZXIgaW4gdGhlIHBhcmFtZXRlciBgdmFsdWVgLlxuICogQHBhcmFtIHtHTFRGX0VYVF9zdHJ1Y3R1cmFsX21ldGFkYXRhX0VudW19IGVudW1FbnRyeSAtIEVOVU0gZW50cnkgY29udGFpbmluZyB0aGUgYXJyYXkgb2YgcG9zc2libGUgZW51bXMuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgdmFsdWUgb2YgdGhlIEVOVU0gdG8gbG9jYXRlLlxuICogQHJldHVybnMge0dMVEZfRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGFfRW51bVZhbHVlIHwgbnVsbH0gRU5VTSBtYXRjaWhuZyB0aGUgc3BlY2lmaWVkIHZhbHVlIG9yIG51bGwgb2Ygbm8gRU5VTSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBnZXRFbnVtQnlWYWx1ZShlbnVtRW50cnksIHZhbHVlKSB7XG4gICAgZm9yIChjb25zdCBlbnVtVmFsdWUgb2YgZW51bUVudHJ5LnZhbHVlcykge1xuICAgICAgICBpZiAoZW51bVZhbHVlLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGVudW1WYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IFNDSEVNQV9DTEFTU19JRF9ERUZBVUxUID0gJ3NjaGVtYUNsYXNzSWQnO1xuZnVuY3Rpb24gZW5jb2RlRXh0U3RydWN0dXJhbE1ldGFkYXRhKHNjZW5lZ3JhcGgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBleHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldEV4dGVuc2lvbihFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FKTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChleHRlbnNpb24ucHJvcGVydHlUYWJsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCB0YWJsZSBvZiBleHRlbnNpb24ucHJvcGVydHlUYWJsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzSWQgPSB0YWJsZS5jbGFzcztcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYUNsYXNzID0gZXh0ZW5zaW9uLnNjaGVtYT8uY2xhc3Nlcz8uW2NsYXNzSWRdO1xuICAgICAgICAgICAgaWYgKHRhYmxlLnByb3BlcnRpZXMgJiYgc2NoZW1hQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICBlbmNvZGVQcm9wZXJ0aWVzKHRhYmxlLCBzY2hlbWFDbGFzcywgc2NlbmVncmFwaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBlbmNvZGVQcm9wZXJ0aWVzKHRhYmxlLCBzY2hlbWFDbGFzcywgc2NlbmVncmFwaCkge1xuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIHRhYmxlLnByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRhYmxlLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5kYXRhO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NQcm9wZXJ0eSA9IHNjaGVtYUNsYXNzLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgIGlmIChjbGFzc1Byb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFibGVQcm9wZXJ0eSA9IGNyZWF0ZVByb3BlcnR5VGFibGVQcm9wZXJ0eShkYXRhLCBjbGFzc1Byb3BlcnR5LCBzY2VuZWdyYXBoKTtcbiAgICAgICAgICAgICAgICAvLyBPdmVycmlkZSB0YWJsZSBwcm9wZXJ0eSB0aGF0IGNhbWUgd2l0aCBcImRhdGFcIlxuICAgICAgICAgICAgICAgIHRhYmxlLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IHRhYmxlUHJvcGVydHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgRXh0U3RydWN0dXJhbE1ldGFkYXRhLCBjcmVhdGVzIHRoZSBzY2hlbWEgYW5kIGNyZWF0ZXMgYSBwcm9wZXJ0eSB0YWJsZSBjb250YWluaW5nIGZlYXR1cmUgZGF0YSBwcm92aWRlZC5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gcHJvcGVydHlBdHRyaWJ1dGVzIC0gcHJvcGVydHkgYXR0cmlidXRlc1xuICogQHBhcmFtIGNsYXNzSWQgLSBjbGFzc0lkIHRvIHVzZSBmb3IgZW5jb2RpbmcgbWV0YWRhdGEuXG4gKiBAcmV0dXJucyBJbmRleCBvZiB0aGUgdGFibGUgY3JlYXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4dFN0cnVjdHVyYWxNZXRhZGF0YShzY2VuZWdyYXBoLCBwcm9wZXJ0eUF0dHJpYnV0ZXMsIGNsYXNzSWQgPSBTQ0hFTUFfQ0xBU1NfSURfREVGQVVMVCkge1xuICAgIGxldCBleHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldEV4dGVuc2lvbihFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FKTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICBleHRlbnNpb24gPSBzY2VuZWdyYXBoLmFkZEV4dGVuc2lvbihFWFRfU1RSVUNUVVJBTF9NRVRBREFUQV9OQU1FKTtcbiAgICB9XG4gICAgZXh0ZW5zaW9uLnNjaGVtYSA9IGNyZWF0ZVNjaGVtYShwcm9wZXJ0eUF0dHJpYnV0ZXMsIGNsYXNzSWQsIGV4dGVuc2lvbi5zY2hlbWEpO1xuICAgIGNvbnN0IHRhYmxlID0gY3JlYXRlUHJvcGVydHlUYWJsZShwcm9wZXJ0eUF0dHJpYnV0ZXMsIGNsYXNzSWQsIGV4dGVuc2lvbi5zY2hlbWEpO1xuICAgIGlmICghZXh0ZW5zaW9uLnByb3BlcnR5VGFibGVzKSB7XG4gICAgICAgIGV4dGVuc2lvbi5wcm9wZXJ0eVRhYmxlcyA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW5zaW9uLnByb3BlcnR5VGFibGVzLnB1c2godGFibGUpIC0gMTsgLy8gaW5kZXggb2YgdGhlIHRhYmxlXG59XG5mdW5jdGlvbiBjcmVhdGVTY2hlbWEocHJvcGVydHlBdHRyaWJ1dGVzLCBjbGFzc0lkLCBzY2hlbWFUb1VwZGF0ZSkge1xuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYVRvVXBkYXRlID8/IHtcbiAgICAgICAgaWQ6ICdzY2hlbWFfaWQnXG4gICAgfTtcbiAgICBjb25zdCBzY2hlbWFDbGFzcyA9IHtcbiAgICAgICAgcHJvcGVydGllczoge31cbiAgICB9O1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHByb3BlcnR5QXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBjbGFzc1Byb3BlcnR5ID0ge1xuICAgICAgICAgICAgdHlwZTogYXR0cmlidXRlLmVsZW1lbnRUeXBlLFxuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogYXR0cmlidXRlLmNvbXBvbmVudFR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgc2NoZW1hQ2xhc3MucHJvcGVydGllc1thdHRyaWJ1dGUubmFtZV0gPSBjbGFzc1Byb3BlcnR5O1xuICAgIH1cbiAgICBzY2hlbWEuY2xhc3NlcyA9IHt9O1xuICAgIHNjaGVtYS5jbGFzc2VzW2NsYXNzSWRdID0gc2NoZW1hQ2xhc3M7XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3BlcnR5VGFibGUocHJvcGVydHlBdHRyaWJ1dGVzLCBjbGFzc0lkLCBzY2hlbWEpIHtcbiAgICBjb25zdCB0YWJsZSA9IHtcbiAgICAgICAgY2xhc3M6IGNsYXNzSWQsXG4gICAgICAgIGNvdW50OiAwXG4gICAgfTtcbiAgICAvLyBjb3VudCBpcyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZVxuICAgIGxldCBjb3VudCA9IDA7XG4gICAgY29uc3Qgc2NoZW1hQ2xhc3MgPSBzY2hlbWEuY2xhc3Nlcz8uW2NsYXNzSWRdO1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHByb3BlcnR5QXR0cmlidXRlcykge1xuICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGNvdW50ID0gYXR0cmlidXRlLnZhbHVlcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbGwgcHJvcGVydHlBdHRyaWJ1dGVzIG11c3QgYmUgdGhlIHNhbWVcbiAgICAgICAgaWYgKGNvdW50ICE9PSBhdHRyaWJ1dGUudmFsdWVzLmxlbmd0aCAmJiBhdHRyaWJ1dGUudmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIHZhbHVlcyBpbiBhdHRyaWJ1dGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xhc3NQcm9wZXJ0eSA9IHNjaGVtYUNsYXNzPy5wcm9wZXJ0aWVzW2F0dHJpYnV0ZS5uYW1lXTtcbiAgICAgICAgaWYgKGNsYXNzUHJvcGVydHkpIHtcbiAgICAgICAgICAgIC8vIGNvbnN0IHRhYmxlUHJvcGVydHkgPSBjcmVhdGVQcm9wZXJ0eVRhYmxlUHJvcGVydHkoYXR0cmlidXRlLCBjbGFzc1Byb3BlcnR5LCBzY2VuZWdyYXBoKTtcbiAgICAgICAgICAgIGlmICghdGFibGUucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIHRhYmxlLnByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHZhbHVlcyBpcyBhIHJlcXVpcmVkIGZpZWxkLiBJdHMgcmVhbCB2YWx1ZSB3aWxsIGJlIHNldCB3aGlsZSBlbmNvZGluZyBkYXRhXG4gICAgICAgICAgICB0YWJsZS5wcm9wZXJ0aWVzW2F0dHJpYnV0ZS5uYW1lXSA9IHsgdmFsdWVzOiAwLCBkYXRhOiBhdHRyaWJ1dGUudmFsdWVzIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGFibGUuY291bnQgPSBjb3VudDtcbiAgICByZXR1cm4gdGFibGU7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eVRhYmxlUHJvcGVydHkoXG4vLyBhdHRyaWJ1dGU6IFByb3BlcnR5QXR0cmlidXRlLFxudmFsdWVzLCBjbGFzc1Byb3BlcnR5LCBzY2VuZWdyYXBoKSB7XG4gICAgY29uc3QgcHJvcCA9IHsgdmFsdWVzOiAwIH07XG4gICAgaWYgKGNsYXNzUHJvcGVydHkudHlwZSA9PT0gJ1NUUklORycpIHtcbiAgICAgICAgY29uc3QgeyBzdHJpbmdEYXRhLCBzdHJpbmdPZmZzZXRzIH0gPSBjcmVhdGVQcm9wZXJ0eURhdGFTdHJpbmcodmFsdWVzKTtcbiAgICAgICAgcHJvcC5zdHJpbmdPZmZzZXRzID0gY3JlYXRlQnVmZmVyVmlldyhzdHJpbmdPZmZzZXRzLCBzY2VuZWdyYXBoKTtcbiAgICAgICAgcHJvcC52YWx1ZXMgPSBjcmVhdGVCdWZmZXJWaWV3KHN0cmluZ0RhdGEsIHNjZW5lZ3JhcGgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjbGFzc1Byb3BlcnR5LnR5cGUgPT09ICdTQ0FMQVInICYmIGNsYXNzUHJvcGVydHkuY29tcG9uZW50VHlwZSkge1xuICAgICAgICBjb25zdCBkYXRhID0gY3JlYXRlUHJvcGVydHlEYXRhU2NhbGFyKHZhbHVlcywgY2xhc3NQcm9wZXJ0eS5jb21wb25lbnRUeXBlKTtcbiAgICAgICAgcHJvcC52YWx1ZXMgPSBjcmVhdGVCdWZmZXJWaWV3KGRhdGEsIHNjZW5lZ3JhcGgpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcDtcbn1cbmNvbnN0IENPTVBPTkVOVF9UWVBFX1RPX0FSUkFZX0NPTlNUUlVDVE9SID0ge1xuICAgIElOVDg6IEludDhBcnJheSxcbiAgICBVSU5UODogVWludDhBcnJheSxcbiAgICBJTlQxNjogSW50MTZBcnJheSxcbiAgICBVSU5UMTY6IFVpbnQxNkFycmF5LFxuICAgIElOVDMyOiBJbnQzMkFycmF5LFxuICAgIFVJTlQzMjogVWludDMyQXJyYXksXG4gICAgSU5UNjQ6IEludDMyQXJyYXksXG4gICAgVUlOVDY0OiBVaW50MzJBcnJheSxcbiAgICBGTE9BVDMyOiBGbG9hdDMyQXJyYXksXG4gICAgRkxPQVQ2NDogRmxvYXQ2NEFycmF5XG59O1xuZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlEYXRhU2NhbGFyKGFycmF5LCBjb21wb25lbnRUeXBlKSB7XG4gICAgY29uc3QgbnVtYmVyQXJyYXkgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGFycmF5KSB7XG4gICAgICAgIG51bWJlckFycmF5LnB1c2goTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICAgIGNvbnN0IENvbnN0cnVjdCA9IENPTVBPTkVOVF9UWVBFX1RPX0FSUkFZX0NPTlNUUlVDVE9SW2NvbXBvbmVudFR5cGVdO1xuICAgIGlmICghQ29uc3RydWN0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBjb21wb25lbnQgdHlwZScpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdChudW1iZXJBcnJheSk7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eURhdGFTdHJpbmcoc3RyaW5ncykge1xuICAgIGNvbnN0IHV0ZjhFbmNvZGUgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBsZXQgbGVuID0gMDtcbiAgICBmb3IgKGNvbnN0IHN0ciBvZiBzdHJpbmdzKSB7XG4gICAgICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSB1dGY4RW5jb2RlLmVuY29kZShzdHIpO1xuICAgICAgICBsZW4gKz0gdWludDhBcnJheS5sZW5ndGg7XG4gICAgICAgIGFyci5wdXNoKHVpbnQ4QXJyYXkpO1xuICAgIH1cbiAgICBjb25zdCBzdHJBcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgY29uc3Qgc3RyT2Zmc2V0cyA9IFtdO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAoY29uc3Qgc3RyIG9mIGFycikge1xuICAgICAgICBzdHJBcnJheS5zZXQoc3RyLCBvZmZzZXQpO1xuICAgICAgICBzdHJPZmZzZXRzLnB1c2gob2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IHN0ci5sZW5ndGg7XG4gICAgfVxuICAgIHN0ck9mZnNldHMucHVzaChvZmZzZXQpOyAvLyBUaGUgbGFzdCBvZmZzZXQgcmVwcmVzZW50cyB0aGUgYnl0ZSBvZmZzZXQgYWZ0ZXIgdGhlIGxhc3Qgc3RyaW5nLlxuICAgIGNvbnN0IHN0cmluZ09mZnNldHNUeXBlZEFycmF5ID0gbmV3IFVpbnQzMkFycmF5KHN0ck9mZnNldHMpOyAvLyBJdHMgbGVuZ3RoID0gbGVuKzFcbiAgICByZXR1cm4geyBzdHJpbmdEYXRhOiBzdHJBcnJheSwgc3RyaW5nT2Zmc2V0czogc3RyaW5nT2Zmc2V0c1R5cGVkQXJyYXkgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlclZpZXcodHlwZWRBcnJheSwgc2NlbmVncmFwaCkge1xuICAgIHNjZW5lZ3JhcGguZ2x0Zi5idWZmZXJzLnB1c2goe1xuICAgICAgICBhcnJheUJ1ZmZlcjogdHlwZWRBcnJheS5idWZmZXIsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IHR5cGVkQXJyYXkuYnl0ZU9mZnNldCxcbiAgICAgICAgYnl0ZUxlbmd0aDogdHlwZWRBcnJheS5ieXRlTGVuZ3RoXG4gICAgfSk7XG4gICAgcmV0dXJuIHNjZW5lZ3JhcGguYWRkQnVmZmVyVmlldyh0eXBlZEFycmF5KTtcbn1cbiIsIi8vIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIG1lc2hvcHRpbWl6ZXIgbGlicmFyeSBhbmQgaXMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIE1JVCBMaWNlbnNlLlxuLy8gQ29weXJpZ2h0IChDKSAyMDE2LTIwMjEsIGJ5IEFyc2VueSBLYXBvdWxraW5lIChhcnNlbnkua2Fwb3Vsa2luZUBnbWFpbC5jb20pXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbmNvbnN0IGlzV2ViQXNzZW1ibHlTdXBwb3J0ZWQgPSB0eXBlb2YgV2ViQXNzZW1ibHkgIT09ICdvYmplY3QnO1xuLy8gQnVpbHQgd2l0aCBjbGFuZyB2ZXJzaW9uIDExLjAuMCAoaHR0cHM6Ly9naXRodWIuY29tL2xsdm0vbGx2bS1wcm9qZWN0LmdpdCAwMTYwYWQ4MDJlODk5YzI5MjJiYzliMjk1NjQwODBjMjJlYjA5MDhjKVxuLy8gQnVpbHQgZnJvbSBtZXNob3B0aW1pemVyIDAuMTZcbmNvbnN0IHdhc21fYmFzZSA9ICdCOWg5ejl0RkJCQkY4Zkw5Z0JCOWdMYWFhYWFGYTlnRWFhYUI5Z0ZhRmE5Z0VhYWFGYUVNY0JGRkZHR0dFSUlJTEY5d0ZGRkxFRkJGS05GYUZDeC9JRk1PL0xGVks5dHY5dDl2cTk1R0J0OWY5ZjkzOWg5ejl0OWY5ajloOXM5czlmOWpXOXZxOXpCQnA5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5V3ZxV3Y5NGg5MTltOW12cUJGOFo5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5Sjl1OWt2OTRoOTE5bTltdnFCR3k5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5Sjl1OWt2OTQ5VHZaOTF2OXU5anZCRW45dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y2OXA5c1d2cTlQOWpXQklpOXR2OXo5bzl2OXdXOWY5a3Y5ajl2OWt2NjlwOXNXdnE5UjkxOWhXQkxuOXR2OXo5bzl2OXdXOWY5a3Y5ajl2OWt2NjlwOXNXdnE5Rjk0OXdCS0k5ejlpcWxCT2MreDh5Y0dCTS9xUUZUYThqVVVVVUJDVS9FQmxITDhrVVVVVUJDOStSS0dYQUdDRkpBSTlMUUJDYVJLQUUyQkJDK2dGOUhRQkFMQUVBSUpIT0FHbEFHVGtVVVVCUk5DVW9CQUc5dUMvd2dCWkhLQ1VHQUtDVUc5SnlSVkFFQ0ZKUklDQlJjR1hFWEFjQUY5UFFGQVZBRkFjbEFjQVZKQUY5SnlSTUdYR1hBRzlGUUJBTUNiSkhLQzl3WlJTQUtDSXJDRUpDR3JSUUFOQ1VHSlJmQ0JSYkFJUlRFWEdYQU9BVGxBUTlQUUJDQlJJU0VNQVRBUUpSSUdYQVM5RlFCQ0JSdENCUkVFWEdYQU9BSWxDaTlQUUJDQlJJU0xNQU5DVS9DQkpBRUpSS0dYR1hHWEdYR1hBVEFFQ0tySjJCQkF0Q0tackNFWmZJQkZHRUJNQUtoQjgzRUJBS0NOSmhCODNFQlNFTUFLQUkyQklBSTJCQkhtQ0tySFlBWUNFNkhZeTg2QkJBS0NGSkFJQ0lKQVlKSFkyQkJBbUNJckNFWkhQQVBDRTZIUHk4NkJCQUtDR0pBWUFQSkhZMkJCQW1DR3JDRVpIUEFQQ0U2SFB5ODZCQkFLQ0VKQVlBUEpIWTJCQkFtQ0VaSG1BbUNFNkhteTg2QkJBS0NJSkFZQW1KSFkyQkJBSTJCRkhtQ0tySFBBUENFNkhQeTg2QkJBS0NMSkFZQVBKSFkyQkJBbUNJckNFWkhQQVBDRTZIUHk4NkJCQUtDS0pBWUFQSkhZMkJCQW1DR3JDRVpIUEFQQ0U2SFB5ODZCQkFLQ09KQVlBUEpIWTJCQkFtQ0VaSG1BbUNFNkhteTg2QkJBS0NOSkFZQW1KSFkyQkJBSTJCR0htQ0tySFBBUENFNkhQeTg2QkJBS0NWSkFZQVBKSFkyQkJBbUNJckNFWkhQQVBDRTZIUHk4NkJCQUtDY0pBWUFQSkhZMkJCQW1DR3JDRVpIUEFQQ0U2SFB5ODZCQkFLQ01KQVlBUEpIWTJCQkFtQ0VaSG1BbUNFNkhteTg2QkJBS0NTSkFZQW1KSG0yQkJBSTJCRUhJQ0tySFlBWUNFNkhZeTg2QkJBS0NRSkFtQVlKSG0yQkJBSUNJckNFWkhZQVlDRTZIWXk4NkJCQUtDZkpBbUFZSkhtMkJCQUlDR3JDRVpIWUFZQ0U2SFl5ODZCQkFLQ2JKQW1BWUpISzJCQkFJQ0VaSElBSUNFNkhJeTg2QkJBS0FJSlJJU0dNQUtBSTJCTkFJMkJCSG1DSXJIWUFZQ2I2SFl5ODZCQkFLQ0ZKQUlDTkpBWUpIWTJCQkFtQ2JaSG1BbUNiNkhteTg2QkJBS0NHSkFZQW1KSG0yQkJBSTJCRkhZQ0lySFBBUENiNkhQeTg2QkJBS0NFSkFtQVBKSG0yQkJBWUNiWkhZQVlDYjZIWXk4NkJCQUtDSUpBbUFZSkhtMkJCQUkyQkdIWUNJckhQQVBDYjZIUHk4NkJCQUtDTEpBbUFQSkhtMkJCQVlDYlpIWUFZQ2I2SFl5ODZCQkFLQ0tKQW1BWUpIbTJCQkFJMkJFSFlDSXJIUEFQQ2I2SFB5ODZCQkFLQ09KQW1BUEpIbTJCQkFZQ2JaSFlBWUNiNkhZeTg2QkJBS0NOSkFtQVlKSG0yQkJBSTJCSUhZQ0lySFBBUENiNkhQeTg2QkJBS0NWSkFtQVBKSG0yQkJBWUNiWkhZQVlDYjZIWXk4NkJCQUtDY0pBbUFZSkhtMkJCQUkyQkxIWUNJckhQQVBDYjZIUHk4NkJCQUtDTUpBbUFQSkhtMkJCQVlDYlpIWUFZQ2I2SFl5ODZCQkFLQ1NKQW1BWUpIbTJCQkFJMkJLSFlDSXJIUEFQQ2I2SFB5ODZCQkFLQ1FKQW1BUEpIbTJCQkFZQ2JaSFlBWUNiNkhZeTg2QkJBS0NmSkFtQVlKSG0yQkJBSTJCT0hJQ0lySFlBWUNiNkhZeTg2QkJBS0NiSkFtQVlKSEsyQkJBSUNiWkhJQUlDYjZISXk4NkJCQUtBSUpSSVNGTUFLQUk4cEJCODNCQkFLQ05KQUlDTko4cEJCODNCQkFJQ1RKUklNQXRDR0pSdEFFQ1RKSEVBUzlKUUJNTUdYQUlRQkNCUklTRU1HWEFNOUZRQkFOQWJKMkJCUnRDQlJLQWZSRUVYQUVBTkNVL0NCSkFLSjJCQkhUQ0ZyQ0JBVENGWmw5ekF0Skh0ODZCQkFFQUdKUkVBS0NGSkhLQU05SFFCTU1BZkNGSlJmQUlSVEFiQ0ZKSGJBRzlIUUJNTUFCQWNBRzlzSkFOQ1VHSkFNQUc5c1RrVVVVQnBBTkFOQ1VHSkFNQ2FKQUc5c0pBR1RrVVVVQnBNQU1DQkFJeUFjSlJjQUlRQk1DOStSS1NGTUNCQzk5QU9BSWxBR0NBQUdDQTlMeTZ5UktNQUxDVS9FQko4a1VVVVVCQUtNK09tRlRhOGpVVVVVQkNvRmxITDhrVVVVVUJDOStSS0dYQUZDRTl1SE9DdEpBSTlMUUJDYVJLQUUyQkJITkMvd0ZaQy9nRjlIUUJBTkNiWkhWQ0Y5TFFCQUxDb0JKQ2dGQ1VGVCtKVVVVQnBBTEM4NEpoYTgzRUJBTEM4d0poYTgzRUJBTEM4b0poYTgzRUJBTENBSmhhODNFQkFMQ2lKaGE4M0VCQUxDVEpoYTgzRUJBTGhhODNFTkFMaGE4M0VCQUVBSUpDOXdKUmNBRUNGSkhOQU9KUk1HWEFGOUZRQkNRQ2JBVkNGNnlSU0FCUkVDQlJWQ0JSUUNCUmZDQlJJQ0JSS0VYR1hBTUFjdVFCQzkrUktTRU1HWEdYQU4yQkJIT0MvdkY5TFFCQUxDb0JKQU9DSXJDYTl6QUtKQ2JaQ0VXSkhiOG9HSVJUQWI4b0dCUnRHWEFPQ2JaSGJBUzlQUUJBTEFPQ2E5ekFJSkNiWkNHV0o4b0dCQVZBYnlST0FiOUZSYkdYR1hBR0NHOUhRQkFCQXQ4N0ZCQUJDSUpBTzg3RkJBQkNHSkFUODdGQlNGTUFFQXRqR0JBRUNOSkFPakdCQUVDSUpBVGpHQk1BVkFiSlJWQUxDb0JKQUtDRVdKSG1BT2pHQkFtQVRqR0lBTEFJQ0dXSkFPakdCQUxDb0JKQUtDRkpDYlpIS0NFV0pIVEF0akdCQVRBT2pHSUFJQWJKUklBS0NGSlJLU0dNR1hHWEFiQ2I2UUJBUUFiSkFiQzk4OXpKQ0ZKUlFTRk1BTTFCQkhiQ2dGWlJPR1hHWEFiQ2E5TVFCQU1DRkpSTVNGTUFNMUJGSGJDZ0JaQ09XQU9DZ0JacVJPR1hBYkNhOU1RQkFNQ0dKUk1TRk1BTTFCR0hiQ2dCWkNmV0FPcVJPR1hBYkNhOU1RQkFNQ0VKUk1TRk1BTTFCRUhiQ2dCWkNkV0FPcVJPR1hBYkNhOU1RQkFNQ0lKUk1TRk1BTTJCSUM4Y1dBT3FST0FNQ0xKUk1NQU9DRnJDQkFPQ0ZabDl6QVFKUlFNR1hHWEFHQ0c5SFFCQUJBdDg3RkJBQkNJSkFRODdGQkFCQ0dKQVQ4N0ZCU0ZNQUVBdGpHQkFFQ05KQVFqR0JBRUNJSkFUakdCTUFMQ29CSkFLQ0VXSkhPQVFqR0JBT0FUakdJQUxBSUNHV0pBUWpHQkFMQ29CSkFLQ0ZKQ2JaSEtDRVdKSE9BdGpHQkFPQVFqR0lBSUNGSlJJQUtDRkpSS1NGTUdYQU9DREY5TFFCQUxBSUFjQU9DYlpKMkJCSGJDSXJIVGxDYlpDR1dKOG9HQkFWQ0ZKSHRBVHlST0FMQUlBYmxDYlpDR1dKOG9HQkF0QVQ5RkhtSkh0QWJDYlpIVHlSYkFUOUZSVEdYR1hBR0NHOUhRQkFCQVY4N0ZCQUJDSUpBYjg3RkJBQkNHSkFPODdGQlNGTUFFQVZqR0JBRUNOSkFiakdCQUVDSUpBT2pHQk1BTEFJQ0dXSkFWakdCQUxDb0JKQUtDRVdKSFlBT2pHQkFZQVZqR0lBTEFJQ0ZKSElDYlpDR1dKQU9qR0JBTENvQkpBS0NGSkNiWkNFV0pIWUFiakdCQVlBT2pHSUFMQUlBbUpDYlpISUNHV0pBYmpHQkFMQ29CSkFLQ0dKQ2JaSEtDRVdKSE9BVmpHQkFPQWJqR0lBS0NGSlJLQUlBVEpSSUF0QVRKUlZTRk1BVkNCQU0yQkJIWXlIVEFPQy8rRjZIUEpST0FZQ2JaUnRHWEdYQVlDSXJIbVFCQU9DRkpSYlNGTUFPUmJBTEFJQW1sQ2JaQ0dXSjhvR0JST01HWEdYQXRRQkFiQ0ZKUlZTRk1BYlJWQUxBSUFZbENiWkNHV0o4b0dCUmJNR1hHWEFQOUZRQkFNQ0ZKUllTRk1BTTFCRkhZQ2dGWlJUR1hHWEFZQ2E5TVFCQU1DR0pSWVNGTUFNMUJHSFlDZ0JaQ09XQVRDZ0JacVJUR1hBWUNhOU1RQkFNQ0VKUllTRk1BTTFCRUhZQ2dCWkNmV0FUcVJUR1hBWUNhOU1RQkFNQ0lKUllTRk1BTTFCSUhZQ2dCWkNkV0FUcVJUR1hBWUNhOU1RQkFNQ0xKUllTRk1BTUNLSlJZQU0yQkxDOGNXQVRxUlRNQVRDRnJDQkFUQ0ZabDl6QVFKSFFSVE1HWEdYQW1DYjZRQkFZUlBTRk1BWTFCQkhNQ2dGWlJPR1hHWEFNQ2E5TVFCQVlDRkpSUFNGTUFZMUJGSE1DZ0JaQ09XQU9DZ0JacVJPR1hBTUNhOU1RQkFZQ0dKUlBTRk1BWTFCR0hNQ2dCWkNmV0FPcVJPR1hBTUNhOU1RQkFZQ0VKUlBTRk1BWTFCRUhNQ2dCWkNkV0FPcVJPR1hBTUNhOU1RQkFZQ0lKUlBTRk1BWUNMSlJQQVkyQklDOGNXQU9xUk9NQU9DRnJDQkFPQ0ZabDl6QVFKSFFST01HWEdYQXRDYjZRQkFQUk1TRk1BUDFCQkhNQ2dGWlJiR1hHWEFNQ2E5TVFCQVBDRkpSTVNGTUFQMUJGSE1DZ0JaQ09XQWJDZ0JacVJiR1hBTUNhOU1RQkFQQ0dKUk1TRk1BUDFCR0hNQ2dCWkNmV0FicVJiR1hBTUNhOU1RQkFQQ0VKUk1TRk1BUDFCRUhNQ2dCWkNkV0FicVJiR1hBTUNhOU1RQkFQQ0lKUk1TRk1BUENMSlJNQVAyQklDOGNXQWJxUmJNQWJDRnJDQkFiQ0ZabDl6QVFKSFFSYk1HWEdYQUdDRzlIUUJBQkFUODdGQkFCQ0lKQWI4N0ZCQUJDR0pBTzg3RkJTRk1BRUFUakdCQUVDTkpBYmpHQkFFQ0lKQU9qR0JNQUxDb0JKQUtDRVdKSFlBT2pHQkFZQVRqR0lBTEFJQ0dXSkFUakdCQUxDb0JKQUtDRkpDYlpDRVdKSFlBYmpHQkFZQU9qR0lBTEFJQ0ZKSElDYlpDR1dKQU9qR0JBTENvQkpBS0NHSkNiWkNFV0pIT0FUakdCQU9BYmpHSUFMQUlBbTlGQW1DYjZxSkhJQ2JaQ0dXSkFiakdCQUlBdDlGQXRDYjZxSlJJQUtDRUpSS01BTkNGSlJOQUJDS0pSQkFFQ1NKUkVBS0NiWlJLQUlDYlpSSUFmQ0VKSGZBRjlKUUJNTUNCQzk5QU1BYzZ5UktNQUxDb0ZKOGtVVVVVQkFLTS90SUZHYThqVVVVVUJDVGxSTEM5K1JLR1hBRkNMSkFJOUxRQkNhUktBRTJCQkMvK0ZaQy9RRjlIUUJBTGhCODNFTkFFQ0ZKUktBRUFJSkM5OEpSRUdYQUY5RlFCR1hBR0NHNlFCRVhHWEFLQUU5SlFCQzkrYk1BSzFCQkhHQ2dGWlJJR1hHWEFHQ2E5TVFCQUtDRkpSS1NGTUFLMUJGSEdDZ0JaQ09XQUlDZ0JacVJJR1hBR0NhOU1RQkFLQ0dKUktTRk1BSzFCR0hHQ2dCWkNmV0FJcVJJR1hBR0NhOU1RQkFLQ0VKUktTRk1BSzFCRUhHQ2dCWkNkV0FJcVJJR1hBR0NhOU1RQkFLQ0lKUktTRk1BSzJCSUM4Y1dBSXFSSUFLQ0xKUktNQUxDTkpBSUNGWkNHV3FIR0FJQ0dyQ0JBSUNGckNGWmw5ekFHOG9HQkpISWpHQkFCQUlqR0JBQkNJSlJCQUZDYUpIRlFCU0dNTUVYR1hBS0FFOUpRQkM5K2JNQUsxQkJIR0NnRlpSSUdYR1hBR0NhOU1RQkFLQ0ZKUktTRk1BSzFCRkhHQ2dCWkNPV0FJQ2dCWnFSSUdYQUdDYTlNUUJBS0NHSlJLU0ZNQUsxQkdIR0NnQlpDZldBSXFSSUdYQUdDYTlNUUJBS0NFSlJLU0ZNQUsxQkVIR0NnQlpDZFdBSXFSSUdYQUdDYTlNUUJBS0NJSlJLU0ZNQUsyQklDOGNXQUlxUklBS0NMSlJLTUFCQUlDR3JDQkFJQ0ZyQ0ZabDl6QUxDTkpBSUNGWkNHV3FISThvR0JKSEc4N0ZCQUlBR2pHQkFCQ0dKUkJBRkNhSkhGUUJNTUNCQzk5QUtBRTZ5UktNQUtNK2xMS0ZhRjk5R2FHOTlGYUc5OUdYR1hBR0NJOUhRQkFGOUZRRkVYR1hHWDlEQkJCOC85REJCQisvQUJDR0pIRzFCQit5QUIxQkJIRSt5SEkrTCtUQUJDRkpITDFCQkhLK3lITytMK1RITjlEQkJCQjlnSFZ5QU45REJCLytoQU5BTitVOURCQkJCQU5BVnlIY0FjK01ITUFFQ2EzeUFJK1NISUFJK1VBY0FNQUtDYTN5QU8rU0hjQWMrVStTK1MrUitWSE8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkVTRk1DVVVVVTk0UkVNQUdBRTg2QkJHWEdYOURCQkI4LzlEQkJCKy9BYzlEQkJCQjlneUFjQU8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkdTRk1DVVVVVTk0UkdNQUxBRzg2QkJHWEdYOURCQkI4LzlEQkJCKy9BSTlEQkJCQjlneUFJQU8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkdTRk1DVVVVVTk0UkdNQUJBRzg2QkJBQkNJSlJCQUZDYUpIRlFCU0dNTUFGOUZRQkVYR1hHWDlEQkJCOC85REJCQisvQUJDSUpIRzh1RkIreUFCOHVGQkhFK3lISStMK1RBQkNHSkhMOHVGQkhLK3lITytMK1RITjlEQkJCQjlnSFZ5QU45REIvK2c2QU5BTitVOURCQkJCQU5BVnlIY0FjK01ITUFFQ2EzeUFJK1NISUFJK1VBY0FNQUtDYTN5QU8rU0hjQWMrVStTK1MrUitWSE8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkVTRk1DVVVVVTk0UkVNQUdBRTg3RkJHWEdYOURCQkI4LzlEQkJCKy9BYzlEQkJCQjlneUFjQU8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkdTRk1DVVVVVTk0UkdNQUxBRzg3RkJHWEdYOURCQkI4LzlEQkJCKy9BSTlEQkJCQjlneUFJQU8rVStTSE4rTDlEQkJCOVA5ZDlGUUJBTitvUkdTRk1DVVVVVTk0UkdNQUJBRzg3RkJBQkNOSlJCQUZDYUpIRlFCTU1NL1NFSUVhRTk5RWFGOTlHWEFGOUZRQkNCUkVBQlJJRVhHWEdYOUQvekk4MTgvQUlDS0o4dUZCSExDRXEreStWSEtBSTh1RkIreStVSE85REIvK2c2K1U5REJCQjgvOURCQkIrL0FPOURCQkJCOWd5K1NITitMOURCQkI5UDlkOUZRQkFOK29SVlNGTUNVVVVVOTRSVk1BSUNJSjh1RkJSY0FJQ0dKOHVGQlJNQUJBTENGSkNFWkFFcUNGV0pBVjg3RkJHWEdYQUtBTSt5K1VITjlEQi8rZzYrVTlEQkJCOC85REJCQisvQU45REJCQkI5Z3krU0hTK0w5REJCQjlQOWQ5RlFCQVMrb1JNU0ZNQ1VVVVU5NFJNTUFCQUxDR0pDRVpBRXFDRldKQU04N0ZCR1hHWEFLQWMreStVSEs5REIvK2c2K1U5REJCQjgvOURCQkIrL0FLOURCQkJCOWd5K1NIUytMOURCQkI5UDlkOUZRQkFTK29SY1NGTUNVVVVVOTRSY01BQkFMQ2FKQ0VaQUVxQ0ZXSkFjODdGQkdYR1g5REJCVTgvQU9BTytVK1RBTkFOK1UrVEFLQUsrVStUSE85REJCQkJBTzlEQkJCQjlneStSOURCLytnNitVOURCQkI4LytTSE8rTDlEQkJCOVA5ZDlGUUJBTytvUmNTRk1DVVVVVTk0UmNNQUJBTENFWkFFcUNGV0pBYzg3RkJBSUNOSlJJQUVDSUpSRUFGQ2FKSEZRQk1NTTlKQkdYQUdDR3JBRjlzSEY5RlFCRVhBQkFCOG9HQkhHQ05XQ045MSt5QUdDaTkxQ25XQ1VVVS84RUorKytVODRHQkFCQ0lKUkJBRkNhSkhGUUJNTU05VEZFYUNCQ0I4b0dVa1VVQkhGQUJDRUpDOThaSkhCakdVa1VVQkdYR1hBQjgvQkNUV0hHdVFCQ2FSRUFCQUdsQ2dnRUpDVHJYQkNhNlFGTUFGUkVNQUVNL2xGRkZhR1hHWEFGQUJxQ0VaOUZRQkFCUkVTRk1HWEdYQUdDVDlQUUJBQlJFU0ZNQUJSRUVYQUVBRjhvR0JqR0JBRUNJSkFGQ0lKOG9HQmpHQkFFQ05KQUZDTko4b0dCakdCQUVDU0pBRkNTSjhvR0JqR0JBRUNUSlJFQUZDVEpSRkFHQzl3SkhHQ2I5TFFCTU1BR0NJOUpRQkVYQUVBRjhvR0JqR0JBRkNJSlJGQUVDSUpSRUFHQzk4SkhHQ0U5TFFCTU1HWEFHOUZRQkVYQUVBRjJCQjg2QkJBRUNGSlJFQUZDRkpSRkFHQ2FKSEdRQk1NQUJNb0ZGR2FHWEdYQUJDRVo5RlFCQUJSRVNGTUFGQ2dGWkMrQndzTjlzUklHWEdYQUdDVDlQUUJBQlJFU0ZNQUJSRUVYQUVBSWpHQkFFQ1NKQUlqR0JBRUNOSkFJakdCQUVDSUpBSWpHQkFFQ1RKUkVBR0M5d0pIR0NiOUxRQk1NQUdDSTlKUUJFWEFFQUlqR0JBRUNJSlJFQUdDOThKSEdDRTlMUUJNTUdYQUc5RlFCRVhBRUFGODZCQkFFQ0ZKUkVBR0NhSkhHUUJNTUFCTU1NRkJDVU5NSVQ5a0JCJztcbmNvbnN0IHdhc21fc2ltZCA9ICdCOWg5ejl0RkJCQkY4ZEw5Z0JCOWdMYWFhYWFGYTlnRWFhYUI5Z0dhYUI5Z0ZhRmFFUVNCQkZCRkZHRUdFR0lJTEY5d0ZGRkxFRkJGS05GYUZDeC9hRk1PL0xGVks5dHY5dDl2cTk1R0J0OWY5ZjkzOWg5ejl0OWY5ajloOXM5czlmOWpXOXZxOXpCQnA5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5V3ZxV3Y5NGg5MTltOW12cUJHOFo5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5Sjl1OWt2OTRoOTE5bTltdnFCSXk5dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y5Sjl1OWt2OTQ5VHZaOTF2OXU5anZCTG45dHY5ejlvOXY5d1c5ZjlrdjlqOXY5a3Y2OXA5c1d2cTlQOWpXQktpOXR2OXo5bzl2OXdXOWY5a3Y5ajl2OWt2NjlwOXNXdnE5UjkxOWhXQk5uOXR2OXo5bzl2OXdXOWY5a3Y5ajl2OWt2NjlwOXNXdnE5Rjk0OXdCY0k5ejlpcWxCTWMvajlKU0lCVEVNOStGTGE4alVVVVVCQ1RsUkJDQlJGRVhDQlJHQ0JSRUVYQUJDTkpBR0pBRUNVYUFGQUdyQ0ZaSEl5ODZCQkFFQUlKUkVBR0NGSkhHQ045SFFCTUFGQ3grWVVVQkpBRTg2QkJBRkNFV0N4a1VVQkpBQjhwRU44M0VCQUZDRkpIRkNVRzlIUUJNTWtSSWJhRzk3RmFLOTc4alVVVVVCQ1UvS0JsSEw4a1VVVVVCQzkrUktHWEFHQ0ZKQUk5TFFCQ2FSS0FFMkJCQytnRjlIUUJBTEFFQUlKSE9BR2xBRy84Y0JCQ1VvQkFHOXVDL3dnQlpIS0NVR0FLQ1VHOUp5Uk5BRUNGSlJLQ0JSVkdYRVhBVkFGOVBRRkFOQUZBVmxBVkFOSkFGOUp5UmNHWEdYQUc5RlFCQWNDYkpISUM5d1pITUNFOXNSU0FNQ0ZXUlFBSUNJckNFSkNHclJmQ0JSYkVYQUtSVENCUnRHWEVYR1hBT0FUbEFmOVBRQkNCUktTTE1BTENVL0NCSkF0QU05c0pSbUFUQWZKUktDQlJFR1hBTUNvQjlKUUJBT0FLbEMvZ0I5SlFCQ0JSSUVYQW1BSUpSRUdYR1hHWEdYR1hBVEFJQ0tySjJCQkhZQ0VaZklCRkdFQk1BRUNCRHRETUlCU0VNQUVBS0RCQklBS0RCQkJIUENJRCtNRkFQRFFCVEZ0R21FWUlQTGRLZU9uSFBDR0QrTUZBUERRQlRGdEdtRVlJUExkS2VPbkMwK0crTWlEdEQ5T0hkQ0VEYkQ4akhQRDhkQmhVZy84LzQvdy9nb0I5K2g4NGs3SGVDRVdDeGtVVUJKREJFQkFlQ3grWVVVQkpEQkJCSG5BbkRRQkJCQkJCQkJCQkJCQkJCQkFQRDhkRmhVZy84LzQvdy9nb0I5K2g4NGs3SGVDRVdDeGtVVUJKREJFQkQ5dURRQkZHRUlMS09UdG1ZUGRlbkRmQWRBUEQ5U0RNSUJBS0NJSkFuRGVCSkFlQ3grWVVVQkoyQkJKUktTR01BRUFLREJCTkFLREJCQkhQQ0lEK01GQVBEUUJURnRHbUVZSVBMZEtlT25DK1ArZSs4LzRCRHREOU9IZENiRGJEOGpIUEQ4ZEJoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJBZUN4K1lVVUJKREJCQkhuQW5EUUJCQkJCQkJCQkJCQkJCQkJBUEQ4ZEZoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJEOXVEUUJGR0VJTEtPVHRtWVBkZW5EZkFkQVBEOVNETUlCQUtDTkpBbkRlQkpBZUN4K1lVVUJKMkJCSlJLU0ZNQUVBS0RCQkJETUlCQUtDVEpSS01HWEdYR1hHWEdYQVlDR3JDRVpmSUJGR0VCTUFFQ0JEdERNSVRTRU1BRUFLREJCSUFLREJCQkhQQ0lEK01GQVBEUUJURnRHbUVZSVBMZEtlT25IUENHRCtNRkFQRFFCVEZ0R21FWUlQTGRLZU9uQzArRytNaUR0RDlPSGRDRURiRDhqSFBEOGRCaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCQWVDeCtZVVVCSkRCQkJIbkFuRFFCQkJCQkJCQkJCQkJCQkJCQVBEOGRGaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCRDl1RFFCRkdFSUxLT1R0bVlQZGVuRGZBZEFQRDlTRE1JVEFLQ0lKQW5EZUJKQWVDeCtZVVVCSjJCQkpSS1NHTUFFQUtEQkJOQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkMrUCtlKzgvNEJEdEQ5T0hkQ2JEYkQ4akhQRDhkQmhVZy84LzQvdy9nb0I5K2g4NGs3SGVDRVdDeGtVVUJKREJFQkFlQ3grWVVVQkpEQkJCSG5BbkRRQkJCQkJCQkJCQkJCQkJCQkFQRDhkRmhVZy84LzQvdy9nb0I5K2g4NGs3SGVDRVdDeGtVVUJKREJFQkQ5dURRQkZHRUlMS09UdG1ZUGRlbkRmQWRBUEQ5U0RNSVRBS0NOSkFuRGVCSkFlQ3grWVVVQkoyQkJKUktTRk1BRUFLREJCQkRNSVRBS0NUSlJLTUdYR1hHWEdYR1hBWUNJckNFWmZJQkZHRUJNQUVDQkR0RE1JQVNFTUFFQUtEQkJJQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkhQQ0dEK01GQVBEUUJURnRHbUVZSVBMZEtlT25DMCtHK01pRHREOU9IZENFRGJEOGpIUEQ4ZEJoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJBZUN4K1lVVUJKREJCQkhuQW5EUUJCQkJCQkJCQkJCQkJCQkJBUEQ4ZEZoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJEOXVEUUJGR0VJTEtPVHRtWVBkZW5EZkFkQVBEOVNETUlBQUtDSUpBbkRlQkpBZUN4K1lVVUJKMkJCSlJLU0dNQUVBS0RCQk5BS0RCQkJIUENJRCtNRkFQRFFCVEZ0R21FWUlQTGRLZU9uQytQK2UrOC80QkR0RDlPSGRDYkRiRDhqSFBEOGRCaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCQWVDeCtZVVVCSkRCQkJIbkFuRFFCQkJCQkJCQkJCQkJCQkJCQVBEOGRGaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCRDl1RFFCRkdFSUxLT1R0bVlQZGVuRGZBZEFQRDlTRE1JQUFLQ05KQW5EZUJKQWVDeCtZVVVCSjJCQkpSS1NGTUFFQUtEQkJCRE1JQUFLQ1RKUktNR1hHWEdYR1hHWEFZQ0tyZklCRkdFQk1BRUNCRHRETUk4d1NFTUFFQUtEQkJJQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkhQQ0dEK01GQVBEUUJURnRHbUVZSVBMZEtlT25DMCtHK01pRHREOU9IZENFRGJEOGpIUEQ4ZEJoVWcvOC80L3cvZ29COStoODRrN0hZQ0VXQ3hrVVVCSkRCRUJBWUN4K1lVVUJKREJCQkhuQW5EUUJCQkJCQkJCQkJCQkJCQkJBUEQ4ZEZoVWcvOC80L3cvZ29COStoODRrN0hZQ0VXQ3hrVVVCSkRCRUJEOXVEUUJGR0VJTEtPVHRtWVBkZW5EZkFkQVBEOVNETUk4d0FLQ0lKQW5EZUJKQVlDeCtZVVVCSjJCQkpSS1NHTUFFQUtEQkJOQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkMrUCtlKzgvNEJEdEQ5T0hkQ2JEYkQ4akhQRDhkQmhVZy84LzQvdy9nb0I5K2g4NGs3SFlDRVdDeGtVVUJKREJFQkFZQ3grWVVVQkpEQkJCSG5BbkRRQkJCQkJCQkJCQkJCQkJCQkFQRDhkRmhVZy84LzQvdy9nb0I5K2g4NGs3SFlDRVdDeGtVVUJKREJFQkQ5dURRQkZHRUlMS09UdG1ZUGRlbkRmQWRBUEQ5U0RNSTh3QUtDTkpBbkRlQkpBWUN4K1lVVUJKMkJCSlJLU0ZNQUVBS0RCQkJETUk4d0FLQ1RKUktNQUlDb0JKUkVBSUNVRkpBTTlMUUZBRVJJQU9BS2xDL2ZCOUxRQk1NR1hBRUFNOVBRQkFFQ0VyUklFWEdYQU9BS2xDaTlQUUJDQlJLU09NQW1BRUpSWUdYR1hHWEdYR1hBVEFFQ0tySjJCQkFJQ0tackNFWmZJQkZHRUJNQVlDQkR0RE1JQlNFTUFZQUtEQkJJQUtEQkJCSFBDSUQrTUZBUERRQlRGdEdtRVlJUExkS2VPbkhQQ0dEK01GQVBEUUJURnRHbUVZSVBMZEtlT25DMCtHK01pRHREOU9IZENFRGJEOGpIUEQ4ZEJoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJBZUN4K1lVVUJKREJCQkhuQW5EUUJCQkJCQkJCQkJCQkJCQkJBUEQ4ZEZoVWcvOC80L3cvZ29COStoODRrN0hlQ0VXQ3hrVVVCSkRCRUJEOXVEUUJGR0VJTEtPVHRtWVBkZW5EZkFkQVBEOVNETUlCQUtDSUpBbkRlQkpBZUN4K1lVVUJKMkJCSlJLU0dNQVlBS0RCQk5BS0RCQkJIUENJRCtNRkFQRFFCVEZ0R21FWUlQTGRLZU9uQytQK2UrOC80QkR0RDlPSGRDYkRiRDhqSFBEOGRCaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCQWVDeCtZVVVCSkRCQkJIbkFuRFFCQkJCQkJCQkJCQkJCQkJCQVBEOGRGaFVnLzgvNC93L2dvQjkraDg0azdIZUNFV0N4a1VVQkpEQkVCRDl1RFFCRkdFSUxLT1R0bVlQZGVuRGZBZEFQRDlTRE1JQkFLQ05KQW5EZUJKQWVDeCtZVVVCSjJCQkpSS1NGTUFZQUtEQkJCRE1JQkFLQ1RKUktNQUlDR0pSSUFFQ1RKSEVBTTlKUUJNTUdYQUs5RlFCQUtSVEF0Q0ZKSHRDSTZRR1NGTU1DQlJLU0VNR1hBTTlGUUJBTENVR0pBYkpSRUFMQWJKREJHQlJuQ0JSWUVYQUVBTENVL0NCSkFZSkhJREJJQkhkQ0ZEOXRBZENGRGJIUEQ5T0Q5aEQ5UkhkQUlBTUpEQklCSGlDRkQ5dEFpQVBEOU9EOWhEOVJIaURRQlRGdEdtRVlJUExkS2VPbkg4WkFJQVFKREJJQkhwQ0ZEOXRBcEFQRDlPRDloRDlSSHBBSUFTSkRCSUJIeUNGRDl0QXlBUEQ5T0Q5aEQ5Ukh5RFFCVEZ0R21FWUlQTGRLZU9uSDhjRFFCRlR0R0VtWUlMUGRLT2VuSFBBUERRQkZHRUJGR0VCRkdFQkZHRUFuRDl1SG5EeUJqR0JBRUFHSkhJQW5BUEFQRFFJTEtPSUxLT0lMS09JTEtPRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFOVmNNTlZjTU5WY01OVmNNRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFTUWZiU1FmYlNRZmJTUWZiRDl1SG5EeUJqR0JBSUFHSkhJQW5BOFpBOGNEUU5WaThaY01weVNROGM4ZGZiOGU4ZkhQQVBEUUJGR0VCRkdFQkZHRUJGR0VEOXVIbkR5QmpHQkFJQUdKSElBbkFQQVBEUUlMS09JTEtPSUxLT0lMS09EOXVIbkR5QmpHQkFJQUdKSElBbkFQQVBEUU5WY01OVmNNTlZjTU5WY01EOXVIbkR5QmpHQkFJQUdKSElBbkFQQVBEUVNRZmJTUWZiU1FmYlNRZmJEOXVIbkR5QmpHQkFJQUdKSElBbkFkQWlEUU5pVjhaY3BNeVM4Y1E4ZGY4ZWI4ZkhkQXBBeURRTmlWOFpjcE15UzhjUThkZjhlYjhmSGlEUUJGVHRHRW1ZSUxQZEtPZW5IUEFQRFFCRkdFQkZHRUJGR0VCRkdFRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFJTEtPSUxLT0lMS09JTEtPRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFOVmNNTlZjTU5WY01OVmNNRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFTUWZiU1FmYlNRZmJTUWZiRDl1SG5EeUJqR0JBSUFHSkhJQW5BZEFpRFFOVmk4WmNNcHlTUThjOGRmYjhlOGZIUEFQRFFCRkdFQkZHRUJGR0VCRkdFRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFJTEtPSUxLT0lMS09JTEtPRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFOVmNNTlZjTU5WY01OVmNNRDl1SG5EeUJqR0JBSUFHSkhJQW5BUEFQRFFTUWZiU1FmYlNRZmJTUWZiRDl1SG5EeUJqR0JBSUFHSlJFQVlDVEpIWUFNOUpRQk1NQWJDSUpIYkFHOUpRQk1NQUJBVkFHOXNKQUxDVUdKQWNBRzlzLzhjQkJBTEFMQ1VHSkFjQ2FKQUc5c0pBRy84Y0JCTUFjQ0JBS3lBVkpSVkFLUUJNQzkrUktTRk1DQkM5OUFPQUtsQUdDQUFHQ0E5THk2eVJLTUFMQ1UvS0JKOGtVVVVVQkFLTU5CVCtCVVVVQk0rS21GVGE4alVVVVVCQ29GbEhMOGtVVVVVQkM5K1JLR1hBRkNFOXVIT0N0SkFJOUxRQkNhUktBRTJCQkhOQy93RlpDL2dGOUhRQkFOQ2JaSFZDRjlMUUJBTENvQkpDZ0ZDVUYvOE1CQUxDODRKaGE4M0VCQUxDOHdKaGE4M0VCQUxDOG9KaGE4M0VCQUxDQUpoYTgzRUJBTENpSmhhODNFQkFMQ1RKaGE4M0VCQUxoYTgzRU5BTGhhODNFQkFFQUlKQzl3SlJjQUVDRkpITkFPSlJNR1hBRjlGUUJDUUNiQVZDRjZ5UlNBQlJFQ0JSVkNCUlFDQlJmQ0JSSUNCUktFWEdYQU1BY3VRQkM5K1JLU0VNR1hHWEFOMkJCSE9DL3ZGOUxRQkFMQ29CSkFPQ0lyQ2E5ekFLSkNiWkNFV0pIYjhvR0lSVEFiOG9HQlJ0R1hBT0NiWkhiQVM5UFFCQUxBT0NhOXpBSUpDYlpDR1dKOG9HQkFWQWJ5Uk9BYjlGUmJHWEdYQUdDRzlIUUJBQkF0ODdGQkFCQ0lKQU84N0ZCQUJDR0pBVDg3RkJTRk1BRUF0akdCQUVDTkpBT2pHQkFFQ0lKQVRqR0JNQVZBYkpSVkFMQ29CSkFLQ0VXSkhtQU9qR0JBbUFUakdJQUxBSUNHV0pBT2pHQkFMQ29CSkFLQ0ZKQ2JaSEtDRVdKSFRBdGpHQkFUQU9qR0lBSUFiSlJJQUtDRkpSS1NHTUdYR1hBYkNiNlFCQVFBYkpBYkM5ODl6SkNGSlJRU0ZNQU0xQkJIYkNnRlpST0dYR1hBYkNhOU1RQkFNQ0ZKUk1TRk1BTTFCRkhiQ2dCWkNPV0FPQ2dCWnFST0dYQWJDYTlNUUJBTUNHSlJNU0ZNQU0xQkdIYkNnQlpDZldBT3FST0dYQWJDYTlNUUJBTUNFSlJNU0ZNQU0xQkVIYkNnQlpDZFdBT3FST0dYQWJDYTlNUUJBTUNJSlJNU0ZNQU0yQklDOGNXQU9xUk9BTUNMSlJNTUFPQ0ZyQ0JBT0NGWmw5ekFRSlJRTUdYR1hBR0NHOUhRQkFCQXQ4N0ZCQUJDSUpBUTg3RkJBQkNHSkFUODdGQlNGTUFFQXRqR0JBRUNOSkFRakdCQUVDSUpBVGpHQk1BTENvQkpBS0NFV0pIT0FRakdCQU9BVGpHSUFMQUlDR1dKQVFqR0JBTENvQkpBS0NGSkNiWkhLQ0VXSkhPQXRqR0JBT0FRakdJQUlDRkpSSUFLQ0ZKUktTRk1HWEFPQ0RGOUxRQkFMQUlBY0FPQ2JaSjJCQkhiQ0lySFRsQ2JaQ0dXSjhvR0JBVkNGSkh0QVR5Uk9BTEFJQWJsQ2JaQ0dXSjhvR0JBdEFUOUZIbUpIdEFiQ2JaSFR5UmJBVDlGUlRHWEdYQUdDRzlIUUJBQkFWODdGQkFCQ0lKQWI4N0ZCQUJDR0pBTzg3RkJTRk1BRUFWakdCQUVDTkpBYmpHQkFFQ0lKQU9qR0JNQUxBSUNHV0pBVmpHQkFMQ29CSkFLQ0VXSkhZQU9qR0JBWUFWakdJQUxBSUNGSkhJQ2JaQ0dXSkFPakdCQUxDb0JKQUtDRkpDYlpDRVdKSFlBYmpHQkFZQU9qR0lBTEFJQW1KQ2JaSElDR1dKQWJqR0JBTENvQkpBS0NHSkNiWkhLQ0VXSkhPQVZqR0JBT0FiakdJQUtDRkpSS0FJQVRKUklBdEFUSlJWU0ZNQVZDQkFNMkJCSFl5SFRBT0MvK0Y2SFBKUk9BWUNiWlJ0R1hHWEFZQ0lySG1RQkFPQ0ZKUmJTRk1BT1JiQUxBSUFtbENiWkNHV0o4b0dCUk9NR1hHWEF0UUJBYkNGSlJWU0ZNQWJSVkFMQUlBWWxDYlpDR1dKOG9HQlJiTUdYR1hBUDlGUUJBTUNGSlJZU0ZNQU0xQkZIWUNnRlpSVEdYR1hBWUNhOU1RQkFNQ0dKUllTRk1BTTFCR0hZQ2dCWkNPV0FUQ2dCWnFSVEdYQVlDYTlNUUJBTUNFSlJZU0ZNQU0xQkVIWUNnQlpDZldBVHFSVEdYQVlDYTlNUUJBTUNJSlJZU0ZNQU0xQklIWUNnQlpDZFdBVHFSVEdYQVlDYTlNUUJBTUNMSlJZU0ZNQU1DS0pSWUFNMkJMQzhjV0FUcVJUTUFUQ0ZyQ0JBVENGWmw5ekFRSkhRUlRNR1hHWEFtQ2I2UUJBWVJQU0ZNQVkxQkJITUNnRlpST0dYR1hBTUNhOU1RQkFZQ0ZKUlBTRk1BWTFCRkhNQ2dCWkNPV0FPQ2dCWnFST0dYQU1DYTlNUUJBWUNHSlJQU0ZNQVkxQkdITUNnQlpDZldBT3FST0dYQU1DYTlNUUJBWUNFSlJQU0ZNQVkxQkVITUNnQlpDZFdBT3FST0dYQU1DYTlNUUJBWUNJSlJQU0ZNQVlDTEpSUEFZMkJJQzhjV0FPcVJPTUFPQ0ZyQ0JBT0NGWmw5ekFRSkhRUk9NR1hHWEF0Q2I2UUJBUFJNU0ZNQVAxQkJITUNnRlpSYkdYR1hBTUNhOU1RQkFQQ0ZKUk1TRk1BUDFCRkhNQ2dCWkNPV0FiQ2dCWnFSYkdYQU1DYTlNUUJBUENHSlJNU0ZNQVAxQkdITUNnQlpDZldBYnFSYkdYQU1DYTlNUUJBUENFSlJNU0ZNQVAxQkVITUNnQlpDZFdBYnFSYkdYQU1DYTlNUUJBUENJSlJNU0ZNQVBDTEpSTUFQMkJJQzhjV0FicVJiTUFiQ0ZyQ0JBYkNGWmw5ekFRSkhRUmJNR1hHWEFHQ0c5SFFCQUJBVDg3RkJBQkNJSkFiODdGQkFCQ0dKQU84N0ZCU0ZNQUVBVGpHQkFFQ05KQWJqR0JBRUNJSkFPakdCTUFMQ29CSkFLQ0VXSkhZQU9qR0JBWUFUakdJQUxBSUNHV0pBVGpHQkFMQ29CSkFLQ0ZKQ2JaQ0VXSkhZQWJqR0JBWUFPakdJQUxBSUNGSkhJQ2JaQ0dXSkFPakdCQUxDb0JKQUtDR0pDYlpDRVdKSE9BVGpHQkFPQWJqR0lBTEFJQW05RkFtQ2I2cUpISUNiWkNHV0pBYmpHQkFJQXQ5RkF0Q2I2cUpSSUFLQ0VKUktNQU5DRkpSTkFCQ0tKUkJBRUNTSlJFQUtDYlpSS0FJQ2JaUklBZkNFSkhmQUY5SlFCTU1DQkM5OUFNQWM2eVJLTUFMQ29GSjhrVVVVVUJBS00vdElGR2E4alVVVVVCQ1RsUkxDOStSS0dYQUZDTEpBSTlMUUJDYVJLQUUyQkJDLytGWkMvUUY5SFFCQUxoQjgzRU5BRUNGSlJLQUVBSUpDOThKUkVHWEFGOUZRQkdYQUdDRzZRQkVYR1hBS0FFOUpRQkM5K2JNQUsxQkJIR0NnRlpSSUdYR1hBR0NhOU1RQkFLQ0ZKUktTRk1BSzFCRkhHQ2dCWkNPV0FJQ2dCWnFSSUdYQUdDYTlNUUJBS0NHSlJLU0ZNQUsxQkdIR0NnQlpDZldBSXFSSUdYQUdDYTlNUUJBS0NFSlJLU0ZNQUsxQkVIR0NnQlpDZFdBSXFSSUdYQUdDYTlNUUJBS0NJSlJLU0ZNQUsyQklDOGNXQUlxUklBS0NMSlJLTUFMQ05KQUlDRlpDR1dxSEdBSUNHckNCQUlDRnJDRlpsOXpBRzhvR0JKSElqR0JBQkFJakdCQUJDSUpSQkFGQ2FKSEZRQlNHTU1FWEdYQUtBRTlKUUJDOStiTUFLMUJCSEdDZ0ZaUklHWEdYQUdDYTlNUUJBS0NGSlJLU0ZNQUsxQkZIR0NnQlpDT1dBSUNnQlpxUklHWEFHQ2E5TVFCQUtDR0pSS1NGTUFLMUJHSEdDZ0JaQ2ZXQUlxUklHWEFHQ2E5TVFCQUtDRUpSS1NGTUFLMUJFSEdDZ0JaQ2RXQUlxUklHWEFHQ2E5TVFCQUtDSUpSS1NGTUFLMkJJQzhjV0FJcVJJQUtDTEpSS01BQkFJQ0dyQ0JBSUNGckNGWmw5ekFMQ05KQUlDRlpDR1dxSEk4b0dCSkhHODdGQkFJQUdqR0JBQkNHSlJCQUZDYUpIRlFCTU1DQkM5OUFLQUU2eVJLTUFLTS94TEdFYUs5NzhqVVVVVUJDQWxIRThrVVVVVUJHWEdYQUdDSTlIUUJHWEFGQzk4WkhJOUZRQkFCUkdDQlJMRVhBR0FHREJCQkhLQ2lEK3JGQ2lEK3NGRC82RkhPQUtDTkQrckZDaUQrc0ZELzZGQU9EL2dGQUtDVEQrckZDaUQrc0ZELzZGSE5EL2dGRC9rRkQvbEZIVkNCRHREKzJGSGNBT0NVVVVVOTREdEhNRDlPRDlSRC9rRkhPOURCQi8raERZQU9BT0QvbUZBVkFWRC9tRkFOQWNBTkFNRDlPRDlSRC9rRkhPQU9EL21GRC9rRkQva0ZEL2pGRC9uRkhORC9tRjlEQkJYOUxEWUhjRC9rRkNnRkR0RDlPQUtDVVVVOTREdEQ5T0Q5UUFPQU5EL21GQWNEL2tGQ05EK3JGQ1UvK0VEdEQ5T0Q5UUFWQU5EL21GQWNEL2tGQ1REK3JGQ1VVLzhPRHREOU9EOVFETUJCQUdDVEpSR0FMQ0lKSExBSTlKUUJNTUFJQUY5UFFGQUVBRkNFWkhMQ0dXSEdxQ0JDVEFHbC84TUJBRUFCQUlDR1dKSElBRy84Y0JCR1hBTDlGUUJBRUFFREJJQkhLQ2lEK3JGQ2lEK3NGRC82RkhPQUtDTkQrckZDaUQrc0ZELzZGQU9EL2dGQUtDVEQrckZDaUQrc0ZELzZGSE5EL2dGRC9rRkQvbEZIVkNCRHREKzJGSGNBT0NVVVVVOTREdEhNRDlPRDlSRC9rRkhPOURCQi8raERZQU9BT0QvbUZBVkFWRC9tRkFOQWNBTkFNRDlPRDlSRC9rRkhPQU9EL21GRC9rRkQva0ZEL2pGRC9uRkhORC9tRjlEQkJYOUxEWUhjRC9rRkNnRkR0RDlPQUtDVVVVOTREdEQ5T0Q5UUFPQU5EL21GQWNEL2tGQ05EK3JGQ1UvK0VEdEQ5T0Q5UUFWQU5EL21GQWNEL2tGQ1REK3JGQ1VVLzhPRHREOU9EOVFETUlCTUFJQUVBRy84Y0JCU0ZNQUJBRkM5OFpIR1QrSFVVVUJBR0FGOVBRQkFFQUZDRVpISUNFV0hMSkNCQ0FBTGwvOE1CQUVBQkFHQ0VXSkhHQUwvOGNCQkFFQUlUK0hVVVVCQUdBRUFMLzhjQkJNQUVDQUo4a1VVVVVCTSt5RUdHYU85N0dYQUY5RlFCQ0JSR0VYQUJDVEpIRUFFREJCQkhJQ0JEdEhMQ1VVOThEOGNGQ1VVOThEOGNFSEtEOU9BQkRCQkJIT0FJRFFJTEtPU1FmYlBkZW44YzhkOGU4ZkNnZ0ZEdEQ5T0QvNkZBT0FJRFFCRkdFTlZjTVR0bVlpOFpweUhJQ1REK3NGRC82RkhORC9nRkFJQ1REK3JGQ1REK3NGRC82RkhWRC9nRkQva0ZEL2xGSEk5REIvK2c2RFlBVkFJQUxEKzJGSExBVkNVVVVVOTREdEhjRDlPRDlSRC9rRkhWQVZEL21GQUlBSUQvbUZBTkFMQU5BY0Q5T0Q5UkQva0ZISUFJRC9tRkQva0ZEL2tGRC9qRkQvbkZITkQvbUY5REJCWDlMRFlITEQva0ZDVEQrckZBVkFORC9tRkFMRC9rRkNnZ0VEdEQ5T0Q5UUhWQUlBTkQvbUZBTEQva0ZDYURiQ0JEbkdDQkRuRUNCRG5LQ0JEbk9DQkRuY0NCRG5NQ0JEbmZDQkRuYkQ5T0hJRFFOVmk4WmNNcHlTUThjOGRmYjhlOGZEOVFETUJCQUJBT0FLRDlPQVZBSURRQkZUdEdFbVlJTFBkS09lbkQ5UURNQkJBQkNBSlJCQUdDSUpIR0FGOUpRQk1NTTk0RkVhOGpVVVVVQkNBbEhFOGtVVVVVQkFCQUZDOThaSElUK0pVVVVCR1hBSUFGOVBRQkFFQUZDRVpITENFV0hGSkNCQ0FBRmwvOE1CQUVBQkFJQ0VXSkhCQUYvOGNCQkFFQUxUK0pVVVVCQUJBRUFGLzhjQkJNQUVDQUo4a1VVVVVCTS9oRUlHYUY5N0ZhTDk3OGpVVVVVQkNUbFJHR1hBRjlGUUJDQlJFRVhBR0FCREJCQkhJQUJDVEpITERCQkJIS0RRSUxLT1NRZmJQZGVuOGM4ZDhlOGZIT0NURCtzRkhOQ0lEK3JGRE1JQkFCOURCQlU4L0RZOUQvekk4MTgvRFlBTkNFRHREOVFELzZGRC9uRkhOQUlBS0RRQkZHRU5WY01UdG1ZaThacHlISUNURCtyRkNURCtzRkQvNkZEL21GSEtBS0QvbUZBTkFJQ1REK3NGRC82RkQvbUZIVkFWRC9tRkFOQU9DVEQrckZDVEQrc0ZELzZGRC9tRkhPQU9EL21GRC9rRkQva0ZEL2xGQ0JEdEQrNEZEL2pGOURCLytnNkRZSE5EL21GOURCQlg5TERZSElEL2tGQ2dnRUR0SGNEOU9BVkFORC9tRkFJRC9rRkNURCtyRkQ5UUhWQU9BTkQvbUZBSUQva0ZDVEQrckZBS0FORC9tRkFJRC9rRkFjRDlPRDlRSE5EUUJGVHRHRW1ZSUxQZEtPZW5ISUQ4ZEJBR0RCSUJEeUIrdCtKODNFQkFCQ05KQUlEOGRGQUdEQklCRHlGK3QrSjgzRUJBTEFWQU5EUU5WaThaY01weVNROGM4ZGZiOGU4ZkhORDhkQkFHREJJQkR5Ryt0K0o4M0VCQUJDaUpBTkQ4ZEZBR0RCSUJEeUUrdCtKODNFQkFCQ0FKUkJBRUNJSkhFQUY5SlFCTU1NLzNGR0VhRjk3OGpVVVVVQkNvQmxSRUdYQUdDR3JBRjlzSElDOThaSEw5RlFCQ0JSR0FCUkZFWEFGQUZEQkJCSEtDTkQrckZDTkQrc0ZELzZGQUtDaUQrc0ZDbkQrckZDVVVVLzhFRHREK3VGRC9tRkRNQkJBRkNUSlJGQUdDSUpIR0FMOUpRQk1NR1hBTEFJOVBRQkFFQUlDRVpIR0NHV0hGcUNCQ29CQUZsLzhNQkFFQUJBTENHV0pITEFGLzhjQkJHWEFHOUZRQkFFQUVEQklCSEtDTkQrckZDTkQrc0ZELzZGQUtDaUQrc0ZDbkQrckZDVVVVLzhFRHREK3VGRC9tRkRNSUJNQUxBRUFGLzhjQkJNTTlURkVhQ0JDQjhvR1VrVVVCSEZBQkNFSkM5OFpKSEJqR1VrVVVCR1hHWEFCOC9CQ1RXSEd1UUJDYVJFQUJBR2xDZ2dFSkNUclhCQ2E2UUZNQUZSRU1BRU1NTUZCQ1VOTUlUOXRCQic7XG4vLyBVc2VzIGJ1bGstbWVtb3J5IGFuZCBzaW1kIGV4dGVuc2lvbnNcbmNvbnN0IGRldGVjdG9yID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgIDAsIDk3LCAxMTUsIDEwOSwgMSwgMCwgMCwgMCwgMSwgNCwgMSwgOTYsIDAsIDAsIDMsIDMsIDIsIDAsIDAsIDUsIDMsIDEsIDAsIDEsIDEyLCAxLCAwLCAxMCwgMjIsIDIsXG4gICAgMTIsIDAsIDY1LCAwLCA2NSwgMCwgNjUsIDAsIDI1MiwgMTAsIDAsIDAsIDExLCA3LCAwLCA2NSwgMCwgMjUzLCAxNSwgMjYsIDExXG5dKTtcbi8vIFVzZWQgdG8gdW5wYWNrIHdhc21cbmNvbnN0IHdhc21wYWNrID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgIDMyLCAwLCA2NSwgMjUzLCAzLCAxLCAyLCAzNCwgNCwgMTA2LCA2LCA1LCAxMSwgOCwgNywgMjAsIDEzLCAzMywgMTIsIDE2LCAxMjgsIDksIDExNiwgNjQsIDE5LCAxMTMsXG4gICAgMTI3LCAxNSwgMTAsIDIxLCAyMiwgMTQsIDI1NSwgNjYsIDI0LCA1NCwgMTM2LCAxMDcsIDE4LCAyMywgMTkyLCAyNiwgMTE0LCAxMTgsIDEzMiwgMTcsIDc3LCAxMDEsXG4gICAgMTMwLCAxNDQsIDI3LCA4NywgMTMxLCA0NCwgNDUsIDc0LCAxNTYsIDE1NCwgNzAsIDE2N1xuXSk7XG5jb25zdCBGSUxURVJTID0ge1xuICAgIC8vIGxlZ2FjeSBpbmRleC1iYXNlZCBlbnVtcyBmb3IgZ2xURlxuICAgIDA6ICcnLFxuICAgIDE6ICdtZXNob3B0X2RlY29kZUZpbHRlck9jdCcsXG4gICAgMjogJ21lc2hvcHRfZGVjb2RlRmlsdGVyUXVhdCcsXG4gICAgMzogJ21lc2hvcHRfZGVjb2RlRmlsdGVyRXhwJyxcbiAgICAvLyBzdHJpbmctYmFzZWQgZW51bXMgZm9yIGdsVEZcbiAgICBOT05FOiAnJyxcbiAgICBPQ1RBSEVEUkFMOiAnbWVzaG9wdF9kZWNvZGVGaWx0ZXJPY3QnLFxuICAgIFFVQVRFUk5JT046ICdtZXNob3B0X2RlY29kZUZpbHRlclF1YXQnLFxuICAgIEVYUE9ORU5USUFMOiAnbWVzaG9wdF9kZWNvZGVGaWx0ZXJFeHAnXG59O1xuY29uc3QgREVDT0RFUlMgPSB7XG4gICAgLy8gbGVnYWN5IGluZGV4LWJhc2VkIGVudW1zIGZvciBnbFRGXG4gICAgMDogJ21lc2hvcHRfZGVjb2RlVmVydGV4QnVmZmVyJyxcbiAgICAxOiAnbWVzaG9wdF9kZWNvZGVJbmRleEJ1ZmZlcicsXG4gICAgMjogJ21lc2hvcHRfZGVjb2RlSW5kZXhTZXF1ZW5jZScsXG4gICAgLy8gc3RyaW5nLWJhc2VkIGVudW1zIGZvciBnbFRGXG4gICAgQVRUUklCVVRFUzogJ21lc2hvcHRfZGVjb2RlVmVydGV4QnVmZmVyJyxcbiAgICBUUklBTkdMRVM6ICdtZXNob3B0X2RlY29kZUluZGV4QnVmZmVyJyxcbiAgICBJTkRJQ0VTOiAnbWVzaG9wdF9kZWNvZGVJbmRleFNlcXVlbmNlJ1xufTtcbmV4cG9ydCBmdW5jdGlvbiBpc01lc2hvcHRTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIGlzV2ViQXNzZW1ibHlTdXBwb3J0ZWQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWVzaG9wdERlY29kZVZlcnRleEJ1ZmZlcih0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UsIGZpbHRlciA9ICdOT05FJykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gYXdhaXQgbG9hZFdhc21JbnN0YW5jZSgpO1xuICAgIGRlY29kZShpbnN0YW5jZSwgaW5zdGFuY2UuZXhwb3J0cy5tZXNob3B0X2RlY29kZVZlcnRleEJ1ZmZlciwgdGFyZ2V0LCBjb3VudCwgc2l6ZSwgc291cmNlLCBpbnN0YW5jZS5leHBvcnRzW0ZJTFRFUlNbZmlsdGVyXV0pO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1lc2hvcHREZWNvZGVJbmRleEJ1ZmZlcih0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGF3YWl0IGxvYWRXYXNtSW5zdGFuY2UoKTtcbiAgICBkZWNvZGUoaW5zdGFuY2UsIGluc3RhbmNlLmV4cG9ydHMubWVzaG9wdF9kZWNvZGVJbmRleEJ1ZmZlciwgdGFyZ2V0LCBjb3VudCwgc2l6ZSwgc291cmNlKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtZXNob3B0RGVjb2RlSW5kZXhTZXF1ZW5jZSh0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGF3YWl0IGxvYWRXYXNtSW5zdGFuY2UoKTtcbiAgICBkZWNvZGUoaW5zdGFuY2UsIGluc3RhbmNlLmV4cG9ydHMubWVzaG9wdF9kZWNvZGVJbmRleFNlcXVlbmNlLCB0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UpO1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1wYXJhbXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtZXNob3B0RGVjb2RlR2x0ZkJ1ZmZlcih0YXJnZXQsIGNvdW50LCBzaXplLCBzb3VyY2UsIG1vZGUsIGZpbHRlciA9ICdOT05FJykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gYXdhaXQgbG9hZFdhc21JbnN0YW5jZSgpO1xuICAgIGRlY29kZShpbnN0YW5jZSwgaW5zdGFuY2UuZXhwb3J0c1tERUNPREVSU1ttb2RlXV0sIHRhcmdldCwgY291bnQsIHNpemUsIHNvdXJjZSwgaW5zdGFuY2UuZXhwb3J0c1tGSUxURVJTW2ZpbHRlciB8fCAnTk9ORSddXSk7XG59XG5sZXQgd2FzbVByb21pc2U7XG5hc3luYyBmdW5jdGlvbiBsb2FkV2FzbUluc3RhbmNlKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGlmICghd2FzbVByb21pc2UpIHtcbiAgICAgICAgd2FzbVByb21pc2UgPSBsb2FkV2FzbU1vZHVsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gd2FzbVByb21pc2U7XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkV2FzbU1vZHVsZSgpIHtcbiAgICBsZXQgd2FzbSA9IHdhc21fYmFzZTtcbiAgICBpZiAoV2ViQXNzZW1ibHkudmFsaWRhdGUoZGV0ZWN0b3IpKSB7XG4gICAgICAgIHdhc20gPSB3YXNtX3NpbWQ7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUubG9nKCdXYXJuaW5nOiBtZXNob3B0X2RlY29kZXIgaXMgdXNpbmcgZXhwZXJpbWVudGFsIFNJTUQgc3VwcG9ydCcpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSh1bnBhY2sod2FzbSksIHt9KTtcbiAgICBhd2FpdCByZXN1bHQuaW5zdGFuY2UuZXhwb3J0cy5fX3dhc21fY2FsbF9jdG9ycygpO1xuICAgIHJldHVybiByZXN1bHQuaW5zdGFuY2U7XG59XG5mdW5jdGlvbiB1bnBhY2soZGF0YSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgY2ggPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIHJlc3VsdFtpXSA9IGNoID4gOTYgPyBjaCAtIDcxIDogY2ggPiA2NCA/IGNoIC0gNjUgOiBjaCA+IDQ3ID8gY2ggKyA0IDogY2ggPiA0NiA/IDYzIDogNjI7XG4gICAgfVxuICAgIGxldCB3cml0ZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc3VsdFt3cml0ZSsrXSA9IHJlc3VsdFtpXSA8IDYwID8gd2FzbXBhY2tbcmVzdWx0W2ldXSA6IChyZXN1bHRbaV0gLSA2MCkgKiA2NCArIHJlc3VsdFsrK2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmJ1ZmZlci5zbGljZSgwLCB3cml0ZSk7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuZnVuY3Rpb24gZGVjb2RlKGluc3RhbmNlLCBmdW4sIHRhcmdldCwgY291bnQsIHNpemUsIHNvdXJjZSwgZmlsdGVyKSB7XG4gICAgY29uc3Qgc2JyayA9IGluc3RhbmNlLmV4cG9ydHMuc2JyaztcbiAgICBjb25zdCBjb3VudDQgPSAoY291bnQgKyAzKSAmIH4zOyAvLyBwYWQgZm9yIFNJTUQgZmlsdGVyXG4gICAgY29uc3QgdHAgPSBzYnJrKGNvdW50NCAqIHNpemUpO1xuICAgIGNvbnN0IHNwID0gc2Jyayhzb3VyY2UubGVuZ3RoKTtcbiAgICBjb25zdCBoZWFwID0gbmV3IFVpbnQ4QXJyYXkoaW5zdGFuY2UuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKTtcbiAgICBoZWFwLnNldChzb3VyY2UsIHNwKTtcbiAgICBjb25zdCByZXMgPSBmdW4odHAsIGNvdW50LCBzaXplLCBzcCwgc291cmNlLmxlbmd0aCk7XG4gICAgaWYgKHJlcyA9PT0gMCAmJiBmaWx0ZXIpIHtcbiAgICAgICAgZmlsdGVyKHRwLCBjb3VudDQsIHNpemUpO1xuICAgIH1cbiAgICB0YXJnZXQuc2V0KGhlYXAuc3ViYXJyYXkodHAsIHRwICsgY291bnQgKiBzaXplKSk7XG4gICAgc2Jyayh0cCAtIHNicmsoMCkpO1xuICAgIGlmIChyZXMgIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYWxmb3JtZWQgYnVmZmVyIGRhdGE6ICR7cmVzfWApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IG1lc2hvcHREZWNvZGVHbHRmQnVmZmVyIH0gZnJvbSBcIi4uLy4uL21lc2hvcHQvbWVzaG9wdC1kZWNvZGVyLmpzXCI7XG4vLyBAdHMtaWdub3JlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbmNvbnN0IERFRkFVTFRfTUVTSE9QVF9PUFRJT05TID0ge1xuICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgZmlsdGVyOiAnTk9ORSdcbn07XG4vKiogRXh0ZW5zaW9uIG5hbWUgKi9cbmNvbnN0IEVYVF9NRVNIT1BUX0NPTVBSRVNTSU9OID0gJ0VYVF9tZXNob3B0X2NvbXByZXNzaW9uJztcbmV4cG9ydCBjb25zdCBuYW1lID0gRVhUX01FU0hPUFRfQ09NUFJFU1NJT047XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVjb2RlKGdsdGZEYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgaWYgKCFvcHRpb25zPy5nbHRmPy5kZWNvbXByZXNzTWVzaGVzIHx8ICFvcHRpb25zLmdsdGY/LmxvYWRCdWZmZXJzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGJ1ZmZlclZpZXdJbmRleCBvZiBnbHRmRGF0YS5qc29uLmJ1ZmZlclZpZXdzIHx8IFtdKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goZGVjb2RlTWVzaG9wdEJ1ZmZlclZpZXcoc2NlbmVncmFwaCwgYnVmZmVyVmlld0luZGV4KSk7XG4gICAgfVxuICAgIC8vIERlY29tcHJlc3MgbWVzaGVzIGluIHBhcmFsbGVsXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIC8vIFdlIGhhdmUgbm93IGRlY29tcHJlc3NlZCBhbGwgcHJpbWl0aXZlcywgc28gcmVtb3ZlIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uXG4gICAgc2NlbmVncmFwaC5yZW1vdmVFeHRlbnNpb24oRVhUX01FU0hPUFRfQ09NUFJFU1NJT04pO1xufVxuLyoqIERlY29kZSBvbmUgbWVzaG9wdCBidWZmZXIgdmlldyAqL1xuYXN5bmMgZnVuY3Rpb24gZGVjb2RlTWVzaG9wdEJ1ZmZlclZpZXcoc2NlbmVncmFwaCwgYnVmZmVyVmlldykge1xuICAgIGNvbnN0IG1lc2hvcHRFeHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldE9iamVjdEV4dGVuc2lvbihidWZmZXJWaWV3LCBFWFRfTUVTSE9QVF9DT01QUkVTU0lPTik7XG4gICAgaWYgKG1lc2hvcHRFeHRlbnNpb24pIHtcbiAgICAgICAgY29uc3QgeyBieXRlT2Zmc2V0ID0gMCwgYnl0ZUxlbmd0aCA9IDAsIGJ5dGVTdHJpZGUsIGNvdW50LCBtb2RlLCBmaWx0ZXIgPSAnTk9ORScsIGJ1ZmZlcjogYnVmZmVySW5kZXggfSA9IG1lc2hvcHRFeHRlbnNpb247XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHNjZW5lZ3JhcGguZ2x0Zi5idWZmZXJzW2J1ZmZlckluZGV4XTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLmFycmF5QnVmZmVyLCBidWZmZXIuYnl0ZU9mZnNldCArIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShzY2VuZWdyYXBoLmdsdGYuYnVmZmVyc1tidWZmZXJWaWV3LmJ1ZmZlcl0uYXJyYXlCdWZmZXIsIGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCwgYnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcbiAgICAgICAgYXdhaXQgbWVzaG9wdERlY29kZUdsdGZCdWZmZXIocmVzdWx0LCBjb3VudCwgYnl0ZVN0cmlkZSwgc291cmNlLCBtb2RlLCBmaWx0ZXIpO1xuICAgICAgICBzY2VuZWdyYXBoLnJlbW92ZU9iamVjdEV4dGVuc2lvbihidWZmZXJWaWV3LCBFWFRfTUVTSE9QVF9DT01QUkVTU0lPTik7XG4gICAgfVxufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuY29uc3QgTUlNRV9UWVBFUyA9IFtcbiAgICAnaW1hZ2UvcG5nJyxcbiAgICAnaW1hZ2UvanBlZycsXG4gICAgJ2ltYWdlL2dpZicsXG4gICAgJ2ltYWdlL3dlYnAnLFxuICAgICdpbWFnZS9hdmlmJyxcbiAgICAnaW1hZ2UvdGlmZicsXG4gICAgLy8gVE9ETyAtIHdoYXQgaXMgdGhlIGNvcnJlY3QgdHlwZSBmb3IgU1ZHXG4gICAgJ2ltYWdlL3N2ZycsXG4gICAgJ2ltYWdlL3N2Zyt4bWwnLFxuICAgICdpbWFnZS9ibXAnLFxuICAgICdpbWFnZS92bmQubWljcm9zb2Z0Lmljb24nXG5dO1xuLyoqIE9ubHkgb25lIHJvdW5kIG9mIHRlc3RzIGlzIHBlcmZvcm1lZCAqL1xuY29uc3QgbWltZVR5cGVTdXBwb3J0ZWRQcm9taXNlID0gbnVsbDtcbi8qKiBSdW4tdGltZSBicm93c2VyIGRldGVjdGlvbiBvZiBmaWxlIGZvcm1hdHMgcmVxdWlyZXMgYXN5bmMgdGVzdHMgZm9yIG1vc3QgcHJlY2lzZSByZXN1bHRzICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3VwcG9ydGVkSW1hZ2VGb3JtYXRzKCkge1xuICAgIGlmIChtaW1lVHlwZVN1cHBvcnRlZFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IG1pbWVUeXBlU3VwcG9ydGVkUHJvbWlzZTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydGVkTWltZVR5cGVzID0gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3QgbWltZVR5cGUgb2YgTUlNRV9UWVBFUykge1xuICAgICAgICBjb25zdCBzdXBwb3J0ZWQgPSBpc0Jyb3dzZXJcbiAgICAgICAgICAgID8gYXdhaXQgY2hlY2tCcm93c2VySW1hZ2VGb3JtYXRTdXBwb3J0QXN5bmMobWltZVR5cGUpXG4gICAgICAgICAgICA6IGNoZWNrTm9kZUltYWdlRm9ybWF0U3VwcG9ydChtaW1lVHlwZSk7XG4gICAgICAgIGlmIChzdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHN1cHBvcnRlZE1pbWVUeXBlcy5hZGQobWltZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBwb3J0ZWRNaW1lVHlwZXM7XG59XG4vKiogQ2FjaGUgc3luYyB2YWx1ZXMgZm9yIHNwZWVkICovXG5jb25zdCBtaW1lVHlwZVN1cHBvcnRlZFN5bmMgPSB7fTtcbi8qKlxuICogQ2hlY2sgaWYgaW1hZ2UgTUlNRSB0eXBlIGlzIHN1cHBvcnRlZC4gUmVzdWx0IGlzIGNhY2hlZCB0byBhdm9pZCByZXBlYXRlZCB0ZXN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW1hZ2VGb3JtYXRTdXBwb3J0ZWQobWltZVR5cGUpIHtcbiAgICBpZiAobWltZVR5cGVTdXBwb3J0ZWRTeW5jW21pbWVUeXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHN1cHBvcnRlZCA9IGlzQnJvd3NlclxuICAgICAgICAgICAgPyBjaGVja0Jyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQobWltZVR5cGUpXG4gICAgICAgICAgICA6IGNoZWNrTm9kZUltYWdlRm9ybWF0U3VwcG9ydChtaW1lVHlwZSk7XG4gICAgICAgIG1pbWVUeXBlU3VwcG9ydGVkU3luY1ttaW1lVHlwZV0gPSBzdXBwb3J0ZWQ7XG4gICAgfVxuICAgIHJldHVybiBtaW1lVHlwZVN1cHBvcnRlZFN5bmNbbWltZVR5cGVdO1xufVxuLyoqXG4gKiBDaGVja3MgdGhhdCBwb2x5ZmlsbHMgYXJlIGluc3RhbGxlZCBhbmQgdGhhdCBtaW1lVHlwZSBpcyBzdXBwb3J0ZWQgYnkgcG9seWZpbGxzXG4gKiBAdG9kbyBJZGVhbGx5IHBvbHlmaWxscyBzaG91bGQgZGVjbGFyZSB3aGF0IGZvcm1hdHMgdGhleSBzdXBwb3J0LCBpbnN0ZWFkIG9mIHN0b3JpbmcgdGhhdCBkYXRhIGhlcmUuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrTm9kZUltYWdlRm9ybWF0U3VwcG9ydChtaW1lVHlwZSkge1xuICAgIGNvbnN0IE5PREVfRk9STUFUX1NVUFBPUlQgPSBbJ2ltYWdlL3BuZycsICdpbWFnZS9qcGVnJywgJ2ltYWdlL2dpZiddO1xuICAgIGNvbnN0IGltYWdlRm9ybWF0c05vZGUgPSBnbG9iYWxUaGlzLmxvYWRlcnM/LmltYWdlRm9ybWF0c05vZGUgfHwgTk9ERV9GT1JNQVRfU1VQUE9SVDtcbiAgICBjb25zdCBwYXJzZUltYWdlTm9kZSA9IGdsb2JhbFRoaXMubG9hZGVycz8ucGFyc2VJbWFnZU5vZGU7XG4gICAgcmV0dXJuIEJvb2xlYW4ocGFyc2VJbWFnZU5vZGUpICYmIGltYWdlRm9ybWF0c05vZGUuaW5jbHVkZXMobWltZVR5cGUpO1xufVxuLyoqIENoZWNrcyBpbWFnZSBmb3JtYXQgc3VwcG9ydCBzeW5jaHJvbm91c2x5LlxuICogQG5vdGUgVW5yZWxpYWJsZSwgZmFpbHMgb24gQVZJRlxuICovXG5mdW5jdGlvbiBjaGVja0Jyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQobWltZVR5cGUpIHtcbiAgICBzd2l0Y2ggKG1pbWVUeXBlKSB7XG4gICAgICAgIGNhc2UgJ2ltYWdlL2F2aWYnOiAvLyBXaWxsIGZhaWxcbiAgICAgICAgY2FzZSAnaW1hZ2Uvd2VicCc6XG4gICAgICAgICAgICByZXR1cm4gdGVzdEJyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQobWltZVR5cGUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuY29uc3QgVEVTVF9JTUFHRSA9IHtcbiAgICAnaW1hZ2UvYXZpZic6ICdkYXRhOmltYWdlL2F2aWY7YmFzZTY0LEFBQUFJR1owZVhCaGRtbG1BQUFBQUdGMmFXWnRhV1l4YldsaFprMUJNVUlBQUFEeWJXVjBZUUFBQUFBQUFBQW9hR1JzY2dBQUFBQUFBQUFBY0dsamRBQUFBQUFBQUFBQUFBQUFBR3hwWW1GMmFXWUFBQUFBRG5CcGRHMEFBQUFBQUFFQUFBQWVhV3h2WXdBQUFBQkVBQUFCQUFFQUFBQUJBQUFCR2dBQUFCMEFBQUFvYVdsdVpnQUFBQUFBQVFBQUFCcHBibVpsQWdBQUFBQUJBQUJoZGpBeFEyOXNiM0lBQUFBQWFtbHdjbkFBQUFCTGFYQmpid0FBQUJScGMzQmxBQUFBQUFBQUFBSUFBQUFDQUFBQUVIQnBlR2tBQUFBQUF3Z0lDQUFBQUF4aGRqRkRnUTBNQUFBQUFCTmpiMnh5Ym1Oc2VBQUNBQUlBQVlBQUFBQVhhWEJ0WVFBQUFBQUFBQUFCQUFFRUFRS0RCQUFBQUNWdFpHRjBFZ0FLQ0JnQU5vZ1FFQXdnTWc4ZjhELy8vOFdmaHdCOCtFcks0MkE9JyxcbiAgICAvLyBMb3NzeSB0ZXN0IGltYWdlLiBTdXBwb3J0IGZvciBsb3NzeSBpbWFnZXMgZG9lc24ndCBndWFyYW50ZWUgc3VwcG9ydCBmb3IgYWxsIFdlYlAgaW1hZ2VzLlxuICAgICdpbWFnZS93ZWJwJzogJ2RhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JpSUFBQUJYUlVKUVZsQTRJQllBQUFBd0FRQ2RBU29CQUFFQURzRCtKYVFBQTNBQUFBQUEnXG59O1xuLyoqIENoZWNrcyBXZWJQIGFuZCBBVklGIHN1cHBvcnQgYXN5bmNocm9ub3VzbHkgKi9cbmFzeW5jIGZ1bmN0aW9uIGNoZWNrQnJvd3NlckltYWdlRm9ybWF0U3VwcG9ydEFzeW5jKG1pbWVUeXBlKSB7XG4gICAgY29uc3QgZGF0YVVSTCA9IFRFU1RfSU1BR0VbbWltZVR5cGVdO1xuICAgIHJldHVybiBkYXRhVVJMID8gYXdhaXQgdGVzdEJyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnRBc3luYyhkYXRhVVJMKSA6IHRydWU7XG59XG4vKipcbiAqIENoZWNrcyBicm93c2VyIHN5bmNocm9ub3VzbHlcbiAqIENoZWNrcyBpZiB0b0RhdGFVUkwgc3VwcG9ydHMgdGhlIG1pbWVUeXBlLlxuICogQG5vdGUgSW1wZXJmZWN0IHRlc3RPbiBDaHJvbWUgdGhpcyBpcyB0cnVlIGZvciBXZWJQIGJ1dCBub3QgZm9yIEFWSUZcbiAqL1xuZnVuY3Rpb24gdGVzdEJyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQobWltZVR5cGUpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnN0IGRhdGFVUkwgPSBlbGVtZW50LnRvRGF0YVVSTChtaW1lVHlwZSk7XG4gICAgICAgIHJldHVybiBkYXRhVVJMLmluZGV4T2YoYGRhdGE6JHttaW1lVHlwZX1gKSA9PT0gMDtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICAvLyBQcm9iYWJseSBTYWZhcmkuLi5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8vIENoZWNrIFdlYlBTdXBwb3J0IGFzeW5jaHJvbm91c2x5XG5hc3luYyBmdW5jdGlvbiB0ZXN0QnJvd3NlckltYWdlRm9ybWF0U3VwcG9ydEFzeW5jKHRlc3RJbWFnZURhdGFVUkwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gdGVzdEltYWdlRGF0YVVSTDtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4gcmVzb2x2ZShpbWFnZS5oZWlnaHQgPiAwKTtcbiAgICAgICAgaW1hZ2Uub25lcnJvciA9ICgpID0+IHJlc29sdmUoZmFsc2UpO1xuICAgIH0pO1xufVxuIiwiLy8gR0xURiBFWFRFTlNJT046IEVYVF9URVhUVVJFX1dFQlBcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0VYVF9URVhUVVJFX1dFQlBcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0IHsgaXNJbWFnZUZvcm1hdFN1cHBvcnRlZCB9IGZyb20gJ0Bsb2FkZXJzLmdsL2ltYWdlcyc7XG5pbXBvcnQgeyBHTFRGU2NlbmVncmFwaCB9IGZyb20gXCIuLi9hcGkvZ2x0Zi1zY2VuZWdyYXBoLmpzXCI7XG5jb25zdCBFWFRfVEVYVFVSRV9XRUJQID0gJ0VYVF90ZXh0dXJlX3dlYnAnO1xuLyoqIEV4dGVuc2lvbiBuYW1lICovXG5leHBvcnQgY29uc3QgbmFtZSA9IEVYVF9URVhUVVJFX1dFQlA7XG4vKipcbiAqIFJlcGxhY2VzIGEgdGV4dHVyZSBzb3VyY2UgcmVmZXJlbmNlIHdpdGggdGhlIGV4dGVuc2lvbiB0ZXh0dXJlXG4gKiBEb25lIGluIHByZXByb2Nlc3MoKSB0byBwcmV2ZW50IGxvYWQgb2YgZGVmYXVsdCBpbWFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcHJvY2VzcyhnbHRmRGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHNjZW5lZ3JhcGggPSBuZXcgR0xURlNjZW5lZ3JhcGgoZ2x0ZkRhdGEpO1xuICAgIGlmICghaXNJbWFnZUZvcm1hdFN1cHBvcnRlZCgnaW1hZ2Uvd2VicCcpKSB7XG4gICAgICAgIGlmIChzY2VuZWdyYXBoLmdldFJlcXVpcmVkRXh0ZW5zaW9ucygpLmluY2x1ZGVzKEVYVF9URVhUVVJFX1dFQlApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGdsdGY6IFJlcXVpcmVkIGV4dGVuc2lvbiAke0VYVF9URVhUVVJFX1dFQlB9IG5vdCBzdXBwb3J0ZWQgYnkgYnJvd3NlcmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBqc29uIH0gPSBzY2VuZWdyYXBoO1xuICAgIGZvciAoY29uc3QgdGV4dHVyZSBvZiBqc29uLnRleHR1cmVzIHx8IFtdKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKHRleHR1cmUsIEVYVF9URVhUVVJFX1dFQlApO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gaWYgbXVsdGlwbGUgdGV4dHVyZSBleHRlbnNpb25zIGFyZSBwcmVzZW50IHdoaWNoIG9uZSB3aW5zP1xuICAgICAgICAgICAgdGV4dHVyZS5zb3VyY2UgPSBleHRlbnNpb24uc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIHNjZW5lZ3JhcGgucmVtb3ZlT2JqZWN0RXh0ZW5zaW9uKHRleHR1cmUsIEVYVF9URVhUVVJFX1dFQlApO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIHRvcC1sZXZlbCBleHRlbnNpb25cbiAgICBzY2VuZWdyYXBoLnJlbW92ZUV4dGVuc2lvbihFWFRfVEVYVFVSRV9XRUJQKTtcbn1cbiIsIi8vIEdMVEYgRVhURU5TSU9OOiBLSFJfdGV4dHVyZV9iYXNpc3Vcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21haW4vZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV9iYXNpc3Vcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0IHsgR0xURlNjZW5lZ3JhcGggfSBmcm9tIFwiLi4vYXBpL2dsdGYtc2NlbmVncmFwaC5qc1wiO1xuY29uc3QgS0hSX1RFWFRVUkVfQkFTSVNVID0gJ0tIUl90ZXh0dXJlX2Jhc2lzdSc7XG4vKiogRXh0ZW5zaW9uIG5hbWUgKi9cbmV4cG9ydCBjb25zdCBuYW1lID0gS0hSX1RFWFRVUkVfQkFTSVNVO1xuLyoqXG4gKiBSZXBsYWNlcyBhIHRleHR1cmUgc291cmNlIHJlZmVyZW5jZSB3aXRoIHRoZSBleHRlbnNpb24gdGV4dHVyZVxuICogRG9uZSBpbiBwcmVwcm9jZXNzKCkgdG8gcHJldmVudCBsb2FkIG9mIGRlZmF1bHQgaW1hZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXByb2Nlc3MoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgeyBqc29uIH0gPSBzY2VuZTtcbiAgICBmb3IgKGNvbnN0IHRleHR1cmUgb2YganNvbi50ZXh0dXJlcyB8fCBbXSkge1xuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBzY2VuZS5nZXRPYmplY3RFeHRlbnNpb24odGV4dHVyZSwgS0hSX1RFWFRVUkVfQkFTSVNVKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICAgICAgLy8gVE9ETyAtIGlmIG11bHRpcGxlIHRleHR1cmUgZXh0ZW5zaW9ucyBhcmUgcHJlc2VudCB3aGljaCBvbmUgd2lucz9cbiAgICAgICAgICAgIHRleHR1cmUuc291cmNlID0gZXh0ZW5zaW9uLnNvdXJjZTtcbiAgICAgICAgICAgIHNjZW5lLnJlbW92ZU9iamVjdEV4dGVuc2lvbih0ZXh0dXJlLCBLSFJfVEVYVFVSRV9CQVNJU1UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgdG9wLWxldmVsIGV4dGVuc2lvblxuICAgIHNjZW5lLnJlbW92ZUV4dGVuc2lvbihLSFJfVEVYVFVSRV9CQVNJU1UpO1xufVxuIiwiLy8gVE9ETyAtIHJlbW92ZVxuaW1wb3J0IHsgZ2V0QWNjZXNzb3JUeXBlRnJvbVNpemUsIGdldENvbXBvbmVudFR5cGVGcm9tQXJyYXkgfSBmcm9tIFwiLi9nbHRmLXV0aWxzLmpzXCI7XG4vLyBSZXR1cm5zIGEgZnJlc2ggYXR0cmlidXRlcyBvYmplY3Qgd2l0aCBnbFRGLXN0YW5kYXJkaXplZCBhdHRyaWJ1dGVzIG5hbWVzXG4vLyBBdHRyaWJ1dGVzIHRoYXQgY2Fubm90IGJlIGlkZW50aWZpZWQgd2lsbCBub3QgYmUgaW5jbHVkZWRcbi8vIFJlbW92ZXMgYGluZGljZXNgIGlmIHByZXNlbnQsIGFzIGl0IHNob3VsZCBiZSBzdG9yZWQgc2VwYXJhdGVseSBmcm9tIHRoZSBhdHRyaWJ1dGVzXG5leHBvcnQgZnVuY3Rpb24gZ2V0R0xURkFjY2Vzc29ycyhhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgYWNjZXNzb3JzID0ge307XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgaWYgKG5hbWUgIT09ICdpbmRpY2VzJykge1xuICAgICAgICAgICAgY29uc3QgZ2xURkFjY2Vzc29yID0gZ2V0R0xURkFjY2Vzc29yKGF0dHJpYnV0ZSk7XG4gICAgICAgICAgICBhY2Nlc3NvcnNbbmFtZV0gPSBnbFRGQWNjZXNzb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjY2Vzc29ycztcbn1cbi8vIEZpeCB1cCBhIHNpbmdsZSBhY2Nlc3Nvci5cbi8vIElucHV0OiB0eXBlZCBhcnJheSBvciBhIHBhcnRpYWwgYWNjZXNzb3Igb2JqZWN0XG4vLyBSZXR1cm46IGFjY2Vzc29yIG9iamVjdFxuZXhwb3J0IGZ1bmN0aW9uIGdldEdMVEZBY2Nlc3NvcihhdHRyaWJ1dGUpIHtcbiAgICBjb25zdCB7IGJ1ZmZlciwgc2l6ZSwgY291bnQgfSA9IGdldEFjY2Vzc29yRGF0YShhdHRyaWJ1dGUpO1xuICAgIGNvbnN0IGdsVEZBY2Nlc3NvciA9IHtcbiAgICAgICAgLy8gZ2xURiBBY2Nlc3NvciB2YWx1ZXNcbiAgICAgICAgLy8gVE9ETzogSW5zdGVhZCBvZiBhIGJ1ZmZlclZpZXcgaW5kZXggd2UgY291bGQgaGF2ZSBhbiBhY3R1YWwgYnVmZmVyICh0eXBlZCBhcnJheSlcbiAgICAgICAgLy8gYnVmZmVyVmlldzogbnVsbCxcbiAgICAgICAgLy8gVE9ETzogRGVwcmVjYXRlIGB2YWx1ZWAgaW4gZmF2b3Igb2YgYnVmZmVyVmlldz9cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB2YWx1ZTogYnVmZmVyLFxuICAgICAgICBzaXplLCAvLyBEZWNvZGVkIGB0eXBlYCAoZS5nLiBTQ0FMQVIpXG4gICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgIGNvdW50LFxuICAgICAgICB0eXBlOiBnZXRBY2Nlc3NvclR5cGVGcm9tU2l6ZShzaXplKSxcbiAgICAgICAgY29tcG9uZW50VHlwZTogZ2V0Q29tcG9uZW50VHlwZUZyb21BcnJheShidWZmZXIpXG4gICAgfTtcbiAgICByZXR1cm4gZ2xURkFjY2Vzc29yO1xufVxuLy8gZXhwb3J0IGZ1bmN0aW9uIGdldEdMVEZBdHRyaWJ1dGUoZGF0YSwgZ2x0ZkF0dHJpYnV0ZU5hbWUpOiBHTFRGQWNjZXNzb3Ige1xuLy8gICByZXR1cm4gZGF0YS5hdHRyaWJ1dGVzW2RhdGEuZ2xURkF0dHJpYnV0ZU1hcFtnbHRmQXR0cmlidXRlTmFtZV1dO1xuLy8gfVxuZnVuY3Rpb24gZ2V0QWNjZXNzb3JEYXRhKGF0dHJpYnV0ZSkge1xuICAgIGxldCBidWZmZXIgPSBhdHRyaWJ1dGU7XG4gICAgbGV0IHNpemUgPSAxO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgaWYgKGF0dHJpYnV0ZSAmJiBhdHRyaWJ1dGUudmFsdWUpIHtcbiAgICAgICAgYnVmZmVyID0gYXR0cmlidXRlLnZhbHVlO1xuICAgICAgICBzaXplID0gYXR0cmlidXRlLnNpemUgfHwgMTtcbiAgICB9XG4gICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICBpZiAoIUFycmF5QnVmZmVyLmlzVmlldyhidWZmZXIpKSB7XG4gICAgICAgICAgICBidWZmZXIgPSB0b1R5cGVkQXJyYXkoYnVmZmVyLCBGbG9hdDMyQXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50ID0gYnVmZmVyLmxlbmd0aCAvIHNpemU7XG4gICAgfVxuICAgIHJldHVybiB7IGJ1ZmZlciwgc2l6ZSwgY291bnQgfTtcbn1cbi8vIENvbnZlcnQgbm9uLXR5cGVkIGFycmF5cyB0byBhcnJheXMgb2Ygc3BlY2lmaWVkIGZvcm1hdFxuZnVuY3Rpb24gdG9UeXBlZEFycmF5KGFycmF5LCBBcnJheVR5cGUsIGNvbnZlcnRUeXBlZEFycmF5cyA9IGZhbHNlKSB7XG4gICAgaWYgKCFhcnJheSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlUeXBlKGFycmF5KTtcbiAgICB9XG4gICAgaWYgKGNvbnZlcnRUeXBlZEFycmF5cyAmJiAhKGFycmF5IGluc3RhbmNlb2YgQXJyYXlUeXBlKSkge1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5VHlwZShhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uXG4vLyBPbmx5IFRSSUFOR0xFUzogMHgwMDA0IGFuZCBUUklBTkdMRV9TVFJJUDogMHgwMDA1IGFyZSBzdXBwb3J0ZWRcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0IHsgc2xpY2VBcnJheUJ1ZmZlciwgcGFyc2VGcm9tQ29udGV4dCB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBEcmFjb0xvYWRlciB9IGZyb20gJ0Bsb2FkZXJzLmdsL2RyYWNvJztcbmltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IGdldEdMVEZBY2Nlc3NvcnMsIGdldEdMVEZBY2Nlc3NvciB9IGZyb20gXCIuLi9nbHRmLXV0aWxzL2dsdGYtYXR0cmlidXRlLXV0aWxzLmpzXCI7XG5jb25zdCBLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiA9ICdLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbic7XG4vKiogRXh0ZW5zaW9uIG5hbWUgKi9cbmV4cG9ydCBjb25zdCBuYW1lID0gS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT047XG5leHBvcnQgZnVuY3Rpb24gcHJlcHJvY2VzcyhnbHRmRGF0YSwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGNvbnN0IHNjZW5lZ3JhcGggPSBuZXcgR0xURlNjZW5lZ3JhcGgoZ2x0ZkRhdGEpO1xuICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIG1ha2VNZXNoUHJpbWl0aXZlSXRlcmF0b3Ioc2NlbmVncmFwaCkpIHtcbiAgICAgICAgaWYgKHNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKHByaW1pdGl2ZSwgS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT04pKSB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gUmVtb3ZlIGZhbGxiYWNrIGFjY2Vzc29ycyB0byBtYWtlIHN1cmUgd2UgZG9uJ3QgbG9hZCB1bm5lY2Vzc2FyeSBidWZmZXJzXG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVjb2RlKGdsdGZEYXRhLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgaWYgKCFvcHRpb25zPy5nbHRmPy5kZWNvbXByZXNzTWVzaGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiBtYWtlTWVzaFByaW1pdGl2ZUl0ZXJhdG9yKHNjZW5lZ3JhcGgpKSB7XG4gICAgICAgIGlmIChzY2VuZWdyYXBoLmdldE9iamVjdEV4dGVuc2lvbihwcmltaXRpdmUsIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OKSkge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChkZWNvbXByZXNzUHJpbWl0aXZlKHNjZW5lZ3JhcGgsIHByaW1pdGl2ZSwgb3B0aW9ucywgY29udGV4dCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIERlY29tcHJlc3MgbWVzaGVzIGluIHBhcmFsbGVsXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIC8vIFdlIGhhdmUgbm93IGRlY29tcHJlc3NlZCBhbGwgcHJpbWl0aXZlcywgc28gcmVtb3ZlIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uXG4gICAgc2NlbmVncmFwaC5yZW1vdmVFeHRlbnNpb24oS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT04pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShnbHRmRGF0YSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgc2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgZm9yIChjb25zdCBtZXNoIG9mIHNjZW5lZ3JhcGguanNvbi5tZXNoZXMgfHwgW10pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbXByZXNzTWVzaChtZXNoLCBvcHRpb25zKTtcbiAgICAgICAgLy8gTk9URTogT25seSBhZGQgdGhlIGV4dGVuc2lvbiBpZiBzb21ldGhpbmcgd2FzIGFjdHVhbGx5IGNvbXByZXNzZWRcbiAgICAgICAgc2NlbmVncmFwaC5hZGRSZXF1aXJlZEV4dGVuc2lvbihLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTik7XG4gICAgfVxufVxuLy8gREVDT0RFXG4vLyBVbnBhY2tzIG9uZSBtZXNoIHByaW1pdGl2ZSBhbmQgcmVtb3ZlcyB0aGUgZXh0ZW5zaW9uIGZyb20gdGhlIHByaW1pdGl2ZVxuLy8gRHJhY29EZWNvZGVyIG5lZWRzIHRvIGJlIGltcG9ydGVkIGFuZCByZWdpc3RlcmVkIGJ5IGFwcFxuLy8gUmV0dXJuczogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIHBlbmRpbmcgZHJhY28gZGVjb2RlciBqb2JzIGZvciB0aGlzIG1lc2ggY29tcGxldGVcbi8vIFRPRE8gLSBJbXBsZW1lbnQgZmFsbGJhY2sgYmVoYXZpb3IgcGVyIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIHNwZWNcbmFzeW5jIGZ1bmN0aW9uIGRlY29tcHJlc3NQcmltaXRpdmUoc2NlbmVncmFwaCwgcHJpbWl0aXZlLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgY29uc3QgZHJhY29FeHRlbnNpb24gPSBzY2VuZWdyYXBoLmdldE9iamVjdEV4dGVuc2lvbihwcmltaXRpdmUsIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OKTtcbiAgICBpZiAoIWRyYWNvRXh0ZW5zaW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYnVmZmVyID0gc2NlbmVncmFwaC5nZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyhkcmFjb0V4dGVuc2lvbi5idWZmZXJWaWV3KTtcbiAgICAvLyBUT0RPIC0gcGFyc2UgZG9lcyBub3QgeWV0IGRlYWwgd2VsbCB3aXRoIGJ5dGUgb2Zmc2V0cyBlbWJlZGRlZCBpbiB0eXBlZCBhcnJheXMuIENvcHkgYnVmZmVyXG4gICAgLy8gVE9ETyAtIHJlbW92ZSB3aGVuIGBwYXJzZWAgaXMgZml4ZWQgdG8gaGFuZGxlIGBieXRlT2Zmc2V0YHNcbiAgICBjb25zdCBidWZmZXJDb3B5ID0gc2xpY2VBcnJheUJ1ZmZlcihidWZmZXIuYnVmZmVyLCBidWZmZXIuYnl0ZU9mZnNldCk7IC8vICwgYnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgIGNvbnN0IGRyYWNvT3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9O1xuICAgIC8vIFRPRE8gLSByZW1vdmUgaGFjazogVGhlIGVudGlyZSB0aWxlc2V0IG1pZ2h0IGJlIGluY2x1ZGVkLCB0b28gZXhwZW5zaXZlIHRvIHNlcmlhbGl6ZVxuICAgIGRlbGV0ZSBkcmFjb09wdGlvbnNbJzNkLXRpbGVzJ107XG4gICAgY29uc3QgZGVjb2RlZERhdGEgPSBhd2FpdCBwYXJzZUZyb21Db250ZXh0KGJ1ZmZlckNvcHksIERyYWNvTG9hZGVyLCBkcmFjb09wdGlvbnMsIGNvbnRleHQpO1xuICAgIGNvbnN0IGRlY29kZWRBdHRyaWJ1dGVzID0gZ2V0R0xURkFjY2Vzc29ycyhkZWNvZGVkRGF0YS5hdHRyaWJ1dGVzKTtcbiAgICAvLyBSZXN0b3JlIG1pbi9tYXggdmFsdWVzXG4gICAgZm9yIChjb25zdCBbYXR0cmlidXRlTmFtZSwgZGVjb2RlZEF0dHJpYnV0ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGVjb2RlZEF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lIGluIHByaW1pdGl2ZS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NvckluZGV4ID0gcHJpbWl0aXZlLmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NvciA9IHNjZW5lZ3JhcGguZ2V0QWNjZXNzb3IoYWNjZXNzb3JJbmRleCk7XG4gICAgICAgICAgICBpZiAoYWNjZXNzb3I/Lm1pbiAmJiBhY2Nlc3Nvcj8ubWF4KSB7XG4gICAgICAgICAgICAgICAgZGVjb2RlZEF0dHJpYnV0ZS5taW4gPSBhY2Nlc3Nvci5taW47XG4gICAgICAgICAgICAgICAgZGVjb2RlZEF0dHJpYnV0ZS5tYXggPSBhY2Nlc3Nvci5tYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHByaW1pdGl2ZS5hdHRyaWJ1dGVzID0gZGVjb2RlZEF0dHJpYnV0ZXM7XG4gICAgaWYgKGRlY29kZWREYXRhLmluZGljZXMpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBwcmltaXRpdmUuaW5kaWNlcyA9IGdldEdMVEZBY2Nlc3NvcihkZWNvZGVkRGF0YS5pbmRpY2VzKTtcbiAgICB9XG4gICAgLy8gRXh0ZW5zaW9uIGhhcyBiZWVuIHByb2Nlc3NlZCwgZGVsZXRlIGl0XG4gICAgc2NlbmVncmFwaC5yZW1vdmVPYmplY3RFeHRlbnNpb24ocHJpbWl0aXZlLCBLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTik7XG4gICAgY2hlY2tQcmltaXRpdmUocHJpbWl0aXZlKTtcbn1cbi8vIEVOQ09ERVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbi8vIE9ubHkgVFJJQU5HTEVTOiAweDAwMDQgYW5kIFRSSUFOR0xFX1NUUklQOiAweDAwMDUgYXJlIHN1cHBvcnRlZFxuZnVuY3Rpb24gY29tcHJlc3NNZXNoKGF0dHJpYnV0ZXMsIGluZGljZXMsIG1vZGUgPSA0LCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgaWYgKCFvcHRpb25zLkRyYWNvV3JpdGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb3B0aW9ucy5nbHRmLkRyYWNvV3JpdGVyIG5vdCBwcm92aWRlZCcpO1xuICAgIH1cbiAgICAvLyBUT0RPIC0gdXNlIERyYWNvV3JpdGVyIHVzaW5nIGVuY29kZSB3LyByZWdpc3RlcmVkIERyYWNvV3JpdGVyLi4uXG4gICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBvcHRpb25zLkRyYWNvV3JpdGVyLmVuY29kZVN5bmMoeyBhdHRyaWJ1dGVzIH0pO1xuICAgIC8vIERyYWNvIGNvbXByZXNzaW9uIG1heSBjaGFuZ2UgdGhlIG9yZGVyIGFuZCBudW1iZXIgb2YgdmVydGljZXMgaW4gYSBtZXNoLlxuICAgIC8vIFRvIHNhdGlzZnkgdGhlIHJlcXVpcmVtZW50IHRoYXQgYWNjZXNzb3JzIHByb3BlcnRpZXMgYmUgY29ycmVjdCBmb3IgYm90aFxuICAgIC8vIGNvbXByZXNzZWQgYW5kIHVuY29tcHJlc3NlZCBkYXRhLCBnZW5lcmF0b3JzIHNob3VsZCBjcmVhdGUgdW5jb21wcmVzc2VkXG4gICAgLy8gYXR0cmlidXRlcyBhbmQgaW5kaWNlcyB1c2luZyBkYXRhIHRoYXQgaGFzIGJlZW4gZGVjb21wcmVzc2VkIGZyb20gdGhlIERyYWNvIGJ1ZmZlcixcbiAgICAvLyByYXRoZXIgdGhhbiB0aGUgb3JpZ2luYWwgc291cmNlIGRhdGEuXG4gICAgLy8gQHRzLWlnbm9yZSBUT0RPIHRoaXMgbmVlZHMgdG8gYmUgZml4ZWRcbiAgICBjb25zdCBkZWNvZGVkRGF0YSA9IGNvbnRleHQ/LnBhcnNlU3luYz8uKHsgYXR0cmlidXRlcyB9KTtcbiAgICBjb25zdCBmYXV4QWNjZXNzb3JzID0gb3B0aW9ucy5fYWRkRmF1eEF0dHJpYnV0ZXMoZGVjb2RlZERhdGEuYXR0cmlidXRlcyk7XG4gICAgY29uc3QgYnVmZmVyVmlld0luZGV4ID0gb3B0aW9ucy5hZGRCdWZmZXJWaWV3KGNvbXByZXNzZWREYXRhKTtcbiAgICBjb25zdCBnbFRGTWVzaCA9IHtcbiAgICAgICAgcHJpbWl0aXZlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGZhdXhBY2Nlc3NvcnMsIC8vIFRPRE8gLSB2ZXJpZnkgd2l0aCBzcGVjXG4gICAgICAgICAgICAgICAgbW9kZSwgLy8gR0wuUE9JTlRTXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uczoge1xuICAgICAgICAgICAgICAgICAgICBbS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT05dOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJWaWV3OiBidWZmZXJWaWV3SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBmYXV4QWNjZXNzb3JzIC8vIFRPRE8gLSB2ZXJpZnkgd2l0aCBzcGVjXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xuICAgIHJldHVybiBnbFRGTWVzaDtcbn1cbi8vIFVUSUxTXG5mdW5jdGlvbiBjaGVja1ByaW1pdGl2ZShwcmltaXRpdmUpIHtcbiAgICBpZiAoIXByaW1pdGl2ZS5hdHRyaWJ1dGVzICYmIE9iamVjdC5rZXlzKHByaW1pdGl2ZS5hdHRyaWJ1dGVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZ2xURjogRW1wdHkgcHJpbWl0aXZlIGRldGVjdGVkOiBEcmFjbyBkZWNvbXByZXNzaW9uIGZhaWx1cmU/Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24qIG1ha2VNZXNoUHJpbWl0aXZlSXRlcmF0b3Ioc2NlbmVncmFwaCkge1xuICAgIGZvciAoY29uc3QgbWVzaCBvZiBzY2VuZWdyYXBoLmpzb24ubWVzaGVzIHx8IFtdKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIG1lc2gucHJpbWl0aXZlcykge1xuICAgICAgICAgICAgeWllbGQgcHJpbWl0aXZlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5jb25zdCBSQURJQU5TX1RPX0RFR1JFRVMgPSAoMSAvIE1hdGguUEkpICogMTgwO1xuY29uc3QgREVHUkVFU19UT19SQURJQU5TID0gKDEgLyAxODApICogTWF0aC5QSTtcbmNvbnN0IERFRkFVTFRfQ09ORklHID0ge1xuICAgIEVQU0lMT046IDFlLTEyLFxuICAgIGRlYnVnOiBmYWxzZSxcbiAgICBwcmVjaXNpb246IDQsXG4gICAgcHJpbnRUeXBlczogZmFsc2UsXG4gICAgcHJpbnREZWdyZWVzOiBmYWxzZSxcbiAgICBwcmludFJvd01ham9yOiB0cnVlLFxuICAgIF9jYXJ0b2dyYXBoaWNSYWRpYW5zOiBmYWxzZVxufTtcbi8vIENvbmZpZ3VyYXRpb24gaXMgdHJ1bHkgZ2xvYmFsIGFzIG9mIHYzLjYgdG8gZW5zdXJlIHNpbmdsZSBjb25maWcgZXZlbiBpZiBtdWx0aXBsZSBjb3BpZXMgb2YgbWF0aC5nbFxuLy8gTXVsdGlwbGUgY29waWVzIG9mIGNvbmZpZyBjYW4gYmUgcXVpdGUgdHJpY2t5IHRvIGRlYnVnLi4uXG5nbG9iYWxUaGlzLm1hdGhnbCA9IGdsb2JhbFRoaXMubWF0aGdsIHx8IHsgY29uZmlnOiB7IC4uLkRFRkFVTFRfQ09ORklHIH0gfTtcbmV4cG9ydCBjb25zdCBjb25maWcgPSBnbG9iYWxUaGlzLm1hdGhnbC5jb25maWc7XG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlKG9wdGlvbnMpIHtcbiAgICAvLyBPbmx5IGNvcHkgZXhpc3Rpbmcga2V5c1xuICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCBvcHRpb25zKTtcbiAgICByZXR1cm4gY29uZmlnO1xufVxuLyoqXG4gKiBGb3JtYXRzIGEgdmFsdWUgaW50byBhIHN0cmluZ1xuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gcGFyYW0xXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VmFsdWUodmFsdWUsIHsgcHJlY2lzaW9uID0gY29uZmlnLnByZWNpc2lvbiB9ID0ge30pIHtcbiAgICB2YWx1ZSA9IHJvdW5kKHZhbHVlKTtcbiAgICAvLyBnZXQgcmlkIG9mIHRyYWlsaW5nIHplcm9zXG4gICAgcmV0dXJuIGAke3BhcnNlRmxvYXQodmFsdWUudG9QcmVjaXNpb24ocHJlY2lzaW9uKSl9YDtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdmFsdWUgaXMgYW4gXCJhcnJheVwiXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB2YWx1ZSBpcyBlaXRoZXIgYW4gYXJyYXkgb3IgYSB0eXBlZCBhcnJheVxuICogTm90ZTogcmV0dXJucyBgZmFsc2VgIGZvciBgQXJyYXlCdWZmZXJgIGFuZCBgRGF0YVZpZXdgIGluc3RhbmNlc1xuICogQG5vdGUgaXNUeXBlZEFycmF5IGFuZCBpc051bWVyaWNBcnJheSBhcmUgb2Z0ZW4gbW9yZSB1c2VmdWwgaW4gVHlwZVNjcmlwdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSB8fCAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRGF0YVZpZXcpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhcnJheSkge1xuICAgIHJldHVybiAnY2xvbmUnIGluIGFycmF5ID8gYXJyYXkuY2xvbmUoKSA6IGFycmF5LnNsaWNlKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW5zKGRlZ3JlZXMpIHtcbiAgICByZXR1cm4gcmFkaWFucyhkZWdyZWVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZXMocmFkaWFucykge1xuICAgIHJldHVybiBkZWdyZWVzKHJhZGlhbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhZGlhbnMoZGVncmVlcywgcmVzdWx0KSB7XG4gICAgcmV0dXJuIG1hcChkZWdyZWVzLCAoZGVncmVlcykgPT4gZGVncmVlcyAqIERFR1JFRVNfVE9fUkFESUFOUywgcmVzdWx0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWdyZWVzKHJhZGlhbnMsIHJlc3VsdCkge1xuICAgIHJldHVybiBtYXAocmFkaWFucywgKHJhZGlhbnMpID0+IHJhZGlhbnMgKiBSQURJQU5TX1RPX0RFR1JFRVMsIHJlc3VsdCk7XG59XG4vKipcbiAqIFwiR0xTTCBlcXVpdmFsZW50XCIgb2YgYE1hdGguc2luYDogV29ya3Mgb24gc2luZ2xlIHZhbHVlcyBhbmQgdmVjdG9yc1xuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbihyYWRpYW5zLCByZXN1bHQpIHtcbiAgICByZXR1cm4gbWFwKHJhZGlhbnMsIChhbmdsZSkgPT4gTWF0aC5zaW4oYW5nbGUpLCByZXN1bHQpO1xufVxuLyoqXG4gKiBcIkdMU0wgZXF1aXZhbGVudFwiIG9mIGBNYXRoLmNvc2A6IFdvcmtzIG9uIHNpbmdsZSB2YWx1ZXMgYW5kIHZlY3RvcnNcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3MocmFkaWFucywgcmVzdWx0KSB7XG4gICAgcmV0dXJuIG1hcChyYWRpYW5zLCAoYW5nbGUpID0+IE1hdGguY29zKGFuZ2xlKSwgcmVzdWx0KTtcbn1cbi8qKlxuICogXCJHTFNMIGVxdWl2YWxlbnRcIiBvZiBgTWF0aC50YW5gOiBXb3JrcyBvbiBzaW5nbGUgdmFsdWVzIGFuZCB2ZWN0b3JzXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFuKHJhZGlhbnMsIHJlc3VsdCkge1xuICAgIHJldHVybiBtYXAocmFkaWFucywgKGFuZ2xlKSA9PiBNYXRoLnRhbihhbmdsZSksIHJlc3VsdCk7XG59XG4vKipcbiAqIFwiR0xTTCBlcXVpdmFsZW50XCIgb2YgYE1hdGguYXNpbmA6IFdvcmtzIG9uIHNpbmdsZSB2YWx1ZXMgYW5kIHZlY3RvcnNcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc2luKHJhZGlhbnMsIHJlc3VsdCkge1xuICAgIHJldHVybiBtYXAocmFkaWFucywgKGFuZ2xlKSA9PiBNYXRoLmFzaW4oYW5nbGUpLCByZXN1bHQpO1xufVxuLyoqXG4gKiBcIkdMU0wgZXF1aXZhbGVudFwiIG9mIGBNYXRoLmFjb3NgOiBXb3JrcyBvbiBzaW5nbGUgdmFsdWVzIGFuZCB2ZWN0b3JzXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWNvcyhyYWRpYW5zLCByZXN1bHQpIHtcbiAgICByZXR1cm4gbWFwKHJhZGlhbnMsIChhbmdsZSkgPT4gTWF0aC5hY29zKGFuZ2xlKSwgcmVzdWx0KTtcbn1cbi8qKlxuICogXCJHTFNMIGVxdWl2YWxlbnRcIiBvZiBgTWF0aC5hdGFuYDogV29ya3Mgb24gc2luZ2xlIHZhbHVlcyBhbmQgdmVjdG9yc1xuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0YW4ocmFkaWFucywgcmVzdWx0KSB7XG4gICAgcmV0dXJuIG1hcChyYWRpYW5zLCAoYW5nbGUpID0+IE1hdGguYXRhbihhbmdsZSksIHJlc3VsdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIG1hcCh2YWx1ZSwgKHZhbHVlKSA9PiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbGVycChhLCBiLCB0KSB7XG4gICAgaWYgKGlzQXJyYXkoYSkpIHtcbiAgICAgICAgcmV0dXJuIGEubWFwKChhaSwgaSkgPT4gbGVycChhaSwgYltpXSwgdCkpO1xuICAgIH1cbiAgICByZXR1cm4gdCAqIGIgKyAoMSAtIHQpICogYTtcbn1cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIENvbXBhcmVzIGFueSB0d28gbWF0aCBvYmplY3RzLCB1c2luZyBgZXF1YWxzYCBtZXRob2QgaWYgYXZhaWxhYmxlLlxuICogQHBhcmFtIGFcbiAqIEBwYXJhbSBiXG4gKiBAcGFyYW0gZXBzaWxvblxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiLCBlcHNpbG9uKSB7XG4gICAgY29uc3Qgb2xkRXBzaWxvbiA9IGNvbmZpZy5FUFNJTE9OO1xuICAgIGlmIChlcHNpbG9uKSB7XG4gICAgICAgIGNvbmZpZy5FUFNJTE9OID0gZXBzaWxvbjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KGEpICYmIGlzQXJyYXkoYikpIHtcbiAgICAgICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWRlcHRoXG4gICAgICAgICAgICAgICAgaWYgKCFlcXVhbHMoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhICYmIGEuZXF1YWxzKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5lcXVhbHMoYik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGIgJiYgYi5lcXVhbHMpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmVxdWFscyhhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBiID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBjb25maWcuRVBTSUxPTiAqIE1hdGgubWF4KDEsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgY29uZmlnLkVQU0lMT04gPSBvbGRFcHNpbG9uO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiBiICYmIHR5cGVvZiBiID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhLmV4YWN0RXF1YWxzKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5leGFjdEVxdWFscyhiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNBcnJheShhKSAmJiBpc0FycmF5KGIpKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghZXhhY3RFcXVhbHMoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qIGVzbGludC1lbmFibGUgKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoRXBzaWxvbihlcHNpbG9uLCBmdW5jKSB7XG4gICAgY29uc3Qgb2xkUHJlY2lzaW9uID0gY29uZmlnLkVQU0lMT047XG4gICAgY29uZmlnLkVQU0lMT04gPSBlcHNpbG9uO1xuICAgIGxldCB2YWx1ZTtcbiAgICB0cnkge1xuICAgICAgICB2YWx1ZSA9IGZ1bmMoKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGNvbmZpZy5FUFNJTE9OID0gb2xkUHJlY2lzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vLyBIRUxQRVJTXG5mdW5jdGlvbiByb3VuZCh2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gY29uZmlnLkVQU0lMT04pICogY29uZmlnLkVQU0lMT047XG59XG4vLyBJZiB0aGUgYXJyYXkgaGFzIGEgY2xvbmUgZnVuY3Rpb24sIGNhbGxzIGl0LCBvdGhlcndpc2UgcmV0dXJucyBhIGNvcHlcbmZ1bmN0aW9uIGR1cGxpY2F0ZUFycmF5KGFycmF5KSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBXZSBjaGVjayBmb3IgbWF0aC5nbCBjbGFzcyBtZXRob2RzXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbFxuICAgIHJldHVybiBhcnJheS5jbG9uZSA/IGFycmF5LmNsb25lKCkgOiBuZXcgQXJyYXkoYXJyYXkubGVuZ3RoKTtcbn1cbi8vIElmIHRoZSBhcmd1bWVudCB2YWx1ZSBpcyBhbiBhcnJheSwgYXBwbGllcyB0aGUgZnVuYyBlbGVtZW50IHdpc2UsXG4vLyBvdGhlcndpc2UgYXBwbGllcyBmdW5jIHRvIHRoZSBhcmd1bWVudCB2YWx1ZVxuZnVuY3Rpb24gbWFwKHZhbHVlLCBmdW5jLCByZXN1bHQpIHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSB2YWx1ZTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0IHx8IGR1cGxpY2F0ZUFycmF5KGFycmF5KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoICYmIGkgPCBhcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgdmFsID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IHZhbHVlIDogdmFsdWVbaV07XG4gICAgICAgICAgICByZXN1bHRbaV0gPSBmdW5jKHZhbCwgaSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBjb25maWcsIGZvcm1hdFZhbHVlLCBlcXVhbHMsIGlzQXJyYXkgfSBmcm9tIFwiLi4vLi4vbGliL2NvbW1vbi5qc1wiO1xuLyoqIEJhc2UgY2xhc3MgZm9yIHZlY3RvcnMgYW5kIG1hdHJpY2VzICovXG5leHBvcnQgY2xhc3MgTWF0aEFycmF5IGV4dGVuZHMgQXJyYXkge1xuICAgIC8vIENvbW1vbiBtZXRob2RzXG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhlIGN1cnJlbnQgb2JqZWN0XG4gICAgICogQHJldHVybnMgYSBuZXcgY29weSBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTMjM1MTogQ2Fubm90IHVzZSAnbmV3JyB3aXRoIGFuIGV4cHJlc3Npb24gd2hvc2UgdHlwZSBsYWNrcyBhIGNhbGwgb3IgY29uc3RydWN0IHNpZ25hdHVyZS5cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cbiAgICBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBhcnJheVtpICsgb2Zmc2V0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICB0b0FycmF5KHRhcmdldEFycmF5ID0gW10sIG9mZnNldCA9IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRhcmdldEFycmF5W29mZnNldCArIGldID0gdGhpc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0QXJyYXk7XG4gICAgfVxuICAgIHRvT2JqZWN0KHRhcmdldE9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0T2JqZWN0O1xuICAgIH1cbiAgICBmcm9tKGFycmF5T3JPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyYXlPck9iamVjdClcbiAgICAgICAgICAgID8gdGhpcy5jb3B5KGFycmF5T3JPYmplY3QpXG4gICAgICAgICAgICA6IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB0aGlzLmZyb21PYmplY3QoYXJyYXlPck9iamVjdCk7XG4gICAgfVxuICAgIHRvKGFycmF5T3JPYmplY3QpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoYXJyYXlPck9iamVjdCA9PT0gdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUUzIzMzk6IFByb3BlcnR5ICd0b09iamVjdCcgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnTWF0aEFycmF5Jy5cbiAgICAgICAgcmV0dXJuIGlzQXJyYXkoYXJyYXlPck9iamVjdCkgPyB0aGlzLnRvQXJyYXkoYXJyYXlPck9iamVjdCkgOiB0aGlzLnRvT2JqZWN0KGFycmF5T3JPYmplY3QpO1xuICAgIH1cbiAgICB0b1RhcmdldCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldCA/IHRoaXMudG8odGFyZ2V0KSA6IHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHRvRmxvYXQzMkFycmF5KCkge1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFN0cmluZyhjb25maWcpO1xuICAgIH1cbiAgICAvKiogRm9ybWF0cyBzdHJpbmcgYWNjb3JkaW5nIHRvIG9wdGlvbnMgKi9cbiAgICBmb3JtYXRTdHJpbmcob3B0cykge1xuICAgICAgICBsZXQgc3RyaW5nID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICBzdHJpbmcgKz0gKGkgPiAwID8gJywgJyA6ICcnKSArIGZvcm1hdFZhbHVlKHRoaXNbaV0sIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtvcHRzLnByaW50VHlwZXMgPyB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgOiAnJ31bJHtzdHJpbmd9XWA7XG4gICAgfVxuICAgIGVxdWFscyhhcnJheSkge1xuICAgICAgICBpZiAoIWFycmF5IHx8IHRoaXMubGVuZ3RoICE9PSBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgaWYgKCFlcXVhbHModGhpc1tpXSwgYXJyYXlbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBleGFjdEVxdWFscyhhcnJheSkge1xuICAgICAgICBpZiAoIWFycmF5IHx8IHRoaXMubGVuZ3RoICE9PSBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gIT09IGFycmF5W2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBNb2RpZmllcnNcbiAgICAvKiogTmVnYXRlcyBhbGwgdmFsdWVzIGluIHRoaXMgb2JqZWN0ICovXG4gICAgbmVnYXRlKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgdGhpc1tpXSA9IC10aGlzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIGxlcnAoYSwgYiwgdCkge1xuICAgICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZXJwKHRoaXMsIGEsIGIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBhaSA9IGFbaV07XG4gICAgICAgICAgICBjb25zdCBlbmRWYWx1ZSA9IHR5cGVvZiBiID09PSAnbnVtYmVyJyA/IGIgOiBiW2ldO1xuICAgICAgICAgICAgdGhpc1tpXSA9IGFpICsgdCAqIChlbmRWYWx1ZSAtIGFpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvKiogTWluaW1hbCAqL1xuICAgIG1pbih2ZWN0b3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBNYXRoLm1pbih2ZWN0b3JbaV0sIHRoaXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8qKiBNYXhpbWFsICovXG4gICAgbWF4KHZlY3Rvcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgdGhpc1tpXSA9IE1hdGgubWF4KHZlY3RvcltpXSwgdGhpc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgY2xhbXAobWluVmVjdG9yLCBtYXhWZWN0b3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBNYXRoLm1pbihNYXRoLm1heCh0aGlzW2ldLCBtaW5WZWN0b3JbaV0pLCBtYXhWZWN0b3JbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIGFkZCguLi52ZWN0b3JzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdmVjdG9yIG9mIHZlY3RvcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSArPSB2ZWN0b3JbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgc3VidHJhY3QoLi4udmVjdG9ycykge1xuICAgICAgICBmb3IgKGNvbnN0IHZlY3RvciBvZiB2ZWN0b3JzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXNbaV0gLT0gdmVjdG9yW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHNjYWxlKHNjYWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NhbGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXNbaV0gKj0gc2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFMgJiYgaSA8IHNjYWxlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSAqPSBzY2FsZVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIGFsbCBlbGVtZW50cyBieSBgc2NhbGVgXG4gICAgICogTm90ZTogYE1hdHJpeDQubXVsdGlwbHlCeVNjYWxhcmAgb25seSBzY2FsZXMgaXRzIDN4MyBcIm1pbm9yXCJcbiAgICAgKi9cbiAgICBtdWx0aXBseUJ5U2NhbGFyKHNjYWxhcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgdGhpc1tpXSAqPSBzY2FsYXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLy8gRGVidWcgY2hlY2tzXG4gICAgLyoqIFRocm93cyBhbiBlcnJvciBpZiBhcnJheSBsZW5ndGggaXMgaW5jb3JyZWN0IG9yIGNvbnRhaW5zIGlsbGVnYWwgdmFsdWVzICovXG4gICAgY2hlY2soKSB7XG4gICAgICAgIGlmIChjb25maWcuZGVidWcgJiYgIXRoaXMudmFsaWRhdGUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtYXRoLmdsOiAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gc29tZSBmaWVsZHMgc2V0IHRvIGludmFsaWQgbnVtYmVycydgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIFJldHVybnMgZmFsc2UgaWYgdGhlIGFycmF5IGxlbmd0aCBpcyBpbmNvcnJlY3Qgb3IgY29udGFpbnMgaWxsZWdhbCB2YWx1ZXMgKi9cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgbGV0IHZhbGlkID0gdGhpcy5sZW5ndGggPT09IHRoaXMuRUxFTUVOVFM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICB2YWxpZCA9IHZhbGlkICYmIE51bWJlci5pc0Zpbml0ZSh0aGlzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfVxuICAgIC8vIHRocmVlLmpzIGNvbXBhdGliaWxpdHlcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBzdWIoYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJ0cmFjdChhKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgc2V0U2NhbGFyKGEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIGFkZFNjYWxhcihhKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICB0aGlzW2ldICs9IGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgc3ViU2NhbGFyKGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkU2NhbGFyKC1hKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgbXVsdGlwbHlTY2FsYXIoc2NhbGFyKSB7XG4gICAgICAgIC8vIE11bHRpcGxpZXMgYWxsIGVsZW1lbnRzXG4gICAgICAgIC8vIGBNYXRyaXg0LnNjYWxlYCBvbmx5IHNjYWxlcyBpdHMgM3gzIFwibWlub3JcIlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRUxFTUVOVFM7ICsraSkge1xuICAgICAgICAgICAgdGhpc1tpXSAqPSBzY2FsYXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgZGl2aWRlU2NhbGFyKGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlCeVNjYWxhcigxIC8gYSk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIGNsYW1wU2NhbGFyKG1pbiwgbWF4KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gTWF0aC5taW4oTWF0aC5tYXgodGhpc1tpXSwgbWluKSwgbWF4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBnZXQgZWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGgtYXJyYXkuanMubWFwIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi9jb21tb24uanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVZlY3Rvcih2LCBsZW5ndGgpIHtcbiAgICBpZiAodi5sZW5ndGggIT09IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIENvdWxkIGJlIGFyZ3VtZW50cyBcImFycmF5XCIgKHYuZXZlcnkgbm90IGF2YWlsYXNibGUpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHZbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gY2hlY2tOdW1iZXIodmFsdWUpIHtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG51bWJlciAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrVmVjdG9yKHYsIGxlbmd0aCwgY2FsbGVyTmFtZSA9ICcnKSB7XG4gICAgaWYgKGNvbmZpZy5kZWJ1ZyAmJiAhdmFsaWRhdGVWZWN0b3IodiwgbGVuZ3RoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1hdGguZ2w6ICR7Y2FsbGVyTmFtZX0gc29tZSBmaWVsZHMgc2V0IHRvIGludmFsaWQgbnVtYmVycydgKTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5jb25zdCBtYXAgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBkZXByZWNhdGVkKG1ldGhvZCwgdmVyc2lvbikge1xuICAgIGlmICghbWFwW21ldGhvZF0pIHtcbiAgICAgICAgbWFwW21ldGhvZF0gPSB0cnVlO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgY29uc29sZS53YXJuKGAke21ldGhvZH0gaGFzIGJlZW4gcmVtb3ZlZCBpbiB2ZXJzaW9uICR7dmVyc2lvbn0sIHNlZSB1cGdyYWRlIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9uYCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdG9ycy5qcy5tYXAiLCIvLyBtYXRoLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtYXRoLmdsIGFzc2VydGlvbiAke21lc3NhZ2V9YCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0LmpzLm1hcCIsIi8vIG1hdGguZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gQ29weXJpZ2h0IChjKSAyMDE3IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG5pbXBvcnQgeyBNYXRoQXJyYXkgfSBmcm9tIFwiLi9tYXRoLWFycmF5LmpzXCI7XG5pbXBvcnQgeyBjaGVja051bWJlciB9IGZyb20gXCIuLi8uLi9saWIvdmFsaWRhdG9ycy5qc1wiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uLy4uL2xpYi9hc3NlcnQuanNcIjtcbi8qKiBCYXNlIGNsYXNzIGZvciB2ZWN0b3JzIHdpdGggYXQgbGVhc3QgMiBlbGVtZW50cyAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvciBleHRlbmRzIE1hdGhBcnJheSB7XG4gICAgLy8gQUNDRVNTT1JTXG4gICAgZ2V0IHgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWzBdO1xuICAgIH1cbiAgICBzZXQgeCh2YWx1ZSkge1xuICAgICAgICB0aGlzWzBdID0gY2hlY2tOdW1iZXIodmFsdWUpO1xuICAgIH1cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbMV07XG4gICAgfVxuICAgIHNldCB5KHZhbHVlKSB7XG4gICAgICAgIHRoaXNbMV0gPSBjaGVja051bWJlcih2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgdmVjdG9yIGZyb20gdGhlIG9yaWdpbiB0byB0aGUgcG9pbnQgZGVzY3JpYmVkIGJ5IHRoaXMgdmVjdG9yXG4gICAgICpcbiAgICAgKiBAbm90ZSBgbGVuZ3RoYCBpcyBhIHJlc2VydmVkIHdvcmQgZm9yIEFycmF5cywgc28gYHYubGVuZ3RoKClgIHdpbGwgcmV0dXJuIG51bWJlciBvZiBlbGVtZW50c1xuICAgICAqIEluc3RlYWQgd2UgcHJvdmlkZSBgbGVuYCBhbmQgYG1hZ25pdHVkZWBcbiAgICAgKi9cbiAgICBsZW4oKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvciBmcm9tIHRoZSBvcmlnaW4gdG8gdGhlIHBvaW50IGRlc2NyaWJlZCBieSB0aGlzIHZlY3RvclxuICAgICAqL1xuICAgIG1hZ25pdHVkZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSB2ZWN0b3IgZnJvbSB0aGUgb3JpZ2luIHRvIHRoZSBwb2ludCBkZXNjcmliZWQgYnkgdGhpcyB2ZWN0b3JcbiAgICAgKi9cbiAgICBsZW5ndGhTcXVhcmVkKCkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIGxlbmd0aCArPSB0aGlzW2ldICogdGhpc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiB0aGUgdmVjdG9yIGZyb20gdGhlIG9yaWdpbiB0byB0aGUgcG9pbnQgZGVzY3JpYmVkIGJ5IHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgbWFnbml0dWRlU3F1YXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoU3F1YXJlZCgpO1xuICAgIH1cbiAgICBkaXN0YW5jZShtYXRoQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlU3F1YXJlZChtYXRoQXJyYXkpKTtcbiAgICB9XG4gICAgZGlzdGFuY2VTcXVhcmVkKG1hdGhBcnJheSkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSB0aGlzW2ldIC0gbWF0aEFycmF5W2ldO1xuICAgICAgICAgICAgbGVuZ3RoICs9IGRpc3QgKiBkaXN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja051bWJlcihsZW5ndGgpO1xuICAgIH1cbiAgICBkb3QobWF0aEFycmF5KSB7XG4gICAgICAgIGxldCBwcm9kdWN0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgIHByb2R1Y3QgKz0gdGhpc1tpXSAqIG1hdGhBcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tOdW1iZXIocHJvZHVjdCk7XG4gICAgfVxuICAgIC8vIE1PRElGSUVSU1xuICAgIG5vcm1hbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5tYWduaXR1ZGUoKTtcbiAgICAgICAgaWYgKGxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2ldIC89IGxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICBtdWx0aXBseSguLi52ZWN0b3JzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdmVjdG9yIG9mIHZlY3RvcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTEVNRU5UUzsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSAqPSB2ZWN0b3JbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgZGl2aWRlKC4uLnZlY3RvcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCB2ZWN0b3Igb2YgdmVjdG9ycykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2ldIC89IHZlY3RvcltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvLyBUSFJFRS5qcyBjb21wYXRpYmlsaXR5XG4gICAgbGVuZ3RoU3EoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aFNxdWFyZWQoKTtcbiAgICB9XG4gICAgZGlzdGFuY2VUbyh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzdGFuY2UodmVjdG9yKTtcbiAgICB9XG4gICAgZGlzdGFuY2VUb1NxdWFyZWQodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3RhbmNlU3F1YXJlZCh2ZWN0b3IpO1xuICAgIH1cbiAgICBnZXRDb21wb25lbnQoaSkge1xuICAgICAgICBhc3NlcnQoaSA+PSAwICYmIGkgPCB0aGlzLkVMRU1FTlRTLCAnaW5kZXggaXMgb3V0IG9mIHJhbmdlJyk7XG4gICAgICAgIHJldHVybiBjaGVja051bWJlcih0aGlzW2ldKTtcbiAgICB9XG4gICAgc2V0Q29tcG9uZW50KGksIHZhbHVlKSB7XG4gICAgICAgIGFzc2VydChpID49IDAgJiYgaSA8IHRoaXMuRUxFTUVOVFMsICdpbmRleCBpcyBvdXQgb2YgcmFuZ2UnKTtcbiAgICAgICAgdGhpc1tpXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICBhZGRWZWN0b3JzKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weShhKS5hZGQoYik7XG4gICAgfVxuICAgIHN1YlZlY3RvcnMoYSwgYikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5KGEpLnN1YnRyYWN0KGIpO1xuICAgIH1cbiAgICBtdWx0aXBseVZlY3RvcnMoYSwgYikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5KGEpLm11bHRpcGx5KGIpO1xuICAgIH1cbiAgICBhZGRTY2FsZWRWZWN0b3IoYSwgYikge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGVycm9yIFRTMjM1MTogQ2Fubm90IHVzZSAnbmV3JyB3aXRoIGFuIGV4cHJlc3Npb24gd2hvc2UgdHlwZSBsYWNrcyBhIGNhbGwgb3IgY29uc3RydWN0IHNpZ25hdHVyZS5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKG5ldyB0aGlzLmNvbnN0cnVjdG9yKGEpLm11bHRpcGx5U2NhbGFyKGIpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3IuanMubWFwIiwiLy8gQGVzbGludC1kaXNhYmxlXG4vLyBAdHMtbm9jaGVja1xuLyoqXG4gKiBDb21tb24gdXRpbGl0aWVzXG4gKiBAbW9kdWxlIGdsTWF0cml4XG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgY29uc3QgRVBTSUxPTiA9IDAuMDAwMDAxO1xuZXhwb3J0IGxldCBBUlJBWV9UWVBFID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcbmV4cG9ydCBjb25zdCBSQU5ET00gPSBNYXRoLnJhbmRvbTtcbmV4cG9ydCBjb25zdCBBTkdMRV9PUkRFUiA9ICd6eXgnO1xuLyoqXG4gKiBTeW1tZXRyaWMgcm91bmRcbiAqIHNlZSBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yb3VuZC1oYWxmLXVwLXN5bW1ldHJpYyN1c2VyLWNvbnRlbnQtZGV0YWlsZWQtYmFja2dyb3VuZFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIHZhbHVlIHRvIHJvdW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChhKSB7XG4gICAgaWYgKGEgPj0gMClcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoYSk7XG4gICAgcmV0dXJuIGEgJSAwLjUgPT09IDAgPyBNYXRoLmZsb29yKGEpIDogTWF0aC5yb3VuZChhKTtcbn1cbi8qKlxuICogU2V0cyB0aGUgdHlwZSBvZiBhcnJheSB1c2VkIHdoZW4gY3JlYXRpbmcgbmV3IHZlY3RvcnMgYW5kIG1hdHJpY2VzXG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXlDb25zdHJ1Y3RvciB8IEFycmF5Q29uc3RydWN0b3J9IHR5cGUgQXJyYXkgdHlwZSwgc3VjaCBhcyBGbG9hdDMyQXJyYXkgb3IgQXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gICAgQVJSQVlfVFlQRSA9IHR5cGU7XG59XG5jb25zdCBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb252ZXJ0IERlZ3JlZSBUbyBSYWRpYW5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBEZWdyZWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gICAgcmV0dXJuIGEgKiBkZWdyZWU7XG59XG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcGFyYW0ge051bWJlcn0gYiBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBFUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIi8vIEBlc2xpbnQtZGlzYWJsZVxuLy8gQHRzLW5vY2hlY2tcbmltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gJy4vY29tbW9uLmpzJztcbi8qKlxuICogMyBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjM1xuICovXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcbiAqXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gICAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgICAgIG91dFswXSA9IDA7XG4gICAgICAgIG91dFsxXSA9IDA7XG4gICAgICAgIG91dFsyXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICAgIGNvbnN0IG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVsxXTtcbiAgICBvdXRbMl0gPSBhWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgY29uc3QgeiA9IGFbMl07XG4gICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gICAgb3V0WzBdID0geDtcbiAgICBvdXRbMV0gPSB5O1xuICAgIG91dFsyXSA9IHo7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICAgIG91dFswXSA9IHg7XG4gICAgb3V0WzFdID0geTtcbiAgICBvdXRbMl0gPSB6O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gICAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gICAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gICAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gICAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICAgIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICAgIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gICAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gICAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gICAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICAgIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICAgIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gICAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gICAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gICAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBzeW1tZXRyaWMgcm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByb3VuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gZ2xNYXRyaXgucm91bmQoYVswXSk7XG4gICAgb3V0WzFdID0gZ2xNYXRyaXgucm91bmQoYVsxXSk7XG4gICAgb3V0WzJdID0gZ2xNYXRyaXgucm91bmQoYVsyXSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIGEgdmVjMyBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gKiBiO1xuICAgIG91dFsxXSA9IGFbMV0gKiBiO1xuICAgIG91dFsyXSA9IGFbMl0gKiBiO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICAgIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gICAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gICAgY29uc3QgeCA9IGJbMF0gLSBhWzBdO1xuICAgIGNvbnN0IHkgPSBiWzFdIC0gYVsxXTtcbiAgICBjb25zdCB6ID0gYlsyXSAtIGFbMl07XG4gICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgICBjb25zdCB4ID0gYlswXSAtIGFbMF07XG4gICAgY29uc3QgeSA9IGJbMV0gLSBhWzFdO1xuICAgIGNvbnN0IHogPSBiWzJdIC0gYVsyXTtcbiAgICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gLWFbMF07XG4gICAgb3V0WzFdID0gLWFbMV07XG4gICAgb3V0WzJdID0gLWFbMl07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICAgIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gICAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICBsZXQgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgIC8vIFRPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgICAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgfVxuICAgIG91dFswXSA9IGFbMF0gKiBsZW47XG4gICAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICAgIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gICAgY29uc3QgYXggPSBhWzBdO1xuICAgIGNvbnN0IGF5ID0gYVsxXTtcbiAgICBjb25zdCBheiA9IGFbMl07XG4gICAgY29uc3QgYnggPSBiWzBdO1xuICAgIGNvbnN0IGJ5ID0gYlsxXTtcbiAgICBjb25zdCBieiA9IGJbMl07XG4gICAgb3V0WzBdID0gYXkgKiBieiAtIGF6ICogYnk7XG4gICAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gICAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgICBjb25zdCBheCA9IGFbMF07XG4gICAgY29uc3QgYXkgPSBhWzFdO1xuICAgIGNvbnN0IGF6ID0gYVsyXTtcbiAgICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2xlcnAob3V0LCBhLCBiLCB0KSB7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoZG90KGEsIGIpLCAtMSksIDEpKTtcbiAgICBjb25zdCBzaW5Ub3RhbCA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICBjb25zdCByYXRpb0EgPSBNYXRoLnNpbigoMSAtIHQpICogYW5nbGUpIC8gc2luVG90YWw7XG4gICAgY29uc3QgcmF0aW9CID0gTWF0aC5zaW4odCAqIGFuZ2xlKSAvIHNpblRvdGFsO1xuICAgIG91dFswXSA9IHJhdGlvQSAqIGFbMF0gKyByYXRpb0IgKiBiWzBdO1xuICAgIG91dFsxXSA9IHJhdGlvQSAqIGFbMV0gKyByYXRpb0IgKiBiWzFdO1xuICAgIG91dFsyXSA9IHJhdGlvQSAqIGFbMl0gKyByYXRpb0IgKiBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gICAgY29uc3QgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gICAgY29uc3QgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgICBjb25zdCBmYWN0b3IyID0gZmFjdG9yVGltZXMyICogKHQgLSAyKSArIHQ7XG4gICAgY29uc3QgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XG4gICAgY29uc3QgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICAgIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICAgIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICAgIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICAgIGNvbnN0IGludmVyc2VGYWN0b3IgPSAxIC0gdDtcbiAgICBjb25zdCBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgICBjb25zdCBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgICBjb25zdCBmYWN0b3IxID0gaW52ZXJzZUZhY3RvclRpbWVzVHdvICogaW52ZXJzZUZhY3RvcjtcbiAgICBjb25zdCBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gICAgY29uc3QgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICAgIGNvbnN0IGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiB0O1xuICAgIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICAgIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICAgIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gICAgc2NhbGUgPSBzY2FsZSA9PT0gdW5kZWZpbmVkID8gMS4wIDogc2NhbGU7XG4gICAgY29uc3QgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcbiAgICBjb25zdCB6ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgLSAxLjA7XG4gICAgY29uc3QgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICAgIG91dFswXSA9IE1hdGguY29zKHIpICogelNjYWxlO1xuICAgIG91dFsxXSA9IE1hdGguc2luKHIpICogelNjYWxlO1xuICAgIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICBsZXQgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcbiAgICB3ID0gdyB8fCAxLjA7XG4gICAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XG4gICAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XG4gICAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gICAgb3V0WzFdID0geCAqIG1bMV0gKyB5ICogbVs0XSArIHogKiBtWzddO1xuICAgIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcbiAgICBjb25zdCBxeCA9IHFbMF07XG4gICAgY29uc3QgcXkgPSBxWzFdO1xuICAgIGNvbnN0IHF6ID0gcVsyXTtcbiAgICBjb25zdCBxdyA9IHFbM107XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgY29uc3QgeiA9IGFbMl07XG4gICAgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XG4gICAgLy8gdmFyIHV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgYSk7XG4gICAgbGV0IHV2eCA9IHF5ICogeiAtIHF6ICogeTtcbiAgICBsZXQgdXZ5ID0gcXogKiB4IC0gcXggKiB6O1xuICAgIGxldCB1dnogPSBxeCAqIHkgLSBxeSAqIHg7XG4gICAgLy8gdmFyIHV1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIHV2KTtcbiAgICBsZXQgdXV2eCA9IHF5ICogdXZ6IC0gcXogKiB1dnk7XG4gICAgbGV0IHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6O1xuICAgIGxldCB1dXZ6ID0gcXggKiB1dnkgLSBxeSAqIHV2eDtcbiAgICAvLyB2ZWMzLnNjYWxlKHV2LCB1diwgMiAqIHcpO1xuICAgIGNvbnN0IHcyID0gcXcgKiAyO1xuICAgIHV2eCAqPSB3MjtcbiAgICB1dnkgKj0gdzI7XG4gICAgdXZ6ICo9IHcyO1xuICAgIC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xuICAgIHV1dnggKj0gMjtcbiAgICB1dXZ5ICo9IDI7XG4gICAgdXV2eiAqPSAyO1xuICAgIC8vIHJldHVybiB2ZWMzLmFkZChvdXQsIGEsIHZlYzMuYWRkKG91dCwgdXYsIHV1dikpO1xuICAgIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xuICAgIG91dFsxXSA9IHkgKyB1dnkgKyB1dXZ5O1xuICAgIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gICAgY29uc3QgcCA9IFtdO1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICAvLyBUcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuICAgIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBwWzFdID0gYVsxXSAtIGJbMV07XG4gICAgcFsyXSA9IGFbMl0gLSBiWzJdO1xuICAgIC8vIHBlcmZvcm0gcm90YXRpb25cbiAgICByWzBdID0gcFswXTtcbiAgICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgICByWzJdID0gcFsxXSAqIE1hdGguc2luKHJhZCkgKyBwWzJdICogTWF0aC5jb3MocmFkKTtcbiAgICAvLyB0cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICAgIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICAgIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICAgIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gICAgY29uc3QgcCA9IFtdO1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICAvLyBUcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuICAgIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBwWzFdID0gYVsxXSAtIGJbMV07XG4gICAgcFsyXSA9IGFbMl0gLSBiWzJdO1xuICAgIC8vIHBlcmZvcm0gcm90YXRpb25cbiAgICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgICByWzFdID0gcFsxXTtcbiAgICByWzJdID0gcFsyXSAqIE1hdGguY29zKHJhZCkgLSBwWzBdICogTWF0aC5zaW4ocmFkKTtcbiAgICAvLyB0cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICAgIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICAgIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICAgIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgYiwgcmFkKSB7XG4gICAgY29uc3QgcCA9IFtdO1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICAvLyBUcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuICAgIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBwWzFdID0gYVsxXSAtIGJbMV07XG4gICAgcFsyXSA9IGFbMl0gLSBiWzJdO1xuICAgIC8vIHBlcmZvcm0gcm90YXRpb25cbiAgICByWzBdID0gcFswXSAqIE1hdGguY29zKHJhZCkgLSBwWzFdICogTWF0aC5zaW4ocmFkKTtcbiAgICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgICByWzJdID0gcFsyXTtcbiAgICAvLyB0cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICAgIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICAgIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICAgIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcbiAgICBjb25zdCBheCA9IGFbMF07XG4gICAgY29uc3QgYXkgPSBhWzFdO1xuICAgIGNvbnN0IGF6ID0gYVsyXTtcbiAgICBjb25zdCBieCA9IGJbMF07XG4gICAgY29uc3QgYnkgPSBiWzFdO1xuICAgIGNvbnN0IGJ6ID0gYlsyXTtcbiAgICBjb25zdCBtYWcgPSBNYXRoLnNxcnQoKGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheikgKiAoYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6KSk7XG4gICAgY29uc3QgY29zaW5lID0gbWFnICYmIGRvdChhLCBiKSAvIG1hZztcbiAgICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICAgIG91dFswXSA9IDAuMDtcbiAgICBvdXRbMV0gPSAwLjA7XG4gICAgb3V0WzJdID0gMC4wO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgICByZXR1cm4gYHZlYzMoJHthWzBdfSwgJHthWzFdfSwgJHthWzJdfSlgO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgICBjb25zdCBhMCA9IGFbMF07XG4gICAgY29uc3QgYTEgPSBhWzFdO1xuICAgIGNvbnN0IGEyID0gYVsyXTtcbiAgICBjb25zdCBiMCA9IGJbMF07XG4gICAgY29uc3QgYjEgPSBiWzFdO1xuICAgIGNvbnN0IGIyID0gYlsyXTtcbiAgICByZXR1cm4gKE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJlxuICAgICAgICBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiZcbiAgICAgICAgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3Qgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3Qgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGZvckVhY2ggPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHZlYyA9IGNyZWF0ZSgpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgbDtcbiAgICAgICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgICAgICAgIHN0cmlkZSA9IDM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgICAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICAgICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgICAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICAgICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgICAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgIH07XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjMy5qcy5tYXAiLCIvLyBtYXRoLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbi8vIENvcHlyaWdodCAoYykgMjAxNyBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vYmFzZS92ZWN0b3IuanNcIjtcbmltcG9ydCB7IGNvbmZpZywgaXNBcnJheSB9IGZyb20gXCIuLi9saWIvY29tbW9uLmpzXCI7XG5pbXBvcnQgeyBjaGVja051bWJlciB9IGZyb20gXCIuLi9saWIvdmFsaWRhdG9ycy5qc1wiO1xuLy8gQHRzLWlnbm9yZSBnbC1tYXRyaXggdHlwZXNcbmltcG9ydCB7IGFuZ2xlIGFzIHZlYzNfYW5nbGUsIGNyb3NzIGFzIHZlYzNfY3Jvc3MsIHJvdGF0ZVggYXMgdmVjM19yb3RhdGVYLCByb3RhdGVZIGFzIHZlYzNfcm90YXRlWSwgcm90YXRlWiBhcyB2ZWMzX3JvdGF0ZVosIHRyYW5zZm9ybU1hdDQgYXMgdmVjM190cmFuc2Zvcm1NYXQ0LCB0cmFuc2Zvcm1NYXQzIGFzIHZlYzNfdHJhbnNmb3JtTWF0MywgdHJhbnNmb3JtUXVhdCBhcyB2ZWMzX3RyYW5zZm9ybVF1YXQgfSBmcm9tIFwiLi4vZ2wtbWF0cml4L3ZlYzMuanNcIjtcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0IHsgdmVjM190cmFuc2Zvcm1NYXQyLCB2ZWMzX3RyYW5zZm9ybU1hdDRBc1ZlY3RvciB9IGZyb20gXCIuLi9saWIvZ2wtbWF0cml4LWV4dHJhcy5qc1wiO1xuY29uc3QgT1JJR0lOID0gWzAsIDAsIDBdO1xubGV0IFpFUk87XG4vKipcbiAqIFRocmVlLWVsZW1lbnQgdmVjdG9yIGNsYXNzIHdpdGggY29tbW9uIGxpbmVhciBhbGdlYnJhIG9wZXJhdGlvbnMuXG4gKiBTdWJjbGFzcyBvZiBBcnJheTxudW1iZXI+IG1lYW5pbmcgdGhhdCBpdCBpcyBoaWdobHkgY29tcGF0aWJsZSB3aXRoIG90aGVyIGxpYnJhcmllc1xuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yMyBleHRlbmRzIFZlY3RvciB7XG4gICAgc3RhdGljIGdldCBaRVJPKCkge1xuICAgICAgICBpZiAoIVpFUk8pIHtcbiAgICAgICAgICAgIFpFUk8gPSBuZXcgVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUoWkVSTyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFpFUk87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBjbGFzc1xuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHBhcmFtIHlcbiAgICAgKiBAcGFyYW0gelxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDApIHtcbiAgICAgICAgLy8gUEVSRiBOT1RFOiBpbml0aWFsaXplIGVsZW1lbnRzIGFzIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyc1xuICAgICAgICBzdXBlcigtMCwgLTAsIC0wKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheSh4KSkge1xuICAgICAgICAgICAgdGhpcy5jb3B5KHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcy5zZXQoeCwgeSwgeik7XG4gICAgICAgICAgICBpZiAoY29uZmlnLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tOdW1iZXIoeCk7XG4gICAgICAgICAgICAgICAgY2hlY2tOdW1iZXIoeSk7XG4gICAgICAgICAgICAgICAgY2hlY2tOdW1iZXIoeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTMjQxMjogUHJvcGVydHkgJzAnIG9mIHR5cGUgJ251bWJlciB8IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXScgaXMgbm90IGFzc2lnbmFibGUgdG8gbnVtZXJpYyBpbmRleCB0eXBlICdudW1iZXInXG4gICAgICAgICAgICB0aGlzWzBdID0geDtcbiAgICAgICAgICAgIHRoaXNbMV0gPSB5O1xuICAgICAgICAgICAgdGhpc1syXSA9IHo7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0KHgsIHksIHopIHtcbiAgICAgICAgdGhpc1swXSA9IHg7XG4gICAgICAgIHRoaXNbMV0gPSB5O1xuICAgICAgICB0aGlzWzJdID0gejtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgY29weShhcnJheSkge1xuICAgICAgICB0aGlzWzBdID0gYXJyYXlbMF07XG4gICAgICAgIHRoaXNbMV0gPSBhcnJheVsxXTtcbiAgICAgICAgdGhpc1syXSA9IGFycmF5WzJdO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgICAgICBpZiAoY29uZmlnLmRlYnVnKSB7XG4gICAgICAgICAgICBjaGVja051bWJlcihvYmplY3QueCk7XG4gICAgICAgICAgICBjaGVja051bWJlcihvYmplY3QueSk7XG4gICAgICAgICAgICBjaGVja051bWJlcihvYmplY3Queik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1swXSA9IG9iamVjdC54O1xuICAgICAgICB0aGlzWzFdID0gb2JqZWN0Lnk7XG4gICAgICAgIHRoaXNbMl0gPSBvYmplY3QuejtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgdG9PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC54ID0gdGhpc1swXTtcbiAgICAgICAgb2JqZWN0LnkgPSB0aGlzWzFdO1xuICAgICAgICBvYmplY3QueiA9IHRoaXNbMl07XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIC8vIEdldHRlcnMvc2V0dGVyc1xuICAgIGdldCBFTEVNRU5UUygpIHtcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgfVxuICAgIGdldCB6KCkge1xuICAgICAgICByZXR1cm4gdGhpc1syXTtcbiAgICB9XG4gICAgc2V0IHoodmFsdWUpIHtcbiAgICAgICAgdGhpc1syXSA9IGNoZWNrTnVtYmVyKHZhbHVlKTtcbiAgICB9XG4gICAgLy8gQUNDRVNTT1JTXG4gICAgYW5nbGUodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiB2ZWMzX2FuZ2xlKHRoaXMsIHZlY3Rvcik7XG4gICAgfVxuICAgIC8vIE1PRElGSUVSU1xuICAgIGNyb3NzKHZlY3Rvcikge1xuICAgICAgICB2ZWMzX2Nyb3NzKHRoaXMsIHRoaXMsIHZlY3Rvcik7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHJvdGF0ZVgoeyByYWRpYW5zLCBvcmlnaW4gPSBPUklHSU4gfSkge1xuICAgICAgICB2ZWMzX3JvdGF0ZVgodGhpcywgdGhpcywgb3JpZ2luLCByYWRpYW5zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgcm90YXRlWSh7IHJhZGlhbnMsIG9yaWdpbiA9IE9SSUdJTiB9KSB7XG4gICAgICAgIHZlYzNfcm90YXRlWSh0aGlzLCB0aGlzLCBvcmlnaW4sIHJhZGlhbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICByb3RhdGVaKHsgcmFkaWFucywgb3JpZ2luID0gT1JJR0lOIH0pIHtcbiAgICAgICAgdmVjM19yb3RhdGVaKHRoaXMsIHRoaXMsIG9yaWdpbiwgcmFkaWFucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8vIFRyYW5zZm9ybXNcbiAgICAvLyB0cmFuc2Zvcm1zIGFzIHBvaW50ICg0dGggY29tcG9uZW50IGlzIGltcGxpY2l0bHkgMSlcbiAgICB0cmFuc2Zvcm0obWF0cml4NCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Bc1BvaW50KG1hdHJpeDQpO1xuICAgIH1cbiAgICAvLyB0cmFuc2Zvcm1zIGFzIHBvaW50ICg0dGggY29tcG9uZW50IGlzIGltcGxpY2l0bHkgMSlcbiAgICB0cmFuc2Zvcm1Bc1BvaW50KG1hdHJpeDQpIHtcbiAgICAgICAgdmVjM190cmFuc2Zvcm1NYXQ0KHRoaXMsIHRoaXMsIG1hdHJpeDQpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvLyB0cmFuc2Zvcm1zIGFzIHZlY3RvciAgKDR0aCBjb21wb25lbnQgaXMgaW1wbGljaXRseSAwLCBpZ25vcmVzIHRyYW5zbGF0aW9uLiBzbGlnaHRseSBmYXN0ZXIpXG4gICAgdHJhbnNmb3JtQXNWZWN0b3IobWF0cml4NCkge1xuICAgICAgICB2ZWMzX3RyYW5zZm9ybU1hdDRBc1ZlY3Rvcih0aGlzLCB0aGlzLCBtYXRyaXg0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtQnlNYXRyaXgzKG1hdHJpeDMpIHtcbiAgICAgICAgdmVjM190cmFuc2Zvcm1NYXQzKHRoaXMsIHRoaXMsIG1hdHJpeDMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm1CeU1hdHJpeDIobWF0cml4Mikge1xuICAgICAgICB2ZWMzX3RyYW5zZm9ybU1hdDIodGhpcywgdGhpcywgbWF0cml4Mik7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHRyYW5zZm9ybUJ5UXVhdGVybmlvbihxdWF0ZXJuaW9uKSB7XG4gICAgICAgIHZlYzNfdHJhbnNmb3JtUXVhdCh0aGlzLCB0aGlzLCBxdWF0ZXJuaW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3IzLmpzLm1hcCIsIi8vIG1hdGguZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gdmVjMiBhZGRpdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiB2ZWMyX3RyYW5zZm9ybU1hdDRBc1ZlY3RvcihvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB3ID0gbVszXSAqIHggKyBtWzddICogeSB8fCAxLjA7XG4gICAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkpIC8gdztcbiAgICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSkgLyB3O1xuICAgIHJldHVybiBvdXQ7XG59XG4vLyB2ZWMzIGFkZGl0aW9uc1xuLy8gVHJhbnNmb3JtIGFzIHZlY3Rvciwgb25seSB1c2VzIDN4MyBtaW5vciBtYXRyaXhcbmV4cG9ydCBmdW5jdGlvbiB2ZWMzX3RyYW5zZm9ybU1hdDRBc1ZlY3RvcihvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBjb25zdCB6ID0gYVsyXTtcbiAgICBjb25zdCB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiB8fCAxLjA7XG4gICAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeikgLyB3O1xuICAgIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHopIC8gdztcbiAgICBvdXRbMl0gPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeikgLyB3O1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdmVjM190cmFuc2Zvcm1NYXQyKG91dCwgYSwgbSkge1xuICAgIGNvbnN0IHggPSBhWzBdO1xuICAgIGNvbnN0IHkgPSBhWzFdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVsyXSAqIHk7XG4gICAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzNdICogeTtcbiAgICBvdXRbMl0gPSBhWzJdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vLyB2ZWM0IGFkZGl0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIHZlYzRfdHJhbnNmb3JtTWF0MihvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBvdXRbMF0gPSBtWzBdICogeCArIG1bMl0gKiB5O1xuICAgIG91dFsxXSA9IG1bMV0gKiB4ICsgbVszXSAqIHk7XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdmVjNF90cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICAgIGNvbnN0IHggPSBhWzBdO1xuICAgIGNvbnN0IHkgPSBhWzFdO1xuICAgIGNvbnN0IHogPSBhWzJdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVszXSAqIHkgKyBtWzZdICogejtcbiAgICBvdXRbMV0gPSBtWzFdICogeCArIG1bNF0gKiB5ICsgbVs3XSAqIHo7XG4gICAgb3V0WzJdID0gbVsyXSAqIHggKyBtWzVdICogeSArIG1bOF0gKiB6O1xuICAgIG91dFszXSA9IGFbM107XG4gICAgcmV0dXJuIG91dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsLW1hdHJpeC1leHRyYXMuanMubWFwIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTcgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbmltcG9ydCB7IE1hdGhBcnJheSB9IGZyb20gXCIuL21hdGgtYXJyYXkuanNcIjtcbmltcG9ydCB7IGNoZWNrTnVtYmVyIH0gZnJvbSBcIi4uLy4uL2xpYi92YWxpZGF0b3JzLmpzXCI7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vLi4vbGliL2NvbW1vbi5qc1wiO1xuLyoqIEJhc2UgY2xhc3MgZm9yIG1hdHJpY2VzICovXG5leHBvcnQgY2xhc3MgTWF0cml4IGV4dGVuZHMgTWF0aEFycmF5IHtcbiAgICAvLyBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgIC8vICAgY29uc3QgYXJyYXkgPSBvYmplY3QuZWxlbWVudHM7XG4gICAgLy8gICByZXR1cm4gdGhpcy5mcm9tUm93TWFqb3IoYXJyYXkpO1xuICAgIC8vIH1cbiAgICAvLyB0b09iamVjdChvYmplY3QpIHtcbiAgICAvLyAgIGNvbnN0IGFycmF5ID0gb2JqZWN0LmVsZW1lbnRzO1xuICAgIC8vICAgdGhpcy50b1Jvd01ham9yKGFycmF5KTtcbiAgICAvLyAgIHJldHVybiBvYmplY3Q7XG4gICAgLy8gfVxuICAgIC8vIFRPRE8gYmV0dGVyIG92ZXJyaWRlIGZvcm1hdFN0cmluZz9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHN0cmluZyA9ICdbJztcbiAgICAgICAgaWYgKGNvbmZpZy5wcmludFJvd01ham9yKSB7XG4gICAgICAgICAgICBzdHJpbmcgKz0gJ3Jvdy1tYWpvcjonO1xuICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5SQU5LOyArK3Jvdykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHRoaXMuUkFOSzsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGAgJHt0aGlzW2NvbCAqIHRoaXMuUkFOSyArIHJvd119YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJpbmcgKz0gJ2NvbHVtbi1tYWpvcjonO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVMRU1FTlRTOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gYCAke3RoaXNbaV19YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdHJpbmcgKz0gJ10nO1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cbiAgICBnZXRFbGVtZW50SW5kZXgocm93LCBjb2wpIHtcbiAgICAgICAgcmV0dXJuIGNvbCAqIHRoaXMuUkFOSyArIHJvdztcbiAgICB9XG4gICAgLy8gQnkgZGVmYXVsdCBhc3N1bWVzIHJvdyBtYWpvciBpbmRpY2VzXG4gICAgZ2V0RWxlbWVudChyb3csIGNvbCkge1xuICAgICAgICByZXR1cm4gdGhpc1tjb2wgKiB0aGlzLlJBTksgKyByb3ddO1xuICAgIH1cbiAgICAvLyBCeSBkZWZhdWx0IGFzc3VtZXMgcm93IG1ham9yIGluZGljZXNcbiAgICBzZXRFbGVtZW50KHJvdywgY29sLCB2YWx1ZSkge1xuICAgICAgICB0aGlzW2NvbCAqIHRoaXMuUkFOSyArIHJvd10gPSBjaGVja051bWJlcih2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRDb2x1bW4oY29sdW1uSW5kZXgsIHJlc3VsdCA9IG5ldyBBcnJheSh0aGlzLlJBTkspLmZpbGwoLTApKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0SW5kZXggPSBjb2x1bW5JbmRleCAqIHRoaXMuUkFOSztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLlJBTks7ICsraSkge1xuICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpc1tmaXJzdEluZGV4ICsgaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc2V0Q29sdW1uKGNvbHVtbkluZGV4LCBjb2x1bW5WZWN0b3IpIHtcbiAgICAgICAgY29uc3QgZmlyc3RJbmRleCA9IGNvbHVtbkluZGV4ICogdGhpcy5SQU5LO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuUkFOSzsgKytpKSB7XG4gICAgICAgICAgICB0aGlzW2ZpcnN0SW5kZXggKyBpXSA9IGNvbHVtblZlY3RvcltpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRyaXguanMubWFwIiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSAnLi9jb21tb24uanMnO1xuLyoqXG4gKiAzeDMgTWF0cml4XG4gKiBAbW9kdWxlIG1hdDNcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDNcbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gYSBuZXcgM3gzIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIGNvbnN0IG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xuICAgIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgICAgICBvdXRbMV0gPSAwO1xuICAgICAgICBvdXRbMl0gPSAwO1xuICAgICAgICBvdXRbM10gPSAwO1xuICAgICAgICBvdXRbNV0gPSAwO1xuICAgICAgICBvdXRbNl0gPSAwO1xuICAgICAgICBvdXRbN10gPSAwO1xuICAgIH1cbiAgICBvdXRbMF0gPSAxO1xuICAgIG91dFs0XSA9IDE7XG4gICAgb3V0WzhdID0gMTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3BpZXMgdGhlIHVwcGVyLWxlZnQgM3gzIHZhbHVlcyBpbnRvIHRoZSBnaXZlbiBtYXQzLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgM3gzIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgICB0aGUgc291cmNlIDR4NCBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQ0KG91dCwgYSkge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVsxXTtcbiAgICBvdXRbMl0gPSBhWzJdO1xuICAgIG91dFszXSA9IGFbNF07XG4gICAgb3V0WzRdID0gYVs1XTtcbiAgICBvdXRbNV0gPSBhWzZdO1xuICAgIG91dFs2XSA9IGFbOF07XG4gICAgb3V0WzddID0gYVs5XTtcbiAgICBvdXRbOF0gPSBhWzEwXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IGFbMl07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFs0XSA9IGFbNF07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzZdO1xuICAgIG91dFs3XSA9IGFbN107XG4gICAgb3V0WzhdID0gYVs4XTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0MyB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcmV0dXJucyB7bWF0M30gQSBuZXcgbWF0M1xuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG4gICAgb3V0WzBdID0gbTAwO1xuICAgIG91dFsxXSA9IG0wMTtcbiAgICBvdXRbMl0gPSBtMDI7XG4gICAgb3V0WzNdID0gbTEwO1xuICAgIG91dFs0XSA9IG0xMTtcbiAgICBvdXRbNV0gPSBtMTI7XG4gICAgb3V0WzZdID0gbTIwO1xuICAgIG91dFs3XSA9IG0yMTtcbiAgICBvdXRbOF0gPSBtMjI7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0MyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcbiAgICBvdXRbMF0gPSBtMDA7XG4gICAgb3V0WzFdID0gbTAxO1xuICAgIG91dFsyXSA9IG0wMjtcbiAgICBvdXRbM10gPSBtMTA7XG4gICAgb3V0WzRdID0gbTExO1xuICAgIG91dFs1XSA9IG0xMjtcbiAgICBvdXRbNl0gPSBtMjA7XG4gICAgb3V0WzddID0gbTIxO1xuICAgIG91dFs4XSA9IG0yMjtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQzIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gICAgb3V0WzBdID0gMTtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSAxO1xuICAgIG91dFs1XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gICAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICAgIGlmIChvdXQgPT09IGEpIHtcbiAgICAgICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICAgICAgY29uc3QgYTAyID0gYVsyXTtcbiAgICAgICAgY29uc3QgYTEyID0gYVs1XTtcbiAgICAgICAgb3V0WzFdID0gYVszXTtcbiAgICAgICAgb3V0WzJdID0gYVs2XTtcbiAgICAgICAgb3V0WzNdID0gYTAxO1xuICAgICAgICBvdXRbNV0gPSBhWzddO1xuICAgICAgICBvdXRbNl0gPSBhMDI7XG4gICAgICAgIG91dFs3XSA9IGExMjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG91dFswXSA9IGFbMF07XG4gICAgICAgIG91dFsxXSA9IGFbM107XG4gICAgICAgIG91dFsyXSA9IGFbNl07XG4gICAgICAgIG91dFszXSA9IGFbMV07XG4gICAgICAgIG91dFs0XSA9IGFbNF07XG4gICAgICAgIG91dFs1XSA9IGFbN107XG4gICAgICAgIG91dFs2XSA9IGFbMl07XG4gICAgICAgIG91dFs3XSA9IGFbNV07XG4gICAgICAgIG91dFs4XSA9IGFbOF07XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEludmVydHMgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gICAgY29uc3QgYTAwID0gYVswXTtcbiAgICBjb25zdCBhMDEgPSBhWzFdO1xuICAgIGNvbnN0IGEwMiA9IGFbMl07XG4gICAgY29uc3QgYTEwID0gYVszXTtcbiAgICBjb25zdCBhMTEgPSBhWzRdO1xuICAgIGNvbnN0IGExMiA9IGFbNV07XG4gICAgY29uc3QgYTIwID0gYVs2XTtcbiAgICBjb25zdCBhMjEgPSBhWzddO1xuICAgIGNvbnN0IGEyMiA9IGFbOF07XG4gICAgY29uc3QgYjAxID0gYTIyICogYTExIC0gYTEyICogYTIxO1xuICAgIGNvbnN0IGIxMSA9IC1hMjIgKiBhMTAgKyBhMTIgKiBhMjA7XG4gICAgY29uc3QgYjIxID0gYTIxICogYTEwIC0gYTExICogYTIwO1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcbiAgICBsZXQgZGV0ID0gYTAwICogYjAxICsgYTAxICogYjExICsgYTAyICogYjIxO1xuICAgIGlmICghZGV0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBkZXQgPSAxLjAgLyBkZXQ7XG4gICAgb3V0WzBdID0gYjAxICogZGV0O1xuICAgIG91dFsxXSA9ICgtYTIyICogYTAxICsgYTAyICogYTIxKSAqIGRldDtcbiAgICBvdXRbMl0gPSAoYTEyICogYTAxIC0gYTAyICogYTExKSAqIGRldDtcbiAgICBvdXRbM10gPSBiMTEgKiBkZXQ7XG4gICAgb3V0WzRdID0gKGEyMiAqIGEwMCAtIGEwMiAqIGEyMCkgKiBkZXQ7XG4gICAgb3V0WzVdID0gKC1hMTIgKiBhMDAgKyBhMDIgKiBhMTApICogZGV0O1xuICAgIG91dFs2XSA9IGIyMSAqIGRldDtcbiAgICBvdXRbN10gPSAoLWEyMSAqIGEwMCArIGEwMSAqIGEyMCkgKiBkZXQ7XG4gICAgb3V0WzhdID0gKGExMSAqIGEwMCAtIGEwMSAqIGExMCkgKiBkZXQ7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICAgIGNvbnN0IGEwMCA9IGFbMF07XG4gICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICBjb25zdCBhMDIgPSBhWzJdO1xuICAgIGNvbnN0IGExMCA9IGFbM107XG4gICAgY29uc3QgYTExID0gYVs0XTtcbiAgICBjb25zdCBhMTIgPSBhWzVdO1xuICAgIGNvbnN0IGEyMCA9IGFbNl07XG4gICAgY29uc3QgYTIxID0gYVs3XTtcbiAgICBjb25zdCBhMjIgPSBhWzhdO1xuICAgIG91dFswXSA9IGExMSAqIGEyMiAtIGExMiAqIGEyMTtcbiAgICBvdXRbMV0gPSBhMDIgKiBhMjEgLSBhMDEgKiBhMjI7XG4gICAgb3V0WzJdID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICAgIG91dFszXSA9IGExMiAqIGEyMCAtIGExMCAqIGEyMjtcbiAgICBvdXRbNF0gPSBhMDAgKiBhMjIgLSBhMDIgKiBhMjA7XG4gICAgb3V0WzVdID0gYTAyICogYTEwIC0gYTAwICogYTEyO1xuICAgIG91dFs2XSA9IGExMCAqIGEyMSAtIGExMSAqIGEyMDtcbiAgICBvdXRbN10gPSBhMDEgKiBhMjAgLSBhMDAgKiBhMjE7XG4gICAgb3V0WzhdID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gICAgY29uc3QgYTAwID0gYVswXTtcbiAgICBjb25zdCBhMDEgPSBhWzFdO1xuICAgIGNvbnN0IGEwMiA9IGFbMl07XG4gICAgY29uc3QgYTEwID0gYVszXTtcbiAgICBjb25zdCBhMTEgPSBhWzRdO1xuICAgIGNvbnN0IGExMiA9IGFbNV07XG4gICAgY29uc3QgYTIwID0gYVs2XTtcbiAgICBjb25zdCBhMjEgPSBhWzddO1xuICAgIGNvbnN0IGEyMiA9IGFbOF07XG4gICAgcmV0dXJuIChhMDAgKiAoYTIyICogYTExIC0gYTEyICogYTIxKSArIGEwMSAqICgtYTIyICogYTEwICsgYTEyICogYTIwKSArIGEwMiAqIChhMjEgKiBhMTAgLSBhMTEgKiBhMjApKTtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0MydzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICAgIGNvbnN0IGEwMCA9IGFbMF07XG4gICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICBjb25zdCBhMDIgPSBhWzJdO1xuICAgIGNvbnN0IGExMCA9IGFbM107XG4gICAgY29uc3QgYTExID0gYVs0XTtcbiAgICBjb25zdCBhMTIgPSBhWzVdO1xuICAgIGNvbnN0IGEyMCA9IGFbNl07XG4gICAgY29uc3QgYTIxID0gYVs3XTtcbiAgICBjb25zdCBhMjIgPSBhWzhdO1xuICAgIGNvbnN0IGIwMCA9IGJbMF07XG4gICAgY29uc3QgYjAxID0gYlsxXTtcbiAgICBjb25zdCBiMDIgPSBiWzJdO1xuICAgIGNvbnN0IGIxMCA9IGJbM107XG4gICAgY29uc3QgYjExID0gYls0XTtcbiAgICBjb25zdCBiMTIgPSBiWzVdO1xuICAgIGNvbnN0IGIyMCA9IGJbNl07XG4gICAgY29uc3QgYjIxID0gYls3XTtcbiAgICBjb25zdCBiMjIgPSBiWzhdO1xuICAgIG91dFswXSA9IGIwMCAqIGEwMCArIGIwMSAqIGExMCArIGIwMiAqIGEyMDtcbiAgICBvdXRbMV0gPSBiMDAgKiBhMDEgKyBiMDEgKiBhMTEgKyBiMDIgKiBhMjE7XG4gICAgb3V0WzJdID0gYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyO1xuICAgIG91dFszXSA9IGIxMCAqIGEwMCArIGIxMSAqIGExMCArIGIxMiAqIGEyMDtcbiAgICBvdXRbNF0gPSBiMTAgKiBhMDEgKyBiMTEgKiBhMTEgKyBiMTIgKiBhMjE7XG4gICAgb3V0WzVdID0gYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyO1xuICAgIG91dFs2XSA9IGIyMCAqIGEwMCArIGIyMSAqIGExMCArIGIyMiAqIGEyMDtcbiAgICBvdXRbN10gPSBiMjAgKiBhMDEgKyBiMjEgKiBhMTEgKyBiMjIgKiBhMjE7XG4gICAgb3V0WzhdID0gYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDMgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICAgIGNvbnN0IGEwMCA9IGFbMF07XG4gICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICBjb25zdCBhMDIgPSBhWzJdO1xuICAgIGNvbnN0IGExMCA9IGFbM107XG4gICAgY29uc3QgYTExID0gYVs0XTtcbiAgICBjb25zdCBhMTIgPSBhWzVdO1xuICAgIGNvbnN0IGEyMCA9IGFbNl07XG4gICAgY29uc3QgYTIxID0gYVs3XTtcbiAgICBjb25zdCBhMjIgPSBhWzhdO1xuICAgIGNvbnN0IHggPSB2WzBdO1xuICAgIGNvbnN0IHkgPSB2WzFdO1xuICAgIG91dFswXSA9IGEwMDtcbiAgICBvdXRbMV0gPSBhMDE7XG4gICAgb3V0WzJdID0gYTAyO1xuICAgIG91dFszXSA9IGExMDtcbiAgICBvdXRbNF0gPSBhMTE7XG4gICAgb3V0WzVdID0gYTEyO1xuICAgIG91dFs2XSA9IHggKiBhMDAgKyB5ICogYTEwICsgYTIwO1xuICAgIG91dFs3XSA9IHggKiBhMDEgKyB5ICogYTExICsgYTIxO1xuICAgIG91dFs4XSA9IHggKiBhMDIgKyB5ICogYTEyICsgYTIyO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXQzIGJ5IHRoZSBnaXZlbiBhbmdsZVxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCkge1xuICAgIGNvbnN0IGEwMCA9IGFbMF07XG4gICAgY29uc3QgYTAxID0gYVsxXTtcbiAgICBjb25zdCBhMDIgPSBhWzJdO1xuICAgIGNvbnN0IGExMCA9IGFbM107XG4gICAgY29uc3QgYTExID0gYVs0XTtcbiAgICBjb25zdCBhMTIgPSBhWzVdO1xuICAgIGNvbnN0IGEyMCA9IGFbNl07XG4gICAgY29uc3QgYTIxID0gYVs3XTtcbiAgICBjb25zdCBhMjIgPSBhWzhdO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihyYWQpO1xuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhyYWQpO1xuICAgIG91dFswXSA9IGMgKiBhMDAgKyBzICogYTEwO1xuICAgIG91dFsxXSA9IGMgKiBhMDEgKyBzICogYTExO1xuICAgIG91dFsyXSA9IGMgKiBhMDIgKyBzICogYTEyO1xuICAgIG91dFszXSA9IGMgKiBhMTAgLSBzICogYTAwO1xuICAgIG91dFs0XSA9IGMgKiBhMTEgLSBzICogYTAxO1xuICAgIG91dFs1XSA9IGMgKiBhMTIgLSBzICogYTAyO1xuICAgIG91dFs2XSA9IGEyMDtcbiAgICBvdXRbN10gPSBhMjE7XG4gICAgb3V0WzhdID0gYTIyO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0MyBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gICAgY29uc3QgeCA9IHZbMF07XG4gICAgY29uc3QgeSA9IHZbMV07XG4gICAgb3V0WzBdID0geCAqIGFbMF07XG4gICAgb3V0WzFdID0geCAqIGFbMV07XG4gICAgb3V0WzJdID0geCAqIGFbMl07XG4gICAgb3V0WzNdID0geSAqIGFbM107XG4gICAgb3V0WzRdID0geSAqIGFbNF07XG4gICAgb3V0WzVdID0geSAqIGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQzLnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICAgIG91dFswXSA9IDE7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMTtcbiAgICBvdXRbNV0gPSAwO1xuICAgIG91dFs2XSA9IHZbMF07XG4gICAgb3V0WzddID0gdlsxXTtcbiAgICBvdXRbOF0gPSAxO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQzLnJvdGF0ZShkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4ocmFkKTtcbiAgICBjb25zdCBjID0gTWF0aC5jb3MocmFkKTtcbiAgICBvdXRbMF0gPSBjO1xuICAgIG91dFsxXSA9IHM7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAtcztcbiAgICBvdXRbNF0gPSBjO1xuICAgIG91dFs1XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDMuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gICAgb3V0WzBdID0gdlswXTtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSB2WzFdO1xuICAgIG91dFs1XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgZnJvbSBhIG1hdDJkIGludG8gYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIGNvcHlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MmQob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gYVsyXTtcbiAgICBvdXRbNF0gPSBhWzNdO1xuICAgIG91dFs1XSA9IDA7XG4gICAgb3V0WzZdID0gYVs0XTtcbiAgICBvdXRbN10gPSBhWzVdO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDN4MyBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQob3V0LCBxKSB7XG4gICAgY29uc3QgeCA9IHFbMF07XG4gICAgY29uc3QgeSA9IHFbMV07XG4gICAgY29uc3QgeiA9IHFbMl07XG4gICAgY29uc3QgdyA9IHFbM107XG4gICAgY29uc3QgeDIgPSB4ICsgeDtcbiAgICBjb25zdCB5MiA9IHkgKyB5O1xuICAgIGNvbnN0IHoyID0geiArIHo7XG4gICAgY29uc3QgeHggPSB4ICogeDI7XG4gICAgY29uc3QgeXggPSB5ICogeDI7XG4gICAgY29uc3QgeXkgPSB5ICogeTI7XG4gICAgY29uc3QgenggPSB6ICogeDI7XG4gICAgY29uc3QgenkgPSB6ICogeTI7XG4gICAgY29uc3QgenogPSB6ICogejI7XG4gICAgY29uc3Qgd3ggPSB3ICogeDI7XG4gICAgY29uc3Qgd3kgPSB3ICogeTI7XG4gICAgY29uc3Qgd3ogPSB3ICogejI7XG4gICAgb3V0WzBdID0gMSAtIHl5IC0geno7XG4gICAgb3V0WzNdID0geXggLSB3ejtcbiAgICBvdXRbNl0gPSB6eCArIHd5O1xuICAgIG91dFsxXSA9IHl4ICsgd3o7XG4gICAgb3V0WzRdID0gMSAtIHh4IC0geno7XG4gICAgb3V0WzddID0genkgLSB3eDtcbiAgICBvdXRbMl0gPSB6eCAtIHd5O1xuICAgIG91dFs1XSA9IHp5ICsgd3g7XG4gICAgb3V0WzhdID0gMSAtIHh4IC0geXk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDN4MyBub3JtYWwgbWF0cml4ICh0cmFuc3Bvc2UgaW52ZXJzZSkgZnJvbSB0aGUgNHg0IG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIE1hdDQgdG8gZGVyaXZlIHRoZSBub3JtYWwgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxGcm9tTWF0NChvdXQsIGEpIHtcbiAgICBjb25zdCBhMDAgPSBhWzBdO1xuICAgIGNvbnN0IGEwMSA9IGFbMV07XG4gICAgY29uc3QgYTAyID0gYVsyXTtcbiAgICBjb25zdCBhMDMgPSBhWzNdO1xuICAgIGNvbnN0IGExMCA9IGFbNF07XG4gICAgY29uc3QgYTExID0gYVs1XTtcbiAgICBjb25zdCBhMTIgPSBhWzZdO1xuICAgIGNvbnN0IGExMyA9IGFbN107XG4gICAgY29uc3QgYTIwID0gYVs4XTtcbiAgICBjb25zdCBhMjEgPSBhWzldO1xuICAgIGNvbnN0IGEyMiA9IGFbMTBdO1xuICAgIGNvbnN0IGEyMyA9IGFbMTFdO1xuICAgIGNvbnN0IGEzMCA9IGFbMTJdO1xuICAgIGNvbnN0IGEzMSA9IGFbMTNdO1xuICAgIGNvbnN0IGEzMiA9IGFbMTRdO1xuICAgIGNvbnN0IGEzMyA9IGFbMTVdO1xuICAgIGNvbnN0IGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgICBjb25zdCBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gICAgY29uc3QgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICAgIGNvbnN0IGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgICBjb25zdCBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gICAgY29uc3QgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICAgIGNvbnN0IGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgICBjb25zdCBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gICAgY29uc3QgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICAgIGNvbnN0IGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgICBjb25zdCBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gICAgY29uc3QgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyO1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcbiAgICBsZXQgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuICAgIGlmICghZGV0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBkZXQgPSAxLjAgLyBkZXQ7XG4gICAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gICAgb3V0WzFdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gICAgb3V0WzJdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gICAgb3V0WzNdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XG4gICAgb3V0WzRdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XG4gICAgb3V0WzVdID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gICAgb3V0WzZdID0gKGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMykgKiBkZXQ7XG4gICAgb3V0WzddID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gICAgb3V0WzhdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgMkQgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHlvdXIgZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgZ2wgY29udGV4dFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbihvdXQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICBvdXRbMF0gPSAyIC8gd2lkdGg7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gLTIgLyBoZWlnaHQ7XG4gICAgb3V0WzVdID0gMDtcbiAgICBvdXRbNl0gPSAtMTtcbiAgICBvdXRbN10gPSAxO1xuICAgIG91dFs4XSA9IDE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgICByZXR1cm4gYG1hdDMoJHthWzBdfSwgJHthWzFdfSwgJHthWzJdfSwgJHthWzNdfSwgJHthWzRdfSwgJHthWzVdfSwgJHthWzZdfSwgJHthWzddfSwgJHthWzhdfSlgO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydChhWzBdICogYVswXSArXG4gICAgICAgIGFbMV0gKiBhWzFdICtcbiAgICAgICAgYVsyXSAqIGFbMl0gK1xuICAgICAgICBhWzNdICogYVszXSArXG4gICAgICAgIGFbNF0gKiBhWzRdICtcbiAgICAgICAgYVs1XSAqIGFbNV0gK1xuICAgICAgICBhWzZdICogYVs2XSArXG4gICAgICAgIGFbN10gKiBhWzddICtcbiAgICAgICAgYVs4XSAqIGFbOF0pO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQzJ3NcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICAgIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICAgIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICAgIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICAgIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICAgIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xuICAgIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICAgIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICAgIG91dFs4XSA9IGFbOF0gKyBiWzhdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICAgIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICAgIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICAgIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICAgIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICAgIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICAgIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICAgIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICAgIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdICogYjtcbiAgICBvdXRbMV0gPSBhWzFdICogYjtcbiAgICBvdXRbMl0gPSBhWzJdICogYjtcbiAgICBvdXRbM10gPSBhWzNdICogYjtcbiAgICBvdXRbNF0gPSBhWzRdICogYjtcbiAgICBvdXRbNV0gPSBhWzVdICogYjtcbiAgICBvdXRbNl0gPSBhWzZdICogYjtcbiAgICBvdXRbN10gPSBhWzddICogYjtcbiAgICBvdXRbOF0gPSBhWzhdICogYjtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQzJ3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICAgIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gICAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICAgIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gICAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcbiAgICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICAgIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gICAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICAgIHJldHVybiAoYVswXSA9PT0gYlswXSAmJlxuICAgICAgICBhWzFdID09PSBiWzFdICYmXG4gICAgICAgIGFbMl0gPT09IGJbMl0gJiZcbiAgICAgICAgYVszXSA9PT0gYlszXSAmJlxuICAgICAgICBhWzRdID09PSBiWzRdICYmXG4gICAgICAgIGFbNV0gPT09IGJbNV0gJiZcbiAgICAgICAgYVs2XSA9PT0gYls2XSAmJlxuICAgICAgICBhWzddID09PSBiWzddICYmXG4gICAgICAgIGFbOF0gPT09IGJbOF0pO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgICBjb25zdCBhMCA9IGFbMF07XG4gICAgY29uc3QgYTEgPSBhWzFdO1xuICAgIGNvbnN0IGEyID0gYVsyXTtcbiAgICBjb25zdCBhMyA9IGFbM107XG4gICAgY29uc3QgYTQgPSBhWzRdO1xuICAgIGNvbnN0IGE1ID0gYVs1XTtcbiAgICBjb25zdCBhNiA9IGFbNl07XG4gICAgY29uc3QgYTcgPSBhWzddO1xuICAgIGNvbnN0IGE4ID0gYVs4XTtcbiAgICBjb25zdCBiMCA9IGJbMF07XG4gICAgY29uc3QgYjEgPSBiWzFdO1xuICAgIGNvbnN0IGIyID0gYlsyXTtcbiAgICBjb25zdCBiMyA9IGJbM107XG4gICAgY29uc3QgYjQgPSBiWzRdO1xuICAgIGNvbnN0IGI1ID0gYls1XTtcbiAgICBjb25zdCBiNiA9IGJbNl07XG4gICAgY29uc3QgYjcgPSBiWzddO1xuICAgIGNvbnN0IGI4ID0gYls4XTtcbiAgICByZXR1cm4gKE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJlxuICAgICAgICBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiZcbiAgICAgICAgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmXG4gICAgICAgIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJlxuICAgICAgICBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiZcbiAgICAgICAgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmXG4gICAgICAgIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJlxuICAgICAgICBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiZcbiAgICAgICAgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzdWIgPSBzdWJ0cmFjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdDMuanMubWFwIiwiLy8gbWF0aC5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTcgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuL2Jhc2UvbWF0cml4LmpzXCI7XG5pbXBvcnQgeyBjaGVja1ZlY3RvciB9IGZyb20gXCIuLi9saWIvdmFsaWRhdG9ycy5qc1wiO1xuaW1wb3J0IHsgdmVjNF90cmFuc2Zvcm1NYXQzIH0gZnJvbSBcIi4uL2xpYi9nbC1tYXRyaXgtZXh0cmFzLmpzXCI7XG5pbXBvcnQgeyBmcm9tUXVhdCBhcyBtYXQzX2Zyb21RdWF0LCBkZXRlcm1pbmFudCBhcyBtYXQzX2RldGVybWluYW50LCB0cmFuc3Bvc2UgYXMgbWF0M190cmFuc3Bvc2UsIGludmVydCBhcyBtYXQzX2ludmVydCwgbXVsdGlwbHkgYXMgbWF0M19tdWx0aXBseSwgcm90YXRlIGFzIG1hdDNfcm90YXRlLCBzY2FsZSBhcyBtYXQzX3NjYWxlLCB0cmFuc2xhdGUgYXMgbWF0M190cmFuc2xhdGUgfSBmcm9tIFwiLi4vZ2wtbWF0cml4L21hdDMuanNcIjtcbmltcG9ydCB7IHRyYW5zZm9ybU1hdDMgYXMgdmVjMl90cmFuc2Zvcm1NYXQzIH0gZnJvbSBcIi4uL2dsLW1hdHJpeC92ZWMyLmpzXCI7XG5pbXBvcnQgeyB0cmFuc2Zvcm1NYXQzIGFzIHZlYzNfdHJhbnNmb3JtTWF0MyB9IGZyb20gXCIuLi9nbC1tYXRyaXgvdmVjMy5qc1wiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xudmFyIElORElDRVM7XG4oZnVuY3Rpb24gKElORElDRVMpIHtcbiAgICBJTkRJQ0VTW0lORElDRVNbXCJDT0wwUk9XMFwiXSA9IDBdID0gXCJDT0wwUk9XMFwiO1xuICAgIElORElDRVNbSU5ESUNFU1tcIkNPTDBST1cxXCJdID0gMV0gPSBcIkNPTDBST1cxXCI7XG4gICAgSU5ESUNFU1tJTkRJQ0VTW1wiQ09MMFJPVzJcIl0gPSAyXSA9IFwiQ09MMFJPVzJcIjtcbiAgICBJTkRJQ0VTW0lORElDRVNbXCJDT0wxUk9XMFwiXSA9IDNdID0gXCJDT0wxUk9XMFwiO1xuICAgIElORElDRVNbSU5ESUNFU1tcIkNPTDFST1cxXCJdID0gNF0gPSBcIkNPTDFST1cxXCI7XG4gICAgSU5ESUNFU1tJTkRJQ0VTW1wiQ09MMVJPVzJcIl0gPSA1XSA9IFwiQ09MMVJPVzJcIjtcbiAgICBJTkRJQ0VTW0lORElDRVNbXCJDT0wyUk9XMFwiXSA9IDZdID0gXCJDT0wyUk9XMFwiO1xuICAgIElORElDRVNbSU5ESUNFU1tcIkNPTDJST1cxXCJdID0gN10gPSBcIkNPTDJST1cxXCI7XG4gICAgSU5ESUNFU1tJTkRJQ0VTW1wiQ09MMlJPVzJcIl0gPSA4XSA9IFwiQ09MMlJPVzJcIjtcbn0pKElORElDRVMgfHwgKElORElDRVMgPSB7fSkpO1xuY29uc3QgSURFTlRJVFlfTUFUUklYID0gT2JqZWN0LmZyZWV6ZShbMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMV0pO1xuLyoqXG4gKiBBIDN4MyBtYXRyaXggd2l0aCBjb21tb24gbGluZWFyIGFsZ2VicmEgb3BlcmF0aW9uc1xuICogU3ViY2xhc3Mgb2YgQXJyYXk8bnVtYmVyPiBtZWFuaW5nIHRoYXQgaXQgaXMgaGlnaGx5IGNvbXBhdGlibGUgd2l0aCBvdGhlciBsaWJyYXJpZXNcbiAqL1xuZXhwb3J0IGNsYXNzIE1hdHJpeDMgZXh0ZW5kcyBNYXRyaXgge1xuICAgIHN0YXRpYyBnZXQgSURFTlRJVFkoKSB7XG4gICAgICAgIHJldHVybiBnZXRJZGVudGl0eU1hdHJpeCgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IFpFUk8oKSB7XG4gICAgICAgIHJldHVybiBnZXRaZXJvTWF0cml4KCk7XG4gICAgfVxuICAgIGdldCBFTEVNRU5UUygpIHtcbiAgICAgICAgcmV0dXJuIDk7XG4gICAgfVxuICAgIGdldCBSQU5LKCkge1xuICAgICAgICByZXR1cm4gMztcbiAgICB9XG4gICAgZ2V0IElORElDRVMoKSB7XG4gICAgICAgIHJldHVybiBJTkRJQ0VTO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihhcnJheSwgLi4uYXJncykge1xuICAgICAgICAvLyBQRVJGIE5PVEU6IGluaXRpYWxpemUgZWxlbWVudHMgYXMgZG91YmxlIHByZWNpc2lvbiBudW1iZXJzXG4gICAgICAgIHN1cGVyKC0wLCAtMCwgLTAsIC0wLCAtMCwgLTAsIC0wLCAtMCwgLTApO1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgICAgICAgICAgdGhpcy5jb3B5KGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29weShbYXJyYXksIC4uLmFyZ3NdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb3B5KGFycmF5KSB7XG4gICAgICAgIC8vIEVsZW1lbnQgd2lzZSBjb3B5IGZvciBwZXJmb3JtYW5jZVxuICAgICAgICB0aGlzWzBdID0gYXJyYXlbMF07XG4gICAgICAgIHRoaXNbMV0gPSBhcnJheVsxXTtcbiAgICAgICAgdGhpc1syXSA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzWzNdID0gYXJyYXlbM107XG4gICAgICAgIHRoaXNbNF0gPSBhcnJheVs0XTtcbiAgICAgICAgdGhpc1s1XSA9IGFycmF5WzVdO1xuICAgICAgICB0aGlzWzZdID0gYXJyYXlbNl07XG4gICAgICAgIHRoaXNbN10gPSBhcnJheVs3XTtcbiAgICAgICAgdGhpc1s4XSA9IGFycmF5WzhdO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICAvLyBDb25zdHJ1Y3RvcnNcbiAgICBpZGVudGl0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weShJREVOVElUWV9NQVRSSVgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyBzZWxmXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8qKiBDYWxjdWxhdGVzIGEgM3gzIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gICAgICogcSBxdWF0ICBRdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxuICAgICAqL1xuICAgIGZyb21RdWF0ZXJuaW9uKHEpIHtcbiAgICAgICAgbWF0M19mcm9tUXVhdCh0aGlzLCBxKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWNjZXB0cyBjb2x1bW4gbWFqb3Igb3JkZXIsIHN0b3JlcyBpbiBjb2x1bW4gbWFqb3Igb3JkZXJcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuICAgIHNldChtMDAsIG0xMCwgbTIwLCBtMDEsIG0xMSwgbTIxLCBtMDIsIG0xMiwgbTIyKSB7XG4gICAgICAgIHRoaXNbMF0gPSBtMDA7XG4gICAgICAgIHRoaXNbMV0gPSBtMTA7XG4gICAgICAgIHRoaXNbMl0gPSBtMjA7XG4gICAgICAgIHRoaXNbM10gPSBtMDE7XG4gICAgICAgIHRoaXNbNF0gPSBtMTE7XG4gICAgICAgIHRoaXNbNV0gPSBtMjE7XG4gICAgICAgIHRoaXNbNl0gPSBtMDI7XG4gICAgICAgIHRoaXNbN10gPSBtMTI7XG4gICAgICAgIHRoaXNbOF0gPSBtMjI7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFjY2VwdHMgcm93IG1ham9yIG9yZGVyLCBzdG9yZXMgYXMgY29sdW1uIG1ham9yXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1wYXJhbXNcbiAgICBzZXRSb3dNYWpvcihtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gICAgICAgIHRoaXNbMF0gPSBtMDA7XG4gICAgICAgIHRoaXNbMV0gPSBtMTA7XG4gICAgICAgIHRoaXNbMl0gPSBtMjA7XG4gICAgICAgIHRoaXNbM10gPSBtMDE7XG4gICAgICAgIHRoaXNbNF0gPSBtMTE7XG4gICAgICAgIHRoaXNbNV0gPSBtMjE7XG4gICAgICAgIHRoaXNbNl0gPSBtMDI7XG4gICAgICAgIHRoaXNbN10gPSBtMTI7XG4gICAgICAgIHRoaXNbOF0gPSBtMjI7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8vIEFjY2Vzc29yc1xuICAgIGRldGVybWluYW50KCkge1xuICAgICAgICByZXR1cm4gbWF0M19kZXRlcm1pbmFudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gTW9kaWZpZXJzXG4gICAgdHJhbnNwb3NlKCkge1xuICAgICAgICBtYXQzX3RyYW5zcG9zZSh0aGlzLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLyoqIEludmVydCBhIG1hdHJpeC4gTm90ZSB0aGF0IHRoaXMgY2FuIGZhaWwgaWYgdGhlIG1hdHJpeCBpcyBub3QgaW52ZXJ0aWJsZSAqL1xuICAgIGludmVydCgpIHtcbiAgICAgICAgbWF0M19pbnZlcnQodGhpcywgdGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIC8vIE9wZXJhdGlvbnNcbiAgICBtdWx0aXBseUxlZnQoYSkge1xuICAgICAgICBtYXQzX211bHRpcGx5KHRoaXMsIGEsIHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVjaygpO1xuICAgIH1cbiAgICBtdWx0aXBseVJpZ2h0KGEpIHtcbiAgICAgICAgbWF0M19tdWx0aXBseSh0aGlzLCB0aGlzLCBhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgcm90YXRlKHJhZGlhbnMpIHtcbiAgICAgICAgbWF0M19yb3RhdGUodGhpcywgdGhpcywgcmFkaWFucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHNjYWxlKGZhY3Rvcikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmYWN0b3IpKSB7XG4gICAgICAgICAgICBtYXQzX3NjYWxlKHRoaXMsIHRoaXMsIGZhY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXQzX3NjYWxlKHRoaXMsIHRoaXMsIFtmYWN0b3IsIGZhY3Rvcl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuICAgIHRyYW5zbGF0ZSh2ZWMpIHtcbiAgICAgICAgbWF0M190cmFuc2xhdGUodGhpcywgdGhpcywgdmVjKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgLy8gVHJhbnNmb3Jtc1xuICAgIHRyYW5zZm9ybSh2ZWN0b3IsIHJlc3VsdCkge1xuICAgICAgICBsZXQgb3V0O1xuICAgICAgICBzd2l0Y2ggKHZlY3Rvci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBvdXQgPSB2ZWMyX3RyYW5zZm9ybU1hdDMocmVzdWx0IHx8IFstMCwgLTBdLCB2ZWN0b3IsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIG91dCA9IHZlYzNfdHJhbnNmb3JtTWF0MyhyZXN1bHQgfHwgWy0wLCAtMCwgLTBdLCB2ZWN0b3IsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIG91dCA9IHZlYzRfdHJhbnNmb3JtTWF0MyhyZXN1bHQgfHwgWy0wLCAtMCwgLTAsIC0wXSwgdmVjdG9yLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIHZlY3RvcicpO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrVmVjdG9yKG91dCwgdmVjdG9yLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHRyYW5zZm9ybVZlY3Rvcih2ZWN0b3IsIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0odmVjdG9yLCByZXN1bHQpO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICB0cmFuc2Zvcm1WZWN0b3IyKHZlY3RvciwgcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSh2ZWN0b3IsIHJlc3VsdCk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHRyYW5zZm9ybVZlY3RvcjModmVjdG9yLCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKHZlY3RvciwgcmVzdWx0KTtcbiAgICB9XG59XG5sZXQgWkVST19NQVRSSVgzO1xubGV0IElERU5USVRZX01BVFJJWDMgPSBudWxsO1xuZnVuY3Rpb24gZ2V0WmVyb01hdHJpeCgpIHtcbiAgICBpZiAoIVpFUk9fTUFUUklYMykge1xuICAgICAgICBaRVJPX01BVFJJWDMgPSBuZXcgTWF0cml4MyhbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pO1xuICAgICAgICBPYmplY3QuZnJlZXplKFpFUk9fTUFUUklYMyk7XG4gICAgfVxuICAgIHJldHVybiBaRVJPX01BVFJJWDM7XG59XG5mdW5jdGlvbiBnZXRJZGVudGl0eU1hdHJpeCgpIHtcbiAgICBpZiAoIUlERU5USVRZX01BVFJJWDMpIHtcbiAgICAgICAgSURFTlRJVFlfTUFUUklYMyA9IG5ldyBNYXRyaXgzKCk7XG4gICAgICAgIE9iamVjdC5mcmVlemUoSURFTlRJVFlfTUFUUklYMyk7XG4gICAgfVxuICAgIHJldHVybiBJREVOVElUWV9NQVRSSVgzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0cml4My5qcy5tYXAiLCIvLyBAZXNsaW50LWRpc2FibGVcbi8vIEB0cy1ub2NoZWNrXG5pbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tICcuL2NvbW1vbi5qcyc7XG4vKipcbiAqIDIgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzJcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMyXG4gKlxuICogQHJldHVybnMgYSBuZXcgMkQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gICAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgICAgIG91dFswXSA9IDA7XG4gICAgICAgIG91dFsxXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMiBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMgYSBuZXcgMkQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMiBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHkgWSBjb21wb25lbnRcbiAqIEByZXR1cm5zIGEgbmV3IDJEIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5KSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gICAgb3V0WzBdID0geDtcbiAgICBvdXRbMV0gPSB5O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWMyIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMiB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHkpIHtcbiAgICBvdXRbMF0gPSB4O1xuICAgIG91dFsxXSA9IHk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gICAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICAgIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gICAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBzeW1tZXRyaWMgcm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byByb3VuZFxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSBnbE1hdHJpeC5yb3VuZChhWzBdKTtcbiAgICBvdXRbMV0gPSBnbE1hdHJpeC5yb3VuZChhWzFdKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMyIGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdICogYjtcbiAgICBvdXRbMV0gPSBhWzFdICogYjtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMyJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gICAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICAgIGNvbnN0IHggPSBiWzBdIC0gYVswXTtcbiAgICBjb25zdCB5ID0gYlsxXSAtIGFbMV07XG4gICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgICBjb25zdCB4ID0gYlswXSAtIGFbMF07XG4gICAgY29uc3QgeSA9IGJbMV0gLSBhWzFdO1xuICAgIHJldHVybiB4ICogeCArIHkgKiB5O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgcmV0dXJuIHggKiB4ICsgeSAqIHk7XG59XG4vKipcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byBuZWdhdGVcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICAgIG91dFswXSA9IC1hWzBdO1xuICAgIG91dFsxXSA9IC1hWzFdO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICAgIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBsZXQgbGVuID0geCAqIHggKyB5ICogeTtcbiAgICBpZiAobGVuID4gMCkge1xuICAgICAgICAvLyBUT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICAgICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIH1cbiAgICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICAgIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzInc1xuICogTm90ZSB0aGF0IHRoZSBjcm9zcyBwcm9kdWN0IG11c3QgYnkgZGVmaW5pdGlvbiBwcm9kdWNlIGEgM0QgdmVjdG9yXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gICAgY29uc3QgeiA9IGFbMF0gKiBiWzFdIC0gYVsxXSAqIGJbMF07XG4gICAgb3V0WzBdID0gb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSB6O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gICAgY29uc3QgYXggPSBhWzBdO1xuICAgIGNvbnN0IGF5ID0gYVsxXTtcbiAgICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgICBzY2FsZSA9IHNjYWxlID09PSB1bmRlZmluZWQgPyAxLjAgOiBzY2FsZTtcbiAgICBjb25zdCByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICAgIG91dFswXSA9IE1hdGguY29zKHIpICogc2NhbGU7XG4gICAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiBzY2FsZTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMyIHdpdGggYSBtYXQyXG4gKlxuICogQHBhcmFtIHtOdW1lcmljQXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MihvdXQsIGEsIG0pIHtcbiAgICBjb25zdCB4ID0gYVswXTtcbiAgICBjb25zdCB5ID0gYVsxXTtcbiAgICBvdXRbMF0gPSBtWzBdICogeCArIG1bMl0gKiB5O1xuICAgIG91dFsxXSA9IG1bMV0gKiB4ICsgbVszXSAqIHk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0MmRcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MmQob3V0LCBhLCBtKSB7XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgb3V0WzBdID0gbVswXSAqIHggKyBtWzJdICogeSArIG1bNF07XG4gICAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzNdICogeSArIG1bNV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0M1xuICogM3JkIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge051bWVyaWNBcnJheX0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICAgIGNvbnN0IHggPSBhWzBdO1xuICAgIGNvbnN0IHkgPSBhWzFdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVszXSAqIHkgKyBtWzZdO1xuICAgIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs0XSAqIHkgKyBtWzddO1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzIgd2l0aCBhIG1hdDRcbiAqIDNyZCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzAnXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xuICpcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gICAgY29uc3QgeCA9IGFbMF07XG4gICAgY29uc3QgeSA9IGFbMV07XG4gICAgb3V0WzBdID0gbVswXSAqIHggKyBtWzRdICogeSArIG1bMTJdO1xuICAgIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzEzXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAyRCB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtZXJpY0FycmF5fSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMyXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgVGhlIHZlYzIgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHtOdW1lcmljQXJyYXl9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgYiwgcmFkKSB7XG4gICAgLy8gVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cbiAgICBjb25zdCBwMCA9IGFbMF0gLSBiWzBdO1xuICAgIGNvbnN0IHAxID0gYVsxXSAtIGJbMV07XG4gICAgY29uc3Qgc2luQyA9IE1hdGguc2luKHJhZCk7XG4gICAgY29uc3QgY29zQyA9IE1hdGguY29zKHJhZCk7XG4gICAgLy8gcGVyZm9ybSByb3RhdGlvbiBhbmQgdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cbiAgICBvdXRbMF0gPSBwMCAqIGNvc0MgLSBwMSAqIHNpbkMgKyBiWzBdO1xuICAgIG91dFsxXSA9IHAwICogc2luQyArIHAxICogY29zQyArIGJbMV07XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHR3byAyRCB2ZWN0b3JzXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYiBUaGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gICAgY29uc3QgeDEgPSBhWzBdO1xuICAgIGNvbnN0IHkxID0gYVsxXTtcbiAgICBjb25zdCB4MiA9IGJbMF07XG4gICAgY29uc3QgeTIgPSBiWzFdO1xuICAgIC8vIG1hZyBpcyB0aGUgcHJvZHVjdCBvZiB0aGUgbWFnbml0dWRlcyBvZiBhIGFuZCBiXG4gICAgY29uc3QgbWFnID0gTWF0aC5zcXJ0KCh4MSAqIHgxICsgeTEgKiB5MSkgKiAoeDIgKiB4MiArIHkyICogeTIpKTtcbiAgICAvLyBtYWcgJiYuLiBzaG9ydCBjaXJjdWl0cyBpZiBtYWcgPT0gMFxuICAgIGNvbnN0IGNvc2luZSA9IG1hZyAmJiAoeDEgKiB4MiArIHkxICogeTIpIC8gbWFnO1xuICAgIC8vIE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSBjbGFtcHMgdGhlIGNvc2luZSBiZXR3ZWVuIC0xIGFuZCAxXG4gICAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyIHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge051bWVyaWNBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7TnVtZXJpY0FycmF5fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gICAgb3V0WzBdID0gMC4wO1xuICAgIG91dFsxXSA9IDAuMDtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICAgIHJldHVybiBgdmVjMigke2FbMF19LCAke2FbMV19KWA7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgZXhhY3RseSBoYXZlIHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TnVtZXJpY0FycmF5Pn0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gICAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxOdW1lcmljQXJyYXk+fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE51bWVyaWNBcnJheT59IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gICAgY29uc3QgYTAgPSBhWzBdO1xuICAgIGNvbnN0IGExID0gYVsxXTtcbiAgICBjb25zdCBiMCA9IGJbMF07XG4gICAgY29uc3QgYjEgPSBiWzFdO1xuICAgIHJldHVybiAoTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmXG4gICAgICAgIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3Qgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMycy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMyLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjMnMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JFYWNoID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB2ZWMgPSBjcmVhdGUoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IGw7XG4gICAgICAgIGlmICghc3RyaWRlKSB7XG4gICAgICAgICAgICBzdHJpZGUgPSAyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3VudCkge1xuICAgICAgICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsID0gYS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICAgICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgICAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgICAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgIH07XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjMi5qcy5tYXAiLCIvKipcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21haW4vZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV90cmFuc2Zvcm0vUkVBRE1FLm1kXG4gKi9cbmltcG9ydCB7IFZlY3RvcjMsIE1hdHJpeDMgfSBmcm9tICdAbWF0aC5nbC9jb3JlJztcbmltcG9ydCB7IGdldEFjY2Vzc29yQXJyYXlUeXBlQW5kTGVuZ3RoIH0gZnJvbSBcIi4uL2dsdGYtdXRpbHMvZ2x0Zi11dGlscy5qc1wiO1xuaW1wb3J0IHsgQllURVMsIENPTVBPTkVOVFMgfSBmcm9tIFwiLi4vZ2x0Zi11dGlscy9nbHRmLWNvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgR0xURlNjZW5lZ3JhcGggfSBmcm9tIFwiLi4vYXBpL2dsdGYtc2NlbmVncmFwaC5qc1wiO1xuLyoqIEV4dGVuc2lvbiBuYW1lICovXG5jb25zdCBLSFJfVEVYVFVSRV9UUkFOU0ZPUk0gPSAnS0hSX3RleHR1cmVfdHJhbnNmb3JtJztcbmV4cG9ydCBjb25zdCBuYW1lID0gS0hSX1RFWFRVUkVfVFJBTlNGT1JNO1xuY29uc3Qgc2NyYXRjaFZlY3RvciA9IG5ldyBWZWN0b3IzKCk7XG5jb25zdCBzY3JhdGNoUm90YXRpb25NYXRyaXggPSBuZXcgTWF0cml4MygpO1xuY29uc3Qgc2NyYXRjaFNjYWxlTWF0cml4ID0gbmV3IE1hdHJpeDMoKTtcbi8qKlxuICogVGhlIGV4dGVuc2lvbiBlbnRyeSB0byBwcm9jZXNzIHRoZSB0cmFuc2Zvcm1hdGlvblxuICogQHBhcmFtIGdsdGZEYXRhIGdsdGYgYnVmZmVycyBhbmQganNvblxuICogQHBhcmFtIG9wdGlvbnMgR0xURkxvYWRlciBvcHRpb25zXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBnbHRmU2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgaGFzRXh0ZW5zaW9uID0gZ2x0ZlNjZW5lZ3JhcGguaGFzRXh0ZW5zaW9uKEtIUl9URVhUVVJFX1RSQU5TRk9STSk7XG4gICAgaWYgKCFoYXNFeHRlbnNpb24gfHwgIW9wdGlvbnMuZ2x0Zj8ubG9hZEJ1ZmZlcnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtYXRlcmlhbHMgPSBnbHRmRGF0YS5qc29uLm1hdGVyaWFscyB8fCBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGVyaWFscy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0cmFuc2Zvcm1UZXhDb29yZHMoaSwgZ2x0ZkRhdGEpO1xuICAgIH1cbn1cbi8qKlxuICogVHJhbnNmb3JtIFRFWENPT1JEIGJ5IG1hdGVyaWFsXG4gKiBAcGFyYW0gbWF0ZXJpYWxJbmRleCBwcm9jZXNzaW5nIG1hdGVyaWFsIGluZGV4XG4gKiBAcGFyYW0gZ2x0ZkRhdGEgZ2x0ZiBidWZmZXJzIGFuZCBqc29uXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybVRleENvb3JkcyhtYXRlcmlhbEluZGV4LCBnbHRmRGF0YSkge1xuICAgIGNvbnN0IG1hdGVyaWFsID0gZ2x0ZkRhdGEuanNvbi5tYXRlcmlhbHM/LlttYXRlcmlhbEluZGV4XTtcbiAgICBjb25zdCBtYXRlcmlhbFRleHR1cmVzID0gW1xuICAgICAgICBtYXRlcmlhbD8ucGJyTWV0YWxsaWNSb3VnaG5lc3M/LmJhc2VDb2xvclRleHR1cmUsXG4gICAgICAgIG1hdGVyaWFsPy5lbWlzc2l2ZVRleHR1cmUsXG4gICAgICAgIG1hdGVyaWFsPy5ub3JtYWxUZXh0dXJlLFxuICAgICAgICBtYXRlcmlhbD8ub2NjbHVzaW9uVGV4dHVyZSxcbiAgICAgICAgbWF0ZXJpYWw/LnBick1ldGFsbGljUm91Z2huZXNzPy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmVcbiAgICBdO1xuICAgIC8vIFNhdmUgcHJvY2Vzc2VkIHRleENvb3JkcyBpbiBvcmRlciBubyB0byBwcm9jZXNzIHRoZSBzYW1lIHR3aWNlXG4gICAgY29uc3QgcHJvY2Vzc2VkVGV4Q29vcmRzID0gW107XG4gICAgZm9yIChjb25zdCB0ZXh0dXJlSW5mbyBvZiBtYXRlcmlhbFRleHR1cmVzKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlSW5mbyAmJiB0ZXh0dXJlSW5mbz8uZXh0ZW5zaW9ucz8uW0tIUl9URVhUVVJFX1RSQU5TRk9STV0pIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybVByaW1pdGl2ZXMoZ2x0ZkRhdGEsIG1hdGVyaWFsSW5kZXgsIHRleHR1cmVJbmZvLCBwcm9jZXNzZWRUZXhDb29yZHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUcmFuc2Zvcm0gcHJpbWl0aXZlcyBvZiB0aGUgcGFydGljdWxhciBtYXRlcmlhbFxuICogQHBhcmFtIGdsdGZEYXRhIGdsdGYgZGF0YVxuICogQHBhcmFtIG1hdGVyaWFsSW5kZXggcHJpbWl0aXZlcyB3aXRoIHRoaXMgbWF0ZXJpYWwgd2lsbCBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHRleHR1cmUgdGV4dHVyZSBvYmplY3RcbiAqIEBwYXJhbSBwcm9jZXNzZWRUZXhDb29yZHMgc3RvcmFnZSB0byBzYXZlIGFscmVhZHkgcHJvY2Vzc2VkIHRleENvb3Jkc1xuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1QcmltaXRpdmVzKGdsdGZEYXRhLCBtYXRlcmlhbEluZGV4LCB0ZXh0dXJlLCBwcm9jZXNzZWRUZXhDb29yZHMpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1QYXJhbWV0ZXJzID0gZ2V0VHJhbnNmb3JtUGFyYW1ldGVycyh0ZXh0dXJlLCBwcm9jZXNzZWRUZXhDb29yZHMpO1xuICAgIGlmICghdHJhbnNmb3JtUGFyYW1ldGVycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1lc2hlcyA9IGdsdGZEYXRhLmpzb24ubWVzaGVzIHx8IFtdO1xuICAgIGZvciAoY29uc3QgbWVzaCBvZiBtZXNoZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmltaXRpdmUgb2YgbWVzaC5wcmltaXRpdmVzKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IHByaW1pdGl2ZS5tYXRlcmlhbDtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobWF0ZXJpYWwpICYmIG1hdGVyaWFsSW5kZXggPT09IG1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtUHJpbWl0aXZlKGdsdGZEYXRhLCBwcmltaXRpdmUsIHRyYW5zZm9ybVBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBHZXQgcGFyYW1ldGVycyBmb3IgVEVYQ09PUkQgdHJhbnNmb3JtYXRpb25cbiAqIEBwYXJhbSB0ZXh0dXJlIHRleHR1cmUgb2JqZWN0XG4gKiBAcGFyYW0gcHJvY2Vzc2VkVGV4Q29vcmRzIHN0b3JhZ2UgdG8gc2F2ZSBhbHJlYWR5IHByb2Nlc3NlZCB0ZXhDb29yZHNcbiAqIEByZXR1cm5zIHRleENvb3JkIGNvdXBsZSBhbmQgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVBhcmFtZXRlcnModGV4dHVyZSwgcHJvY2Vzc2VkVGV4Q29vcmRzKSB7XG4gICAgY29uc3QgdGV4dHVyZUluZm8gPSB0ZXh0dXJlLmV4dGVuc2lvbnM/LltLSFJfVEVYVFVSRV9UUkFOU0ZPUk1dO1xuICAgIGNvbnN0IHsgdGV4Q29vcmQ6IG9yaWdpbmFsVGV4Q29vcmQgPSAwIH0gPSB0ZXh0dXJlO1xuICAgIC8vIElmIHRleENvb3JkIGlzIG5vdCBzZXQgaW4gdGhlIGV4dGVuc2lvbiwgb3JpZ2luYWwgYXR0cmlidXRlIGRhdGEgd2lsbCBiZSByZXBsYWNlZFxuICAgIGNvbnN0IHsgdGV4Q29vcmQgPSBvcmlnaW5hbFRleENvb3JkIH0gPSB0ZXh0dXJlSW5mbztcbiAgICAvLyBNYWtlIHN1cmUgdGhhdCBjb3VwbGUgW29yaWdpbmFsVGV4Q29vcmQsIGV4dGVuc2lvblRleENvb3JkXSBpcyBub3QgcHJvY2Vzc2VkIHR3aWNlXG4gICAgY29uc3QgaXNQcm9jZXNzZWQgPSBwcm9jZXNzZWRUZXhDb29yZHMuZmluZEluZGV4KChbb3JpZ2luYWwsIG5ld1RleENvb3JkXSkgPT4gb3JpZ2luYWwgPT09IG9yaWdpbmFsVGV4Q29vcmQgJiYgbmV3VGV4Q29vcmQgPT09IHRleENvb3JkKSAhPT0gLTE7XG4gICAgaWYgKCFpc1Byb2Nlc3NlZCkge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBtYWtlVHJhbnNmb3JtYXRpb25NYXRyaXgodGV4dHVyZUluZm8pO1xuICAgICAgICBpZiAob3JpZ2luYWxUZXhDb29yZCAhPT0gdGV4Q29vcmQpIHtcbiAgICAgICAgICAgIHRleHR1cmUudGV4Q29vcmQgPSB0ZXhDb29yZDtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzZWRUZXhDb29yZHMucHVzaChbb3JpZ2luYWxUZXhDb29yZCwgdGV4Q29vcmRdKTtcbiAgICAgICAgcmV0dXJuIHsgb3JpZ2luYWxUZXhDb29yZCwgdGV4Q29vcmQsIG1hdHJpeCB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVHJhbnNmb3JtIGBURVhDT09SRF8wYCBhdHRyaWJ1dGUgaW4gdGhlIHByaW1pdGl2ZVxuICogQHBhcmFtIGdsdGZEYXRhIGdsdGYgZGF0YVxuICogQHBhcmFtIHByaW1pdGl2ZSBwcmltaXRpdmUgb2JqZWN0XG4gKiBAcGFyYW0gdHJhbnNmb3JtUGFyYW1ldGVycyB0ZXhDb29yZCBjb3VwbGUgYW5kIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1QcmltaXRpdmUoZ2x0ZkRhdGEsIHByaW1pdGl2ZSwgdHJhbnNmb3JtUGFyYW1ldGVycykge1xuICAgIGNvbnN0IHsgb3JpZ2luYWxUZXhDb29yZCwgdGV4Q29vcmQsIG1hdHJpeCB9ID0gdHJhbnNmb3JtUGFyYW1ldGVycztcbiAgICBjb25zdCB0ZXhDb29yZEFjY2Vzc29yID0gcHJpbWl0aXZlLmF0dHJpYnV0ZXNbYFRFWENPT1JEXyR7b3JpZ2luYWxUZXhDb29yZH1gXTtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHRleENvb3JkQWNjZXNzb3IpKSB7XG4gICAgICAgIC8vIEdldCBhY2Nlc3NvciBvZiB0aGUgYFRFWENPT1JEXzBgIGF0dHJpYnV0ZVxuICAgICAgICBjb25zdCBhY2Nlc3NvciA9IGdsdGZEYXRhLmpzb24uYWNjZXNzb3JzPy5bdGV4Q29vcmRBY2Nlc3Nvcl07XG4gICAgICAgIGlmIChhY2Nlc3NvciAmJiBhY2Nlc3Nvci5idWZmZXJWaWV3KSB7XG4gICAgICAgICAgICAvLyBHZXQgYGJ1ZmZlclZpZXdgIG9mIHRoZSBgYWNjZXNzb3JgXG4gICAgICAgICAgICBjb25zdCBidWZmZXJWaWV3ID0gZ2x0ZkRhdGEuanNvbi5idWZmZXJWaWV3cz8uW2FjY2Vzc29yLmJ1ZmZlclZpZXddO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlclZpZXcpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgYGFycmF5QnVmZmVyYCB0aGUgYGJ1ZmZlclZpZXdgIGxvb2sgYXRcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0OiBidWZmZXJCeXRlT2Zmc2V0IH0gPSBnbHRmRGF0YS5idWZmZXJzW2J1ZmZlclZpZXcuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICAvLyBSZXN1bHRpbmcgYnl0ZU9mZnNldCBpcyBzdW0gb2YgdGhlIGJ1ZmZlciwgYWNjZXNzb3IgYW5kIGJ1ZmZlclZpZXcgYnl0ZSBvZmZzZXRzXG4gICAgICAgICAgICAgICAgY29uc3QgYnl0ZU9mZnNldCA9IChidWZmZXJCeXRlT2Zmc2V0IHx8IDApICsgKGFjY2Vzc29yLmJ5dGVPZmZzZXQgfHwgMCkgKyAoYnVmZmVyVmlldy5ieXRlT2Zmc2V0IHx8IDApO1xuICAgICAgICAgICAgICAgIC8vIERlZHVjZSBUeXBlZEFycmF5IHR5cGUgYW5kIGl0cyBsZW5ndGggZnJvbSBgYWNjZXNzb3JgIGFuZCBgYnVmZmVyVmlld2AgZGF0YVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgQXJyYXlUeXBlLCBsZW5ndGggfSA9IGdldEFjY2Vzc29yQXJyYXlUeXBlQW5kTGVuZ3RoKGFjY2Vzc29yLCBidWZmZXJWaWV3KTtcbiAgICAgICAgICAgICAgICAvLyBOdW1iZXIgb2YgYnl0ZXMgZWFjaCBjb21wb25lbnQgb2NjdXBpZXNcbiAgICAgICAgICAgICAgICBjb25zdCBieXRlcyA9IEJZVEVTW2FjY2Vzc29yLmNvbXBvbmVudFR5cGVdO1xuICAgICAgICAgICAgICAgIC8vIE51bWJlciBvZiBjb21wb25lbnRzLiBGb3IgdGhlIGBURVhDT09SRF8wYCB3aXRoIGBWRUMyYCB0eXBlLCBpdCBtdXN0IHJldHVybiAyXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IENPTVBPTkVOVFNbYWNjZXNzb3IudHlwZV07XG4gICAgICAgICAgICAgICAgLy8gTXVsdGlwbGllciB0byBjYWxjdWxhdGUgdGhlIGFkZHJlc3Mgb2YgdGhlIGBURVhDT09SRF8wYCBlbGVtZW50IGluIHRoZSBhcnJheUJ1ZmZlclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRBZGRyZXNzU2NhbGUgPSBidWZmZXJWaWV3LmJ5dGVTdHJpZGUgfHwgYnl0ZXMgKiBjb21wb25lbnRzO1xuICAgICAgICAgICAgICAgIC8vIERhdGEgdHJhbnNmb3JtIHRvIEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjY2Vzc29yLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGFrZSBbdSwgdl0gY291cGxlIGZyb20gdGhlIGFycmF5QnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHV2ID0gbmV3IEFycmF5VHlwZShhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCArIGkgKiBlbGVtZW50QWRkcmVzc1NjYWxlLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGFuZCB0cmFuc2Zvcm0gVmVjdG9yMyBwZXIgaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFpbi9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZXh0dXJlX3RyYW5zZm9ybSNvdmVydmlld1xuICAgICAgICAgICAgICAgICAgICBzY3JhdGNoVmVjdG9yLnNldCh1dlswXSwgdXZbMV0sIDEpO1xuICAgICAgICAgICAgICAgICAgICBzY3JhdGNoVmVjdG9yLnRyYW5zZm9ybUJ5TWF0cml4MyhtYXRyaXgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIHJlc3VsdCBpbiBGbG9hdDMyQXJyYXlcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChbc2NyYXRjaFZlY3RvclswXSwgc2NyYXRjaFZlY3RvclsxXV0sIGkgKiBjb21wb25lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgdGV4Q29vcmQgdGhlIHNhbWUsIHJlcGxhY2UgZ2x0ZiBzdHJ1Y3R1cmFsIGRhdGFcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxUZXhDb29yZCA9PT0gdGV4Q29vcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlR2x0ZihhY2Nlc3NvciwgYnVmZmVyVmlldywgZ2x0ZkRhdGEuYnVmZmVycywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRleENvb3JkIGNoYW5nZSwgY3JlYXRlIG5ldyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQXR0cmlidXRlKHRleENvb3JkLCBhY2Nlc3NvciwgcHJpbWl0aXZlLCBnbHRmRGF0YSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFVwZGF0ZSBHTFRGIHN0cnVjdHVyYWwgb2JqZWN0cyB3aXRoIG5ldyBkYXRhIGFzIHdlIGNyZWF0ZSBuZXcgYEZsb2F0MzJBcnJheWAgZm9yIGBURVhDT09SRF8wYC5cbiAqIEBwYXJhbSBhY2Nlc3NvciBhY2Nlc3NvciB0byBjaGFuZ2VcbiAqIEBwYXJhbSBidWZmZXJWaWV3IGJ1ZmZlclZpZXcgdG8gY2hhbmdlXG4gKiBAcGFyYW0gYnVmZmVycyBiaW5hcnkgYnVmZmVyc1xuICogQHBhcmFtIG5ld1RleGNvb3JkQXJyYXkgdHlwZWQgYXJyYXkgd2l0aCBkYXRhIGFmdGVyIHRyYW5zZm9ybWF0aW9uXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUdsdGYoYWNjZXNzb3IsIGJ1ZmZlclZpZXcsIGJ1ZmZlcnMsIG5ld1RleENvb3JkQXJyYXkpIHtcbiAgICBhY2Nlc3Nvci5jb21wb25lbnRUeXBlID0gNTEyNjtcbiAgICBidWZmZXJzLnB1c2goe1xuICAgICAgICBhcnJheUJ1ZmZlcjogbmV3VGV4Q29vcmRBcnJheS5idWZmZXIsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgIGJ5dGVMZW5ndGg6IG5ld1RleENvb3JkQXJyYXkuYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICB9KTtcbiAgICBidWZmZXJWaWV3LmJ1ZmZlciA9IGJ1ZmZlcnMubGVuZ3RoIC0gMTtcbiAgICBidWZmZXJWaWV3LmJ5dGVMZW5ndGggPSBuZXdUZXhDb29yZEFycmF5LmJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgIGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCA9IDA7XG4gICAgZGVsZXRlIGJ1ZmZlclZpZXcuYnl0ZVN0cmlkZTtcbn1cbi8qKlxuICpcbiAqIEBwYXJhbSBuZXdUZXhDb29yZCBuZXcgYHRleENvb3JkYCB2YWx1ZVxuICogQHBhcmFtIG9yaWdpbmFsQWNjZXNzb3Igb3JpZ2luYWwgYWNjZXNzb3Igb2JqZWN0LCB0aGF0IHN0b3JlIGRhdGEgYmVmb3JlIHRyYW5zZm9ybWF0aW9uXG4gKiBAcGFyYW0gcHJpbWl0aXZlIHByaW1pdGl2ZSBvYmplY3RcbiAqIEBwYXJhbSBnbHRmRGF0YSBnbHRmIGRhdGFcbiAqIEBwYXJhbSBuZXdUZXhDb29yZEFycmF5IHR5cGVkIGFycmF5IHdpdGggZGF0YSBhZnRlciB0cmFuc2Zvcm1hdGlvblxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXR0cmlidXRlKG5ld1RleENvb3JkLCBvcmlnaW5hbEFjY2Vzc29yLCBwcmltaXRpdmUsIGdsdGZEYXRhLCBuZXdUZXhDb29yZEFycmF5KSB7XG4gICAgZ2x0ZkRhdGEuYnVmZmVycy5wdXNoKHtcbiAgICAgICAgYXJyYXlCdWZmZXI6IG5ld1RleENvb3JkQXJyYXkuYnVmZmVyLFxuICAgICAgICBieXRlT2Zmc2V0OiAwLFxuICAgICAgICBieXRlTGVuZ3RoOiBuZXdUZXhDb29yZEFycmF5LmJ1ZmZlci5ieXRlTGVuZ3RoXG4gICAgfSk7XG4gICAgY29uc3QgYnVmZmVyVmlld3MgPSBnbHRmRGF0YS5qc29uLmJ1ZmZlclZpZXdzO1xuICAgIGlmICghYnVmZmVyVmlld3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBidWZmZXJWaWV3cy5wdXNoKHtcbiAgICAgICAgYnVmZmVyOiBnbHRmRGF0YS5idWZmZXJzLmxlbmd0aCAtIDEsXG4gICAgICAgIGJ5dGVMZW5ndGg6IG5ld1RleENvb3JkQXJyYXkuYnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IDBcbiAgICB9KTtcbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBnbHRmRGF0YS5qc29uLmFjY2Vzc29ycztcbiAgICBpZiAoIWFjY2Vzc29ycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjY2Vzc29ycy5wdXNoKHtcbiAgICAgICAgYnVmZmVyVmlldzogYnVmZmVyVmlld3M/Lmxlbmd0aCAtIDEsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgIGNvbXBvbmVudFR5cGU6IDUxMjYsXG4gICAgICAgIGNvdW50OiBvcmlnaW5hbEFjY2Vzc29yLmNvdW50LFxuICAgICAgICB0eXBlOiAnVkVDMidcbiAgICB9KTtcbiAgICBwcmltaXRpdmUuYXR0cmlidXRlc1tgVEVYQ09PUkRfJHtuZXdUZXhDb29yZH1gXSA9IGFjY2Vzc29ycy5sZW5ndGggLSAxO1xufVxuLyoqXG4gKiBDb25zdHJ1Y3QgdHJhbnNmb3JtYXRpb24gbWF0cml4IGZyb20gdGhlIGV4dGVuc2lvbiBkYXRhICh0cmFuc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUpXG4gKiBAcGFyYW0gZXh0ZW5zaW9uRGF0YSBleHRlbnNpb24gZGF0YVxuICogQHJldHVybnMgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gKi9cbmZ1bmN0aW9uIG1ha2VUcmFuc2Zvcm1hdGlvbk1hdHJpeChleHRlbnNpb25EYXRhKSB7XG4gICAgY29uc3QgeyBvZmZzZXQgPSBbMCwgMF0sIHJvdGF0aW9uID0gMCwgc2NhbGUgPSBbMSwgMV0gfSA9IGV4dGVuc2lvbkRhdGE7XG4gICAgY29uc3QgdHJhbnNsYXRpb25NYXRyaXggPSBuZXcgTWF0cml4MygpLnNldCgxLCAwLCAwLCAwLCAxLCAwLCBvZmZzZXRbMF0sIG9mZnNldFsxXSwgMSk7XG4gICAgY29uc3Qgcm90YXRpb25NYXRyaXggPSBzY3JhdGNoUm90YXRpb25NYXRyaXguc2V0KE1hdGguY29zKHJvdGF0aW9uKSwgTWF0aC5zaW4ocm90YXRpb24pLCAwLCAtTWF0aC5zaW4ocm90YXRpb24pLCBNYXRoLmNvcyhyb3RhdGlvbiksIDAsIDAsIDAsIDEpO1xuICAgIGNvbnN0IHNjYWxlTWF0cml4ID0gc2NyYXRjaFNjYWxlTWF0cml4LnNldChzY2FsZVswXSwgMCwgMCwgMCwgc2NhbGVbMV0sIDAsIDAsIDAsIDEpO1xuICAgIHJldHVybiB0cmFuc2xhdGlvbk1hdHJpeC5tdWx0aXBseVJpZ2h0KHJvdGF0aW9uTWF0cml4KS5tdWx0aXBseVJpZ2h0KHNjYWxlTWF0cml4KTtcbn1cbiIsIi8vIEdMVEYgRVhURU5TSU9OOiBLSFJfbGlnaHRzX3B1bmN0dWFsXG4vLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbGlnaHRzX3B1bmN0dWFsXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vLi4vdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBHTFRGU2NlbmVncmFwaCB9IGZyb20gXCIuLi8uLi9hcGkvZ2x0Zi1zY2VuZWdyYXBoLmpzXCI7XG5jb25zdCBLSFJfTElHSFRTX1BVTkNUVUFMID0gJ0tIUl9saWdodHNfcHVuY3R1YWwnO1xuZXhwb3J0IGNvbnN0IG5hbWUgPSBLSFJfTElHSFRTX1BVTkNUVUFMO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlY29kZShnbHRmRGF0YSkge1xuICAgIGNvbnN0IGdsdGZTY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBjb25zdCB7IGpzb24gfSA9IGdsdGZTY2VuZWdyYXBoO1xuICAgIC8vIE1vdmUgdGhlIGxpZ2h0IGFycmF5IG91dCBvZiB0aGUgZXh0ZW5zaW9uIGFuZCByZW1vdmUgdGhlIGV4dGVuc2lvblxuICAgIGNvbnN0IGV4dGVuc2lvbiA9IGdsdGZTY2VuZWdyYXBoLmdldEV4dGVuc2lvbihLSFJfTElHSFRTX1BVTkNUVUFMKTtcbiAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZ2x0ZlNjZW5lZ3JhcGguanNvbi5saWdodHMgPSBleHRlbnNpb24ubGlnaHRzO1xuICAgICAgICBnbHRmU2NlbmVncmFwaC5yZW1vdmVFeHRlbnNpb24oS0hSX0xJR0hUU19QVU5DVFVBTCk7XG4gICAgfVxuICAgIC8vIEFueSBub2RlcyB0aGF0IGhhdmUgdGhlIGV4dGVuc2lvbiwgYWRkIGxpZ2h0cyBmaWVsZCBwb2ludGluZyB0byBsaWdodCBvYmplY3RcbiAgICAvLyBhbmQgcmVtb3ZlIHRoZSBleHRlbnNpb25cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YganNvbi5ub2RlcyB8fCBbXSkge1xuICAgICAgICBjb25zdCBub2RlRXh0ZW5zaW9uID0gZ2x0ZlNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKG5vZGUsIEtIUl9MSUdIVFNfUFVOQ1RVQUwpO1xuICAgICAgICBpZiAobm9kZUV4dGVuc2lvbikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgbm9kZS5saWdodCA9IG5vZGVFeHRlbnNpb24ubGlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZ2x0ZlNjZW5lZ3JhcGgucmVtb3ZlT2JqZWN0RXh0ZW5zaW9uKG5vZGUsIEtIUl9MSUdIVFNfUFVOQ1RVQUwpO1xuICAgIH1cbn1cbi8vIE1vdmUgdGhlIGxpZ2h0IGFyIHJheSBvdXQgb2YgdGhlIGV4dGVuc2lvbiBhbmQgcmVtb3ZlIHRoZSBleHRlbnNpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNvZGUoZ2x0ZkRhdGEpIHtcbiAgICBjb25zdCBnbHRmU2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgeyBqc29uIH0gPSBnbHRmU2NlbmVncmFwaDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGpzb24ubGlnaHRzKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IGdsdGZTY2VuZWdyYXBoLmFkZEV4dGVuc2lvbihLSFJfTElHSFRTX1BVTkNUVUFMKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhc3NlcnQoIWV4dGVuc2lvbi5saWdodHMpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGV4dGVuc2lvbi5saWdodHMgPSBqc29uLmxpZ2h0cztcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBkZWxldGUganNvbi5saWdodHM7XG4gICAgfVxuICAgIC8vIEFueSBub2RlcyB0aGF0IGhhdmUgbGlnaHRzIGZpZWxkIHBvaW50aW5nIHRvIGxpZ2h0IG9iamVjdFxuICAgIC8vIGFkZCB0aGUgZXh0ZW5zaW9uXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChnbHRmU2NlbmVncmFwaC5qc29uLmxpZ2h0cykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2YgZ2x0ZlNjZW5lZ3JhcGguanNvbi5saWdodHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBsaWdodC5ub2RlO1xuICAgICAgICAgICAgZ2x0ZlNjZW5lZ3JhcGguYWRkT2JqZWN0RXh0ZW5zaW9uKG5vZGUsIEtIUl9MSUdIVFNfUFVOQ1RVQUwsIGxpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGRlbGV0ZSBnbHRmU2NlbmVncmFwaC5qc29uLmxpZ2h0cztcbiAgICB9XG59XG4iLCIvLyBHTFRGIEVYVEVOU0lPTjogS0hSX21hdGVyaWFsc191bmxpdFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc191bmxpdFxuaW1wb3J0IHsgR0xURlNjZW5lZ3JhcGggfSBmcm9tIFwiLi4vLi4vYXBpL2dsdGYtc2NlbmVncmFwaC5qc1wiO1xuY29uc3QgS0hSX01BVEVSSUFMU19VTkxJVCA9ICdLSFJfbWF0ZXJpYWxzX3VubGl0JztcbmV4cG9ydCBjb25zdCBuYW1lID0gS0hSX01BVEVSSUFMU19VTkxJVDtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEpIHtcbiAgICBjb25zdCBnbHRmU2NlbmVncmFwaCA9IG5ldyBHTFRGU2NlbmVncmFwaChnbHRmRGF0YSk7XG4gICAgY29uc3QgeyBqc29uIH0gPSBnbHRmU2NlbmVncmFwaDtcbiAgICAvLyBBbnkgbm9kZXMgdGhhdCBoYXZlIHRoZSBleHRlbnNpb24sIGFkZCBsaWdodHMgZmllbGQgcG9pbnRpbmcgdG8gbGlnaHQgb2JqZWN0XG4gICAgLy8gYW5kIHJlbW92ZSB0aGUgZXh0ZW5zaW9uXG4gICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiBqc29uLm1hdGVyaWFscyB8fCBbXSkge1xuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBtYXRlcmlhbC5leHRlbnNpb25zICYmIG1hdGVyaWFsLmV4dGVuc2lvbnMuS0hSX21hdGVyaWFsc191bmxpdDtcbiAgICAgICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPXG4gICAgICAgICAgICBtYXRlcmlhbC51bmxpdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2x0ZlNjZW5lZ3JhcGgucmVtb3ZlT2JqZWN0RXh0ZW5zaW9uKG1hdGVyaWFsLCBLSFJfTUFURVJJQUxTX1VOTElUKTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uXG4gICAgZ2x0ZlNjZW5lZ3JhcGgucmVtb3ZlRXh0ZW5zaW9uKEtIUl9NQVRFUklBTFNfVU5MSVQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShnbHRmRGF0YSkge1xuICAgIGNvbnN0IGdsdGZTY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBjb25zdCB7IGpzb24gfSA9IGdsdGZTY2VuZWdyYXBoO1xuICAgIC8vIEFueSBub2RlcyB0aGF0IGhhdmUgbGlnaHRzIGZpZWxkIHBvaW50aW5nIHRvIGxpZ2h0IG9iamVjdFxuICAgIC8vIGFkZCB0aGUgZXh0ZW5zaW9uXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChnbHRmU2NlbmVncmFwaC5tYXRlcmlhbHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiBqc29uLm1hdGVyaWFscyB8fCBbXSkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsLnVubGl0KSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBtYXRlcmlhbC51bmxpdDtcbiAgICAgICAgICAgICAgICBnbHRmU2NlbmVncmFwaC5hZGRPYmplY3RFeHRlbnNpb24obWF0ZXJpYWwsIEtIUl9NQVRFUklBTFNfVU5MSVQsIHt9KTtcbiAgICAgICAgICAgICAgICBnbHRmU2NlbmVncmFwaC5hZGRFeHRlbnNpb24oS0hSX01BVEVSSUFMU19VTkxJVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvLyBHTFRGIEVYVEVOU0lPTjogS0hSX3RlY2huaXF1ZXNfd2ViZ2xcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZWNobmlxdWVzX3dlYmdsXG5pbXBvcnQgeyBHTFRGU2NlbmVncmFwaCB9IGZyb20gXCIuLi8uLi9hcGkvZ2x0Zi1zY2VuZWdyYXBoLmpzXCI7XG5jb25zdCBLSFJfVEVDSE5JUVVFU19XRUJHTCA9ICdLSFJfdGVjaG5pcXVlc193ZWJnbCc7XG5leHBvcnQgY29uc3QgbmFtZSA9IEtIUl9URUNITklRVUVTX1dFQkdMO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlY29kZShnbHRmRGF0YSkge1xuICAgIGNvbnN0IGdsdGZTY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBjb25zdCB7IGpzb24gfSA9IGdsdGZTY2VuZWdyYXBoO1xuICAgIGNvbnN0IGV4dGVuc2lvbiA9IGdsdGZTY2VuZWdyYXBoLmdldEV4dGVuc2lvbihLSFJfVEVDSE5JUVVFU19XRUJHTCk7XG4gICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICBjb25zdCB0ZWNobmlxdWVzID0gcmVzb2x2ZVRlY2huaXF1ZXMoZXh0ZW5zaW9uLCBnbHRmU2NlbmVncmFwaCk7XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YganNvbi5tYXRlcmlhbHMgfHwgW10pIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsRXh0ZW5zaW9uID0gZ2x0ZlNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKG1hdGVyaWFsLCBLSFJfVEVDSE5JUVVFU19XRUJHTCk7XG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxFeHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIFRPRE9cbiAgICAgICAgICAgICAgICBtYXRlcmlhbC50ZWNobmlxdWUgPSBPYmplY3QuYXNzaWduKHt9LCBtYXRlcmlhbEV4dGVuc2lvbiwgXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHRlY2huaXF1ZXNbbWF0ZXJpYWxFeHRlbnNpb24udGVjaG5pcXVlXSk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwudGVjaG5pcXVlLnZhbHVlcyA9IHJlc29sdmVWYWx1ZXMobWF0ZXJpYWwudGVjaG5pcXVlLCBnbHRmU2NlbmVncmFwaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbHRmU2NlbmVncmFwaC5yZW1vdmVPYmplY3RFeHRlbnNpb24obWF0ZXJpYWwsIEtIUl9URUNITklRVUVTX1dFQkdMKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgdGhlIHRvcC1sZXZlbCBleHRlbnNpb25cbiAgICAgICAgZ2x0ZlNjZW5lZ3JhcGgucmVtb3ZlRXh0ZW5zaW9uKEtIUl9URUNITklRVUVTX1dFQkdMKTtcbiAgICB9XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICAvLyBUT0RPXG59XG5mdW5jdGlvbiByZXNvbHZlVGVjaG5pcXVlcyh0ZWNobmlxdWVzRXh0ZW5zaW9uLCBcbi8vIHByb2dyYW1zOiB7W2tleTogc3RyaW5nXTogYW55fVtdLFxuLy8gc2hhZGVyczoge1trZXk6IHN0cmluZ106IGFueX1bXSxcbi8vIHRlY2huaXF1ZXM6IHtba2V5OiBzdHJpbmddOiBhbnl9W11cbmdsdGZTY2VuZWdyYXBoKSB7XG4gICAgY29uc3QgeyBwcm9ncmFtcyA9IFtdLCBzaGFkZXJzID0gW10sIHRlY2huaXF1ZXMgPSBbXSB9ID0gdGVjaG5pcXVlc0V4dGVuc2lvbjtcbiAgICBjb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgIHNoYWRlcnMuZm9yRWFjaCgoc2hhZGVyKSA9PiB7XG4gICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoc2hhZGVyLmJ1ZmZlclZpZXcpKSB7XG4gICAgICAgICAgICBzaGFkZXIuY29kZSA9IHRleHREZWNvZGVyLmRlY29kZShnbHRmU2NlbmVncmFwaC5nZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyhzaGFkZXIuYnVmZmVyVmlldykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIFVSSSBzaGFkZXJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignS0hSX3RlY2huaXF1ZXNfd2ViZ2w6IG5vIHNoYWRlciBjb2RlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBwcm9ncmFtcy5mb3JFYWNoKChwcm9ncmFtKSA9PiB7XG4gICAgICAgIHByb2dyYW0uZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXJzW3Byb2dyYW0uZnJhZ21lbnRTaGFkZXJdO1xuICAgICAgICBwcm9ncmFtLnZlcnRleFNoYWRlciA9IHNoYWRlcnNbcHJvZ3JhbS52ZXJ0ZXhTaGFkZXJdO1xuICAgIH0pO1xuICAgIHRlY2huaXF1ZXMuZm9yRWFjaCgodGVjaG5pcXVlKSA9PiB7XG4gICAgICAgIHRlY2huaXF1ZS5wcm9ncmFtID0gcHJvZ3JhbXNbdGVjaG5pcXVlLnByb2dyYW1dO1xuICAgIH0pO1xuICAgIHJldHVybiB0ZWNobmlxdWVzO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVZhbHVlcyh0ZWNobmlxdWUsIGdsdGZTY2VuZWdyYXBoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGVjaG5pcXVlLnZhbHVlcyk7XG4gICAgLy8gbWVyZ2UgdmFsdWVzIGZyb20gdW5pZm9ybXNcbiAgICBPYmplY3Qua2V5cyh0ZWNobmlxdWUudW5pZm9ybXMgfHwge30pLmZvckVhY2goKHVuaWZvcm0pID0+IHtcbiAgICAgICAgaWYgKHRlY2huaXF1ZS51bmlmb3Jtc1t1bmlmb3JtXS52YWx1ZSAmJiAhKHVuaWZvcm0gaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdmFsdWVzW3VuaWZvcm1dID0gdGVjaG5pcXVlLnVuaWZvcm1zW3VuaWZvcm1dLnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gcmVzb2x2ZSB0ZXh0dXJlc1xuICAgIE9iamVjdC5rZXlzKHZhbHVlcykuZm9yRWFjaCgodW5pZm9ybSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1t1bmlmb3JtXSA9PT0gJ29iamVjdCcgJiYgdmFsdWVzW3VuaWZvcm1dLmluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEFzc3VtZSB0aGlzIGlzIGEgdGV4dHVyZVxuICAgICAgICAgICAgLy8gVE9ETzogZmluZCBpZiB0aGVyZSBhcmUgYW55IG90aGVyIHR5cGVzIHRoYXQgY2FuIGJlIHJlZmVyZW5jZWRcbiAgICAgICAgICAgIHZhbHVlc1t1bmlmb3JtXS50ZXh0dXJlID0gZ2x0ZlNjZW5lZ3JhcGguZ2V0VGV4dHVyZSh2YWx1ZXNbdW5pZm9ybV0uaW5kZXgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbiIsImltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uLy4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmltcG9ydCB7IGNvbnZlcnRSYXdCdWZmZXJUb01ldGFkYXRhQXJyYXksIGdldFByaW1pdGl2ZVRleHR1cmVEYXRhLCBwcmltaXRpdmVQcm9wZXJ0eURhdGFUb0F0dHJpYnV0ZXMsIGdldEFycmF5RWxlbWVudEJ5dGVTaXplLCBnZXRPZmZzZXRzRm9yUHJvcGVydHksIHBhcnNlVmFyaWFibGVMZW5ndGhBcnJheU51bWVyaWMsIHBhcnNlRml4ZWRMZW5ndGhBcnJheU51bWVyaWMsIGdldFByb3BlcnR5RGF0YVN0cmluZyB9IGZyb20gXCIuLi91dGlscy8zZC10aWxlcy11dGlscy5qc1wiO1xuLyoqIEV4dGVuc2lvbiBuYW1lICovXG5jb25zdCBFWFRfRkVBVFVSRV9NRVRBREFUQV9OQU1FID0gJ0VYVF9mZWF0dXJlX21ldGFkYXRhJztcbmV4cG9ydCBjb25zdCBuYW1lID0gRVhUX0ZFQVRVUkVfTUVUQURBVEFfTkFNRTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNvZGUoZ2x0ZkRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzY2VuZWdyYXBoID0gbmV3IEdMVEZTY2VuZWdyYXBoKGdsdGZEYXRhKTtcbiAgICBkZWNvZGVFeHRGZWF0dXJlTWV0YWRhdGEoc2NlbmVncmFwaCwgb3B0aW9ucyk7XG59XG4vKipcbiAqIERlY29kZXMgZmVhdHVyZSBtZXRhZGF0YSBmcm9tIGV4dGVuc2lvbi5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEdMVEZMb2FkZXIgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlRXh0RmVhdHVyZU1ldGFkYXRhKHNjZW5lZ3JhcGgsIG9wdGlvbnMpIHtcbiAgICAvLyBEZWNvZGluZyBtZXRhZGF0YSBpbnZvbHZlcyBidWZmZXJzIHByb2Nlc3NpbmcuXG4gICAgLy8gU28sIGlmIGJ1ZmZlcnMgaGF2ZSBub3QgYmVlbiBsb2FkZWQsIHRoZXJlIGlzIG5vIHJlYXNvbiB0byBwcm9jZXNzIG1ldGFkYXRhLlxuICAgIGlmICghb3B0aW9ucy5nbHRmPy5sb2FkQnVmZmVycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV4dGVuc2lvbiA9IHNjZW5lZ3JhcGguZ2V0RXh0ZW5zaW9uKEVYVF9GRUFUVVJFX01FVEFEQVRBX05BTUUpO1xuICAgIGlmICghZXh0ZW5zaW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZ2x0Zj8ubG9hZEltYWdlcykge1xuICAgICAgICBkZWNvZGVQcm9wZXJ0eVRleHR1cmVzKHNjZW5lZ3JhcGgsIGV4dGVuc2lvbik7XG4gICAgfVxuICAgIGRlY29kZVByb3BlcnR5VGFibGVzKHNjZW5lZ3JhcGgsIGV4dGVuc2lvbik7XG59XG4vKipcbiAqIFByb2Nlc3NlcyB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIHRleHR1cmVzXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIGV4dGVuc2lvbiAtIFRvcC1sZXZlbCBleHRlbnNpb24uXG4gKi9cbmZ1bmN0aW9uIGRlY29kZVByb3BlcnR5VGV4dHVyZXMoc2NlbmVncmFwaCwgZXh0ZW5zaW9uKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gZXh0ZW5zaW9uLnNjaGVtYTtcbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtYUNsYXNzZXMgPSBzY2hlbWEuY2xhc3NlcztcbiAgICBjb25zdCB7IGZlYXR1cmVUZXh0dXJlcyB9ID0gZXh0ZW5zaW9uO1xuICAgIGlmIChzY2hlbWFDbGFzc2VzICYmIGZlYXR1cmVUZXh0dXJlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHNjaGVtYU5hbWUgaW4gc2NoZW1hQ2xhc3Nlcykge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hQ2xhc3MgPSBzY2hlbWFDbGFzc2VzW3NjaGVtYU5hbWVdO1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZVRleHR1cmUgPSBmaW5kRmVhdHVyZVRleHR1cmVCeUNsYXNzKGZlYXR1cmVUZXh0dXJlcywgc2NoZW1hTmFtZSk7XG4gICAgICAgICAgICBpZiAoZmVhdHVyZVRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVGZWF0dXJlVGV4dHVyZVByb3BlcnRpZXMoc2NlbmVncmFwaCwgZmVhdHVyZVRleHR1cmUsIHNjaGVtYUNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUHJvY2Vzc2VzIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgcHJvcGVydHkgdGFibGVzLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBleHRlbnNpb24gLSBUb3AtbGV2ZWwgZXh0ZW5zaW9uLlxuICovXG5mdW5jdGlvbiBkZWNvZGVQcm9wZXJ0eVRhYmxlcyhzY2VuZWdyYXBoLCBleHRlbnNpb24pIHtcbiAgICBjb25zdCBzY2hlbWEgPSBleHRlbnNpb24uc2NoZW1hO1xuICAgIGlmICghc2NoZW1hKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hQ2xhc3NlcyA9IHNjaGVtYS5jbGFzc2VzO1xuICAgIGNvbnN0IHByb3BlcnR5VGFibGVzID0gZXh0ZW5zaW9uLmZlYXR1cmVUYWJsZXM7XG4gICAgaWYgKHNjaGVtYUNsYXNzZXMgJiYgcHJvcGVydHlUYWJsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBzY2hlbWFOYW1lIGluIHNjaGVtYUNsYXNzZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5VGFibGUgPSBmaW5kUHJvcGVydHlUYWJsZUJ5Q2xhc3MocHJvcGVydHlUYWJsZXMsIHNjaGVtYU5hbWUpO1xuICAgICAgICAgICAgaWYgKHByb3BlcnR5VGFibGUpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzUHJvcGVydHlUYWJsZShzY2VuZWdyYXBoLCBzY2hlbWEsIHByb3BlcnR5VGFibGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBGaW5kcyB0aGUgcHJvcGVydHkgdGFibGUgYnkgY2xhc3MgbmFtZS5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlcyAtIHByb3BlcnR5VGFibGUgZGVmaW5pdGlvbiB0YWtlbiBmcm9tIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uLlxuICogQHBhcmFtIHNjaGVtYUNsYXNzTmFtZSAtIGNsYXNzIG5hbWUgaW4gdGhlIGV4dGVuc2lvbiBzY2hlbWEuXG4gKi9cbmZ1bmN0aW9uIGZpbmRQcm9wZXJ0eVRhYmxlQnlDbGFzcyhwcm9wZXJ0eVRhYmxlcywgc2NoZW1hQ2xhc3NOYW1lKSB7XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eVRhYmxlTmFtZSBpbiBwcm9wZXJ0eVRhYmxlcykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eVRhYmxlID0gcHJvcGVydHlUYWJsZXNbcHJvcGVydHlUYWJsZU5hbWVdO1xuICAgICAgICBpZiAocHJvcGVydHlUYWJsZS5jbGFzcyA9PT0gc2NoZW1hQ2xhc3NOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydHlUYWJsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGZpbmRGZWF0dXJlVGV4dHVyZUJ5Q2xhc3MoZmVhdHVyZVRleHR1cmVzLCBzY2hlbWFDbGFzc05hbWUpIHtcbiAgICBmb3IgKGNvbnN0IGZlYXR1cmVUZXh0dXJlc05hbWUgaW4gZmVhdHVyZVRleHR1cmVzKSB7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVUYWJsZSA9IGZlYXR1cmVUZXh0dXJlc1tmZWF0dXJlVGV4dHVyZXNOYW1lXTtcbiAgICAgICAgaWYgKGZlYXR1cmVUYWJsZS5jbGFzcyA9PT0gc2NoZW1hQ2xhc3NOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmVhdHVyZVRhYmxlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBOYXZpZ2F0ZXMgdGhyb3VnaCBhbGwgcHJvcGVyaWVzIGluIHRoZSBwcm9wZXJ0eSB0YWJsZSwgZ2V0cyBwcm9wZXJ0aWVzIGRhdGEsXG4gKiBhbmQgcHV0IHRoZSBkYXRhIHRvIGBwcm9wZXJ0eVRhYmxlLmRhdGFgIGFzIGFuIGFycmF5LlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBzY2hlbWEgLSBzY2hlbWEgb2JqZWN0LlxuICogQHBhcmFtIHByb3BlcnR5VGFibGUgLSBwcm9wZXJ0eVRhYmxlIGRlZmluaXRpb24gdGFrZW4gZnJvbSB0aGUgdG9wLWxldmVsIGV4dGVuc2lvbi5cbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc1Byb3BlcnR5VGFibGUoc2NlbmVncmFwaCwgc2NoZW1hLCBwcm9wZXJ0eVRhYmxlKSB7XG4gICAgLy8gVGhvdWdoICdjbGFzcycgaXMgbm90IHJlcXVpcmVkIGJ5IHNwZWMsIGl0IGRvZXNuJ3QgbWFrZSBhbnkgc2NlbmNlIHdoZW4gaXQncyBub3QgcHJvdmlkZWQuXG4gICAgLy8gU28sIGJhbGUgb3V0IGhlcmUuXG4gICAgaWYgKCFwcm9wZXJ0eVRhYmxlLmNsYXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hQ2xhc3MgPSBzY2hlbWEuY2xhc3Nlcz8uW3Byb3BlcnR5VGFibGUuY2xhc3NdO1xuICAgIGlmICghc2NoZW1hQ2xhc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmNvcnJlY3QgZGF0YSBpbiB0aGUgRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEgZXh0ZW5zaW9uOiBubyBzY2hlbWEgY2xhc3Mgd2l0aCBuYW1lICR7cHJvcGVydHlUYWJsZS5jbGFzc31gKTtcbiAgICB9XG4gICAgY29uc3QgbnVtYmVyT2ZFbGVtZW50cyA9IHByb3BlcnR5VGFibGUuY291bnQ7IC8vIGBwcm9wZXJ0eVRhYmxlLmNvdW50YCBpcyBhIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5LlxuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIHNjaGVtYUNsYXNzLnByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgY2xhc3NQcm9wZXJ0eSA9IHNjaGVtYUNsYXNzLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlUYWJsZVByb3BlcnR5ID0gcHJvcGVydHlUYWJsZS5wcm9wZXJ0aWVzPy5bcHJvcGVydHlOYW1lXTtcbiAgICAgICAgaWYgKHByb3BlcnR5VGFibGVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgLy8gR2V0dGluZyBhbGwgZWxlbWVudHMgKGBudW1iZXJPZkVsZW1lbnRzYCkgb2YgdGhlIGFycmF5IGluIHRoZSBgcHJvcGVydHlUYWJsZVByb3BlcnR5YFxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGdldFByb3BlcnR5RGF0YUZyb21CaW5hcnlTb3VyY2Uoc2NlbmVncmFwaCwgc2NoZW1hLCBjbGFzc1Byb3BlcnR5LCBudW1iZXJPZkVsZW1lbnRzLCBwcm9wZXJ0eVRhYmxlUHJvcGVydHkpO1xuICAgICAgICAgICAgcHJvcGVydHlUYWJsZVByb3BlcnR5LmRhdGEgPSBkYXRhO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBOYXZpZ2F0ZXMgdGhyb3VnaCBhbGwgcHJvcGVyaWVzIGluIGZlYXR1cmUgdGV4dHVyZSBhbmQgZ2V0cyBwcm9wZXJ0aWVzIGRhdGEuXG4gKiBEYXRhIHdpbGwgYmUgc3RvcmVkIGluIGZlYXR1cmVUZXh0dXJlLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5kYXRhLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBmZWF0dXJlVGV4dHVyZVxuICogQHBhcmFtIHNjaGVtYUNsYXNzXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUZlYXR1cmVUZXh0dXJlUHJvcGVydGllcyhzY2VuZWdyYXBoLCBmZWF0dXJlVGV4dHVyZSwgc2NoZW1hQ2xhc3MpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gZmVhdHVyZVRleHR1cmUuY2xhc3M7XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eU5hbWUgaW4gc2NoZW1hQ2xhc3MucHJvcGVydGllcykge1xuICAgICAgICBjb25zdCBmZWF0dXJlVGV4dHVyZVByb3BlcnR5ID0gZmVhdHVyZVRleHR1cmU/LnByb3BlcnRpZXM/Lltwcm9wZXJ0eU5hbWVdO1xuICAgICAgICBpZiAoZmVhdHVyZVRleHR1cmVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGdldFByb3BlcnR5RGF0YUZyb21UZXh0dXJlKHNjZW5lZ3JhcGgsIGZlYXR1cmVUZXh0dXJlUHJvcGVydHksIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgZmVhdHVyZVRleHR1cmVQcm9wZXJ0eS5kYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGVjb2RlcyBwcm9wZXJ0aWVzIGZyb20gYmluYXJ5IHNvdXJzZSBiYXNlZCBvbiBwcm9wZXJ0eSB0eXBlLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBzY2hlbWFQcm9wZXJ0eVxuICogQHBhcmFtIG51bWJlck9mRmVhdHVyZXNcbiAqIEBwYXJhbSBmZWF0dXJlVGFibGVQcm9wZXJ0eVxuICovXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eURhdGFGcm9tQmluYXJ5U291cmNlKHNjZW5lZ3JhcGgsIHNjaGVtYSwgY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZGZWF0dXJlcywgZmVhdHVyZVRhYmxlUHJvcGVydHkpIHtcbiAgICBsZXQgZGF0YSA9IFtdO1xuICAgIGNvbnN0IGJ1ZmZlclZpZXcgPSBmZWF0dXJlVGFibGVQcm9wZXJ0eS5idWZmZXJWaWV3O1xuICAgIGNvbnN0IGRhdGFBcnJheSA9IHNjZW5lZ3JhcGguZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcoYnVmZmVyVmlldyk7XG4gICAgY29uc3QgYXJyYXlPZmZzZXRzID0gZ2V0QXJyYXlPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgY2xhc3NQcm9wZXJ0eSwgZmVhdHVyZVRhYmxlUHJvcGVydHksIG51bWJlck9mRmVhdHVyZXMpO1xuICAgIGNvbnN0IHN0cmluZ09mZnNldHMgPSBnZXRTdHJpbmdPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgY2xhc3NQcm9wZXJ0eSwgZmVhdHVyZVRhYmxlUHJvcGVydHksIG51bWJlck9mRmVhdHVyZXMpO1xuICAgIGlmIChjbGFzc1Byb3BlcnR5LnR5cGUgPT09ICdTVFJJTkcnIHx8IGNsYXNzUHJvcGVydHkuY29tcG9uZW50VHlwZSA9PT0gJ1NUUklORycpIHtcbiAgICAgICAgZGF0YSA9IGdldFByb3BlcnR5RGF0YVN0cmluZyhudW1iZXJPZkZlYXR1cmVzLCBkYXRhQXJyYXksIGFycmF5T2Zmc2V0cywgc3RyaW5nT2Zmc2V0cyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTnVtZXJpY1Byb3BlcnR5KGNsYXNzUHJvcGVydHkpKSB7XG4gICAgICAgIGRhdGEgPSBnZXRQcm9wZXJ0eURhdGFOdW1lcmljKGNsYXNzUHJvcGVydHksIG51bWJlck9mRmVhdHVyZXMsIGRhdGFBcnJheSwgYXJyYXlPZmZzZXRzKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIFBhcnNlcyBwcm9wZXJ0eVRhYmxlLnByb3BlcnR5LmFycmF5T2Zmc2V0cyB0aGF0IGFyZSBvZmZzZXRzIG9mIHN1Yi1hcnJheXMgaW4gYSBmbGF0dGVuIGFycmF5IG9mIHZhbHVlcy5cbiAqIEBwYXJhbSBzY2VuZWdyYXBoIC0gSW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGZvciBzdHJ1Y3R1cmVkIGFjY2VzcyB0byBHTFRGIGRhdGEuXG4gKiBAcGFyYW0gY2xhc3NQcm9wZXJ0eSAtIGNsYXNzIHByb3BlcnR5IG9iamVjdC5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgLSBwcm9wZXJ0eVRhYmxlJ3MgcHJvcGVydHkgbWV0YWRhdGEuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheSB0aGF0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSBjb250YWlucy4gSXQncyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZS5cbiAqIEByZXR1cm5zIFR5cGVkIGFycmF5IHdpdGggb2Zmc2V0IHZhbHVlcy5cbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2dsVEYvYmxvYi8yOTc2ZjExODMzNDNhNDdhMjllNDA1OWE3MDk2MTM3MWNkMmZjZWU4L2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfc3RydWN0dXJhbF9tZXRhZGF0YS9zY2hlbWEvcHJvcGVydHlUYWJsZS5wcm9wZXJ0eS5zY2hlbWEuanNvbiNMMjFcbiAqL1xuZnVuY3Rpb24gZ2V0QXJyYXlPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgY2xhc3NQcm9wZXJ0eSwgcHJvcGVydHlUYWJsZVByb3BlcnR5LCBudW1iZXJPZkVsZW1lbnRzKSB7XG4gICAgLypcbiAgICAgSWYgQVJSQVkgaXMgdXNlZCwgdGhlbiBjb21wb25lbnRUeXBlIG11c3QgYWxzbyBiZSBzcGVjaWZpZWQuXG4gICAgIEFSUkFZIGlzIGEgZml4ZWQtbGVuZ3RoIGFycmF5IHdoZW4gY29tcG9uZW50Q291bnQgaXMgZGVmaW5lZCwgYW5kIHZhcmlhYmxlLWxlbmd0aCBvdGhlcndpc2UuXG4gICovXG4gICAgaWYgKGNsYXNzUHJvcGVydHkudHlwZSA9PT0gJ0FSUkFZJyAmJlxuICAgICAgICAvLyBgY29tcG9uZW50Q291bnRgIGlzIGEgbnVtYmVyIG9mIGZpeGVkLWxlbmd0aCBhcnJheSBlbGVtZW50cy5cbiAgICAgICAgLy8gSWYgYGNvbXBvbmVudENvdW50YCBpcyBOT1QgZGVmaW5lZCwgaXQncyBhIFZBUklBQkxFLWxlbmd0aCBhcnJheVxuICAgICAgICB0eXBlb2YgY2xhc3NQcm9wZXJ0eS5jb21wb25lbnRDb3VudCA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgLy8gYGFycmF5T2Zmc2V0QnVmZmVyVmlld2AgaXMgYW4gaW5kZXggb2YgdGhlIGJ1ZmZlciB2aWV3IGNvbnRhaW5pbmcgb2Zmc2V0cyBmb3IgdmFyaWFibGUtbGVuZ3RoIGFycmF5cy5cbiAgICAgICAgdHlwZW9mIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5hcnJheU9mZnNldEJ1ZmZlclZpZXcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIERhdGEgYXJlIGluIGEgVkFSSUFCTEUtbGVuZ3RoIGFycmF5XG4gICAgICAgIHJldHVybiBnZXRPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgcHJvcGVydHlUYWJsZVByb3BlcnR5LmFycmF5T2Zmc2V0QnVmZmVyVmlldywgcHJvcGVydHlUYWJsZVByb3BlcnR5Lm9mZnNldFR5cGUgfHwgJ1VJTlQzMicsIC8vIG9mZnNldFR5cGUgaXMgdXNlZCBib3RoIGZvciBzdHJpbmdPZmZzZXRCdWZmZXJWaWV3IGFuZCBhcnJheU9mZnNldEJ1ZmZlclZpZXdcbiAgICAgICAgbnVtYmVyT2ZFbGVtZW50cyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBQYXJzZXMgZmVhdHVyZVRhYmxlLnByb3BlcnR5LnN0cmluZ09mZnNldEJ1ZmZlclZpZXcuXG4gKiBTdHJpbmcgb2Zmc2V0cyBpcyBhbiBhcnJheSBvZiBvZmZzZXRzIG9mIHN0cmluZ3MgaW4gdGhlIHVuaXRlZCBhcnJheSBvZiBjaGFyYWN0ZXJzLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBwcm9wZXJ0eVRhYmxlUHJvcGVydHkgLSBwcm9wZXJ0eVRhYmxlJ3MgcHJvcGVydHkgbWV0YWRhdGEuXG4gKiBAcGFyYW0gbnVtYmVyT2ZFbGVtZW50cyAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gZWFjaCBwcm9wZXJ0eSBhcnJheSB0aGF0IHByb3BlcnR5VGFibGVQcm9wZXJ0eSBjb250YWlucy4gSXQncyBhIG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZS5cbiAqIEByZXR1cm5zIFR5cGVkIGFycmF5IG9mIG9mZnNldCB2YWx1ZXMuIFRoZSBudW1iZXIgb2Ygb2Zmc2V0cyBpbiB0aGUgYXJyYXkgaXMgZXF1YWwgdG8gYG51bWJlck9mRWxlbWVudHNgIHBsdXMgb25lLlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vQ2VzaXVtR1MvZ2xURi9ibG9iL2MzOGY3ZjM3ZTg5NDAwNDM1M2MxNWNkMDQ4MWJjNWI3MzgxY2U4NDEvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL0VYVF9mZWF0dXJlX21ldGFkYXRhL3NjaGVtYS9mZWF0dXJlVGFibGUucHJvcGVydHkuc2NoZW1hLmpzb24jTDUwQzEwLUw1MEMzMlxuICovXG5mdW5jdGlvbiBnZXRTdHJpbmdPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgY2xhc3NQcm9wZXJ0eSwgcHJvcGVydHlUYWJsZVByb3BlcnR5LCBudW1iZXJPZkVsZW1lbnRzKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0eVRhYmxlUHJvcGVydHkuc3RyaW5nT2Zmc2V0QnVmZmVyVmlldyAhPT0gJ3VuZGVmaW5lZCcgLy8gYHN0cmluZ09mZnNldEJ1ZmZlclZpZXdgIGlzIGFuIGluZGV4IG9mIHRoZSBidWZmZXIgdmlldyBjb250YWluaW5nIG9mZnNldHMgZm9yIHN0cmluZ3MuXG4gICAgKSB7XG4gICAgICAgIC8vIERhdGEgYXJlIGluIGEgRklYRUQtbGVuZ3RoIGFycmF5XG4gICAgICAgIHJldHVybiBnZXRPZmZzZXRzRm9yUHJvcGVydHkoc2NlbmVncmFwaCwgcHJvcGVydHlUYWJsZVByb3BlcnR5LnN0cmluZ09mZnNldEJ1ZmZlclZpZXcsIHByb3BlcnR5VGFibGVQcm9wZXJ0eS5vZmZzZXRUeXBlIHx8ICdVSU5UMzInLCAvLyBvZmZzZXRUeXBlIGlzIHVzZWQgYm90aCBmb3Igc3RyaW5nT2Zmc2V0QnVmZmVyVmlldyBhbmQgYXJyYXlPZmZzZXRCdWZmZXJWaWV3XG4gICAgICAgIG51bWJlck9mRWxlbWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBmZWF0dXJlIHRhYmxlIHByb3BlcnR5IGlzIG9mIG51bWVyaWMgdHlwZS5cbiAqIEBwYXJhbSBzY2hlbWFQcm9wZXJ0eVR5cGUgLSBmZWF0dXJlIHRhYmxlIHByb3BlcnR5XG4gKiBAcmV0dXJucyB0cnVlIGlmIHByb3BlcnR5IGlzIG51bWVyaWMsIGVsc2UgLSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWVyaWNQcm9wZXJ0eShzY2hlbWFQcm9wZXJ0eSkge1xuICAgIGNvbnN0IHR5cGVzID0gW1xuICAgICAgICAnVUlOVDgnLFxuICAgICAgICAnSU5UMTYnLFxuICAgICAgICAnVUlOVDE2JyxcbiAgICAgICAgJ0lOVDMyJyxcbiAgICAgICAgJ1VJTlQzMicsXG4gICAgICAgICdJTlQ2NCcsXG4gICAgICAgICdVSU5UNjQnLFxuICAgICAgICAnRkxPQVQzMicsXG4gICAgICAgICdGTE9BVDY0J1xuICAgIF07XG4gICAgcmV0dXJuICh0eXBlcy5pbmNsdWRlcyhzY2hlbWFQcm9wZXJ0eS50eXBlKSB8fFxuICAgICAgICAodHlwZW9mIHNjaGVtYVByb3BlcnR5LmNvbXBvbmVudFR5cGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICB0eXBlcy5pbmNsdWRlcyhzY2hlbWFQcm9wZXJ0eS5jb21wb25lbnRUeXBlKSkpO1xufVxuLyoqXG4gKiBEZWNvZGVzIHByb3BlcnRpZXMgb2YgbnVtZXJpYyB0eXBlcyBmcm9tIGJpbmFyeSBzb3Vyc2UuXG4gKiBAcGFyYW0gY2xhc3NQcm9wZXJ0eSAtIGNsYXNzIHByb3BlcnR5IG9iamVjdC5cbiAqIEBwYXJhbSBudW1iZXJPZkVsZW1lbnRzIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBlYWNoIHByb3BlcnR5IGFycmF5IHRoYXQgcHJvcGVydHlUYWJsZVByb3BlcnR5IGNvbnRhaW5zLiBJdCdzIGEgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIHRhYmxlLlxuICogQHBhcmFtIHZhbHVlc0RhdGFCeXRlcyAtIERhdGEgdGFrZW4gZnJvbSB2YWx1ZXMgcHJvcGVydHkgb2YgdGhlIHByb3BlcnR5IHRhYmxlIHByb3BlcnR5LlxuICogQHBhcmFtIGFycmF5T2Zmc2V0cyAtIE9mZnNldHMgZm9yIHZhcmlhYmxlLWxlbmd0aCBhcnJheXMuIEl0J3MgbnVsbCBmb3IgZml4ZWQtbGVuZ3RoIGFycmF5cyBvciBzY2FsYXIgdHlwZXMuXG4gKiBAcmV0dXJucyBQcm9wZXJ0eSB2YWx1ZXMgaW4gYSB0eXBlZCBhcnJheSBvciBpbiBhbiBhcnJheSBvZiB0eXBlZCBhcnJheXMuXG4gKi9cbmZ1bmN0aW9uIGdldFByb3BlcnR5RGF0YU51bWVyaWMoY2xhc3NQcm9wZXJ0eSwgbnVtYmVyT2ZFbGVtZW50cywgdmFsdWVzRGF0YUJ5dGVzLCBhcnJheU9mZnNldHMpIHtcbiAgICBjb25zdCBpc0FycmF5ID0gY2xhc3NQcm9wZXJ0eS50eXBlID09PSAnQVJSQVknO1xuICAgIGNvbnN0IGFycmF5Q291bnQgPSBjbGFzc1Byb3BlcnR5LmNvbXBvbmVudENvdW50O1xuICAgIC8qXG4gICAgV2UgYXJlIGdldHRpbmcgTnVtZXJpYyBkYXRhLiBTbyxcbiAgICAgIHRoZSBjb21wb25lbnQgdHlwZSBjYW4gYmUgb25lIG9mIE51bWVyaWNDb21wb25lbnRUeXBlLFxuICAgICAgdGhlIGF0dHJpYnV0ZSB0eXBlIHNob3VsZCBiZSAnU0NBTEFSJ1xuICAgICovXG4gICAgY29uc3QgYXR0cmlidXRlVHlwZSA9ICdTQ0FMQVInO1xuICAgIGNvbnN0IGNvbXBvbmVudFR5cGUgPSBjbGFzc1Byb3BlcnR5LmNvbXBvbmVudFR5cGUgfHwgY2xhc3NQcm9wZXJ0eS50eXBlO1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gZ2V0QXJyYXlFbGVtZW50Qnl0ZVNpemUoYXR0cmlidXRlVHlwZSwgY29tcG9uZW50VHlwZSk7XG4gICAgY29uc3QgZWxlbWVudENvdW50ID0gdmFsdWVzRGF0YUJ5dGVzLmJ5dGVMZW5ndGggLyBlbGVtZW50U2l6ZTtcbiAgICBjb25zdCB2YWx1ZXNEYXRhID0gY29udmVydFJhd0J1ZmZlclRvTWV0YWRhdGFBcnJheSh2YWx1ZXNEYXRhQnl0ZXMsIGF0dHJpYnV0ZVR5cGUsIGNvbXBvbmVudFR5cGUsIGVsZW1lbnRDb3VudCk7XG4gICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgaWYgKGFycmF5T2Zmc2V0cykge1xuICAgICAgICAgICAgLy8gVkFSSUFCTEUtbGVuZ3RoIGFycmF5XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VWYXJpYWJsZUxlbmd0aEFycmF5TnVtZXJpYyh2YWx1ZXNEYXRhLCBudW1iZXJPZkVsZW1lbnRzLCBhcnJheU9mZnNldHMsIHZhbHVlc0RhdGFCeXRlcy5sZW5ndGgsIGVsZW1lbnRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJyYXlDb3VudCkge1xuICAgICAgICAgICAgLy8gRklYRUQtbGVuZ3RoIGFycmF5XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGaXhlZExlbmd0aEFycmF5TnVtZXJpYyh2YWx1ZXNEYXRhLCBudW1iZXJPZkVsZW1lbnRzLCBhcnJheUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXNEYXRhO1xufVxuLyoqXG4gKiBHZXRzIHByb3BlcnRpZXMgZnJvbSB0ZXh0dXJlIGFzc29jaWF0ZWQgd2l0aCBhbGwgbWVzaCBwcmltaXRpdmVzLlxuICogQHBhcmFtIHNjZW5lZ3JhcGggLSBJbnN0YW5jZSBvZiB0aGUgY2xhc3MgZm9yIHN0cnVjdHVyZWQgYWNjZXNzIHRvIEdMVEYgZGF0YS5cbiAqIEBwYXJhbSBmZWF0dXJlVGV4dHVyZVByb3BlcnR5XG4gKiBAcGFyYW0gYXR0cmlidXRlTmFtZVxuICogQHJldHVybnMgRmVhdHVyZSB0ZXh0dXJlIGRhdGFcbiAqL1xuZnVuY3Rpb24gZ2V0UHJvcGVydHlEYXRhRnJvbVRleHR1cmUoc2NlbmVncmFwaCwgZmVhdHVyZVRleHR1cmVQcm9wZXJ0eSwgYXR0cmlidXRlTmFtZSkge1xuICAgIGNvbnN0IGpzb24gPSBzY2VuZWdyYXBoLmdsdGYuanNvbjtcbiAgICBpZiAoIWpzb24ubWVzaGVzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgZmVhdHVyZVRleHR1cmVUYWJsZSA9IFtdO1xuICAgIGZvciAoY29uc3QgbWVzaCBvZiBqc29uLm1lc2hlcykge1xuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiBtZXNoLnByaW1pdGl2ZXMpIHtcbiAgICAgICAgICAgIHByb2Nlc3NQcmltaXRpdmVUZXh0dXJlcyhzY2VuZWdyYXBoLCBhdHRyaWJ1dGVOYW1lLCBmZWF0dXJlVGV4dHVyZVByb3BlcnR5LCBmZWF0dXJlVGV4dHVyZVRhYmxlLCBwcmltaXRpdmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmZWF0dXJlVGV4dHVyZVRhYmxlO1xufVxuLyoqXG4gKiBQcm9jZXNzZXMgZGF0YSBlbmNvZGVkIGluIHRoZSB0ZXh0dXJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJpbWl0aXZlLiBUaGlzIGRhdGEgd2lsbCBiZSBhY2Nlc3NpYmxlIHRocm91Z2ggdGhlIGF0dHJpYnV0ZXMuXG4gKiBAcGFyYW0gc2NlbmVncmFwaCAtIEluc3RhbmNlIG9mIHRoZSBjbGFzcyBmb3Igc3RydWN0dXJlZCBhY2Nlc3MgdG8gR0xURiBkYXRhLlxuICogQHBhcmFtIGF0dHJpYnV0ZU5hbWVcbiAqIEBwYXJhbSBmZWF0dXJlVGV4dHVyZVByb3BlcnR5XG4gKiBAcGFyYW0gZmVhdHVyZVRleHR1cmVUYWJsZVxuICogQHBhcmFtIHByaW1pdGl2ZVxuICovXG5mdW5jdGlvbiBwcm9jZXNzUHJpbWl0aXZlVGV4dHVyZXMoc2NlbmVncmFwaCwgYXR0cmlidXRlTmFtZSwgZmVhdHVyZVRleHR1cmVQcm9wZXJ0eSwgZmVhdHVyZVRleHR1cmVUYWJsZSwgcHJpbWl0aXZlKSB7XG4gICAgY29uc3QgdGV4dHVyZUluZm9Ub3BMZXZlbCA9IHtcbiAgICAgICAgY2hhbm5lbHM6IGZlYXR1cmVUZXh0dXJlUHJvcGVydHkuY2hhbm5lbHMsXG4gICAgICAgIC4uLmZlYXR1cmVUZXh0dXJlUHJvcGVydHkudGV4dHVyZVxuICAgIH07XG4gICAgY29uc3QgcHJvcGVydHlEYXRhID0gZ2V0UHJpbWl0aXZlVGV4dHVyZURhdGEoc2NlbmVncmFwaCwgdGV4dHVyZUluZm9Ub3BMZXZlbCwgcHJpbWl0aXZlKTtcbiAgICBpZiAoIXByb3BlcnR5RGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHByaW1pdGl2ZVByb3BlcnR5RGF0YVRvQXR0cmlidXRlcyhzY2VuZWdyYXBoLCBhdHRyaWJ1dGVOYW1lLCBwcm9wZXJ0eURhdGEsIGZlYXR1cmVUZXh0dXJlVGFibGUsIHByaW1pdGl2ZSk7XG59XG4iLCIvLyBHTFRGIDEuMCBleHRlbnNpb25zIChkZWNvZGUgb25seSlcbi8vIGltcG9ydCAqIGFzIEtIUl9iaW5hcnlfZ2x0ZiBmcm9tICcuL0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uJztcbi8vIEdMVEYgMi4wIFZlbmRvciBleHRlbnNpb25zXG5pbXBvcnQgKiBhcyBFWFRfbWVzaF9mZWF0dXJlcyBmcm9tIFwiLi4vZXh0ZW5zaW9ucy9FWFRfbWVzaF9mZWF0dXJlcy5qc1wiO1xuaW1wb3J0ICogYXMgRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEgZnJvbSBcIi4uL2V4dGVuc2lvbnMvRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEuanNcIjtcbi8vIEdMVEYgMi4wIEtocm9ub3MgZXh0ZW5zaW9ucyAoZGVjb2RlL2VuY29kZSlcbmltcG9ydCAqIGFzIEVYVF9tZXNob3B0X2NvbXByZXNzaW9uIGZyb20gXCIuLi9leHRlbnNpb25zL0VYVF9tZXNob3B0X2NvbXByZXNzaW9uLmpzXCI7XG5pbXBvcnQgKiBhcyBFWFRfdGV4dHVyZV93ZWJwIGZyb20gXCIuLi9leHRlbnNpb25zL0VYVF90ZXh0dXJlX3dlYnAuanNcIjtcbmltcG9ydCAqIGFzIEtIUl90ZXh0dXJlX2Jhc2lzdSBmcm9tIFwiLi4vZXh0ZW5zaW9ucy9LSFJfdGV4dHVyZV9iYXNpc3UuanNcIjtcbmltcG9ydCAqIGFzIEtIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uIGZyb20gXCIuLi9leHRlbnNpb25zL0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uLmpzXCI7XG5pbXBvcnQgKiBhcyBLSFJfdGV4dHVyZV90cmFuc2Zvcm0gZnJvbSBcIi4uL2V4dGVuc2lvbnMvS0hSX3RleHR1cmVfdHJhbnNmb3JtLmpzXCI7XG4vLyBEZXByZWNhdGVkLiBUaGVzZSBzaG91bGQgYmUgaGFuZGxlZCBieSByZW5kZXJpbmcgbGlicmFyeSAoZS5nLiBsdW1hLmdsKSwgbm90IHRoZSBsb2FkZXIuXG5pbXBvcnQgKiBhcyBLSFJfbGlnaHRzX3B1bmN0dWFsIGZyb20gXCIuLi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvS0hSX2xpZ2h0c19wdW5jdHVhbC5qc1wiO1xuaW1wb3J0ICogYXMgS0hSX21hdGVyaWFsc191bmxpdCBmcm9tIFwiLi4vZXh0ZW5zaW9ucy9kZXByZWNhdGVkL0tIUl9tYXRlcmlhbHNfdW5saXQuanNcIjtcbmltcG9ydCAqIGFzIEtIUl90ZWNobmlxdWVzX3dlYmdsIGZyb20gXCIuLi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvS0hSX3RlY2huaXF1ZXNfd2ViZ2wuanNcIjtcbmltcG9ydCAqIGFzIEVYVF9mZWF0dXJlX21ldGFkYXRhIGZyb20gXCIuLi9leHRlbnNpb25zL2RlcHJlY2F0ZWQvRVhUX2ZlYXR1cmVfbWV0YWRhdGEuanNcIjtcbi8qKlxuICogTGlzdCBvZiBleHRlbnNpb25zIHByb2Nlc3NlZCBieSB0aGUgR0xURkxvYWRlclxuICogTm90ZSB0aGF0IG1heSBleHRlbnNpb25zIGNhbiBvbmx5IGJlIGhhbmRsZWQgb24gdGhlIHJlbmRlcmluZyBzdGFnZSBhbmQgYXJlIGxlZnQgb3V0IGhlcmVcbiAqIFRoZXNlIGFyZSBqdXN0IGV4dGVuc2lvbnMgdGhhdCBjYW4gYmUgaGFuZGxlZCBmdWxseSBvciBwYXJ0aWFsbHkgZHVyaW5nIGxvYWRpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBFWFRFTlNJT05TID0gW1xuICAgIC8vIDEuMFxuICAgIC8vIEtIUl9iaW5hcnlfZ2x0ZiBpcyBoYW5kbGVkIHNlcGFyYXRlbHkgLSBtdXN0IGJlIHByb2Nlc3NlZCBiZWZvcmUgb3RoZXIgcGFyc2luZyBzdGFydHNcbiAgICAvLyBLSFJfYmluYXJ5X2dsdGYsXG4gICAgLy8gMi4wXG4gICAgRVhUX3N0cnVjdHVyYWxfbWV0YWRhdGEsXG4gICAgRVhUX21lc2hfZmVhdHVyZXMsXG4gICAgRVhUX21lc2hvcHRfY29tcHJlc3Npb24sXG4gICAgRVhUX3RleHR1cmVfd2VicCxcbiAgICAvLyBCYXNpc3Ugc2hvdWxkIGNvbWUgYWZ0ZXIgd2VicCwgd2Ugd2FudCBiYXNpc3UgdG8gYmUgcHJlZmVycmVkIGlmIGJvdGggYXJlIHByb3ZpZGVkXG4gICAgS0hSX3RleHR1cmVfYmFzaXN1LFxuICAgIEtIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uLFxuICAgIEtIUl9saWdodHNfcHVuY3R1YWwsXG4gICAgS0hSX21hdGVyaWFsc191bmxpdCxcbiAgICBLSFJfdGVjaG5pcXVlc193ZWJnbCxcbiAgICBLSFJfdGV4dHVyZV90cmFuc2Zvcm0sXG4gICAgRVhUX2ZlYXR1cmVfbWV0YWRhdGFcbl07XG4vKipcbiAqIExpc3Qgb2YgZXh0ZW5zaW9ucyBwcm9jZXNzZWQgYnkgdGhlIEdMVEZXcml0ZXJcbiAqL1xuY29uc3QgRVhURU5TSU9OU19FTkNPRElORyA9IFtFWFRfc3RydWN0dXJhbF9tZXRhZGF0YSwgRVhUX21lc2hfZmVhdHVyZXNdO1xuLyoqIENhbGwgYmVmb3JlIGFueSByZXNvdXJjZSBsb2FkaW5nIHN0YXJ0cyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXByb2Nlc3NFeHRlbnNpb25zKGdsdGYsIG9wdGlvbnMgPSB7fSwgY29udGV4dCkge1xuICAgIGNvbnN0IGV4dGVuc2lvbnMgPSBFWFRFTlNJT05TLmZpbHRlcigoZXh0ZW5zaW9uKSA9PiB1c2VFeHRlbnNpb24oZXh0ZW5zaW9uLm5hbWUsIG9wdGlvbnMpKTtcbiAgICBmb3IgKGNvbnN0IGV4dGVuc2lvbiBvZiBleHRlbnNpb25zKSB7XG4gICAgICAgIGV4dGVuc2lvbi5wcmVwcm9jZXNzPy4oZ2x0Ziwgb3B0aW9ucywgY29udGV4dCk7XG4gICAgfVxufVxuLyoqIENhbGwgYWZ0ZXIgcmVzb3VyY2UgbG9hZGluZyAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlY29kZUV4dGVuc2lvbnMoZ2x0Ziwgb3B0aW9ucyA9IHt9LCBjb250ZXh0KSB7XG4gICAgY29uc3QgZXh0ZW5zaW9ucyA9IEVYVEVOU0lPTlMuZmlsdGVyKChleHRlbnNpb24pID0+IHVzZUV4dGVuc2lvbihleHRlbnNpb24ubmFtZSwgb3B0aW9ucykpO1xuICAgIGZvciAoY29uc3QgZXh0ZW5zaW9uIG9mIGV4dGVuc2lvbnMpIHtcbiAgICAgICAgLy8gTm90ZTogV2UgZGVjb2RlIGFzeW5jIGV4dGVuc2lvbnMgc2VxdWVudGlhbGx5LCB0aGlzIG1pZ2h0IG5vdCBiZSBuZWNlc3NhcnlcbiAgICAgICAgLy8gQ3VycmVudGx5IHdlIG9ubHkgaGF2ZSBEcmFjbywgYnV0IHdoZW4gd2UgYWRkIEJhc2lzIHdlIG1heSByZXZpc2l0XG4gICAgICAgIGF3YWl0IGV4dGVuc2lvbi5kZWNvZGU/LihnbHRmLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICB9XG59XG4vKiogQ2FsbCBiZWZvcmUgcmVzb3VyY2Ugd3JpdGluZyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUV4dGVuc2lvbnMoZ2x0Ziwgb3B0aW9ucyA9IHt9KSB7XG4gICAgZm9yIChjb25zdCBleHRlbnNpb24gb2YgRVhURU5TSU9OU19FTkNPRElORykge1xuICAgICAgICBnbHRmID0gZXh0ZW5zaW9uLmVuY29kZT8uKGdsdGYsIG9wdGlvbnMpID8/IGdsdGY7XG4gICAgfVxuICAgIHJldHVybiBnbHRmO1xufVxuZnVuY3Rpb24gdXNlRXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBleGNsdWRlcyA9IG9wdGlvbnM/LmdsdGY/LmV4Y2x1ZGVFeHRlbnNpb25zIHx8IHt9O1xuICAgIGNvbnN0IGV4Y2x1ZGUgPSBleHRlbnNpb25OYW1lIGluIGV4Y2x1ZGVzICYmICFleGNsdWRlc1tleHRlbnNpb25OYW1lXTtcbiAgICByZXR1cm4gIWV4Y2x1ZGU7XG59XG4iLCIvLyBHTFRGIDEuMCBFWFRFTlNJT046IEtIUl9iaW5hcnlfZ2xURlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMS4wL0tocm9ub3MvS0hSX2JpbmFyeV9nbFRGXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbmltcG9ydCB7IEdMVEZTY2VuZWdyYXBoIH0gZnJvbSBcIi4uL2FwaS9nbHRmLXNjZW5lZ3JhcGguanNcIjtcbmNvbnN0IEtIUl9CSU5BUllfR0xURiA9ICdLSFJfYmluYXJ5X2dsVEYnO1xuLyoqIEV4dGVuc2lvbiBuYW1lICovXG5leHBvcnQgY29uc3QgbmFtZSA9IEtIUl9CSU5BUllfR0xURjtcbmV4cG9ydCBmdW5jdGlvbiBwcmVwcm9jZXNzKGdsdGZEYXRhKSB7XG4gICAgY29uc3QgZ2x0ZlNjZW5lZ3JhcGggPSBuZXcgR0xURlNjZW5lZ3JhcGgoZ2x0ZkRhdGEpO1xuICAgIGNvbnN0IHsganNvbiB9ID0gZ2x0ZlNjZW5lZ3JhcGg7XG4gICAgLy8gTm90ZToganNvbi5idWZmZXJzLmJpbmFyeV9nbFRGIGFsc28gbmVlZHMgdG8gYmUgcmVwbGFjZWRcbiAgICAvLyBUaGlzIGlzIGN1cnJlbnRseSBkb25lIGR1cmluZyBnbHRmIG5vcm1hbGl6YXRpb25cbiAgICAvLyBJbWFnZSBhbmQgc2hhZGVyIG5vZGVzIGNhbiBoYXZlIHRoZSBleHRlbnNpb25cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvZXh0ZW5zaW9ucy8xLjAvS2hyb25vcy9LSFJfYmluYXJ5X2dsVEYvc2NoZW1hL2ltYWdlLktIUl9iaW5hcnlfZ2xURi5zY2hlbWEuanNvblxuICAgIGZvciAoY29uc3QgaW1hZ2Ugb2YganNvbi5pbWFnZXMgfHwgW10pIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZ2x0ZlNjZW5lZ3JhcGguZ2V0T2JqZWN0RXh0ZW5zaW9uKGltYWdlLCBLSFJfQklOQVJZX0dMVEYpO1xuICAgICAgICAvLyBUaGUgZGF0YSBpbiB0aGUgZXh0ZW5zaW9uIGlzIHZhbGlkIGFzIGdsVEYgMi4wIGRhdGEgaW5zaWRlIHRoZSBvYmplY3QsIHNvIGp1c3QgY29weSBpdCBpblxuICAgICAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGltYWdlLCBleHRlbnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGdsdGZTY2VuZWdyYXBoLnJlbW92ZU9iamVjdEV4dGVuc2lvbihpbWFnZSwgS0hSX0JJTkFSWV9HTFRGKTtcbiAgICB9XG4gICAgLy8gVE9ETyBzaGFkZXJzIC0gQXQgbGVhc3QgdHJhdmVyc2UgYW5kIHRocm93IGVycm9yIGlmIHVzZWQ/XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL2V4dGVuc2lvbnMvMS4wL0tocm9ub3MvS0hSX2JpbmFyeV9nbFRGL3NjaGVtYS9zaGFkZXIuS0hSX2JpbmFyeV9nbFRGLnNjaGVtYS5qc29uXG4gICAgLy8gZ2xURiB2MSBvbmUgZmlsZXMgaGF2ZSBhIHBhcnRpYWxseSBmb3JtZWQgVVJJIGZpZWxkIHRoYXQgaXMgbm90IGV4cGVjdGVkIGluIChhbmQgY2F1c2VzIHByb2JsZW1zIGluKSAyLjBcbiAgICBpZiAoanNvbi5idWZmZXJzICYmIGpzb24uYnVmZmVyc1swXSkge1xuICAgICAgICBkZWxldGUganNvbi5idWZmZXJzWzBdLnVyaTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSB0b3AtbGV2ZWwgZXh0ZW5zaW9uIGFzIGl0IGhhcyBub3cgYmVlbiBwcm9jZXNzZWRcbiAgICBnbHRmU2NlbmVncmFwaC5yZW1vdmVFeHRlbnNpb24oS0hSX0JJTkFSWV9HTFRGKTtcbn1cbi8vIEtIUl9iaW5hcnlfZ2x0ZiBpcyBhIDEuMCBleHRlbnNpb24gdGhhdCBpcyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgMi4wXG4vLyBleHBvcnQgZnVuY3Rpb24gZW5jb2RlKCkge1xuLy8gICB0aHJvdyBuZXcgRXJyb3IoS0hSX0JJTkFSWV9HTFRGKTtcbi8vIH1cbiIsIi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0ICogYXMgS0hSX2JpbmFyeV9nbFRGIGZyb20gXCIuLi9leHRlbnNpb25zL0tIUl9iaW5hcnlfZ2x0Zi5qc1wiO1xuLy8gQmluYXJ5IGZvcm1hdCBjaGFuZ2VzIChtYWlubHkgaW1wbGVtZW50ZWQgYnkgR0xCTG9hZGVyKVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMS4wL0tocm9ub3MvS0hSX2JpbmFyeV9nbFRGXG4vLyBKU09OIGZvcm1hdCBjaGFuZ2VzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tocm9ub3Nncm91cC9nbHRmL2lzc3Vlcy82MDVcbi8vIC0gW3hdIFRvcC1sZXZlbCBKU09OIG9iamVjdHMgYXJlIGFycmF5cyBub3dcbi8vIC0gWyBdIFJlbW92ZWQgaW5kaXJlY3Rpb24gZnJvbSBhbmltYXRpb246IHNhbXBsZXIgbm93IHJlZmVycyBkaXJlY3RseSB0byBhY2Nlc3NvcnMsICM3MTJcbi8vIC0gWyBdIG1hdGVyaWFsLnBhcmFtZXRlci52YWx1ZSBhbmQgdGVjaG5pcXVlLnBhcmFtZXRlci52YWx1ZSBtdXN0IGJlIGFuIGFycmF5LCAjNjkwXG4vLyAtIFsgXSBOb2RlIGNhbiBoYXZlIG9ubHkgb25lIG1lc2ggIzgyMVxuLy8gLSBbIF0gQWRkZWQgcmVxcyBvbiBKU09OIGVuY29kaW5nXG4vLyAtIFsgXSBBZGRlZCByZXFzIG9uIGJpbmFyeSBkYXRhIGFsaWdubWVudCAjODAyIChjb21tZW50KVxuLy8gQWRkaXRpb25zOlxuLy8gLSBbIF0gQWRkZWQgYWNjZXNzb3Iubm9ybWFsaXplZCwgIzY5MSwgIzcwNlxuLy8gLSBbIF0gQWRkZWQgZ2xFeHRlbnNpb25zVXNlZCBwcm9wZXJ0eSBhbmQgNTEyNSAoVU5TSUdORURfSU5UKSBhY2Nlc3Nvci5jb21wb25lbnRUeXBlIHZhbHVlLCAjNjE5XG4vLyAtIFsgXSBBZGRlZCBleHRlbnNpb25zUmVxdWlyZWQgcHJvcGVydHksICM3MjAsICM3MjFcbi8vIC0gWyBdIEFkZGVkIFwiU1RFUFwiIGFzIHZhbGlkIGFuaW1hdGlvbi5zYW1wbGVyLmludGVycG9sYXRpb24gdmFsdWUsICM3MTJcbi8vIFJlbW92YWxzOlxuLy8gLSBbeF0gUmVtb3ZlZCBidWZmZXIudHlwZSwgIzc4NiwgIzYyOVxuLy8gLSBbIF0gUmVtb3ZlZCByZXZpc2lvbiBudW1iZXIgZnJvbSBwcm9maWxlLnZlcnNpb24sICM3MDlcbi8vIC0gWyBdIFJlbW92ZWQgdGVjaG5pcXVlLmZ1bmN0aW9ucy5zY2lzc29yIGFuZCByZW1vdmVkIDMwODkgKFNDSVNTT1JfVEVTVCkgYXMgYSB2YWxpZCB2YWx1ZSBmb3IgdGVjaG5pcXVlLnN0YXRlcy5lbmFibGUsICM2ODFcbi8vIC0gWyBdIFRlY2huaXF1ZXMsIHByb2dyYW1zLCBhbmQgc2hhZGVycyB3ZXJlIG1vdmVkIG91dCB0byBLSFJfdGVjaG5pcXVlX3dlYmdsIGV4dGVuc2lvbi5cbi8vIE90aGVyIGVkaXRzOlxuLy8gLSBbeF0gYXNzZXQgaXMgbm93IHJlcXVpcmVkLCAjNjQyXG4vLyAtIFsgXSBidWZmZXIuYnl0ZUxlbmd0aCBhbmQgYnVmZmVyVmlldy5ieXRlTGVuZ3RoIGFyZSBub3cgcmVxdWlyZWQsICM1NjAuXG4vLyAtIFsgXSBhY2Nlc3Nvci5taW4gYW5kIGFjY2Vzc29yLm1heCBhcmUgbm93IHJlcXVpcmVkLCAjNTkzLCBhbmQgY2xhcmlmaWVkIHRoYXQgdGhlIEpTT04gdmFsdWUgYW5kIGJpbmFyeSBkYXRhIG11c3QgYmUgdGhlIHNhbWUsICM2MjguXG4vLyAtIFsgXSBDbGFyaWZpZWQgYW5pbWF0aW9uLnNhbXBsZXIgYW5kIGFuaW1hdGlvbi5jaGFubmVsIHJlc3RyaWN0aW9ucywgIzcxMlxuLy8gLSBbIF0gc2tpbi5pbnZlcnNlQmluZE1hdHJpY2VzIGlzIG5vdyBvcHRpb25hbCwgIzQ2MS5cbi8vIC0gWyBdIEF0dHJpYnV0ZSBwYXJhbWV0ZXJzIGNhbid0IGhhdmUgYSB2YWx1ZSBkZWZpbmVkIGluIHRoZSB0ZWNobmlxdWUgb3IgcGFyYW1ldGVyLCAjNTYzIChjb21tZW50KS5cbi8vIC0gWyBdIE9ubHkgVEVYQ09PUkQgYW5kIENPTE9SIGF0dHJpYnV0ZSBzZW1hbnRpY3MgY2FuIGJlIHdyaXR0ZW4gaW4gdGhlIGZvcm0gW3NlbWFudGljXV9bc2V0X2luZGV4XSwgIzU2MyAoY29tbWVudCkuXG4vLyAtIFsgXSBURVhDT09SRCBhbmQgQ09MT1IgYXR0cmlidXRlIHNlbWFudGljcyBtdXN0IGJlIHdyaXR0ZW4gaW4gdGhlIGZvcm0gW3NlbWFudGljXV9bc2V0X2luZGV4XSwgZS5nLiwganVzdCBURVhDT09SRCBzaG91bGQgYmUgVEVYQ09PUkRfMCwgYW5kIGp1c3QgQ09MT1Igc2hvdWxkIGJlIENPTE9SXzAsICM2NDlcbi8vIC0gWyBdIGNhbWVyYS5wZXJzcGVjdGl2ZS5hc3BlY3RSYXRpbyBhbmQgY2FtZXJhLnBlcnNwZWN0aXZlLnlmb3YgbXVzdCBub3cgYmUgPiAwLCBub3QgPj0gMCwgIzU2MyAoY29tbWVudCkuXG4vLyAtIFsgXSBBcHBsaWNhdGlvbi1zcGVjaWZpYyBwYXJhbWV0ZXIgc2VtYW50aWNzIG11c3Qgc3RhcnQgd2l0aCBhbiB1bmRlcnNjb3JlLCBlLmcuLCBfVEVNUEVSQVRVUkUgYW5kIF9TSU1VTEFUSU9OX1RJTUUsICM1NjMgKGNvbW1lbnQpLlxuLy8gLSBbIF0gUHJvcGVydGllcyBpbiB0ZWNobmlxdWUucGFyYW1ldGVycyBtdXN0IGJlIGRlZmluZWQgaW4gdGVjaG5pcXVlLnVuaWZvcm1zIG9yIHRlY2huaXF1ZS5hdHRyaWJ1dGVzLFxuLy8gIzU2MyAoY29tbWVudCkuXG4vLyAtIFsgXSB0ZWNobmlxdWUucGFyYW1ldGVyLmNvdW50IGNhbiBvbmx5IGJlIGRlZmluZWQgd2hlbiB0aGUgc2VtYW50aWMgaXMgSk9JTlRNQVRSSVggb3IgYW4gYXBwbGljYXRpb24tc3BlY2lmaWMgc2VtYW50aWMgaXMgdXNlZC4gSXQgY2FuIG5ldmVyIGJlIGRlZmluZWQgZm9yIGF0dHJpYnV0ZSBwYXJhbWV0ZXJzOyBvbmx5IHVuaWZvcm1zLCBkMmY2OTQ1XG4vLyAtIFsgXSB0ZWNobmlxdWUucGFyYW1ldGVyLnNlbWFudGljIGlzIHJlcXVpcmVkIHdoZW4gdGhlIHBhcmFtZXRlciBpcyBhbiBhdHRyaWJ1dGUsIDI4ZTExM2Rcbi8vIC0gWyBdIE1lc2gtb25seSBtb2RlbHMgYXJlIGFsbG93ZWQsIGUuZy4sIHdpdGhvdXQgbWF0ZXJpYWxzLCAjNjQyXG4vLyAtIFsgXSBTa2VsZXRvbiBoaWVyYXJjaGllcyAobm9kZXMgY29udGFpbmluZyBqb2ludE5hbWUpIG11c3QgYmUgc2VwYXJhdGVkIGZyb20gbm9uLXNrZWxldG9uIGhpZXJhcmNoaWVzLiwgIzY0N1xuLy8gLSBbIF0gdGVjaG5pcXVlLnN0YXRlcy5mdW5jdGlvbnMuYmxlbmRDb2xvciBhbmQgdGVjaG5pcXVlLnN0YXRlcy5mdW5jdGlvbnMuZGVwdGhSYW5nZSBwYXJhbWV0ZXJzIG5vdyBtdXN0IG1hdGNoIFdlYkdMIGZ1bmN0aW9uIG1pbi9tYXgsICM3MDdcbmNvbnN0IEdMVEZfQVJSQVlTID0ge1xuICAgIGFjY2Vzc29yczogJ2FjY2Vzc29yJyxcbiAgICBhbmltYXRpb25zOiAnYW5pbWF0aW9uJyxcbiAgICBidWZmZXJzOiAnYnVmZmVyJyxcbiAgICBidWZmZXJWaWV3czogJ2J1ZmZlclZpZXcnLFxuICAgIGltYWdlczogJ2ltYWdlJyxcbiAgICBtYXRlcmlhbHM6ICdtYXRlcmlhbCcsXG4gICAgbWVzaGVzOiAnbWVzaCcsXG4gICAgbm9kZXM6ICdub2RlJyxcbiAgICBzYW1wbGVyczogJ3NhbXBsZXInLFxuICAgIHNjZW5lczogJ3NjZW5lJyxcbiAgICBza2luczogJ3NraW4nLFxuICAgIHRleHR1cmVzOiAndGV4dHVyZSdcbn07XG5jb25zdCBHTFRGX0tFWVMgPSB7XG4gICAgYWNjZXNzb3I6ICdhY2Nlc3NvcnMnLFxuICAgIGFuaW1hdGlvbnM6ICdhbmltYXRpb24nLFxuICAgIGJ1ZmZlcjogJ2J1ZmZlcnMnLFxuICAgIGJ1ZmZlclZpZXc6ICdidWZmZXJWaWV3cycsXG4gICAgaW1hZ2U6ICdpbWFnZXMnLFxuICAgIG1hdGVyaWFsOiAnbWF0ZXJpYWxzJyxcbiAgICBtZXNoOiAnbWVzaGVzJyxcbiAgICBub2RlOiAnbm9kZXMnLFxuICAgIHNhbXBsZXI6ICdzYW1wbGVycycsXG4gICAgc2NlbmU6ICdzY2VuZXMnLFxuICAgIHNraW46ICdza2lucycsXG4gICAgdGV4dHVyZTogJ3RleHR1cmVzJ1xufTtcbi8qKlxuICogQ29udmVydHMgKG5vcm1hbGl6ZXMpIGdsVEYgdjEgdG8gdjJcbiAqL1xuY2xhc3MgR0xURlYxTm9ybWFsaXplciB7XG4gICAgaWRUb0luZGV4TWFwID0ge1xuICAgICAgICBhbmltYXRpb25zOiB7fSxcbiAgICAgICAgYWNjZXNzb3JzOiB7fSxcbiAgICAgICAgYnVmZmVyczoge30sXG4gICAgICAgIGJ1ZmZlclZpZXdzOiB7fSxcbiAgICAgICAgaW1hZ2VzOiB7fSxcbiAgICAgICAgbWF0ZXJpYWxzOiB7fSxcbiAgICAgICAgbWVzaGVzOiB7fSxcbiAgICAgICAgbm9kZXM6IHt9LFxuICAgICAgICBzYW1wbGVyczoge30sXG4gICAgICAgIHNjZW5lczoge30sXG4gICAgICAgIHNraW5zOiB7fSxcbiAgICAgICAgdGV4dHVyZXM6IHt9XG4gICAgfTtcbiAgICBqc29uO1xuICAgIC8vIGNvbnN0cnVjdG9yKCkge31cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IChub3JtYWxpemUpIGdsVEYgPCAyLjAgdG8gZ2xURiAyLjBcbiAgICAgKiBAcGFyYW0gZ2x0ZiAtIG9iamVjdCB3aXRoIGpzb24gYW5kIGJpbkNodW5rc1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIG9wdGlvbnMgbm9ybWFsaXplIFdoZXRoZXIgdG8gYWN0dWFsbHkgbm9ybWFsaXplXG4gICAgICovXG4gICAgbm9ybWFsaXplKGdsdGYsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5qc29uID0gZ2x0Zi5qc29uO1xuICAgICAgICBjb25zdCBqc29uID0gZ2x0Zi5qc29uO1xuICAgICAgICAvLyBDaGVjayB2ZXJzaW9uXG4gICAgICAgIHN3aXRjaCAoanNvbi5hc3NldCAmJiBqc29uLmFzc2V0LnZlcnNpb24pIHtcbiAgICAgICAgICAgIC8vIFdlIGFyZSBjb252ZXJ0aW5nIHRvIHYyIGZvcm1hdC4gUmV0dXJuIGlmIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgIGNhc2UgJzIuMCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gVGhpcyBjbGFzcyBpcyB3cml0dGVuIHRvIGNvbnZlcnQgMS4wXG4gICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIGNhc2UgJzEuMCc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZiwgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgZ2xURjogVW5rbm93biB2ZXJzaW9uICR7anNvbi5hc3NldC52ZXJzaW9ufWApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbnMubm9ybWFsaXplKSB7XG4gICAgICAgICAgICAvLyBXZSBhcmUgc3RpbGwgbWlzc2luZyBhIGZldyBjb252ZXJzaW9uIHRyaWNrcywgcmVtb3ZlIG9uY2UgYWRkcmVzc2VkXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dsVEYgdjEgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYsIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCdDb252ZXJ0aW5nIGdsVEYgdjEgdG8gZ2xURiB2MiBmb3JtYXQuIFRoaXMgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgZmFpbC4nKTtcbiAgICAgICAgdGhpcy5fYWRkQXNzZXQoanNvbik7XG4gICAgICAgIC8vIEluIGdsVEYyIHRvcC1sZXZlbCBmaWVsZHMgYXJlIEFycmF5cyBub3QgT2JqZWN0IG1hcHNcbiAgICAgICAgdGhpcy5fY29udmVydFRvcExldmVsT2JqZWN0c1RvQXJyYXlzKGpzb24pO1xuICAgICAgICAvLyBFeHRyYWN0IGJ1ZmZlclZpZXcgaW5kaWNlcyBmb3IgaW1hZ2VzXG4gICAgICAgIC8vICh0aGlzIGV4dGVuc2lvbiBuZWVkcyB0byBiZSBpbnZva2VkIGVhcmx5IGluIHRoZSBub3JtYWxpemF0aW9uIHByb2Nlc3MpXG4gICAgICAgIC8vIFRPRE8gY2FuIHRoaXMgYmUgaGFuZGxlZCBieSBzdGFuZGFyZCBleHRlbnNpb24gcHJvY2Vzc2luZyBpbnN0ZWFkIG9mIGNhbGxlZCBleHBsaWNpdGx5P1xuICAgICAgICBLSFJfYmluYXJ5X2dsVEYucHJlcHJvY2VzcyhnbHRmKTtcbiAgICAgICAgLy8gQ29udmVydCBvYmplY3QgcmVmZXJlbmNlcyBmcm9tIGlkcyB0byBpbmRpY2VzXG4gICAgICAgIHRoaXMuX2NvbnZlcnRPYmplY3RJZHNUb0FycmF5SW5kaWNlcyhqc29uKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0cyhqc29uKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTWF0ZXJpYWwoanNvbik7XG4gICAgfVxuICAgIC8vIGFzc2V0IGlzIG5vdyByZXF1aXJlZCwgIzY0MiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvaXNzdWVzLzYzOVxuICAgIF9hZGRBc3NldChqc29uKSB7XG4gICAgICAgIGpzb24uYXNzZXQgPSBqc29uLmFzc2V0IHx8IHt9O1xuICAgICAgICAvLyBXZSBhcmUgbm9ybWFsaXppbmcgdG8gZ2xURiB2Miwgc28gY2hhbmdlIHZlcnNpb24gdG8gXCIyLjBcIlxuICAgICAgICBqc29uLmFzc2V0LnZlcnNpb24gPSAnMi4wJztcbiAgICAgICAganNvbi5hc3NldC5nZW5lcmF0b3IgPSBqc29uLmFzc2V0LmdlbmVyYXRvciB8fCAnTm9ybWFsaXplZCB0byBnbFRGIDIuMCBieSBsb2FkZXJzLmdsJztcbiAgICB9XG4gICAgX2NvbnZlcnRUb3BMZXZlbE9iamVjdHNUb0FycmF5cyhqc29uKSB7XG4gICAgICAgIC8vIFRPRE8gY2hlY2sgdGhhdCBhbGwgYXJyYXlzIGFyZSBjb3ZlcmVkXG4gICAgICAgIGZvciAoY29uc3QgYXJyYXlOYW1lIGluIEdMVEZfQVJSQVlTKSB7XG4gICAgICAgICAgICB0aGlzLl9jb252ZXJ0VG9wTGV2ZWxPYmplY3RUb0FycmF5KGpzb24sIGFycmF5TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIENvbnZlcnQgb25lIHRvcCBsZXZlbCBvYmplY3QgdG8gYXJyYXkgKi9cbiAgICBfY29udmVydFRvcExldmVsT2JqZWN0VG9BcnJheShqc29uLCBtYXBOYW1lKSB7XG4gICAgICAgIGNvbnN0IG9iamVjdE1hcCA9IGpzb25bbWFwTmFtZV07XG4gICAgICAgIGlmICghb2JqZWN0TWFwIHx8IEFycmF5LmlzQXJyYXkob2JqZWN0TWFwKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJld3JpdGUgdGhlIHRvcC1sZXZlbCBmaWVsZCBhcyBhbiBhcnJheVxuICAgICAgICBqc29uW21hcE5hbWVdID0gW107XG4gICAgICAgIC8vIENvcHkgdGhlIG1hcCBrZXkgaW50byBvYmplY3QuaWRcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBvYmplY3RNYXApIHtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdCA9IG9iamVjdE1hcFtpZF07XG4gICAgICAgICAgICBvYmplY3QuaWQgPSBvYmplY3QuaWQgfHwgaWQ7IC8vIE11dGF0ZXMgdGhlIGxvYWRlZCBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0ganNvblttYXBOYW1lXS5sZW5ndGg7XG4gICAgICAgICAgICBqc29uW21hcE5hbWVdLnB1c2gob2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuaWRUb0luZGV4TWFwW21hcE5hbWVdW2lkXSA9IGluZGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBHbyB0aHJvdWdoIGFsbCBvYmplY3RzIGluIGFsbCB0b3AtbGV2ZWwgYXJyYXlzIGFuZCByZXBsYWNlIGlkcyB3aXRoIGluZGljZXMgKi9cbiAgICBfY29udmVydE9iamVjdElkc1RvQXJyYXlJbmRpY2VzKGpzb24pIHtcbiAgICAgICAgZm9yIChjb25zdCBhcnJheU5hbWUgaW4gR0xURl9BUlJBWVMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnZlcnRJZHNUb0luZGljZXMoanNvbiwgYXJyYXlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3NjZW5lJyBpbiBqc29uKSB7XG4gICAgICAgICAgICBqc29uLnNjZW5lID0gdGhpcy5fY29udmVydElkVG9JbmRleChqc29uLnNjZW5lLCAnc2NlbmUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb252ZXJ0IGFueSBpbmRleCByZWZlcmVuY2VzIHRoYXQgYXJlIG5vdCB1c2luZyBhcnJheSBuYW1lc1xuICAgICAgICAvLyB0ZXh0dXJlLnNvdXJjZSAoaW1hZ2UpXG4gICAgICAgIGZvciAoY29uc3QgdGV4dHVyZSBvZiBqc29uLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLl9jb252ZXJ0VGV4dHVyZUlkcyh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG1lc2ggb2YganNvbi5tZXNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnZlcnRNZXNoSWRzKG1lc2gpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBqc29uLm5vZGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9jb252ZXJ0Tm9kZUlkcyhub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YganNvbi5zY2VuZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnZlcnRTY2VuZUlkcyhub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29udmVydFRleHR1cmVJZHModGV4dHVyZSkge1xuICAgICAgICBpZiAodGV4dHVyZS5zb3VyY2UpIHtcbiAgICAgICAgICAgIHRleHR1cmUuc291cmNlID0gdGhpcy5fY29udmVydElkVG9JbmRleCh0ZXh0dXJlLnNvdXJjZSwgJ2ltYWdlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NvbnZlcnRNZXNoSWRzKG1lc2gpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmltaXRpdmUgb2YgbWVzaC5wcmltaXRpdmVzKSB7XG4gICAgICAgICAgICBjb25zdCB7IGF0dHJpYnV0ZXMsIGluZGljZXMsIG1hdGVyaWFsIH0gPSBwcmltaXRpdmU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPSB0aGlzLl9jb252ZXJ0SWRUb0luZGV4KGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0sICdhY2Nlc3NvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGljZXMpIHtcbiAgICAgICAgICAgICAgICBwcmltaXRpdmUuaW5kaWNlcyA9IHRoaXMuX2NvbnZlcnRJZFRvSW5kZXgoaW5kaWNlcywgJ2FjY2Vzc29yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICBwcmltaXRpdmUubWF0ZXJpYWwgPSB0aGlzLl9jb252ZXJ0SWRUb0luZGV4KG1hdGVyaWFsLCAnbWF0ZXJpYWwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29udmVydE5vZGVJZHMobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gdGhpcy5fY29udmVydElkVG9JbmRleChjaGlsZCwgJ25vZGUnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUubWVzaGVzKSB7XG4gICAgICAgICAgICBub2RlLm1lc2hlcyA9IG5vZGUubWVzaGVzLm1hcCgobWVzaCkgPT4gdGhpcy5fY29udmVydElkVG9JbmRleChtZXNoLCAnbWVzaCcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29udmVydFNjZW5lSWRzKHNjZW5lKSB7XG4gICAgICAgIGlmIChzY2VuZS5ub2Rlcykge1xuICAgICAgICAgICAgc2NlbmUubm9kZXMgPSBzY2VuZS5ub2Rlcy5tYXAoKG5vZGUpID0+IHRoaXMuX2NvbnZlcnRJZFRvSW5kZXgobm9kZSwgJ25vZGUnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEdvIHRocm91Z2ggYWxsIG9iamVjdHMgaW4gYSB0b3AtbGV2ZWwgYXJyYXkgYW5kIHJlcGxhY2UgaWRzIHdpdGggaW5kaWNlcyAqL1xuICAgIF9jb252ZXJ0SWRzVG9JbmRpY2VzKGpzb24sIHRvcExldmVsQXJyYXlOYW1lKSB7XG4gICAgICAgIGlmICghanNvblt0b3BMZXZlbEFycmF5TmFtZV0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgZ2x0ZiB2MToganNvbiBkb2Vzbid0IGNvbnRhaW4gYXR0cmlidXRlICR7dG9wTGV2ZWxBcnJheU5hbWV9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZSwgbm8tdW5kZWZcbiAgICAgICAgICAgIGpzb25bdG9wTGV2ZWxBcnJheU5hbWVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBvYmplY3Qgb2YganNvblt0b3BMZXZlbEFycmF5TmFtZV0pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9jb252ZXJ0SWRUb0luZGV4KGlkLCBrZXkpO1xuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NvbnZlcnRJZFRvSW5kZXgoaWQsIGtleSkge1xuICAgICAgICBjb25zdCBhcnJheU5hbWUgPSBHTFRGX0tFWVNba2V5XTtcbiAgICAgICAgaWYgKGFycmF5TmFtZSBpbiB0aGlzLmlkVG9JbmRleE1hcCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmlkVG9JbmRleE1hcFthcnJheU5hbWVdW2lkXTtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGluZGV4KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZ2x0ZiB2MTogZmFpbGVkIHRvIHJlc29sdmUgJHtrZXl9IHdpdGggaWQgJHtpZH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBqc29uXG4gICAgICovXG4gICAgX3VwZGF0ZU9iamVjdHMoanNvbikge1xuICAgICAgICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiB0aGlzLmpzb24uYnVmZmVycykge1xuICAgICAgICAgICAgLy8gLSBbeF0gUmVtb3ZlZCBidWZmZXIudHlwZSwgIzc4NiwgIzYyOVxuICAgICAgICAgICAgZGVsZXRlIGJ1ZmZlci50eXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBtYXRlcmlhbCAoc2V0IHBick1ldGFsbGljUm91Z2huZXNzKVxuICAgICAqIEBwYXJhbSB7Kn0ganNvblxuICAgICAqL1xuICAgIF91cGRhdGVNYXRlcmlhbChqc29uKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YganNvbi5tYXRlcmlhbHMpIHtcbiAgICAgICAgICAgIG1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzID0ge1xuICAgICAgICAgICAgICAgIGJhc2VDb2xvckZhY3RvcjogWzEsIDEsIDEsIDFdLFxuICAgICAgICAgICAgICAgIG1ldGFsbGljRmFjdG9yOiAxLFxuICAgICAgICAgICAgICAgIHJvdWdobmVzc0ZhY3RvcjogMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVJZCA9IG1hdGVyaWFsLnZhbHVlcz8udGV4IHx8IG1hdGVyaWFsLnZhbHVlcz8udGV4dHVyZTJkXzAgfHwgbWF0ZXJpYWwudmFsdWVzPy5kaWZmdXNlVGV4O1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZUluZGV4ID0ganNvbi50ZXh0dXJlcy5maW5kSW5kZXgoKHRleHR1cmUpID0+IHRleHR1cmUuaWQgPT09IHRleHR1cmVJZCk7XG4gICAgICAgICAgICBpZiAodGV4dHVyZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgPSB7IGluZGV4OiB0ZXh0dXJlSW5kZXggfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVHTFRGVjEoZ2x0Ziwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyBHTFRGVjFOb3JtYWxpemVyKCkubm9ybWFsaXplKGdsdGYsIG9wdGlvbnMpO1xufVxuIiwiaW1wb3J0IHsgcGFyc2VKU09OLCBzbGljZUFycmF5QnVmZmVyLCBwYXJzZUZyb21Db250ZXh0IH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IEltYWdlTG9hZGVyIH0gZnJvbSAnQGxvYWRlcnMuZ2wvaW1hZ2VzJztcbmltcG9ydCB7IEJhc2lzTG9hZGVyLCBzZWxlY3RTdXBwb3J0ZWRCYXNpc0Zvcm1hdCB9IGZyb20gJ0Bsb2FkZXJzLmdsL3RleHR1cmVzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlscy9hc3NlcnQuanNcIjtcbmltcG9ydCB7IGlzR0xCLCBwYXJzZUdMQlN5bmMgfSBmcm9tIFwiLi9wYXJzZS1nbGIuanNcIjtcbmltcG9ydCB7IHJlc29sdmVVcmwgfSBmcm9tIFwiLi4vZ2x0Zi11dGlscy9yZXNvbHZlLXVybC5qc1wiO1xuaW1wb3J0IHsgZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcgfSBmcm9tIFwiLi4vZ2x0Zi11dGlscy9nZXQtdHlwZWQtYXJyYXkuanNcIjtcbmltcG9ydCB7IHByZXByb2Nlc3NFeHRlbnNpb25zLCBkZWNvZGVFeHRlbnNpb25zIH0gZnJvbSBcIi4uL2FwaS9nbHRmLWV4dGVuc2lvbnMuanNcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUdMVEZWMSB9IGZyb20gXCIuLi9hcGkvbm9ybWFsaXplLWdsdGYtdjEuanNcIjtcbi8qKiBDaGVjayBpZiBhbiBhcnJheSBidWZmZXIgYXBwZWFycyB0byBjb250YWluIEdMVEYgZGF0YSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzR0xURihhcnJheUJ1ZmZlciwgb3B0aW9ucykge1xuICAgIGNvbnN0IGJ5dGVPZmZzZXQgPSAwO1xuICAgIHJldHVybiBpc0dMQihhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgb3B0aW9ucyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VHTFRGKGdsdGYsIGFycmF5QnVmZmVyT3JTdHJpbmcsIGJ5dGVPZmZzZXQgPSAwLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgcGFyc2VHTFRGQ29udGFpbmVyU3luYyhnbHRmLCBhcnJheUJ1ZmZlck9yU3RyaW5nLCBieXRlT2Zmc2V0LCBvcHRpb25zKTtcbiAgICBub3JtYWxpemVHTFRGVjEoZ2x0ZiwgeyBub3JtYWxpemU6IG9wdGlvbnM/LmdsdGY/Lm5vcm1hbGl6ZSB9KTtcbiAgICBwcmVwcm9jZXNzRXh0ZW5zaW9ucyhnbHRmLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICAvLyBMb2FkIGxpbmtlZCBidWZmZXJzIGFzeW5jaHJvbm91c2x5IGFuZCBkZWNvZGVzIGJhc2U2NCBidWZmZXJzIGluIHBhcmFsbGVsXG4gICAgaWYgKG9wdGlvbnM/LmdsdGY/LmxvYWRCdWZmZXJzICYmIGdsdGYuanNvbi5idWZmZXJzKSB7XG4gICAgICAgIGF3YWl0IGxvYWRCdWZmZXJzKGdsdGYsIG9wdGlvbnMsIGNvbnRleHQpO1xuICAgIH1cbiAgICAvLyBsb2FkSW1hZ2VzIGFuZCBkZWNvZGVFeHRlbnNpb25zIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBwYXJhbGxlbCwgYmVjYXVzZVxuICAgIC8vIGRlY29kZUV4dGVuc2lvbnMgdXNlcyBkYXRhIGZyb20gaW1hZ2VzIHRha2VuIGR1cmluZyB0aGUgbG9hZEltYWdlcyBjYWxsLlxuICAgIGlmIChvcHRpb25zPy5nbHRmPy5sb2FkSW1hZ2VzKSB7XG4gICAgICAgIGF3YWl0IGxvYWRJbWFnZXMoZ2x0Ziwgb3B0aW9ucywgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGRlY29kZUV4dGVuc2lvbnMoZ2x0Ziwgb3B0aW9ucywgY29udGV4dCk7XG4gICAgcmV0dXJuIGdsdGY7XG59XG4vKipcbiAqXG4gKiBAcGFyYW0gZ2x0ZlxuICogQHBhcmFtIGRhdGEgLSBjYW4gYmUgQXJyYXlCdWZmZXIgKEdMQiksIEFycmF5QnVmZmVyIChCaW5hcnkgSlNPTiksIFN0cmluZyAoSlNPTiksIG9yIE9iamVjdCAocGFyc2VkIEpTT04pXG4gKiBAcGFyYW0gYnl0ZU9mZnNldFxuICogQHBhcmFtIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gcGFyc2VHTFRGQ29udGFpbmVyU3luYyhnbHRmLCBkYXRhLCBieXRlT2Zmc2V0LCBvcHRpb25zKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBnbHRmIGNvbnRhaW5lclxuICAgIGlmIChvcHRpb25zLnVyaSkge1xuICAgICAgICBnbHRmLmJhc2VVcmkgPSBvcHRpb25zLnVyaTtcbiAgICB9XG4gICAgLy8gSWYgZGF0YSBpcyBiaW5hcnkgYW5kIHN0YXJ0aW5nIHdpdGggbWFnaWMgYnl0ZXMsIGFzc3VtZSBiaW5hcnkgSlNPTiB0ZXh0LCBjb252ZXJ0IHRvIHN0cmluZ1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgJiYgIWlzR0xCKGRhdGEsIGJ5dGVPZmZzZXQsIG9wdGlvbnMpKSB7XG4gICAgICAgIGNvbnN0IHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICAgIGRhdGEgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoZGF0YSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSWYgc3RyaW5nLCB0cnkgdG8gcGFyc2UgYXMgSlNPTlxuICAgICAgICBnbHRmLmpzb24gPSBwYXJzZUpTT04oZGF0YSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAvLyBJZiBzdGlsbCBBcnJheUJ1ZmZlciwgcGFyc2UgYXMgR0xCIGNvbnRhaW5lclxuICAgICAgICBjb25zdCBnbGIgPSB7fTtcbiAgICAgICAgYnl0ZU9mZnNldCA9IHBhcnNlR0xCU3luYyhnbGIsIGRhdGEsIGJ5dGVPZmZzZXQsIG9wdGlvbnMuZ2xiKTtcbiAgICAgICAgYXNzZXJ0KGdsYi50eXBlID09PSAnZ2xURicsIGBJbnZhbGlkIEdMQiBtYWdpYyBzdHJpbmcgJHtnbGIudHlwZX1gKTtcbiAgICAgICAgZ2x0Zi5fZ2xiID0gZ2xiO1xuICAgICAgICBnbHRmLmpzb24gPSBnbGIuanNvbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2VydChmYWxzZSwgJ0dMVEY6IG11c3QgYmUgQXJyYXlCdWZmZXIgb3Igc3RyaW5nJyk7XG4gICAgfVxuICAgIC8vIFBvcHVsYXRlIGJ1ZmZlcnNcbiAgICAvLyBDcmVhdGUgYW4gZXh0ZXJuYWwgYnVmZmVycyBhcnJheSB0byBob2xkIGJpbmFyeSBkYXRhXG4gICAgY29uc3QgYnVmZmVycyA9IGdsdGYuanNvbi5idWZmZXJzIHx8IFtdO1xuICAgIGdsdGYuYnVmZmVycyA9IG5ldyBBcnJheShidWZmZXJzLmxlbmd0aCkuZmlsbChudWxsKTtcbiAgICAvLyBQb3B1bGF0ZXMgSlNPTiBhbmQgc29tZSBiaW4gY2h1bmsgaW5mb1xuICAgIGlmIChnbHRmLl9nbGIgJiYgZ2x0Zi5fZ2xiLmhlYWRlci5oYXNCaW5DaHVuaykge1xuICAgICAgICBjb25zdCB7IGJpbkNodW5rcyB9ID0gZ2x0Zi5fZ2xiO1xuICAgICAgICBnbHRmLmJ1ZmZlcnNbMF0gPSB7XG4gICAgICAgICAgICBhcnJheUJ1ZmZlcjogYmluQ2h1bmtzWzBdLmFycmF5QnVmZmVyLFxuICAgICAgICAgICAgYnl0ZU9mZnNldDogYmluQ2h1bmtzWzBdLmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICBieXRlTGVuZ3RoOiBiaW5DaHVua3NbMF0uYnl0ZUxlbmd0aFxuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPIC0gdGhpcyBtb2RpZmllcyBKU09OIGFuZCBpcyBhIHBvc3QgcHJvY2Vzc2luZyB0aGluZ1xuICAgICAgICAvLyBnbHRmLmpzb24uYnVmZmVyc1swXS5kYXRhID0gZ2x0Zi5idWZmZXJzWzBdLmFycmF5QnVmZmVyO1xuICAgICAgICAvLyBnbHRmLmpzb24uYnVmZmVyc1swXS5ieXRlT2Zmc2V0ID0gZ2x0Zi5idWZmZXJzWzBdLmJ5dGVPZmZzZXQ7XG4gICAgfVxuICAgIC8vIFBvcHVsYXRlIGltYWdlc1xuICAgIGNvbnN0IGltYWdlcyA9IGdsdGYuanNvbi5pbWFnZXMgfHwgW107XG4gICAgZ2x0Zi5pbWFnZXMgPSBuZXcgQXJyYXkoaW1hZ2VzLmxlbmd0aCkuZmlsbCh7fSk7XG59XG4vKiogQXN5bmNocm9ub3VzbHkgZmV0Y2ggYW5kIHBhcnNlIGJ1ZmZlcnMsIHN0b3JlIGluIGJ1ZmZlcnMgYXJyYXkgb3V0c2lkZSBvZiBqc29uXG4gKiBUT0RPIC0gdHJhdmVyc2UgZ2x0ZiBhbmQgZGV0ZXJtaW5lIHdoaWNoIGJ1ZmZlcnMgYXJlIGFjdHVhbGx5IG5lZWRlZFxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkQnVmZmVycyhnbHRmLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgLy8gVE9ET1xuICAgIGNvbnN0IGJ1ZmZlcnMgPSBnbHRmLmpzb24uYnVmZmVycyB8fCBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gYnVmZmVyc1tpXTtcbiAgICAgICAgaWYgKGJ1ZmZlci51cmkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZmV0Y2ggfSA9IGNvbnRleHQ7XG4gICAgICAgICAgICBhc3NlcnQoZmV0Y2gpO1xuICAgICAgICAgICAgY29uc3QgdXJpID0gcmVzb2x2ZVVybChidWZmZXIudXJpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY29udGV4dD8uZmV0Y2g/Lih1cmkpO1xuICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCByZXNwb25zZT8uYXJyYXlCdWZmZXI/LigpO1xuICAgICAgICAgICAgZ2x0Zi5idWZmZXJzW2ldID0ge1xuICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyLFxuICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aDogYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlbGV0ZSBidWZmZXIudXJpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdsdGYuYnVmZmVyc1tpXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZ2x0Zi5idWZmZXJzW2ldID0ge1xuICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyOiBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyLmJ5dGVMZW5ndGgpLFxuICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aDogYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIExvYWRzIGFsbCBpbWFnZXNcbiAqIFRPRE8gLSB0cmF2ZXJzZSBnbHRmIGFuZCBkZXRlcm1pbmUgd2hpY2ggaW1hZ2VzIGFyZSBhY3R1YWxseSBuZWVkZWRcbiAqIEBwYXJhbSBnbHRmXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGNvbnRleHRcbiAqIEByZXR1cm5zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZXMoZ2x0Ziwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGNvbnN0IGltYWdlSW5kaWNlcyA9IGdldFJlZmVyZW5jZXNJbWFnZUluZGljZXMoZ2x0Zik7XG4gICAgY29uc3QgaW1hZ2VzID0gZ2x0Zi5qc29uLmltYWdlcyB8fCBbXTtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgaW1hZ2VJbmRleCBvZiBpbWFnZUluZGljZXMpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChsb2FkSW1hZ2UoZ2x0ZiwgaW1hZ2VzW2ltYWdlSW5kZXhdLCBpbWFnZUluZGV4LCBvcHRpb25zLCBjb250ZXh0KSk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59XG4vKiogTWFrZSBzdXJlIHdlIG9ubHkgbG9hZCBpbWFnZXMgdGhhdCBhcmUgYWN0dWFsbHkgcmVmZXJlbmNlZCBieSB0ZXh0dXJlcyAqL1xuZnVuY3Rpb24gZ2V0UmVmZXJlbmNlc0ltYWdlSW5kaWNlcyhnbHRmKSB7XG4gICAgY29uc3QgaW1hZ2VJbmRpY2VzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHRleHR1cmVzID0gZ2x0Zi5qc29uLnRleHR1cmVzIHx8IFtdO1xuICAgIGZvciAoY29uc3QgdGV4dHVyZSBvZiB0ZXh0dXJlcykge1xuICAgICAgICBpZiAodGV4dHVyZS5zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW1hZ2VJbmRpY2VzLmFkZCh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20oaW1hZ2VJbmRpY2VzKS5zb3J0KCk7XG59XG4vKiogQXN5bmNocm9ub3VzbHkgZmV0Y2hlcyBhbmQgcGFyc2VzIG9uZSBpbWFnZSwgc3RvcmUgaW4gaW1hZ2VzIGFycmF5IG91dHNpZGUgb2YganNvbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlKGdsdGYsIGltYWdlLCBpbmRleCwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGxldCBhcnJheUJ1ZmZlcjtcbiAgICBpZiAoaW1hZ2UudXJpICYmICFpbWFnZS5oYXNPd25Qcm9wZXJ0eSgnYnVmZmVyVmlldycpKSB7XG4gICAgICAgIGNvbnN0IHVyaSA9IHJlc29sdmVVcmwoaW1hZ2UudXJpLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgeyBmZXRjaCB9ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmkpO1xuICAgICAgICBhcnJheUJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIGltYWdlLmJ1ZmZlclZpZXcgPSB7XG4gICAgICAgICAgICBkYXRhOiBhcnJheUJ1ZmZlclxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGltYWdlLmJ1ZmZlclZpZXcpKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcoZ2x0Zi5qc29uLCBnbHRmLmJ1ZmZlcnMsIGltYWdlLmJ1ZmZlclZpZXcpO1xuICAgICAgICBhcnJheUJ1ZmZlciA9IHNsaWNlQXJyYXlCdWZmZXIoYXJyYXkuYnVmZmVyLCBhcnJheS5ieXRlT2Zmc2V0LCBhcnJheS5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgYXNzZXJ0KGFycmF5QnVmZmVyLCAnZ2xURiBpbWFnZSBoYXMgbm8gZGF0YScpO1xuICAgIC8vIENhbGwgYHBhcnNlYFxuICAgIGxldCBwYXJzZWRJbWFnZSA9IChhd2FpdCBwYXJzZUZyb21Db250ZXh0KGFycmF5QnVmZmVyLCBbSW1hZ2VMb2FkZXIsIEJhc2lzTG9hZGVyXSwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBtaW1lVHlwZTogaW1hZ2UubWltZVR5cGUsXG4gICAgICAgIGJhc2lzOiBvcHRpb25zLmJhc2lzIHx8IHsgZm9ybWF0OiBzZWxlY3RTdXBwb3J0ZWRCYXNpc0Zvcm1hdCgpIH1cbiAgICB9LCBjb250ZXh0KSk7XG4gICAgaWYgKHBhcnNlZEltYWdlICYmIHBhcnNlZEltYWdlWzBdKSB7XG4gICAgICAgIHBhcnNlZEltYWdlID0ge1xuICAgICAgICAgICAgY29tcHJlc3NlZDogdHJ1ZSxcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIG1pcG1hcHM6IGZhbHNlLFxuICAgICAgICAgICAgd2lkdGg6IHBhcnNlZEltYWdlWzBdLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZWRJbWFnZVswXS5oZWlnaHQsXG4gICAgICAgICAgICBkYXRhOiBwYXJzZWRJbWFnZVswXVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBUT0RPIG1ha2luZyBzdXJlIEltYWdlTG9hZGVyIGlzIG92ZXJyaWRhYmxlIGJ5IHVzaW5nIGFycmF5IG9mIGxvYWRlcnNcbiAgICAvLyBjb25zdCBwYXJzZWRJbWFnZSA9IGF3YWl0IHBhcnNlKGFycmF5QnVmZmVyLCBbSW1hZ2VMb2FkZXJdKTtcbiAgICAvLyBTdG9yZSB0aGUgbG9hZGVkIGltYWdlXG4gICAgZ2x0Zi5pbWFnZXMgPSBnbHRmLmltYWdlcyB8fCBbXTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gLSBzb3J0IG91dCBpbWFnZSB0eXBpbmcgYXNhcFxuICAgIGdsdGYuaW1hZ2VzW2luZGV4XSA9IHBhcnNlZEltYWdlO1xufVxuIiwiaW1wb3J0IHsgZ2V0Rmlyc3RDaGFyYWN0ZXJzIH0gZnJvbSBcIi4uL2JpbmFyeS11dGlscy9nZXQtZmlyc3QtY2hhcmFjdGVycy5qc1wiO1xuLyoqXG4gKiBNaW5pbWFsIEpTT04gcGFyc2VyIHRoYXQgdGhyb3dzIG1vcmUgbWVhbmluZ2Z1bCBlcnJvciBtZXNzYWdlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKU09OKHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cmluZyk7XG4gICAgfVxuICAgIGNhdGNoIChfKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIEpTT04gZnJvbSBkYXRhIHN0YXJ0aW5nIHdpdGggXCIke2dldEZpcnN0Q2hhcmFjdGVycyhzdHJpbmcpfVwiYCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuL2xpYi91dGlscy92ZXJzaW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUdMVEYgfSBmcm9tIFwiLi9saWIvcGFyc2Vycy9wYXJzZS1nbHRmLmpzXCI7XG4vKipcbiAqIEdMVEYgbG9hZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBHTFRGTG9hZGVyID0ge1xuICAgIGRhdGFUeXBlOiBudWxsLFxuICAgIGJhdGNoVHlwZTogbnVsbCxcbiAgICBuYW1lOiAnZ2xURicsXG4gICAgaWQ6ICdnbHRmJyxcbiAgICBtb2R1bGU6ICdnbHRmJyxcbiAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgIGV4dGVuc2lvbnM6IFsnZ2x0ZicsICdnbGInXSxcbiAgICBtaW1lVHlwZXM6IFsnbW9kZWwvZ2x0Zitqc29uJywgJ21vZGVsL2dsdGYtYmluYXJ5J10sXG4gICAgdGV4dDogdHJ1ZSxcbiAgICBiaW5hcnk6IHRydWUsXG4gICAgdGVzdHM6IFsnZ2xURiddLFxuICAgIHBhcnNlLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZ2x0Zjoge1xuICAgICAgICAgICAgbm9ybWFsaXplOiB0cnVlLCAvLyBOb3JtYWxpemUgZ2xURiB2MSB0byBnbFRGIHYyIGZvcm1hdCAobm90IHlldCBzdGFibGUpXG4gICAgICAgICAgICBsb2FkQnVmZmVyczogdHJ1ZSwgLy8gRmV0Y2ggYW55IGxpbmtlZCAuQklOIGJ1ZmZlcnMsIGRlY29kZSBiYXNlNjRcbiAgICAgICAgICAgIGxvYWRJbWFnZXM6IHRydWUsIC8vIENyZWF0ZSBpbWFnZSBvYmplY3RzXG4gICAgICAgICAgICBkZWNvbXByZXNzTWVzaGVzOiB0cnVlIC8vIERlY29tcHJlc3MgRHJhY28gZW5jb2RlZCBtZXNoZXNcbiAgICAgICAgfSxcbiAgICAgICAgLy8gY29tbW9uP1xuICAgICAgICBsb2c6IGNvbnNvbGUgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cbn07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2UoYXJyYXlCdWZmZXIsIG9wdGlvbnMgPSB7fSwgY29udGV4dCkge1xuICAgIC8vIEFwcHMgY2FuIGNhbGwgdGhlIHBhcnNlIG1ldGhvZCBkaXJlY3RseSwgd2Ugc28gYXBwbHkgZGVmYXVsdCBvcHRpb25zIGhlcmVcbiAgICBvcHRpb25zID0geyAuLi5HTFRGTG9hZGVyLm9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgb3B0aW9ucy5nbHRmID0geyAuLi5HTFRGTG9hZGVyLm9wdGlvbnMuZ2x0ZiwgLi4ub3B0aW9ucy5nbHRmIH07XG4gICAgY29uc3QgeyBieXRlT2Zmc2V0ID0gMCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBnbHRmID0ge307XG4gICAgcmV0dXJuIGF3YWl0IHBhcnNlR0xURihnbHRmLCBhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgb3B0aW9ucywgY29udGV4dCk7XG59XG4iLCIvLyBWZXJzaW9uIGNvbnN0YW50IGNhbm5vdCBiZSBpbXBvcnRlZCwgaXQgbmVlZHMgdG8gY29ycmVzcG9uZCB0byB0aGUgYnVpbGQgdmVyc2lvbiBvZiAqKnRoaXMqKiBtb2R1bGUuXG4vLyBfX1ZFUlNJT05fXyBpcyBpbmplY3RlZCBieSBiYWJlbC1wbHVnaW4tdmVyc2lvbi1pbmxpbmVcbi8vIEB0cy1pZ25vcmUgVFMyMzA0OiBDYW5ub3QgZmluZCBuYW1lICdfX1ZFUlNJT05fXycuXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9IHR5cGVvZiBcIjQuMy4zXCIgIT09ICd1bmRlZmluZWQnID8gXCI0LjMuM1wiIDogJ2xhdGVzdCc7XG4iLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcblxuLyoqXG4gKiAzeDMgTWF0cml4XG4gKiBAbW9kdWxlIG1hdDNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0M1xuICpcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzVdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gIH1cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHVwcGVyLWxlZnQgM3gzIHZhbHVlcyBpbnRvIHRoZSBnaXZlbiBtYXQzLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgM3gzIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgICB0aGUgc291cmNlIDR4NCBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQ0KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzRdO1xuICBvdXRbNF0gPSBhWzVdO1xuICBvdXRbNV0gPSBhWzZdO1xuICBvdXRbNl0gPSBhWzhdO1xuICBvdXRbN10gPSBhWzldO1xuICBvdXRbOF0gPSBhWzEwXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0MyB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQzIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEByZXR1cm5zIHttYXQzfSBBIG5ldyBtYXQzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMTA7XG4gIG91dFs0XSA9IG0xMTtcbiAgb3V0WzVdID0gbTEyO1xuICBvdXRbNl0gPSBtMjA7XG4gIG91dFs3XSA9IG0yMTtcbiAgb3V0WzhdID0gbTIyO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDMgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0xMDtcbiAgb3V0WzRdID0gbTExO1xuICBvdXRbNV0gPSBtMTI7XG4gIG91dFs2XSA9IG0yMDtcbiAgb3V0WzddID0gbTIxO1xuICBvdXRbOF0gPSBtMjI7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2V0IGEgbWF0MyB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMTIgPSBhWzVdO1xuICAgIG91dFsxXSA9IGFbM107XG4gICAgb3V0WzJdID0gYVs2XTtcbiAgICBvdXRbM10gPSBhMDE7XG4gICAgb3V0WzVdID0gYVs3XTtcbiAgICBvdXRbNl0gPSBhMDI7XG4gICAgb3V0WzddID0gYTEyO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVszXTtcbiAgICBvdXRbMl0gPSBhWzZdO1xuICAgIG91dFszXSA9IGFbMV07XG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzddO1xuICAgIG91dFs2XSA9IGFbMl07XG4gICAgb3V0WzddID0gYVs1XTtcbiAgICBvdXRbOF0gPSBhWzhdO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzIHwgbnVsbH0gb3V0LCBvciBudWxsIGlmIHNvdXJjZSBtYXRyaXggaXMgbm90IGludmVydGlibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgYTAxID0gYVsxXSxcbiAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICBhMTEgPSBhWzRdLFxuICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgIGEyMSA9IGFbN10sXG4gICAgYTIyID0gYVs4XTtcbiAgdmFyIGIwMSA9IGEyMiAqIGExMSAtIGExMiAqIGEyMTtcbiAgdmFyIGIxMSA9IC1hMjIgKiBhMTAgKyBhMTIgKiBhMjA7XG4gIHZhciBiMjEgPSBhMjEgKiBhMTAgLSBhMTEgKiBhMjA7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuICB2YXIgZGV0ID0gYTAwICogYjAxICsgYTAxICogYjExICsgYTAyICogYjIxO1xuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gYjAxICogZGV0O1xuICBvdXRbMV0gPSAoLWEyMiAqIGEwMSArIGEwMiAqIGEyMSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMTIgKiBhMDEgLSBhMDIgKiBhMTEpICogZGV0O1xuICBvdXRbM10gPSBiMTEgKiBkZXQ7XG4gIG91dFs0XSA9IChhMjIgKiBhMDAgLSBhMDIgKiBhMjApICogZGV0O1xuICBvdXRbNV0gPSAoLWExMiAqIGEwMCArIGEwMiAqIGExMCkgKiBkZXQ7XG4gIG91dFs2XSA9IGIyMSAqIGRldDtcbiAgb3V0WzddID0gKC1hMjEgKiBhMDAgKyBhMDEgKiBhMjApICogZGV0O1xuICBvdXRbOF0gPSAoYTExICogYTAwIC0gYTAxICogYTEwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXTtcbiAgdmFyIGExMCA9IGFbM10sXG4gICAgYTExID0gYVs0XSxcbiAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICBhMjEgPSBhWzddLFxuICAgIGEyMiA9IGFbOF07XG4gIG91dFswXSA9IGExMSAqIGEyMiAtIGExMiAqIGEyMTtcbiAgb3V0WzFdID0gYTAyICogYTIxIC0gYTAxICogYTIyO1xuICBvdXRbMl0gPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIG91dFszXSA9IGExMiAqIGEyMCAtIGExMCAqIGEyMjtcbiAgb3V0WzRdID0gYTAwICogYTIyIC0gYTAyICogYTIwO1xuICBvdXRbNV0gPSBhMDIgKiBhMTAgLSBhMDAgKiBhMTI7XG4gIG91dFs2XSA9IGExMCAqIGEyMSAtIGExMSAqIGEyMDtcbiAgb3V0WzddID0gYTAxICogYTIwIC0gYTAwICogYTIxO1xuICBvdXRbOF0gPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgYTAxID0gYVsxXSxcbiAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICBhMTEgPSBhWzRdLFxuICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgIGEyMSA9IGFbN10sXG4gICAgYTIyID0gYVs4XTtcbiAgcmV0dXJuIGEwMCAqIChhMjIgKiBhMTEgLSBhMTIgKiBhMjEpICsgYTAxICogKC1hMjIgKiBhMTAgKyBhMTIgKiBhMjApICsgYTAyICogKGEyMSAqIGExMCAtIGExMSAqIGEyMCk7XG59XG5cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0MydzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICBhMDEgPSBhWzFdLFxuICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgIGExMSA9IGFbNF0sXG4gICAgYTEyID0gYVs1XTtcbiAgdmFyIGEyMCA9IGFbNl0sXG4gICAgYTIxID0gYVs3XSxcbiAgICBhMjIgPSBhWzhdO1xuICB2YXIgYjAwID0gYlswXSxcbiAgICBiMDEgPSBiWzFdLFxuICAgIGIwMiA9IGJbMl07XG4gIHZhciBiMTAgPSBiWzNdLFxuICAgIGIxMSA9IGJbNF0sXG4gICAgYjEyID0gYls1XTtcbiAgdmFyIGIyMCA9IGJbNl0sXG4gICAgYjIxID0gYls3XSxcbiAgICBiMjIgPSBiWzhdO1xuICBvdXRbMF0gPSBiMDAgKiBhMDAgKyBiMDEgKiBhMTAgKyBiMDIgKiBhMjA7XG4gIG91dFsxXSA9IGIwMCAqIGEwMSArIGIwMSAqIGExMSArIGIwMiAqIGEyMTtcbiAgb3V0WzJdID0gYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyO1xuICBvdXRbM10gPSBiMTAgKiBhMDAgKyBiMTEgKiBhMTAgKyBiMTIgKiBhMjA7XG4gIG91dFs0XSA9IGIxMCAqIGEwMSArIGIxMSAqIGExMSArIGIxMiAqIGEyMTtcbiAgb3V0WzVdID0gYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyO1xuICBvdXRbNl0gPSBiMjAgKiBhMDAgKyBiMjEgKiBhMTAgKyBiMjIgKiBhMjA7XG4gIG91dFs3XSA9IGIyMCAqIGEwMSArIGIyMSAqIGExMSArIGIyMiAqIGEyMTtcbiAgb3V0WzhdID0gYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDMgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICBhMDEgPSBhWzFdLFxuICAgIGEwMiA9IGFbMl0sXG4gICAgYTEwID0gYVszXSxcbiAgICBhMTEgPSBhWzRdLFxuICAgIGExMiA9IGFbNV0sXG4gICAgYTIwID0gYVs2XSxcbiAgICBhMjEgPSBhWzddLFxuICAgIGEyMiA9IGFbOF0sXG4gICAgeCA9IHZbMF0sXG4gICAgeSA9IHZbMV07XG4gIG91dFswXSA9IGEwMDtcbiAgb3V0WzFdID0gYTAxO1xuICBvdXRbMl0gPSBhMDI7XG4gIG91dFszXSA9IGExMDtcbiAgb3V0WzRdID0gYTExO1xuICBvdXRbNV0gPSBhMTI7XG4gIG91dFs2XSA9IHggKiBhMDAgKyB5ICogYTEwICsgYTIwO1xuICBvdXRbN10gPSB4ICogYTAxICsgeSAqIGExMSArIGEyMTtcbiAgb3V0WzhdID0geCAqIGEwMiArIHkgKiBhMTIgKyBhMjI7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIG1hdDMgYnkgdGhlIGdpdmVuIGFuZ2xlXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXSxcbiAgICBhMTAgPSBhWzNdLFxuICAgIGExMSA9IGFbNF0sXG4gICAgYTEyID0gYVs1XSxcbiAgICBhMjAgPSBhWzZdLFxuICAgIGEyMSA9IGFbN10sXG4gICAgYTIyID0gYVs4XSxcbiAgICBzID0gTWF0aC5zaW4ocmFkKSxcbiAgICBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYyAqIGEwMCArIHMgKiBhMTA7XG4gIG91dFsxXSA9IGMgKiBhMDEgKyBzICogYTExO1xuICBvdXRbMl0gPSBjICogYTAyICsgcyAqIGExMjtcbiAgb3V0WzNdID0gYyAqIGExMCAtIHMgKiBhMDA7XG4gIG91dFs0XSA9IGMgKiBhMTEgLSBzICogYTAxO1xuICBvdXRbNV0gPSBjICogYTEyIC0gcyAqIGEwMjtcbiAgb3V0WzZdID0gYTIwO1xuICBvdXRbN10gPSBhMjE7XG4gIG91dFs4XSA9IGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTY2FsZXMgdGhlIG1hdDMgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzJcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdGhlIHZlYzIgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgeSA9IHZbMV07XG4gIG91dFswXSA9IHggKiBhWzBdO1xuICBvdXRbMV0gPSB4ICogYVsxXTtcbiAgb3V0WzJdID0geCAqIGFbMl07XG4gIG91dFszXSA9IHkgKiBhWzNdO1xuICBvdXRbNF0gPSB5ICogYVs0XTtcbiAgb3V0WzVdID0geSAqIGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQzLnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSB2WzBdO1xuICBvdXRbN10gPSB2WzFdO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQzLnJvdGF0ZShkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpLFxuICAgIGMgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAtcztcbiAgb3V0WzRdID0gYztcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gdlsxXTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBmcm9tIGEgbWF0MmQgaW50byBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBtYXRyaXggdG8gY29weVxuICogQHJldHVybnMge21hdDN9IG91dFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQyZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gYVsyXTtcbiAgb3V0WzRdID0gYVszXTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gYVs0XTtcbiAgb3V0WzddID0gYVs1XTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgIHkgPSBxWzFdLFxuICAgIHogPSBxWzJdLFxuICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzNdID0geXggLSB3ejtcbiAgb3V0WzZdID0genggKyB3eTtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzRdID0gMSAtIHh4IC0geno7XG4gIG91dFs3XSA9IHp5IC0gd3g7XG4gIG91dFsyXSA9IHp4IC0gd3k7XG4gIG91dFs1XSA9IHp5ICsgd3g7XG4gIG91dFs4XSA9IDEgLSB4eCAtIHl5O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgYSAzeDMgbm9ybWFsIG1hdHJpeCAodHJhbnNwb3NlIGludmVyc2UpIGZyb20gdGhlIDR4NCBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBNYXQ0IHRvIGRlcml2ZSB0aGUgbm9ybWFsIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsRnJvbU1hdDQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXSxcbiAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICBhMTEgPSBhWzVdLFxuICAgIGExMiA9IGFbNl0sXG4gICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgYTIxID0gYVs5XSxcbiAgICBhMjIgPSBhWzEwXSxcbiAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgIGEzMSA9IGFbMTNdLFxuICAgIGEzMiA9IGFbMTRdLFxuICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzJdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFszXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbNF0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbN10gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgMkQgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHlvdXIgZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgZ2wgY29udGV4dFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbihvdXQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgb3V0WzBdID0gMiAvIHdpZHRoO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtMiAvIGhlaWdodDtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gLTE7XG4gIG91dFs3XSA9IDE7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0MyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiKVwiO1xufVxuXG4vKipcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byBjYWxjdWxhdGUgRnJvYmVuaXVzIG5vcm0gb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguc3FydChhWzBdICogYVswXSArIGFbMV0gKiBhWzFdICsgYVsyXSAqIGFbMl0gKyBhWzNdICogYVszXSArIGFbNF0gKiBhWzRdICsgYVs1XSAqIGFbNV0gKyBhWzZdICogYVs2XSArIGFbN10gKiBhWzddICsgYVs4XSAqIGFbOF0pO1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIG1hdDMnc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgb3V0WzRdID0gYVs0XSAqIGI7XG4gIG91dFs1XSA9IGFbNV0gKiBiO1xuICBvdXRbNl0gPSBhWzZdICogYjtcbiAgb3V0WzddID0gYVs3XSAqIGI7XG4gIG91dFs4XSA9IGFbOF0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIG1hdDMncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICBhMSA9IGFbMV0sXG4gICAgYTIgPSBhWzJdLFxuICAgIGEzID0gYVszXSxcbiAgICBhNCA9IGFbNF0sXG4gICAgYTUgPSBhWzVdLFxuICAgIGE2ID0gYVs2XSxcbiAgICBhNyA9IGFbN10sXG4gICAgYTggPSBhWzhdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdLFxuICAgIGI0ID0gYls0XSxcbiAgICBiNSA9IGJbNV0sXG4gICAgYjYgPSBiWzZdLFxuICAgIGI3ID0gYls3XSxcbiAgICBiOCA9IGJbOF07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKTtcbn1cblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcblxuLyoqXG4gKiAyeDIgTWF0cml4XG4gKiBAbW9kdWxlIG1hdDJcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0MlxuICpcbiAqIEByZXR1cm5zIHttYXQyfSBhIG5ldyAyeDIgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG4gIG91dFswXSA9IDE7XG4gIG91dFszXSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQyIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgbWF0cml4IHRvIGNsb25lXG4gKiBAcmV0dXJucyB7bWF0Mn0gYSBuZXcgMngyIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDIgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTZXQgYSBtYXQyIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDIgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHJldHVybnMge21hdDJ9IG91dCBBIG5ldyAyeDIgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCwgbTAxLCBtMTAsIG0xMSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMTA7XG4gIG91dFszXSA9IG0xMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQyIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0xMCwgbTExKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMTA7XG4gIG91dFszXSA9IG0xMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZVxuICAvLyBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGExID0gYVsxXTtcbiAgICBvdXRbMV0gPSBhWzJdO1xuICAgIG91dFsyXSA9IGExO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVsyXTtcbiAgICBvdXRbMl0gPSBhWzFdO1xuICAgIG91dFszXSA9IGFbM107XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBJbnZlcnRzIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDIgfCBudWxsfSBvdXQsIG9yIG51bGwgaWYgc291cmNlIG1hdHJpeCBpcyBub3QgaW52ZXJ0aWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgIGExID0gYVsxXSxcbiAgICBhMiA9IGFbMl0sXG4gICAgYTMgPSBhWzNdO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcbiAgdmFyIGRldCA9IGEwICogYTMgLSBhMiAqIGExO1xuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gYTMgKiBkZXQ7XG4gIG91dFsxXSA9IC1hMSAqIGRldDtcbiAgb3V0WzJdID0gLWEyICogZGV0O1xuICBvdXRbM10gPSBhMCAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIC8vIENhY2hpbmcgdGhpcyB2YWx1ZSBpcyBuZWNlc3NhcnkgaWYgb3V0ID09IGFcbiAgdmFyIGEwID0gYVswXTtcbiAgb3V0WzBdID0gYVszXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSBhMDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICByZXR1cm4gYVswXSAqIGFbM10gLSBhWzJdICogYVsxXTtcbn1cblxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQyJ3NcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgYTEgPSBhWzFdLFxuICAgIGEyID0gYVsyXSxcbiAgICBhMyA9IGFbM107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgYjEgPSBiWzFdLFxuICAgIGIyID0gYlsyXSxcbiAgICBiMyA9IGJbM107XG4gIG91dFswXSA9IGEwICogYjAgKyBhMiAqIGIxO1xuICBvdXRbMV0gPSBhMSAqIGIwICsgYTMgKiBiMTtcbiAgb3V0WzJdID0gYTAgKiBiMiArIGEyICogYjM7XG4gIG91dFszXSA9IGExICogYjIgKyBhMyAqIGIzO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZXMgYSBtYXQyIGJ5IHRoZSBnaXZlbiBhbmdsZVxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCkge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgIGExID0gYVsxXSxcbiAgICBhMiA9IGFbMl0sXG4gICAgYTMgPSBhWzNdO1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYTAgKiBjICsgYTIgKiBzO1xuICBvdXRbMV0gPSBhMSAqIGMgKyBhMyAqIHM7XG4gIG91dFsyXSA9IGEwICogLXMgKyBhMiAqIGM7XG4gIG91dFszXSA9IGExICogLXMgKyBhMyAqIGM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQyIGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMyXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgYTEgPSBhWzFdLFxuICAgIGEyID0gYVsyXSxcbiAgICBhMyA9IGFbM107XG4gIHZhciB2MCA9IHZbMF0sXG4gICAgdjEgPSB2WzFdO1xuICBvdXRbMF0gPSBhMCAqIHYwO1xuICBvdXRbMV0gPSBhMSAqIHYwO1xuICBvdXRbMl0gPSBhMiAqIHYxO1xuICBvdXRbM10gPSBhMyAqIHYxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0Mi5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQyLnJvdGF0ZShkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IG1hdDIgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IHM7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSBjO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0Mi5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQyLnNjYWxlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgbWF0MiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSB2WzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQyXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcIm1hdDIoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIpXCI7XG59XG5cbi8qKlxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb2IoYSkge1xuICByZXR1cm4gTWF0aC5zcXJ0KGFbMF0gKiBhWzBdICsgYVsxXSAqIGFbMV0gKyBhWzJdICogYVsyXSArIGFbM10gKiBhWzNdKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIEwsIEQgYW5kIFUgbWF0cmljZXMgKExvd2VyIHRyaWFuZ3VsYXIsIERpYWdvbmFsIGFuZCBVcHBlciB0cmlhbmd1bGFyKSBieSBmYWN0b3JpemluZyB0aGUgaW5wdXQgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gTCB0aGUgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBEIHRoZSBkaWFnb25hbCBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBVIHRoZSB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGlucHV0IG1hdHJpeCB0byBmYWN0b3JpemVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gTERVKEwsIEQsIFUsIGEpIHtcbiAgTFsyXSA9IGFbMl0gLyBhWzBdO1xuICBVWzBdID0gYVswXTtcbiAgVVsxXSA9IGFbMV07XG4gIFVbM10gPSBhWzNdIC0gTFsyXSAqIFVbMV07XG4gIHJldHVybiBbTCwgRCwgVV07XG59XG5cbi8qKlxuICogQWRkcyB0d28gbWF0MidzXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQyfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDJ9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDJ9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgIGExID0gYVsxXSxcbiAgICBhMiA9IGFbMl0sXG4gICAgYTMgPSBhWzNdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpO1xufVxuXG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWRkcyB0d28gbWF0MidzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXG4gKlxuICogQHBhcmFtIHttYXQyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7bWF0Mn0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQyLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQyLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBSZXBsYWNlbWVudCBmb3IgdGhlIGV4dGVybmFsIGFzc2VydCBtZXRob2QgdG8gcmVkdWNlIGJ1bmRsZSBzaXplXG4vLyBOb3RlOiBXZSBkb24ndCB1c2UgdGhlIHNlY29uZCBcIm1lc3NhZ2VcIiBhcmd1bWVudCBpbiBjYWxsaW5nIGNvZGUsXG4vLyBzbyBubyBuZWVkIHRvIHN1cHBvcnQgaXQgaGVyZVxuLyoqIFRocm93cyBhbiBgRXJyb3JgIHdpdGggdGhlIG9wdGlvbmFsIGBtZXNzYWdlYCBpZiBgY29uZGl0aW9uYCBpcyBmYWxzeSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSB8fCAnbG9hZGVycy5nbCBhc3NlcnRpb24gZmFpbGVkLicpO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIDR4NCBNYXRyaXg8YnI+Rm9ybWF0OiBjb2x1bW4tbWFqb3IsIHdoZW4gdHlwZWQgb3V0IGl0IGxvb2tzIGxpa2Ugcm93LW1ham9yPGJyPlRoZSBtYXRyaWNlcyBhcmUgYmVpbmcgcG9zdCBtdWx0aXBsaWVkLlxuICogQG1vZHVsZSBtYXQ0XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDRcbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgICBvdXRbOF0gPSAwO1xuICAgIG91dFs5XSA9IDA7XG4gICAgb3V0WzExXSA9IDA7XG4gICAgb3V0WzEyXSA9IDA7XG4gICAgb3V0WzEzXSA9IDA7XG4gICAgb3V0WzE0XSA9IDA7XG4gIH1cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0NCB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICBvdXRbOV0gPSBhWzldO1xuICBvdXRbMTBdID0gYVsxMF07XG4gIG91dFsxMV0gPSBhWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQ0IHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBBIG5ldyBtYXQ0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMDM7XG4gIG91dFs0XSA9IG0xMDtcbiAgb3V0WzVdID0gbTExO1xuICBvdXRbNl0gPSBtMTI7XG4gIG91dFs3XSA9IG0xMztcbiAgb3V0WzhdID0gbTIwO1xuICBvdXRbOV0gPSBtMjE7XG4gIG91dFsxMF0gPSBtMjI7XG4gIG91dFsxMV0gPSBtMjM7XG4gIG91dFsxMl0gPSBtMzA7XG4gIG91dFsxM10gPSBtMzE7XG4gIG91dFsxNF0gPSBtMzI7XG4gIG91dFsxNV0gPSBtMzM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0NCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMDM7XG4gIG91dFs0XSA9IG0xMDtcbiAgb3V0WzVdID0gbTExO1xuICBvdXRbNl0gPSBtMTI7XG4gIG91dFs3XSA9IG0xMztcbiAgb3V0WzhdID0gbTIwO1xuICBvdXRbOV0gPSBtMjE7XG4gIG91dFsxMF0gPSBtMjI7XG4gIG91dFsxMV0gPSBtMjM7XG4gIG91dFsxMl0gPSBtMzA7XG4gIG91dFsxM10gPSBtMzE7XG4gIG91dFsxNF0gPSBtMzI7XG4gIG91dFsxNV0gPSBtMzM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2V0IGEgbWF0NCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICAgIHZhciBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgICB2YXIgYTIzID0gYVsxMV07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGEwMTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGEwMjtcbiAgICBvdXRbOV0gPSBhMTI7XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhMDM7XG4gICAgb3V0WzEzXSA9IGExMztcbiAgICBvdXRbMTRdID0gYTIzO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGFbMV07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGFbMl07XG4gICAgb3V0WzldID0gYVs2XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhWzNdO1xuICAgIG91dFsxM10gPSBhWzddO1xuICAgIG91dFsxNF0gPSBhWzExXTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBJbnZlcnRzIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDQgfCBudWxsfSBvdXQsIG9yIG51bGwgaWYgc291cmNlIG1hdHJpeCBpcyBub3QgaW52ZXJ0aWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICBhMDEgPSBhWzFdLFxuICAgIGEwMiA9IGFbMl0sXG4gICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgYTExID0gYVs1XSxcbiAgICBhMTIgPSBhWzZdLFxuICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgIGEyMSA9IGFbOV0sXG4gICAgYTIyID0gYVsxMF0sXG4gICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICBhMzEgPSBhWzEzXSxcbiAgICBhMzIgPSBhWzE0XSxcbiAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjtcblxuICAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcbiAgb3V0WzFdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbM10gPSAoYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzKSAqIGRldDtcbiAgb3V0WzRdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xuICBvdXRbNl0gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzddID0gKGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xuICBvdXRbOV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcbiAgb3V0WzEwXSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xuICBvdXRbMTFdID0gKGEyMSAqIGIwMiAtIGEyMCAqIGIwNCAtIGEyMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMl0gPSAoYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2KSAqIGRldDtcbiAgb3V0WzEzXSA9IChhMDAgKiBiMDkgLSBhMDEgKiBiMDcgKyBhMDIgKiBiMDYpICogZGV0O1xuICBvdXRbMTRdID0gKGEzMSAqIGIwMSAtIGEzMCAqIGIwMyAtIGEzMiAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxNV0gPSAoYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXSxcbiAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICBhMTEgPSBhWzVdLFxuICAgIGExMiA9IGFbNl0sXG4gICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgYTIxID0gYVs5XSxcbiAgICBhMjIgPSBhWzEwXSxcbiAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgIGEzMSA9IGFbMTNdLFxuICAgIGEzMiA9IGFbMTRdLFxuICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyO1xuICBvdXRbMF0gPSBhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDk7XG4gIG91dFsxXSA9IGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOTtcbiAgb3V0WzJdID0gYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzO1xuICBvdXRbM10gPSBhMjIgKiBiMDQgLSBhMjEgKiBiMDUgLSBhMjMgKiBiMDM7XG4gIG91dFs0XSA9IGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNztcbiAgb3V0WzVdID0gYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3O1xuICBvdXRbNl0gPSBhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDE7XG4gIG91dFs3XSA9IGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMTtcbiAgb3V0WzhdID0gYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2O1xuICBvdXRbOV0gPSBhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDY7XG4gIG91dFsxMF0gPSBhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDA7XG4gIG91dFsxMV0gPSBhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDA7XG4gIG91dFsxMl0gPSBhMTEgKiBiMDcgLSBhMTAgKiBiMDkgLSBhMTIgKiBiMDY7XG4gIG91dFsxM10gPSBhMDAgKiBiMDkgLSBhMDEgKiBiMDcgKyBhMDIgKiBiMDY7XG4gIG91dFsxNF0gPSBhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDA7XG4gIG91dFsxNV0gPSBhMjAgKiBiMDMgLSBhMjEgKiBiMDEgKyBhMjIgKiBiMDA7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgYTAxID0gYVsxXSxcbiAgICBhMDIgPSBhWzJdLFxuICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgIGExMSA9IGFbNV0sXG4gICAgYTEyID0gYVs2XSxcbiAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICBhMjEgPSBhWzldLFxuICAgIGEyMiA9IGFbMTBdLFxuICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgYTMxID0gYVsxM10sXG4gICAgYTMyID0gYVsxNF0sXG4gICAgYTMzID0gYVsxNV07XG4gIHZhciBiMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjIgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMyA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGI0ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjUgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiNiA9IGEwMCAqIGI1IC0gYTAxICogYjQgKyBhMDIgKiBiMztcbiAgdmFyIGI3ID0gYTEwICogYjUgLSBhMTEgKiBiNCArIGExMiAqIGIzO1xuICB2YXIgYjggPSBhMjAgKiBiMiAtIGEyMSAqIGIxICsgYTIyICogYjA7XG4gIHZhciBiOSA9IGEzMCAqIGIyIC0gYTMxICogYjEgKyBhMzIgKiBiMDtcblxuICAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG4gIHJldHVybiBhMTMgKiBiNiAtIGEwMyAqIGI3ICsgYTMzICogYjggLSBhMjMgKiBiOTtcbn1cblxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQ0c1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgYTAxID0gYVsxXSxcbiAgICBhMDIgPSBhWzJdLFxuICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgIGExMSA9IGFbNV0sXG4gICAgYTEyID0gYVs2XSxcbiAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICBhMjEgPSBhWzldLFxuICAgIGEyMiA9IGFbMTBdLFxuICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgYTMxID0gYVsxM10sXG4gICAgYTMyID0gYVsxNF0sXG4gICAgYTMzID0gYVsxNV07XG5cbiAgLy8gQ2FjaGUgb25seSB0aGUgY3VycmVudCBsaW5lIG9mIHRoZSBzZWNvbmQgbWF0cml4XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgYjEgPSBiWzFdLFxuICAgIGIyID0gYlsyXSxcbiAgICBiMyA9IGJbM107XG4gIG91dFswXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFszXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbNF07XG4gIGIxID0gYls1XTtcbiAgYjIgPSBiWzZdO1xuICBiMyA9IGJbN107XG4gIG91dFs0XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzZdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFs3XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbOF07XG4gIGIxID0gYls5XTtcbiAgYjIgPSBiWzEwXTtcbiAgYjMgPSBiWzExXTtcbiAgb3V0WzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTBdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzEyXTtcbiAgYjEgPSBiWzEzXTtcbiAgYjIgPSBiWzE0XTtcbiAgYjMgPSBiWzE1XTtcbiAgb3V0WzEyXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMTNdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzE1XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDQgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgeSA9IHZbMV0sXG4gICAgeiA9IHZbMl07XG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XG4gIHZhciBhMTAsIGExMSwgYTEyLCBhMTM7XG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XG4gIGlmIChhID09PSBvdXQpIHtcbiAgICBvdXRbMTJdID0gYVswXSAqIHggKyBhWzRdICogeSArIGFbOF0gKiB6ICsgYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMV0gKiB4ICsgYVs1XSAqIHkgKyBhWzldICogeiArIGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzJdICogeCArIGFbNl0gKiB5ICsgYVsxMF0gKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbM10gKiB4ICsgYVs3XSAqIHkgKyBhWzExXSAqIHogKyBhWzE1XTtcbiAgfSBlbHNlIHtcbiAgICBhMDAgPSBhWzBdO1xuICAgIGEwMSA9IGFbMV07XG4gICAgYTAyID0gYVsyXTtcbiAgICBhMDMgPSBhWzNdO1xuICAgIGExMCA9IGFbNF07XG4gICAgYTExID0gYVs1XTtcbiAgICBhMTIgPSBhWzZdO1xuICAgIGExMyA9IGFbN107XG4gICAgYTIwID0gYVs4XTtcbiAgICBhMjEgPSBhWzldO1xuICAgIGEyMiA9IGFbMTBdO1xuICAgIGEyMyA9IGFbMTFdO1xuICAgIG91dFswXSA9IGEwMDtcbiAgICBvdXRbMV0gPSBhMDE7XG4gICAgb3V0WzJdID0gYTAyO1xuICAgIG91dFszXSA9IGEwMztcbiAgICBvdXRbNF0gPSBhMTA7XG4gICAgb3V0WzVdID0gYTExO1xuICAgIG91dFs2XSA9IGExMjtcbiAgICBvdXRbN10gPSBhMTM7XG4gICAgb3V0WzhdID0gYTIwO1xuICAgIG91dFs5XSA9IGEyMTtcbiAgICBvdXRbMTBdID0gYTIyO1xuICAgIG91dFsxMV0gPSBhMjM7XG4gICAgb3V0WzEyXSA9IGEwMCAqIHggKyBhMTAgKiB5ICsgYTIwICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhMDEgKiB4ICsgYTExICogeSArIGEyMSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYTAyICogeCArIGExMiAqIHkgKyBhMjIgKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGEwMyAqIHggKyBhMTMgKiB5ICsgYTIzICogeiArIGFbMTVdO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHRoZSB2ZWMzIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgIHkgPSB2WzFdLFxuICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZXMgYSBtYXQ0IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIGdpdmVuIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgIHkgPSBheGlzWzFdLFxuICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gIHZhciBzLCBjLCB0O1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuICB2YXIgYjAwLCBiMDEsIGIwMjtcbiAgdmFyIGIxMCwgYjExLCBiMTI7XG4gIHZhciBiMjAsIGIyMSwgYjIyO1xuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjO1xuICBhMDAgPSBhWzBdO1xuICBhMDEgPSBhWzFdO1xuICBhMDIgPSBhWzJdO1xuICBhMDMgPSBhWzNdO1xuICBhMTAgPSBhWzRdO1xuICBhMTEgPSBhWzVdO1xuICBhMTIgPSBhWzZdO1xuICBhMTMgPSBhWzddO1xuICBhMjAgPSBhWzhdO1xuICBhMjEgPSBhWzldO1xuICBhMjIgPSBhWzEwXTtcbiAgYTIzID0gYVsxMV07XG5cbiAgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG4gIGIwMCA9IHggKiB4ICogdCArIGM7XG4gIGIwMSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBiMDIgPSB6ICogeCAqIHQgLSB5ICogcztcbiAgYjEwID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIGIxMSA9IHkgKiB5ICogdCArIGM7XG4gIGIxMiA9IHogKiB5ICogdCArIHggKiBzO1xuICBiMjAgPSB4ICogeiAqIHQgKyB5ICogcztcbiAgYjIxID0geSAqIHogKiB0IC0geCAqIHM7XG4gIGIyMiA9IHogKiB6ICogdCArIGM7XG5cbiAgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzBdID0gYTAwICogYjAwICsgYTEwICogYjAxICsgYTIwICogYjAyO1xuICBvdXRbMV0gPSBhMDEgKiBiMDAgKyBhMTEgKiBiMDEgKyBhMjEgKiBiMDI7XG4gIG91dFsyXSA9IGEwMiAqIGIwMCArIGExMiAqIGIwMSArIGEyMiAqIGIwMjtcbiAgb3V0WzNdID0gYTAzICogYjAwICsgYTEzICogYjAxICsgYTIzICogYjAyO1xuICBvdXRbNF0gPSBhMDAgKiBiMTAgKyBhMTAgKiBiMTEgKyBhMjAgKiBiMTI7XG4gIG91dFs1XSA9IGEwMSAqIGIxMCArIGExMSAqIGIxMSArIGEyMSAqIGIxMjtcbiAgb3V0WzZdID0gYTAyICogYjEwICsgYTEyICogYjExICsgYTIyICogYjEyO1xuICBvdXRbN10gPSBhMDMgKiBiMTAgKyBhMTMgKiBiMTEgKyBhMjMgKiBiMTI7XG4gIG91dFs4XSA9IGEwMCAqIGIyMCArIGExMCAqIGIyMSArIGEyMCAqIGIyMjtcbiAgb3V0WzldID0gYTAxICogYjIwICsgYTExICogYjIxICsgYTIxICogYjIyO1xuICBvdXRbMTBdID0gYTAyICogYjIwICsgYTEyICogYjIxICsgYTIyICogYjIyO1xuICBvdXRbMTFdID0gYTAzICogYjIwICsgYTEzICogYjIxICsgYTIzICogYjIyO1xuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVsxXTtcbiAgICBvdXRbMl0gPSBhWzJdO1xuICAgIG91dFszXSA9IGFbM107XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xuICAgIG91dFs0XSA9IGFbNF07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzZdO1xuICAgIG91dFs3XSA9IGFbN107XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuICBvdXRbMF0gPSBhMDAgKiBjIC0gYTIwICogcztcbiAgb3V0WzFdID0gYTAxICogYyAtIGEyMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgLSBhMjIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjIC0gYTIzICogcztcbiAgb3V0WzhdID0gYTAwICogcyArIGEyMCAqIGM7XG4gIG91dFs5XSA9IGEwMSAqIHMgKyBhMjEgKiBjO1xuICBvdXRbMTBdID0gYTAyICogcyArIGEyMiAqIGM7XG4gIG91dFsxMV0gPSBhMDMgKiBzICsgYTIzICogYztcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XTtcbiAgdmFyIGExMSA9IGFbNV07XG4gIHZhciBhMTIgPSBhWzZdO1xuICB2YXIgYTEzID0gYVs3XTtcbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzhdID0gYVs4XTtcbiAgICBvdXRbOV0gPSBhWzldO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxMV07XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSB2WzFdO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gdlsyXTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlIGFyb3VuZCBhIGdpdmVuIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgeSA9IGF4aXNbMV0sXG4gICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgdmFyIHMsIGMsIHQ7XG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG5cbiAgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVgoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcblxuICAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IC1zO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWShkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuXG4gIC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gLXM7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHM7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVaKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG5cbiAgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIGFuZCB2ZWN0b3IgdHJhbnNsYXRpb25cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIG1hdDQuZnJvbVF1YXQocXVhdE1hdCwgcXVhdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBkZXN0LCBxdWF0TWF0KTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIHEsIHYpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICB5ID0gcVsxXSxcbiAgICB6ID0gcVsyXSxcbiAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgb3V0WzBdID0gMSAtICh5eSArIHp6KTtcbiAgb3V0WzFdID0geHkgKyB3ejtcbiAgb3V0WzJdID0geHogLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geHkgLSB3ejtcbiAgb3V0WzVdID0gMSAtICh4eCArIHp6KTtcbiAgb3V0WzZdID0geXogKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geHogKyB3eTtcbiAgb3V0WzldID0geXogLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSAoeHggKyB5eSk7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgZnJvbSBhIGR1YWwgcXVhdC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBNYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHttYXQ0fSBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdDIob3V0LCBhKSB7XG4gIHZhciB0cmFuc2xhdGlvbiA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICB2YXIgYnggPSAtYVswXSxcbiAgICBieSA9IC1hWzFdLFxuICAgIGJ6ID0gLWFbMl0sXG4gICAgYncgPSBhWzNdLFxuICAgIGF4ID0gYVs0XSxcbiAgICBheSA9IGFbNV0sXG4gICAgYXogPSBhWzZdLFxuICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7XG4gIC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuICBpZiAobWFnbml0dWRlID4gMCkge1xuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyIC8gbWFnbml0dWRlO1xuICB9IGVsc2Uge1xuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMjtcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyO1xuICB9XG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgYSwgdHJhbnNsYXRpb24pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvbixcbiAqICB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvclxuICogIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgdHJhbnNsYXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgbWF0KSB7XG4gIG91dFswXSA9IG1hdFsxMl07XG4gIG91dFsxXSA9IG1hdFsxM107XG4gIG91dFsyXSA9IG1hdFsxNF07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZVxuICogIHdpdGggYSBub3JtYWxpemVkIFF1YXRlcm5pb24gcGFyYW1ldGVyLCB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmVcbiAqICB0aGUgc2FtZSBhcyB0aGUgc2NhbGluZyB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2FsaW5nKG91dCwgbWF0KSB7XG4gIHZhciBtMTEgPSBtYXRbMF07XG4gIHZhciBtMTIgPSBtYXRbMV07XG4gIHZhciBtMTMgPSBtYXRbMl07XG4gIHZhciBtMjEgPSBtYXRbNF07XG4gIHZhciBtMjIgPSBtYXRbNV07XG4gIHZhciBtMjMgPSBtYXRbNl07XG4gIHZhciBtMzEgPSBtYXRbOF07XG4gIHZhciBtMzIgPSBtYXRbOV07XG4gIHZhciBtMzMgPSBtYXRbMTBdO1xuICBvdXRbMF0gPSBNYXRoLnNxcnQobTExICogbTExICsgbTEyICogbTEyICsgbTEzICogbTEzKTtcbiAgb3V0WzFdID0gTWF0aC5zcXJ0KG0yMSAqIG0yMSArIG0yMiAqIG0yMiArIG0yMyAqIG0yMyk7XG4gIG91dFsyXSA9IE1hdGguc3FydChtMzEgKiBtMzEgKyBtMzIgKiBtMzIgKyBtMzMgKiBtMzMpO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb25hbCBjb21wb25lbnRcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxuICogIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLCB0aGUgcmV0dXJuZWQgcXVhdGVybmlvbiB3aWxsIGJlIHRoZVxuICogIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LCBtYXQpIHtcbiAgdmFyIHNjYWxpbmcgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgZ2V0U2NhbGluZyhzY2FsaW5nLCBtYXQpO1xuICB2YXIgaXMxID0gMSAvIHNjYWxpbmdbMF07XG4gIHZhciBpczIgPSAxIC8gc2NhbGluZ1sxXTtcbiAgdmFyIGlzMyA9IDEgLyBzY2FsaW5nWzJdO1xuICB2YXIgc20xMSA9IG1hdFswXSAqIGlzMTtcbiAgdmFyIHNtMTIgPSBtYXRbMV0gKiBpczI7XG4gIHZhciBzbTEzID0gbWF0WzJdICogaXMzO1xuICB2YXIgc20yMSA9IG1hdFs0XSAqIGlzMTtcbiAgdmFyIHNtMjIgPSBtYXRbNV0gKiBpczI7XG4gIHZhciBzbTIzID0gbWF0WzZdICogaXMzO1xuICB2YXIgc20zMSA9IG1hdFs4XSAqIGlzMTtcbiAgdmFyIHNtMzIgPSBtYXRbOV0gKiBpczI7XG4gIHZhciBzbTMzID0gbWF0WzEwXSAqIGlzMztcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xuICB2YXIgUyA9IDA7XG4gIGlmICh0cmFjZSA+IDApIHtcbiAgICBTID0gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKSAqIDI7XG4gICAgb3V0WzNdID0gMC4yNSAqIFM7XG4gICAgb3V0WzBdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0WzFdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzJdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gIH0gZWxzZSBpZiAoc20xMSA+IHNtMjIgJiYgc20xMSA+IHNtMzMpIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMTEgLSBzbTIyIC0gc20zMykgKiAyO1xuICAgIG91dFszXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFswXSA9IDAuMjUgKiBTO1xuICAgIG91dFsxXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dFsyXSA9IChzbTMxICsgc20xMykgLyBTO1xuICB9IGVsc2UgaWYgKHNtMjIgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTIyIC0gc20xMSAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRbMF0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMV0gPSAwLjI1ICogUztcbiAgICBvdXRbMl0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgfSBlbHNlIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMzMgLSBzbTExIC0gc20yMikgKiAyO1xuICAgIG91dFszXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICAgIG91dFswXSA9IChzbTMxICsgc20xMykgLyBTO1xuICAgIG91dFsxXSA9IChzbTIzICsgc20zMikgLyBTO1xuICAgIG91dFsyXSA9IDAuMjUgKiBTO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogRGVjb21wb3NlcyBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCBpbnRvIGl0cyByb3RhdGlvbiwgdHJhbnNsYXRpb25cbiAqIGFuZCBzY2FsZSBjb21wb25lbnRzLiBSZXR1cm5zIG9ubHkgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtICB7cXVhdH0gb3V0X3IgUXVhdGVybmlvbiB0byByZWNlaXZlIHRoZSByb3RhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSAge3ZlYzN9IG91dF90IFZlY3RvciB0byByZWNlaXZlIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSAge3ZlYzN9IG91dF9zIFZlY3RvciB0byByZWNlaXZlIHRoZSBzY2FsaW5nIGZhY3RvclxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybnMge3F1YXR9IG91dF9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvbXBvc2Uob3V0X3IsIG91dF90LCBvdXRfcywgbWF0KSB7XG4gIG91dF90WzBdID0gbWF0WzEyXTtcbiAgb3V0X3RbMV0gPSBtYXRbMTNdO1xuICBvdXRfdFsyXSA9IG1hdFsxNF07XG4gIHZhciBtMTEgPSBtYXRbMF07XG4gIHZhciBtMTIgPSBtYXRbMV07XG4gIHZhciBtMTMgPSBtYXRbMl07XG4gIHZhciBtMjEgPSBtYXRbNF07XG4gIHZhciBtMjIgPSBtYXRbNV07XG4gIHZhciBtMjMgPSBtYXRbNl07XG4gIHZhciBtMzEgPSBtYXRbOF07XG4gIHZhciBtMzIgPSBtYXRbOV07XG4gIHZhciBtMzMgPSBtYXRbMTBdO1xuICBvdXRfc1swXSA9IE1hdGguc3FydChtMTEgKiBtMTEgKyBtMTIgKiBtMTIgKyBtMTMgKiBtMTMpO1xuICBvdXRfc1sxXSA9IE1hdGguc3FydChtMjEgKiBtMjEgKyBtMjIgKiBtMjIgKyBtMjMgKiBtMjMpO1xuICBvdXRfc1syXSA9IE1hdGguc3FydChtMzEgKiBtMzEgKyBtMzIgKiBtMzIgKyBtMzMgKiBtMzMpO1xuICB2YXIgaXMxID0gMSAvIG91dF9zWzBdO1xuICB2YXIgaXMyID0gMSAvIG91dF9zWzFdO1xuICB2YXIgaXMzID0gMSAvIG91dF9zWzJdO1xuICB2YXIgc20xMSA9IG0xMSAqIGlzMTtcbiAgdmFyIHNtMTIgPSBtMTIgKiBpczI7XG4gIHZhciBzbTEzID0gbTEzICogaXMzO1xuICB2YXIgc20yMSA9IG0yMSAqIGlzMTtcbiAgdmFyIHNtMjIgPSBtMjIgKiBpczI7XG4gIHZhciBzbTIzID0gbTIzICogaXMzO1xuICB2YXIgc20zMSA9IG0zMSAqIGlzMTtcbiAgdmFyIHNtMzIgPSBtMzIgKiBpczI7XG4gIHZhciBzbTMzID0gbTMzICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcbiAgaWYgKHRyYWNlID4gMCkge1xuICAgIFMgPSBNYXRoLnNxcnQodHJhY2UgKyAxLjApICogMjtcbiAgICBvdXRfclszXSA9IDAuMjUgKiBTO1xuICAgIG91dF9yWzBdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0X3JbMV0gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRfclsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRfclszXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dF9yWzBdID0gMC4yNSAqIFM7XG4gICAgb3V0X3JbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRfclsyXSA9IChzbTMxICsgc20xMykgLyBTO1xuICB9IGVsc2UgaWYgKHNtMjIgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTIyIC0gc20xMSAtIHNtMzMpICogMjtcbiAgICBvdXRfclszXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dF9yWzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0X3JbMV0gPSAwLjI1ICogUztcbiAgICBvdXRfclsyXSA9IChzbTIzICsgc20zMikgLyBTO1xuICB9IGVsc2Uge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20zMyAtIHNtMTEgLSBzbTIyKSAqIDI7XG4gICAgb3V0X3JbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRfclswXSA9IChzbTMxICsgc20xMykgLyBTO1xuICAgIG91dF9yWzFdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gICAgb3V0X3JbMl0gPSAwLjI1ICogUztcbiAgfVxuICByZXR1cm4gb3V0X3I7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGVcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIG1hdDQuZnJvbVF1YXQocXVhdE1hdCwgcXVhdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBkZXN0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIGRlc3QsIHNjYWxlKVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCwgcSwgdiwgcykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgIHkgPSBxWzFdLFxuICAgIHogPSBxWzJdLFxuICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgb3V0WzFdID0gKHh5ICsgd3opICogc3g7XG4gIG91dFsyXSA9ICh4eiAtIHd5KSAqIHN4O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAoeHkgLSB3eikgKiBzeTtcbiAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XG4gIG91dFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlLCByb3RhdGluZyBhbmQgc2NhbGluZyBhcm91bmQgdGhlIGdpdmVuIG9yaWdpblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCBvcmlnaW4pO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBtYXQ0LmZyb21RdWF0KHF1YXRNYXQsIHF1YXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCBzY2FsZSlcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBvIFRoZSBvcmlnaW4gdmVjdG9yIGFyb3VuZCB3aGljaCB0byBzY2FsZSBhbmQgcm90YXRlXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luKG91dCwgcSwgdiwgcywgbykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgIHkgPSBxWzFdLFxuICAgIHogPSBxWzJdLFxuICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICB2YXIgb3ggPSBvWzBdO1xuICB2YXIgb3kgPSBvWzFdO1xuICB2YXIgb3ogPSBvWzJdO1xuICB2YXIgb3V0MCA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICB2YXIgb3V0MSA9ICh4eSArIHd6KSAqIHN4O1xuICB2YXIgb3V0MiA9ICh4eiAtIHd5KSAqIHN4O1xuICB2YXIgb3V0NCA9ICh4eSAtIHd6KSAqIHN5O1xuICB2YXIgb3V0NSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICB2YXIgb3V0NiA9ICh5eiArIHd4KSAqIHN5O1xuICB2YXIgb3V0OCA9ICh4eiArIHd5KSAqIHN6O1xuICB2YXIgb3V0OSA9ICh5eiAtIHd4KSAqIHN6O1xuICB2YXIgb3V0MTAgPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzBdID0gb3V0MDtcbiAgb3V0WzFdID0gb3V0MTtcbiAgb3V0WzJdID0gb3V0MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gb3V0NDtcbiAgb3V0WzVdID0gb3V0NTtcbiAgb3V0WzZdID0gb3V0NjtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gb3V0ODtcbiAgb3V0WzldID0gb3V0OTtcbiAgb3V0WzEwXSA9IG91dDEwO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF0gKyBveCAtIChvdXQwICogb3ggKyBvdXQ0ICogb3kgKyBvdXQ4ICogb3opO1xuICBvdXRbMTNdID0gdlsxXSArIG95IC0gKG91dDEgKiBveCArIG91dDUgKiBveSArIG91dDkgKiBveik7XG4gIG91dFsxNF0gPSB2WzJdICsgb3ogLSAob3V0MiAqIG94ICsgb3V0NiAqIG95ICsgb3V0MTAgKiBveik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgYSA0eDQgbWF0cml4IGZyb20gdGhlIGdpdmVuIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBRdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxuICpcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgeSA9IHFbMV0sXG4gICAgeiA9IHFbMl0sXG4gICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgZnJ1c3R1bSBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcnVzdHVtKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIHJsID0gMSAvIChyaWdodCAtIGxlZnQpO1xuICB2YXIgdGIgPSAxIC8gKHRvcCAtIGJvdHRvbSk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IG5lYXIgKiAyICogcmw7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IG5lYXIgKiAyICogdGI7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IChyaWdodCArIGxlZnQpICogcmw7XG4gIG91dFs5XSA9ICh0b3AgKyBib3R0b20pICogdGI7XG4gIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyICogMiAqIG5mO1xuICBvdXRbMTVdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cbiAqIFBhc3NpbmcgbnVsbC91bmRlZmluZWQvbm8gdmFsdWUgZm9yIGZhciB3aWxsIGdlbmVyYXRlIGluZmluaXRlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBmb3Z5IFZlcnRpY2FsIGZpZWxkIG9mIHZpZXcgaW4gcmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtLCBjYW4gYmUgbnVsbCBvciBJbmZpbml0eVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVOTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XG4gICAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gICAgb3V0WzE0XSA9IDIgKiBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtMiAqIG5lYXI7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQucGVyc3BlY3RpdmVOT31cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHBlcnNwZWN0aXZlID0gcGVyc3BlY3RpdmVOTztcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCBzdWl0YWJsZSBmb3IgV2ViR1BVIHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlWk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKTtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IGZhciAqIG5mO1xuICAgIG91dFsxNF0gPSBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtbmVhcjtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGZpZWxkIG9mIHZpZXcuXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGdlbmVyYXRpbmcgcHJvamVjdGlvbiBtYXRyaWNlcyB0byBiZSB1c2VkXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVGcm9tRmllbGRPZlZpZXcob3V0LCBmb3YsIG5lYXIsIGZhcikge1xuICB2YXIgdXBUYW4gPSBNYXRoLnRhbihmb3YudXBEZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGRvd25UYW4gPSBNYXRoLnRhbihmb3YuZG93bkRlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgbGVmdFRhbiA9IE1hdGgudGFuKGZvdi5sZWZ0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciByaWdodFRhbiA9IE1hdGgudGFuKGZvdi5yaWdodERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgeFNjYWxlID0gMi4wIC8gKGxlZnRUYW4gKyByaWdodFRhbik7XG4gIHZhciB5U2NhbGUgPSAyLjAgLyAodXBUYW4gKyBkb3duVGFuKTtcbiAgb3V0WzBdID0geFNjYWxlO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgb3V0WzNdID0gMC4wO1xuICBvdXRbNF0gPSAwLjA7XG4gIG91dFs1XSA9IHlTY2FsZTtcbiAgb3V0WzZdID0gMC4wO1xuICBvdXRbN10gPSAwLjA7XG4gIG91dFs4XSA9IC0oKGxlZnRUYW4gLSByaWdodFRhbikgKiB4U2NhbGUgKiAwLjUpO1xuICBvdXRbOV0gPSAodXBUYW4gLSBkb3duVGFuKSAqIHlTY2FsZSAqIDAuNTtcbiAgb3V0WzEwXSA9IGZhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzExXSA9IC0xLjA7XG4gIG91dFsxMl0gPSAwLjA7XG4gIG91dFsxM10gPSAwLjA7XG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMTVdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcnRob05PKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAyICogbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm9ydGhvTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBvcnRobyA9IG9ydGhvTk87XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9aTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSBuZWFyICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGxvb2stYXQgbWF0cml4IHdpdGggdGhlIGdpdmVuIGV5ZSBwb3NpdGlvbiwgZm9jYWwgcG9pbnQsIGFuZCB1cCBheGlzLlxuICogSWYgeW91IHdhbnQgYSBtYXRyaXggdGhhdCBhY3R1YWxseSBtYWtlcyBhbiBvYmplY3QgbG9vayBhdCBhbm90aGVyIG9iamVjdCwgeW91IHNob3VsZCB1c2UgdGFyZ2V0VG8gaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9va0F0KG91dCwgZXllLCBjZW50ZXIsIHVwKSB7XG4gIHZhciB4MCwgeDEsIHgyLCB5MCwgeTEsIHkyLCB6MCwgejEsIHoyLCBsZW47XG4gIHZhciBleWV4ID0gZXllWzBdO1xuICB2YXIgZXlleSA9IGV5ZVsxXTtcbiAgdmFyIGV5ZXogPSBleWVbMl07XG4gIHZhciB1cHggPSB1cFswXTtcbiAgdmFyIHVweSA9IHVwWzFdO1xuICB2YXIgdXB6ID0gdXBbMl07XG4gIHZhciBjZW50ZXJ4ID0gY2VudGVyWzBdO1xuICB2YXIgY2VudGVyeSA9IGNlbnRlclsxXTtcbiAgdmFyIGNlbnRlcnogPSBjZW50ZXJbMl07XG4gIGlmIChNYXRoLmFicyhleWV4IC0gY2VudGVyeCkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleiAtIGNlbnRlcnopIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBpZGVudGl0eShvdXQpO1xuICB9XG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLnNxcnQoejAgKiB6MCArIHoxICogejEgKyB6MiAqIHoyKTtcbiAgejAgKj0gbGVuO1xuICB6MSAqPSBsZW47XG4gIHoyICo9IGxlbjtcbiAgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxO1xuICB4MSA9IHVweiAqIHowIC0gdXB4ICogejI7XG4gIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0gTWF0aC5zcXJ0KHgwICogeDAgKyB4MSAqIHgxICsgeDIgKiB4Mik7XG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuICB5MCA9IHoxICogeDIgLSB6MiAqIHgxO1xuICB5MSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICB5MiA9IHowICogeDEgLSB6MSAqIHgwO1xuICBsZW4gPSBNYXRoLnNxcnQoeTAgKiB5MCArIHkxICogeTEgKyB5MiAqIHkyKTtcbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB5MDtcbiAgb3V0WzJdID0gejA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHgxO1xuICBvdXRbNV0gPSB5MTtcbiAgb3V0WzZdID0gejE7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHgyO1xuICBvdXRbOV0gPSB5MjtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IC0oeDAgKiBleWV4ICsgeDEgKiBleWV5ICsgeDIgKiBleWV6KTtcbiAgb3V0WzEzXSA9IC0oeTAgKiBleWV4ICsgeTEgKiBleWV5ICsgeTIgKiBleWV6KTtcbiAgb3V0WzE0XSA9IC0oejAgKiBleWV4ICsgejEgKiBleWV5ICsgejIgKiBleWV6KTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgbWF0cml4IHRoYXQgbWFrZXMgc29tZXRoaW5nIGxvb2sgYXQgc29tZXRoaW5nIGVsc2UuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdGFyZ2V0IFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldFRvKG91dCwgZXllLCB0YXJnZXQsIHVwKSB7XG4gIHZhciBleWV4ID0gZXllWzBdLFxuICAgIGV5ZXkgPSBleWVbMV0sXG4gICAgZXlleiA9IGV5ZVsyXSxcbiAgICB1cHggPSB1cFswXSxcbiAgICB1cHkgPSB1cFsxXSxcbiAgICB1cHogPSB1cFsyXTtcbiAgdmFyIHowID0gZXlleCAtIHRhcmdldFswXSxcbiAgICB6MSA9IGV5ZXkgLSB0YXJnZXRbMV0sXG4gICAgejIgPSBleWV6IC0gdGFyZ2V0WzJdO1xuICB2YXIgbGVuID0gejAgKiB6MCArIHoxICogejEgKyB6MiAqIHoyO1xuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB6MCAqPSBsZW47XG4gICAgejEgKj0gbGVuO1xuICAgIHoyICo9IGxlbjtcbiAgfVxuICB2YXIgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxLFxuICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MixcbiAgICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IHgwICogeDAgKyB4MSAqIHgxICsgeDIgKiB4MjtcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHgxO1xuICBvdXRbMl0gPSB4MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gejEgKiB4MiAtIHoyICogeDE7XG4gIG91dFs1XSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICBvdXRbNl0gPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gejA7XG4gIG91dFs5XSA9IHoxO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gZXlleDtcbiAgb3V0WzEzXSA9IGV5ZXk7XG4gIG91dFsxNF0gPSBleWV6O1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuXG4vKipcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBjYWxjdWxhdGUgRnJvYmVuaXVzIG5vcm0gb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguc3FydChhWzBdICogYVswXSArIGFbMV0gKiBhWzFdICsgYVsyXSAqIGFbMl0gKyBhWzNdICogYVszXSArIGFbNF0gKiBhWzRdICsgYVs1XSAqIGFbNV0gKyBhWzZdICogYVs2XSArIGFbN10gKiBhWzddICsgYVs4XSAqIGFbOF0gKyBhWzldICogYVs5XSArIGFbMTBdICogYVsxMF0gKyBhWzExXSAqIGFbMTFdICsgYVsxMl0gKiBhWzEyXSArIGFbMTNdICogYVsxM10gKyBhWzE0XSAqIGFbMTRdICsgYVsxNV0gKiBhWzE1XSk7XG59XG5cbi8qKlxuICogQWRkcyB0d28gbWF0NCdzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gLSBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gLSBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdIC0gYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSAtIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gLSBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdIC0gYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSAtIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIG91dFs0XSA9IGFbNF0gKiBiO1xuICBvdXRbNV0gPSBhWzVdICogYjtcbiAgb3V0WzZdID0gYVs2XSAqIGI7XG4gIG91dFs3XSA9IGFbN10gKiBiO1xuICBvdXRbOF0gPSBhWzhdICogYjtcbiAgb3V0WzldID0gYVs5XSAqIGI7XG4gIG91dFsxMF0gPSBhWzEwXSAqIGI7XG4gIG91dFsxMV0gPSBhWzExXSAqIGI7XG4gIG91dFsxMl0gPSBhWzEyXSAqIGI7XG4gIG91dFsxM10gPSBhWzEzXSAqIGI7XG4gIG91dFsxNF0gPSBhWzE0XSAqIGI7XG4gIG91dFsxNV0gPSBhWzE1XSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWRkcyB0d28gbWF0NCdzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldICogc2NhbGU7XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdICogc2NhbGU7XG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdICogc2NhbGU7XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdICogc2NhbGU7XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdICogc2NhbGU7XG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdICogc2NhbGU7XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdICYmIGFbOV0gPT09IGJbOV0gJiYgYVsxMF0gPT09IGJbMTBdICYmIGFbMTFdID09PSBiWzExXSAmJiBhWzEyXSA9PT0gYlsxMl0gJiYgYVsxM10gPT09IGJbMTNdICYmIGFbMTRdID09PSBiWzE0XSAmJiBhWzE1XSA9PT0gYlsxNV07XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgYTEgPSBhWzFdLFxuICAgIGEyID0gYVsyXSxcbiAgICBhMyA9IGFbM107XG4gIHZhciBhNCA9IGFbNF0sXG4gICAgYTUgPSBhWzVdLFxuICAgIGE2ID0gYVs2XSxcbiAgICBhNyA9IGFbN107XG4gIHZhciBhOCA9IGFbOF0sXG4gICAgYTkgPSBhWzldLFxuICAgIGExMCA9IGFbMTBdLFxuICAgIGExMSA9IGFbMTFdO1xuICB2YXIgYTEyID0gYVsxMl0sXG4gICAgYTEzID0gYVsxM10sXG4gICAgYTE0ID0gYVsxNF0sXG4gICAgYTE1ID0gYVsxNV07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgYjEgPSBiWzFdLFxuICAgIGIyID0gYlsyXSxcbiAgICBiMyA9IGJbM107XG4gIHZhciBiNCA9IGJbNF0sXG4gICAgYjUgPSBiWzVdLFxuICAgIGI2ID0gYls2XSxcbiAgICBiNyA9IGJbN107XG4gIHZhciBiOCA9IGJbOF0sXG4gICAgYjkgPSBiWzldLFxuICAgIGIxMCA9IGJbMTBdLFxuICAgIGIxMSA9IGJbMTFdO1xuICB2YXIgYjEyID0gYlsxMl0sXG4gICAgYjEzID0gYlsxM10sXG4gICAgYjE0ID0gYlsxNF0sXG4gICAgYjE1ID0gYlsxNV07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKSAmJiBNYXRoLmFicyhhOSAtIGI5KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOSksIE1hdGguYWJzKGI5KSkgJiYgTWF0aC5hYnMoYTEwIC0gYjEwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTApLCBNYXRoLmFicyhiMTApKSAmJiBNYXRoLmFicyhhMTEgLSBiMTEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMSksIE1hdGguYWJzKGIxMSkpICYmIE1hdGguYWJzKGExMiAtIGIxMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEyKSwgTWF0aC5hYnMoYjEyKSkgJiYgTWF0aC5hYnMoYTEzIC0gYjEzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTMpLCBNYXRoLmFicyhiMTMpKSAmJiBNYXRoLmFicyhhMTQgLSBiMTQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNCksIE1hdGguYWJzKGIxNCkpICYmIE1hdGguYWJzKGExNSAtIGIxNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE1KSwgTWF0aC5hYnMoYjE1KSk7XG59XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwiLyoqXG4gKiBUaHJvd3MgYW4gYEVycm9yYCB3aXRoIHRoZSBvcHRpb25hbCBgbWVzc2FnZWAgaWYgYGNvbmRpdGlvbmAgaXMgZmFsc3lcbiAqIEBub3RlIFJlcGxhY2VtZW50IGZvciB0aGUgZXh0ZXJuYWwgYXNzZXJ0IG1ldGhvZCB0byByZWR1Y2UgYnVuZGxlIHNpemVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSB8fCAnbG9hZGVyIGFzc2VydGlvbiBmYWlsZWQuJyk7XG4gICAgfVxufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBQdXJwb3NlOiBpbmNsdWRlIHRoaXMgaW4geW91ciBtb2R1bGUgdG8gYXZvaWRzIGFkZGluZyBkZXBlbmRlbmNpZXMgb25cbi8vIG1pY3JvIG1vZHVsZXMgbGlrZSAnZ2xvYmFsJyBhbmQgJ2lzLWJyb3dzZXInO1xuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG5jb25zdCBnbG9iYWxzID0ge1xuICAgIHNlbGY6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmLFxuICAgIHdpbmRvdzogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LFxuICAgIGdsb2JhbDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsLFxuICAgIGRvY3VtZW50OiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50XG59O1xuY29uc3Qgc2VsZl8gPSBnbG9iYWxzLnNlbGYgfHwgZ2xvYmFscy53aW5kb3cgfHwgZ2xvYmFscy5nbG9iYWwgfHwge307XG5jb25zdCB3aW5kb3dfID0gZ2xvYmFscy53aW5kb3cgfHwgZ2xvYmFscy5zZWxmIHx8IGdsb2JhbHMuZ2xvYmFsIHx8IHt9O1xuY29uc3QgZ2xvYmFsXyA9IGdsb2JhbHMuZ2xvYmFsIHx8IGdsb2JhbHMuc2VsZiB8fCBnbG9iYWxzLndpbmRvdyB8fCB7fTtcbmNvbnN0IGRvY3VtZW50XyA9IGdsb2JhbHMuZG9jdW1lbnQgfHwge307XG5leHBvcnQgeyBzZWxmXyBhcyBzZWxmLCB3aW5kb3dfIGFzIHdpbmRvdywgZ2xvYmFsXyBhcyBnbG9iYWwsIGRvY3VtZW50XyBhcyBkb2N1bWVudCB9O1xuLyoqIHRydWUgaWYgcnVubmluZyBpbiB0aGUgYnJvd3NlciwgZmFsc2UgaWYgcnVubmluZyBpbiBOb2RlLmpzICovXG5leHBvcnQgY29uc3QgaXNCcm93c2VyID0gXG4vLyBAdHMtaWdub3JlIHByb2Nlc3MuYnJvd3NlclxudHlwZW9mIHByb2Nlc3MgIT09ICdvYmplY3QnIHx8IFN0cmluZyhwcm9jZXNzKSAhPT0gJ1tvYmplY3QgcHJvY2Vzc10nIHx8IHByb2Nlc3MuYnJvd3Nlcjtcbi8qKiB0cnVlIGlmIHJ1bm5pbmcgb24gYSB3b3JrZXIgdGhyZWFkICovXG5leHBvcnQgY29uc3QgaXNXb3JrZXIgPSB0eXBlb2YgaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJztcbi8qKiB0cnVlIGlmIHJ1bm5pbmcgb24gYSBtb2JpbGUgZGV2aWNlICovXG5leHBvcnQgY29uc3QgaXNNb2JpbGUgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm9yaWVudGF0aW9uICE9PSAndW5kZWZpbmVkJztcbi8vIEV4dHJhY3Qgbm9kZSBtYWpvciB2ZXJzaW9uXG5jb25zdCBtYXRjaGVzID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MudmVyc2lvbiAmJiAvdihbMC05XSopLy5leGVjKHByb2Nlc3MudmVyc2lvbik7XG4vKiogVmVyc2lvbiBvZiBOb2RlLmpzIGlmIHJ1bm5pbmcgdW5kZXIgTm9kZSwgb3RoZXJ3aXNlIDAgKi9cbmV4cG9ydCBjb25zdCBub2RlVmVyc2lvbiA9IChtYXRjaGVzICYmIHBhcnNlRmxvYXQobWF0Y2hlc1sxXSkpIHx8IDA7XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmNvbnN0IGlzQm9vbGVhbiA9ICh4KSA9PiB0eXBlb2YgeCA9PT0gJ2Jvb2xlYW4nO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh4KSA9PiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc09iamVjdCA9ICh4KSA9PiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JztcbmV4cG9ydCBjb25zdCBpc1B1cmVPYmplY3QgPSAoeCkgPT4gaXNPYmplY3QoeCkgJiYgeC5jb25zdHJ1Y3RvciA9PT0ge30uY29uc3RydWN0b3I7XG5leHBvcnQgY29uc3QgaXNQcm9taXNlID0gKHgpID0+IGlzT2JqZWN0KHgpICYmIGlzRnVuY3Rpb24oeC50aGVuKTtcbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKHgpID0+IEJvb2xlYW4oeCkgJiYgdHlwZW9mIHhbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc0FzeW5jSXRlcmFibGUgPSAoeCkgPT4geCAmJiB0eXBlb2YgeFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5leHBvcnQgY29uc3QgaXNJdGVyYXRvciA9ICh4KSA9PiB4ICYmIGlzRnVuY3Rpb24oeC5uZXh0KTtcbmV4cG9ydCBjb25zdCBpc1Jlc3BvbnNlID0gKHgpID0+ICh0eXBlb2YgUmVzcG9uc2UgIT09ICd1bmRlZmluZWQnICYmIHggaW5zdGFuY2VvZiBSZXNwb25zZSkgfHxcbiAgICAoeCAmJiB4LmFycmF5QnVmZmVyICYmIHgudGV4dCAmJiB4Lmpzb24pO1xuZXhwb3J0IGNvbnN0IGlzRmlsZSA9ICh4KSA9PiB0eXBlb2YgRmlsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIEZpbGU7XG5leHBvcnQgY29uc3QgaXNCbG9iID0gKHgpID0+IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiB4IGluc3RhbmNlb2YgQmxvYjtcbi8qKiBDaGVjayBmb3IgTm9kZS5qcyBgQnVmZmVyYCB3aXRob3V0IHRyaWdnZXJpbmcgYnVuZGxlciB0byBpbmNsdWRlIGJ1ZmZlciBwb2x5ZmlsbCAqL1xuZXhwb3J0IGNvbnN0IGlzQnVmZmVyID0gKHgpID0+IHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHguaXNCdWZmZXI7XG5leHBvcnQgY29uc3QgaXNXcml0YWJsZURPTVN0cmVhbSA9ICh4KSA9PiBpc09iamVjdCh4KSAmJiBpc0Z1bmN0aW9uKHguYWJvcnQpICYmIGlzRnVuY3Rpb24oeC5nZXRXcml0ZXIpO1xuZXhwb3J0IGNvbnN0IGlzUmVhZGFibGVET01TdHJlYW0gPSAoeCkgPT4gKHR5cGVvZiBSZWFkYWJsZVN0cmVhbSAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtKSB8fFxuICAgIChpc09iamVjdCh4KSAmJiBpc0Z1bmN0aW9uKHgudGVlKSAmJiBpc0Z1bmN0aW9uKHguY2FuY2VsKSAmJiBpc0Z1bmN0aW9uKHguZ2V0UmVhZGVyKSk7XG4vLyBOb3QgaW1wbGVtZW50ZWQgaW4gRmlyZWZveDogJiYgaXNGdW5jdGlvbih4LnBpcGVUbylcbmV4cG9ydCBjb25zdCBpc1dyaXRhYmxlTm9kZVN0cmVhbSA9ICh4KSA9PiBpc09iamVjdCh4KSAmJiBpc0Z1bmN0aW9uKHguZW5kKSAmJiBpc0Z1bmN0aW9uKHgud3JpdGUpICYmIGlzQm9vbGVhbih4LndyaXRhYmxlKTtcbmV4cG9ydCBjb25zdCBpc1JlYWRhYmxlTm9kZVN0cmVhbSA9ICh4KSA9PiBpc09iamVjdCh4KSAmJiBpc0Z1bmN0aW9uKHgucmVhZCkgJiYgaXNGdW5jdGlvbih4LnBpcGUpICYmIGlzQm9vbGVhbih4LnJlYWRhYmxlKTtcbmV4cG9ydCBjb25zdCBpc1JlYWRhYmxlU3RyZWFtID0gKHgpID0+IGlzUmVhZGFibGVET01TdHJlYW0oeCkgfHwgaXNSZWFkYWJsZU5vZGVTdHJlYW0oeCk7XG5leHBvcnQgY29uc3QgaXNXcml0YWJsZVN0cmVhbSA9ICh4KSA9PiBpc1dyaXRhYmxlRE9NU3RyZWFtKHgpIHx8IGlzV3JpdGFibGVOb2RlU3RyZWFtKHgpO1xuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTG9hZGVyT2JqZWN0KGxvYWRlcikge1xuICAgIGlmICghbG9hZGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobG9hZGVyKSkge1xuICAgICAgICBsb2FkZXIgPSBsb2FkZXJbMF07XG4gICAgfVxuICAgIGNvbnN0IGhhc0V4dGVuc2lvbnMgPSBBcnJheS5pc0FycmF5KGxvYWRlcj8uZXh0ZW5zaW9ucyk7XG4gICAgLyogTm93IGhhbmRsZWQgYnkgdHlwZXMgYW5kIHdvcmtlciBsb2FkZXJzIGRvIG5vdCBoYXZlIHRoZXNlXG4gICAgbGV0IGhhc1BhcnNlciA9XG4gICAgICBsb2FkZXIucGFyc2VUZXh0U3luYyB8fFxuICAgICAgbG9hZGVyLnBhcnNlU3luYyB8fFxuICAgICAgbG9hZGVyLnBhcnNlIHx8XG4gICAgICBsb2FkZXIucGFyc2VTdHJlYW0gfHwgLy8gVE9ETyBSZW1vdmUsIFJlcGxhY2Ugd2l0aCBwYXJzZUluQmF0Y2hlc1xuICAgICAgbG9hZGVyLnBhcnNlSW5CYXRjaGVzO1xuICAgICovXG4gICAgcmV0dXJuIGhhc0V4dGVuc2lvbnM7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplTG9hZGVyKGxvYWRlcikge1xuICAgIC8vIFRoaXMgZXJyb3IgaXMgZmFpcmx5IGVhc3kgdG8gdHJpZ2dlciBieSBtaXhpbmcgdXAgaW1wb3J0IHN0YXRlbWVudHMgZXRjXG4gICAgLy8gU28gd2UgbWFrZSBhbiBleGNlcHRpb24gYW5kIGFkZCBhIGRldmVsb3BlciBlcnJvciBtZXNzYWdlIGZvciB0aGlzIGNhc2VcbiAgICAvLyBUbyBoZWxwIG5ldyB1c2VycyBmcm9tIGdldHRpbmcgc3R1Y2sgaGVyZVxuICAgIGFzc2VydChsb2FkZXIsICdudWxsIGxvYWRlcicpO1xuICAgIGFzc2VydChpc0xvYWRlck9iamVjdChsb2FkZXIpLCAnaW52YWxpZCBsb2FkZXInKTtcbiAgICAvLyBOT1JNQUxJWkUgW0xPQURFUiwgT1BUSU9OU10gPT4gTE9BREVSXG4gICAgLy8gSWYgW2xvYWRlciwgb3B0aW9uc10sIGNyZWF0ZSBhIG5ldyBsb2FkZXJzIG9iamVjdCB3aXRoIG9wdGlvbnMgbWVyZ2VkIGluXG4gICAgbGV0IG9wdGlvbnM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobG9hZGVyKSkge1xuICAgICAgICBvcHRpb25zID0gbG9hZGVyWzFdO1xuICAgICAgICBsb2FkZXIgPSBsb2FkZXJbMF07XG4gICAgICAgIGxvYWRlciA9IHtcbiAgICAgICAgICAgIC4uLmxvYWRlcixcbiAgICAgICAgICAgIG9wdGlvbnM6IHsgLi4ubG9hZGVyLm9wdGlvbnMsIC4uLm9wdGlvbnMgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBOT1JNQUxJWkUgdGV4dCBhbmQgYmluYXJ5IGZsYWdzXG4gICAgLy8gRW5zdXJlIGF0IGxlYXN0IG9uZSBvZiB0ZXh0L2JpbmFyeSBmbGFncyBhcmUgcHJvcGVybHkgc2V0XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGlmIChsb2FkZXI/LnBhcnNlVGV4dFN5bmMgfHwgbG9hZGVyPy5wYXJzZVRleHQpIHtcbiAgICAgICAgbG9hZGVyLnRleHQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWxvYWRlci50ZXh0KSB7XG4gICAgICAgIGxvYWRlci5iaW5hcnkgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZGVyO1xufVxuIiwiLy8gU2ltcGxlIGZpbGUgYWxpYXMgbWVjaGFuaXNtcyBmb3IgdGVzdHMuXG5sZXQgcGF0aFByZWZpeCA9ICcnO1xuY29uc3QgZmlsZUFsaWFzZXMgPSB7fTtcbi8qXG4gKiBTZXQgYSByZWxhdGl2ZSBwYXRoIHByZWZpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UGF0aFByZWZpeChwcmVmaXgpIHtcbiAgICBwYXRoUHJlZml4ID0gcHJlZml4O1xufVxuLypcbiAqIEdldCB0aGUgcmVsYXRpdmUgcGF0aCBwcmVmaXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhdGhQcmVmaXgoKSB7XG4gICAgcmV0dXJuIHBhdGhQcmVmaXg7XG59XG4vKipcbiAqXG4gKiBAcGFyYW0gYWxpYXNlc1xuICpcbiAqIE5vdGU6IGFkZEFsaWFzZXMgYXJlIGFuIGV4cGVyaW1lbnRhbCBleHBvcnQsIHRoZXkgYXJlIG9ubHkgZm9yIHRlc3Rpbmcgb2YgbG9hZGVycy5nbCBsb2FkZXJzXG4gKiBub3QgaW50ZW5kZWQgYXMgYSBnZW5lcmljIGFsaWFzaW5nIG1lY2hhbmlzbVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQWxpYXNlcyhhbGlhc2VzKSB7XG4gICAgT2JqZWN0LmFzc2lnbihmaWxlQWxpYXNlcywgYWxpYXNlcyk7XG59XG4vKipcbiAqIFJlc29sdmVzIGFsaWFzZXMgYW5kIGFkZHMgcGF0aC1wcmVmaXggdG8gcGF0aHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXRoKGZpbGVuYW1lKSB7XG4gICAgZm9yIChjb25zdCBhbGlhcyBpbiBmaWxlQWxpYXNlcykge1xuICAgICAgICBpZiAoZmlsZW5hbWUuc3RhcnRzV2l0aChhbGlhcykpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gZmlsZUFsaWFzZXNbYWxpYXNdO1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKGFsaWFzLCByZXBsYWNlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmaWxlbmFtZS5zdGFydHNXaXRoKCdodHRwOi8vJykgJiYgIWZpbGVuYW1lLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcbiAgICAgICAgZmlsZW5hbWUgPSBgJHtwYXRoUHJlZml4fSR7ZmlsZW5hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGZpbGVuYW1lO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5leHBvcnQgY2xhc3MgRmV0Y2hFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBpbmZvKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnJlYXNvbiA9IGluZm8ucmVhc29uO1xuICAgICAgICB0aGlzLnVybCA9IGluZm8udXJsO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gaW5mby5yZXNwb25zZTtcbiAgICB9XG4gICAgLyoqIEEgYmVzdCBlZmZvcnQgcmVhc29uIGZvciB3aHkgdGhlIGZldGNoIGZhaWxlZCAqL1xuICAgIHJlYXNvbjtcbiAgICAvKiogVGhlIFVSTCB0aGF0IGZhaWxlZCB0byBsb2FkLiBFbXB0eSBzdHJpbmcgaWYgbm90IGF2YWlsYWJsZS4gKi9cbiAgICB1cmw7XG4gICAgLyoqIFRoZSBSZXNwb25zZSBvYmplY3QsIGlmIGFueS4gKi9cbiAgICByZXNwb25zZTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gVE9ETyAtIGJ1aWxkL2ludGVncmF0ZSBwcm9wZXIgTUlNRSB0eXBlIHBhcnNpbmdcbi8vIGh0dHBzOi8vbWltZXNuaWZmLnNwZWMud2hhdHdnLm9yZy9cbmNvbnN0IERBVEFfVVJMX1BBVFRFUk4gPSAvXmRhdGE6KFstXFx3Ll0rXFwvWy1cXHcuK10rKSg7fCwpLztcbmNvbnN0IE1JTUVfVFlQRV9QQVRURVJOID0gL14oWy1cXHcuXStcXC9bLVxcdy4rXSspLztcbi8qKlxuICogQ29tcGFyZSB0d28gTUlNRSB0eXBlcywgY2FzZSBpbnNlbnNpdGl2ZWx5IGV0Yy5cbiAqIEBwYXJhbSBtaW1lVHlwZTFcbiAqIEBwYXJhbSBtaW1lVHlwZTJcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIE1JTUUgdHlwZXMgYXJlIGVxdWl2YWxlbnRcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9CYXNpY3Nfb2ZfSFRUUC9NSU1FX3R5cGVzI3N0cnVjdHVyZV9vZl9hX21pbWVfdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZU1JTUVUeXBlcyhtaW1lVHlwZTEsIG1pbWVUeXBlMikge1xuICAgIGlmIChtaW1lVHlwZTEudG9Mb3dlckNhc2UoKSA9PT0gbWltZVR5cGUyLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogUmVtb3ZlIGV4dHJhIGRhdGEgbGlrZSBgY2hhcnNldGAgZnJvbSBNSU1FIHR5cGVzXG4gKiBAcGFyYW0gbWltZVN0cmluZ1xuICogQHJldHVybnMgQSBjbGVhbiBNSU1FIHR5cGUsIG9yIGFuIGVtcHR5IHN0cmluZ1xuICpcbiAqIEB0b2RvIC0gaGFuZGxlIG1vcmUgYWR2YW5jZWQgTUlNRVRZcGVzLCBtdWx0aXBsZSB0eXBlc1xuICogQHRvZG8gLSBleHRyYWN0IGNoYXJzZXQgZXRjXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1JTUVUeXBlKG1pbWVTdHJpbmcpIHtcbiAgICAvLyBJZiByZXNvdXJjZSBpcyBhIGRhdGEgdXJsLCBleHRyYWN0IGFueSBlbWJlZGRlZCBtaW1lIHR5cGVcbiAgICBjb25zdCBtYXRjaGVzID0gTUlNRV9UWVBFX1BBVFRFUk4uZXhlYyhtaW1lU3RyaW5nKTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1sxXTtcbiAgICB9XG4gICAgcmV0dXJuIG1pbWVTdHJpbmc7XG59XG4vKipcbiAqIEV4dHJhY3QgTUlNRSB0eXBlIGZyb20gZGF0YSBVUkxcbiAqXG4gKiBAcGFyYW0gbWltZVN0cmluZ1xuICogQHJldHVybnMgQSBjbGVhbiBNSU1FIHR5cGUsIG9yIGFuIGVtcHR5IHN0cmluZ1xuICpcbiAqIEB0b2RvIC0gaGFuZGxlIG1vcmUgYWR2YW5jZWQgTUlNRVRZcGVzLCBtdWx0aXBsZSB0eXBlc1xuICogQHRvZG8gLSBleHRyYWN0IGNoYXJzZXQgZXRjXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1JTUVUeXBlRnJvbVVSTCh1cmwpIHtcbiAgICAvLyBJZiByZXNvdXJjZSBpcyBhIGRhdGEgVVJMLCBleHRyYWN0IGFueSBlbWJlZGRlZCBtaW1lIHR5cGVcbiAgICBjb25zdCBtYXRjaGVzID0gREFUQV9VUkxfUEFUVEVSTi5leGVjKHVybCk7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNbMV07XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuY29uc3QgUVVFUllfU1RSSU5HX1BBVFRFUk4gPSAvXFw/LiovO1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RRdWVyeVN0cmluZyh1cmwpIHtcbiAgICBjb25zdCBtYXRjaGVzID0gdXJsLm1hdGNoKFFVRVJZX1NUUklOR19QQVRURVJOKTtcbiAgICByZXR1cm4gbWF0Y2hlcyAmJiBtYXRjaGVzWzBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwUXVlcnlTdHJpbmcodXJsKSB7XG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKFFVRVJZX1NUUklOR19QQVRURVJOLCAnJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvcnRlblVybEZvckRpc3BsYXkodXJsKSB7XG4gICAgaWYgKHVybC5sZW5ndGggPCA1MCkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICBjb25zdCB1cmxFbmQgPSB1cmwuc2xpY2UodXJsLmxlbmd0aCAtIDE1KTtcbiAgICBjb25zdCB1cmxTdGFydCA9IHVybC5zdWJzdHIoMCwgMzIpO1xuICAgIHJldHVybiBgJHt1cmxTdGFydH0uLi4ke3VybEVuZH1gO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBpc1Jlc3BvbnNlLCBpc0Jsb2IgfSBmcm9tIFwiLi4vLi4vamF2YXNjcmlwdC11dGlscy9pcy10eXBlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZU1JTUVUeXBlLCBwYXJzZU1JTUVUeXBlRnJvbVVSTCB9IGZyb20gXCIuL21pbWUtdHlwZS11dGlscy5qc1wiO1xuaW1wb3J0IHsgc3RyaXBRdWVyeVN0cmluZyB9IGZyb20gXCIuL3VybC11dGlscy5qc1wiO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBVUkwgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcmVzb3VyY2UuXG4gKiBUaGUgcmV0dXJuZWQgdmFsdWUgbWF5IGluY2x1ZGUgYSBxdWVyeSBzdHJpbmcgYW5kIG5lZWQgZnVydGhlciBwcm9jZXNzaW5nLlxuICogSWYgaXQgY2Fubm90IGRldGVybWluZSB1cmwsIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIHdpbGwgYmUgYW4gZW1wdHkgc3RyaW5nXG4gKlxuICogQHRvZG8gc3RyaW5nIHBhcmFtZXRlcnMgYXJlIGFzc3VtZWQgdG8gYmUgVVJMc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzb3VyY2VVcmwocmVzb3VyY2UpIHtcbiAgICAvLyBJZiByZXNvdXJjZSBpcyBhIGBSZXNwb25zZWAsIGl0IGNvbnRhaW5zIHRoZSBpbmZvcm1hdGlvbiBkaXJlY3RseSBhcyBhIGZpZWxkXG4gICAgaWYgKGlzUmVzcG9uc2UocmVzb3VyY2UpKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzb3VyY2U7XG4gICAgICAgIHJldHVybiByZXNwb25zZS51cmw7XG4gICAgfVxuICAgIC8vIElmIHRoZSByZXNvdXJjZSBpcyBhIEJsb2Igb3IgYSBGaWxlIChzdWJjbGFzcyBvZiBCbG9iKVxuICAgIGlmIChpc0Jsb2IocmVzb3VyY2UpKSB7XG4gICAgICAgIGNvbnN0IGJsb2IgPSByZXNvdXJjZTtcbiAgICAgICAgLy8gRmlsZSBvYmplY3RzIGhhdmUgYSBcIm5hbWVcIiBwcm9wZXJ0eS4gQmxvYiBvYmplY3RzIGRvbid0IGhhdmUgYW55XG4gICAgICAgIC8vIHVybCAobmFtZSkgaW5mb3JtYXRpb25cbiAgICAgICAgcmV0dXJuIGJsb2IubmFtZSB8fCAnJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlO1xuICAgIH1cbiAgICAvLyBVbmtub3duXG4gICAgcmV0dXJuICcnO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBVUkwgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcmVzb3VyY2UuXG4gKiBUaGUgcmV0dXJuZWQgdmFsdWUgbWF5IGluY2x1ZGUgYSBxdWVyeSBzdHJpbmcgYW5kIG5lZWQgZnVydGhlciBwcm9jZXNzaW5nLlxuICogSWYgaXQgY2Fubm90IGRldGVybWluZSB1cmwsIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIHdpbGwgYmUgYW4gZW1wdHkgc3RyaW5nXG4gKlxuICogQHRvZG8gc3RyaW5nIHBhcmFtZXRlcnMgYXJlIGFzc3VtZWQgdG8gYmUgVVJMc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzb3VyY2VNSU1FVHlwZShyZXNvdXJjZSkge1xuICAgIC8vIElmIHJlc291cmNlIGlzIGEgcmVzcG9uc2UsIGl0IGNvbnRhaW5zIHRoZSBpbmZvcm1hdGlvbiBkaXJlY3RseVxuICAgIGlmIChpc1Jlc3BvbnNlKHJlc291cmNlKSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHJlc291cmNlO1xuICAgICAgICBjb25zdCBjb250ZW50VHlwZUhlYWRlciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSB8fCAnJztcbiAgICAgICAgY29uc3Qgbm9RdWVyeVVybCA9IHN0cmlwUXVlcnlTdHJpbmcocmVzcG9uc2UudXJsKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlTUlNRVR5cGUoY29udGVudFR5cGVIZWFkZXIpIHx8IHBhcnNlTUlNRVR5cGVGcm9tVVJMKG5vUXVlcnlVcmwpO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgcmVzb3VyY2UgaXMgYSBCbG9iIG9yIGEgRmlsZSAoc3ViY2xhc3Mgb2YgQmxvYilcbiAgICBpZiAoaXNCbG9iKHJlc291cmNlKSkge1xuICAgICAgICBjb25zdCBibG9iID0gcmVzb3VyY2U7XG4gICAgICAgIHJldHVybiBibG9iLnR5cGUgfHwgJyc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZU1JTUVUeXBlRnJvbVVSTChyZXNvdXJjZSk7XG4gICAgfVxuICAgIC8vIFVua25vd25cbiAgICByZXR1cm4gJyc7XG59XG4vKipcbiAgKiBSZXR1cm5zIChhcHByb3hpbWF0ZSkgY29udGVudCBsZW5ndGggZm9yIGEgcmVzb3VyY2UgaWYgaXQgY2FuIGJlIGRldGVybWluZWQuXG4gICogUmV0dXJucyAtMSBpZiBjb250ZW50IGxlbmd0aCBjYW5ub3QgYmUgZGV0ZXJtaW5lZC5cbiAgKiBAcGFyYW0gcmVzb3VyY2VcblxuICAqIEBub3RlIHN0cmluZyBwYXJhbWV0ZXJzIGFyZSBOT1QgYXNzdW1lZCB0byBiZSBVUkxzXG4gICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzb3VyY2VDb250ZW50TGVuZ3RoKHJlc291cmNlKSB7XG4gICAgaWYgKGlzUmVzcG9uc2UocmVzb3VyY2UpKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzb3VyY2U7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddIHx8IC0xO1xuICAgIH1cbiAgICBpZiAoaXNCbG9iKHJlc291cmNlKSkge1xuICAgICAgICBjb25zdCBibG9iID0gcmVzb3VyY2U7XG4gICAgICAgIHJldHVybiBibG9iLnNpemU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIFRPRE8gLSBoYW5kbGUgZGF0YSBVUkw/XG4gICAgICAgIHJldHVybiByZXNvdXJjZS5sZW5ndGg7XG4gICAgfVxuICAgIGlmIChyZXNvdXJjZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiByZXNvdXJjZS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHJlc291cmNlKSkge1xuICAgICAgICByZXR1cm4gcmVzb3VyY2UuYnl0ZUxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBpc1Jlc3BvbnNlIH0gZnJvbSBcIi4uLy4uL2phdmFzY3JpcHQtdXRpbHMvaXMtdHlwZS5qc1wiO1xuaW1wb3J0IHsgRmV0Y2hFcnJvciB9IGZyb20gXCIuLi9mZXRjaC9mZXRjaC1lcnJvci5qc1wiO1xuaW1wb3J0IHsgZ2V0UmVzb3VyY2VDb250ZW50TGVuZ3RoLCBnZXRSZXNvdXJjZVVybCwgZ2V0UmVzb3VyY2VNSU1FVHlwZSB9IGZyb20gXCIuL3Jlc291cmNlLXV0aWxzLmpzXCI7XG5pbXBvcnQgeyBzaG9ydGVuVXJsRm9yRGlzcGxheSB9IGZyb20gXCIuL3VybC11dGlscy5qc1wiO1xuLyoqXG4gKiBSZXR1cm5zIGEgUmVzcG9uc2Ugb2JqZWN0XG4gKiBBZGRzIGNvbnRlbnQtbGVuZ3RoIGhlYWRlciB3aGVuIHBvc3NpYmxlXG4gKlxuICogQHBhcmFtIHJlc291cmNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYWtlUmVzcG9uc2UocmVzb3VyY2UpIHtcbiAgICBpZiAoaXNSZXNwb25zZShyZXNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlO1xuICAgIH1cbiAgICAvLyBBZGQgY29udGVudC1sZW5ndGggaGVhZGVyIGlmIHBvc3NpYmxlXG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSBnZXRSZXNvdXJjZUNvbnRlbnRMZW5ndGgocmVzb3VyY2UpO1xuICAgIGlmIChjb250ZW50TGVuZ3RoID49IDApIHtcbiAgICAgICAgaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSA9IFN0cmluZyhjb250ZW50TGVuZ3RoKTtcbiAgICB9XG4gICAgLy8gYG5ldyBSZXNwb25zZShGaWxlKWAgZG9lcyBub3QgcHJlc2VydmUgY29udGVudC10eXBlIGFuZCBVUkxcbiAgICAvLyBzbyB3ZSBhZGQgdGhlbSBoZXJlXG4gICAgY29uc3QgdXJsID0gZ2V0UmVzb3VyY2VVcmwocmVzb3VyY2UpO1xuICAgIGNvbnN0IHR5cGUgPSBnZXRSZXNvdXJjZU1JTUVUeXBlKHJlc291cmNlKTtcbiAgICBpZiAodHlwZSkge1xuICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IHR5cGU7XG4gICAgfVxuICAgIC8vIEFkZCBhIGN1c3RvbSBoZWFkZXIgd2l0aCBpbml0aWFsIGJ5dGVzIGlmIGF2YWlsYWJsZVxuICAgIGNvbnN0IGluaXRpYWxEYXRhVXJsID0gYXdhaXQgZ2V0SW5pdGlhbERhdGFVcmwocmVzb3VyY2UpO1xuICAgIGlmIChpbml0aWFsRGF0YVVybCkge1xuICAgICAgICBoZWFkZXJzWyd4LWZpcnN0LWJ5dGVzJ10gPSBpbml0aWFsRGF0YVVybDtcbiAgICB9XG4gICAgLy8gVE9ETyAtIGlzIHRoaXMgdGhlIGJlc3Qgd2F5IG9mIGhhbmRsaW5nIHN0cmluZ3M/XG4gICAgLy8gTWF5YmUgcGFja2FnZSBhcyBkYXRhIFVSTCBpbnN0ZWFkP1xuICAgIGlmICh0eXBlb2YgcmVzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIENvbnZlcnQgdG8gQXJyYXlCdWZmZXIgdG8gYXZvaWQgUmVzcG9uc2UgdHJlYXRpbmcgaXQgYXMgYSBVUkxcbiAgICAgICAgcmVzb3VyY2UgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUocmVzb3VyY2UpO1xuICAgIH1cbiAgICAvLyBBdHRlbXB0IHRvIGNyZWF0ZSBhIFJlc3BvbnNlIGZyb20gdGhlIHJlc291cmNlLCBhZGRpbmcgaGVhZGVycyBhbmQgc2V0dGluZyB1cmxcbiAgICBjb25zdCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShyZXNvdXJjZSwgeyBoZWFkZXJzIH0pO1xuICAgIC8vIFdlIGNhbid0IGNvbnRyb2wgYFJlc3BvbnNlLnVybGAgdmlhIGNvbnN0cnVjdG9yLCB1c2UgYSBwcm9wZXJ0eSBvdmVycmlkZSB0byByZWNvcmQgVVJMLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNwb25zZSwgJ3VybCcsIHsgdmFsdWU6IHVybCB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG4vKipcbiAqIENoZWNrcyByZXNwb25zZSBzdGF0dXMgKGFzeW5jKSBhbmQgdGhyb3dzIGEgaGVscGZ1bCBlcnJvciBtZXNzYWdlIGlmIHN0YXR1cyBpcyBub3QgT0suXG4gKiBAcGFyYW0gcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgZ2V0UmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbi8qKlxuICogQ2hlY2tzIHJlc3BvbnNlIHN0YXR1cyAoc3luYykgYW5kIHRocm93cyBhIGhlbHBmdWwgZXJyb3IgbWVzc2FnZSBpZiBzdGF0dXMgaXMgbm90IE9LLlxuICogQHBhcmFtIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1Jlc3BvbnNlU3luYyhyZXNwb25zZSkge1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBgJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gO1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5sZW5ndGggPiA2MCA/IGAke21lc3NhZ2Uuc2xpY2UoMCwgNjApfS4uLmAgOiBtZXNzYWdlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfVxufVxuLy8gSEVMUEVSU1xuYXN5bmMgZnVuY3Rpb24gZ2V0UmVzcG9uc2VFcnJvcihyZXNwb25zZSkge1xuICAgIGNvbnN0IHNob3J0VXJsID0gc2hvcnRlblVybEZvckRpc3BsYXkocmVzcG9uc2UudXJsKTtcbiAgICBsZXQgbWVzc2FnZSA9IGBGYWlsZWQgdG8gZmV0Y2ggcmVzb3VyY2UgKCR7cmVzcG9uc2Uuc3RhdHVzfSkgJHtyZXNwb25zZS5zdGF0dXNUZXh0fTogJHtzaG9ydFVybH1gO1xuICAgIG1lc3NhZ2UgPSBtZXNzYWdlLmxlbmd0aCA+IDEwMCA/IGAke21lc3NhZ2Uuc2xpY2UoMCwgMTAwKX0uLi5gIDogbWVzc2FnZTtcbiAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICByZWFzb246IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIHVybDogcmVzcG9uc2UudXJsLFxuICAgICAgICByZXNwb25zZVxuICAgIH07XG4gICAgLy8gU2VlIGlmIHdlIGdvdCBhbiBlcnJvciBtZXNzYWdlIGluIHRoZSBib2R5XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJyk7XG4gICAgICAgIGluZm8ucmVhc29uID1cbiAgICAgICAgICAgICFyZXNwb25zZS5ib2R5VXNlZCAmJiBjb250ZW50VHlwZT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgICAgICAgICAgICAgID8gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgICAgICAgOiBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBlc2xpbnQgZm9yYmlkcyByZXR1cm4gaW4gYSBmaW5hbGx5IHN0YXRlbWVudCwgc28gd2UganVzdCBjYXRjaCBoZXJlXG4gICAgfVxuICAgIHJldHVybiBuZXcgRmV0Y2hFcnJvcihtZXNzYWdlLCBpbmZvKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEluaXRpYWxEYXRhVXJsKHJlc291cmNlKSB7XG4gICAgY29uc3QgSU5JVElBTF9EQVRBX0xFTkdUSCA9IDU7XG4gICAgaWYgKHR5cGVvZiByZXNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGBkYXRhOiwke3Jlc291cmNlLnNsaWNlKDAsIElOSVRJQUxfREFUQV9MRU5HVEgpfWA7XG4gICAgfVxuICAgIGlmIChyZXNvdXJjZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgY29uc3QgYmxvYlNsaWNlID0gcmVzb3VyY2Uuc2xpY2UoMCwgNSk7XG4gICAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHJlc29sdmUoZXZlbnQ/LnRhcmdldD8ucmVzdWx0KTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2JTbGljZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocmVzb3VyY2UgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBjb25zdCBzbGljZSA9IHJlc291cmNlLnNsaWNlKDAsIElOSVRJQUxfREFUQV9MRU5HVEgpO1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhcnJheUJ1ZmZlclRvQmFzZTY0KHNsaWNlKTtcbiAgICAgICAgcmV0dXJuIGBkYXRhOmJhc2U2NCwke2Jhc2U2NH1gO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkyNjc4OTkvYXJyYXlidWZmZXItdG8tYmFzZTY0LWVuY29kZWQtc3RyaW5nXG5mdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ1ZmZlcikge1xuICAgIGxldCBiaW5hcnkgPSAnJztcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5ieXRlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnRvYShiaW5hcnkpO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyByZXNvbHZlUGF0aCB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBtYWtlUmVzcG9uc2UgfSBmcm9tIFwiLi4vdXRpbHMvcmVzcG9uc2UtdXRpbHMuanNcIjtcbi8vIGltcG9ydCB7RmV0Y2hFcnJvcn0gZnJvbSAnLi9mZXRjaC1lcnJvcic7XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlUGF0aCh1cmwpIHtcbiAgICByZXR1cm4gIWlzUmVxdWVzdFVSTCh1cmwpICYmICFpc0RhdGFVUkwodXJsKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlcXVlc3RVUkwodXJsKSB7XG4gICAgcmV0dXJuIHVybC5zdGFydHNXaXRoKCdodHRwOicpIHx8IHVybC5zdGFydHNXaXRoKCdodHRwczonKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGFVUkwodXJsKSB7XG4gICAgcmV0dXJuIHVybC5zdGFydHNXaXRoKCdkYXRhOicpO1xufVxuLyoqXG4gKiBmZXRjaCBBUEkgY29tcGF0aWJsZSBmdW5jdGlvblxuICogLSBTdXBwb3J0cyBmZXRjaGluZyBmcm9tIE5vZGUuanMgbG9jYWwgZmlsZSBzeXN0ZW0gcGF0aHNcbiAqIC0gUmVzcGVjdHMgcGF0aFByZWZpeCBhbmQgZmlsZSBhbGlhc2VzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEZpbGUodXJsT3JEYXRhLCBmZXRjaE9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHVybE9yRGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgdXJsID0gcmVzb2x2ZVBhdGgodXJsT3JEYXRhKTtcbiAgICAgICAgLy8gU3VwcG9ydCBmZXRjaGluZyBmcm9tIGxvY2FsIGZpbGUgc3lzdGVtXG4gICAgICAgIGlmIChpc05vZGVQYXRoKHVybCkpIHtcbiAgICAgICAgICAgIGlmIChnbG9iYWxUaGlzLmxvYWRlcnM/LmZldGNoTm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnbG9iYWxUaGlzLmxvYWRlcnM/LmZldGNoTm9kZSh1cmwsIGZldGNoT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAvLyAgICdmZXRjaEZpbGU6IGdsb2JhbFRoaXMubG9hZGVycy5mZXRjaE5vZGUgbm90IGRlZmluZWQuIEluc3RhbGwgQGxvYWRlcnMuZ2wvcG9seWZpbGxzJ1xuICAgICAgICAgICAgLy8gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxsIGdsb2JhbCBmZXRjaFxuICAgICAgICByZXR1cm4gYXdhaXQgZmV0Y2godXJsLCBmZXRjaE9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBUT0RPIC0gc2hvdWxkIHdlIHN0aWxsIGNhbGwgZmV0Y2ggb24gbm9uLVVSTCBpbnB1dHM/XG4gICAgcmV0dXJuIGF3YWl0IG1ha2VSZXNwb25zZSh1cmxPckRhdGEpO1xufVxuIiwiLy8gVGhpcyBmdW5jdGlvbiBpcyBuZWVkZWQgaW4gaW5pdGlhbGl6YXRpb24gc3RhZ2VzLFxuLy8gbWFrZSBzdXJlIGl0IGNhbiBiZSBpbXBvcnRlZCBpbiBpc29sYXRpb25cbmltcG9ydCB7IGlzRWxlY3Ryb24gfSBmcm9tIFwiLi9pcy1lbGVjdHJvbi5qc1wiO1xuLyoqIENoZWNrIGlmIGluIGJyb3dzZXIgYnkgZHVjay10eXBpbmcgTm9kZSBjb250ZXh0ICovXG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyKCkge1xuICAgIGNvbnN0IGlzTm9kZSA9IFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgU3RyaW5nKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScgJiYgIXByb2Nlc3M/LmJyb3dzZXI7XG4gICAgcmV0dXJuICFpc05vZGUgfHwgaXNFbGVjdHJvbigpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtYnJvd3Nlci5qcy5tYXAiLCIvLyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vY2hldG9uL2lzLWVsZWN0cm9uXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24vZWxlY3Ryb24vaXNzdWVzLzIyODhcbi8qIGVzbGludC1kaXNhYmxlIGNvbXBsZXhpdHkgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZWN0cm9uKG1vY2tVc2VyQWdlbnQpIHtcbiAgICAvLyBSZW5kZXJlciBwcm9jZXNzXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2Vzcz8udHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gTWFpbiBwcm9jZXNzXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBCb29sZWFuKHByb2Nlc3MudmVyc2lvbnM/LlsnZWxlY3Ryb24nXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIERldGVjdCB0aGUgdXNlciBhZ2VudCB3aGVuIHRoZSBgbm9kZUludGVncmF0aW9uYCBvcHRpb24gaXMgc2V0IHRvIHRydWVcbiAgICBjb25zdCByZWFsVXNlckFnZW50ID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBjb25zdCB1c2VyQWdlbnQgPSBtb2NrVXNlckFnZW50IHx8IHJlYWxVc2VyQWdlbnQ7XG4gICAgcmV0dXJuIEJvb2xlYW4odXNlckFnZW50ICYmIHVzZXJBZ2VudC5pbmRleE9mKCdFbGVjdHJvbicpID49IDApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtZWxlY3Ryb24uanMubWFwIiwiLy8gRXh0cmFjdCBpbmplY3RlZCB2ZXJzaW9uIGZyb20gcGFja2FnZS5qc29uIChpbmplY3RlZCBieSBiYWJlbCBwbHVnaW4pXG4vLyBAdHMtZXhwZWN0LWVycm9yXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9IHR5cGVvZiBcIjQuMS4wXCIgIT09ICd1bmRlZmluZWQnID8gXCI0LjEuMFwiIDogJ3VudHJhbnNwaWxlZCBzb3VyY2UnO1xuLy8gRU5WSVJPTk1FTlRcbmV4cG9ydCB7IHNlbGYsIHdpbmRvdywgZ2xvYmFsLCBkb2N1bWVudCwgcHJvY2VzcywgY29uc29sZSB9IGZyb20gXCIuL2xpYi9nbG9iYWxzLmpzXCI7XG5leHBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tIFwiLi9saWIvaXMtYnJvd3Nlci5qc1wiO1xuZXhwb3J0IHsgZ2V0QnJvd3NlciwgaXNNb2JpbGUgfSBmcm9tIFwiLi9saWIvZ2V0LWJyb3dzZXIuanNcIjtcbmV4cG9ydCB7IGlzRWxlY3Ryb24gfSBmcm9tIFwiLi9saWIvaXMtZWxlY3Ryb24uanNcIjtcbi8vIEVOVklST05NRU5UJ1MgQVNTRVJUIElTIDUtMTVLQiwgU08gV0UgUFJPVklERSBPVVIgT1dOXG5leHBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi91dGlscy9hc3NlcnQuanNcIjtcbi8vIFRPRE8gLSB3aXNoIHdlIGNvdWxkIGp1c3QgZXhwb3J0IGEgY29uc3RhbnRcbi8vIGV4cG9ydCBjb25zdCBpc0Jyb3dzZXIgPSBjaGVja0lmQnJvd3NlcigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLy8gcHJvYmUuZ2wsIE1JVCBsaWNlbnNlXG5mdW5jdGlvbiBnZXRTdG9yYWdlKHR5cGUpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9yYWdlID0gd2luZG93W3R5cGVdO1xuICAgICAgICBjb25zdCB4ID0gJ19fc3RvcmFnZV90ZXN0X18nO1xuICAgICAgICBzdG9yYWdlLnNldEl0ZW0oeCwgeCk7XG4gICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh4KTtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2U7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIFN0b3JlIGtleXMgaW4gbG9jYWwgc3RvcmFnZSB2aWEgc2ltcGxlIGludGVyZmFjZVxuZXhwb3J0IGNsYXNzIExvY2FsU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IoaWQsIGRlZmF1bHRDb25maWcsIHR5cGUgPSAnc2Vzc2lvblN0b3JhZ2UnKSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IGdldFN0b3JhZ2UodHlwZSk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jb25maWcgPSBkZWZhdWx0Q29uZmlnO1xuICAgICAgICB0aGlzLl9sb2FkQ29uZmlndXJhdGlvbigpO1xuICAgIH1cbiAgICBnZXRDb25maWd1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XG4gICAgfVxuICAgIHNldENvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbikge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuc3RvcmFnZSkge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHRoaXMuaWQsIHNlcmlhbGl6ZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEdldCBjb25maWcgZnJvbSBwZXJzaXN0ZW50IHN0b3JlLCBpZiBhdmFpbGFibGVcbiAgICBfbG9hZENvbmZpZ3VyYXRpb24oKSB7XG4gICAgICAgIGxldCBjb25maWd1cmF0aW9uID0ge307XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRDb25maWd1cmF0aW9uID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0odGhpcy5pZCk7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uID0gc2VyaWFsaXplZENvbmZpZ3VyYXRpb24gPyBKU09OLnBhcnNlKHNlcmlhbGl6ZWRDb25maWd1cmF0aW9uKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhbC1zdG9yYWdlLmpzLm1hcCIsImltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJ0Bwcm9iZS5nbC9lbnYnO1xuZXhwb3J0IHZhciBDT0xPUjtcbihmdW5jdGlvbiAoQ09MT1IpIHtcbiAgICBDT0xPUltDT0xPUltcIkJMQUNLXCJdID0gMzBdID0gXCJCTEFDS1wiO1xuICAgIENPTE9SW0NPTE9SW1wiUkVEXCJdID0gMzFdID0gXCJSRURcIjtcbiAgICBDT0xPUltDT0xPUltcIkdSRUVOXCJdID0gMzJdID0gXCJHUkVFTlwiO1xuICAgIENPTE9SW0NPTE9SW1wiWUVMTE9XXCJdID0gMzNdID0gXCJZRUxMT1dcIjtcbiAgICBDT0xPUltDT0xPUltcIkJMVUVcIl0gPSAzNF0gPSBcIkJMVUVcIjtcbiAgICBDT0xPUltDT0xPUltcIk1BR0VOVEFcIl0gPSAzNV0gPSBcIk1BR0VOVEFcIjtcbiAgICBDT0xPUltDT0xPUltcIkNZQU5cIl0gPSAzNl0gPSBcIkNZQU5cIjtcbiAgICBDT0xPUltDT0xPUltcIldISVRFXCJdID0gMzddID0gXCJXSElURVwiO1xuICAgIENPTE9SW0NPTE9SW1wiQlJJR0hUX0JMQUNLXCJdID0gOTBdID0gXCJCUklHSFRfQkxBQ0tcIjtcbiAgICBDT0xPUltDT0xPUltcIkJSSUdIVF9SRURcIl0gPSA5MV0gPSBcIkJSSUdIVF9SRURcIjtcbiAgICBDT0xPUltDT0xPUltcIkJSSUdIVF9HUkVFTlwiXSA9IDkyXSA9IFwiQlJJR0hUX0dSRUVOXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJCUklHSFRfWUVMTE9XXCJdID0gOTNdID0gXCJCUklHSFRfWUVMTE9XXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJCUklHSFRfQkxVRVwiXSA9IDk0XSA9IFwiQlJJR0hUX0JMVUVcIjtcbiAgICBDT0xPUltDT0xPUltcIkJSSUdIVF9NQUdFTlRBXCJdID0gOTVdID0gXCJCUklHSFRfTUFHRU5UQVwiO1xuICAgIENPTE9SW0NPTE9SW1wiQlJJR0hUX0NZQU5cIl0gPSA5Nl0gPSBcIkJSSUdIVF9DWUFOXCI7XG4gICAgQ09MT1JbQ09MT1JbXCJCUklHSFRfV0hJVEVcIl0gPSA5N10gPSBcIkJSSUdIVF9XSElURVwiO1xufSkoQ09MT1IgfHwgKENPTE9SID0ge30pKTtcbmNvbnN0IEJBQ0tHUk9VTkRfSU5DUkVNRU5UID0gMTA7XG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcikge1xuICAgIGlmICh0eXBlb2YgY29sb3IgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICAgY29sb3IgPSBjb2xvci50b1VwcGVyQ2FzZSgpO1xuICAgIHJldHVybiBDT0xPUltjb2xvcl0gfHwgQ09MT1IuV0hJVEU7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkQ29sb3Ioc3RyaW5nLCBjb2xvciwgYmFja2dyb3VuZCkge1xuICAgIGlmICghaXNCcm93c2VyICYmIHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgICAgY29uc3QgY29sb3JDb2RlID0gZ2V0Q29sb3IoY29sb3IpO1xuICAgICAgICAgICAgc3RyaW5nID0gYFxcdTAwMWJbJHtjb2xvckNvZGV9bSR7c3RyaW5nfVxcdTAwMWJbMzltYDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgLy8gYmFja2dyb3VuZCBjb2xvcnMgdmFsdWVzIGFyZSArMTBcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yQ29kZSA9IGdldENvbG9yKGJhY2tncm91bmQpO1xuICAgICAgICAgICAgc3RyaW5nID0gYFxcdTAwMWJbJHtjb2xvckNvZGUgKyBCQUNLR1JPVU5EX0lOQ1JFTUVOVH1tJHtzdHJpbmd9XFx1MDAxYls0OW1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvci5qcy5tYXAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UgfHwgJ0Fzc2VydGlvbiBmYWlsZWQnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3NlcnQuanMubWFwIiwiLy8gRG8gbm90IG5hbWUgdGhlc2UgdmFyaWFibGVzIHRoZSBzYW1lIGFzIHRoZSBnbG9iYWwgb2JqZWN0cyAtIHdpbGwgYnJlYWsgYnVuZGxpbmdcbmNvbnN0IGdsb2JhbF8gPSBnbG9iYWxUaGlzO1xuY29uc3Qgd2luZG93XyA9IGdsb2JhbFRoaXM7XG5jb25zdCBkb2N1bWVudF8gPSBnbG9iYWxUaGlzLmRvY3VtZW50IHx8IHt9O1xuY29uc3QgcHJvY2Vzc18gPSBnbG9iYWxUaGlzLnByb2Nlc3MgfHwge307XG5jb25zdCBjb25zb2xlXyA9IGdsb2JhbFRoaXMuY29uc29sZTtcbmNvbnN0IG5hdmlnYXRvcl8gPSBnbG9iYWxUaGlzLm5hdmlnYXRvciB8fCB7fTtcbmV4cG9ydCB7IGdsb2JhbF8gYXMgZ2xvYmFsLCBnbG9iYWxfIGFzIHNlbGYsIHdpbmRvd18gYXMgd2luZG93LCBkb2N1bWVudF8gYXMgZG9jdW1lbnQsIHByb2Nlc3NfIGFzIHByb2Nlc3MsIGNvbnNvbGVfIGFzIGNvbnNvbGUsIG5hdmlnYXRvcl8gYXMgbmF2aWdhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbG9iYWxzLmpzLm1hcCIsIi8vIHByb2JlLmdsLCBNSVQgbGljZW5zZVxuaW1wb3J0IHsgd2luZG93LCBwcm9jZXNzLCBpc0Jyb3dzZXIgfSBmcm9tICdAcHJvYmUuZ2wvZW52Jztcbi8qKiBHZXQgYmVzdCB0aW1lciBhdmFpbGFibGUuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlSZXNUaW1lc3RhbXAoKSB7XG4gICAgbGV0IHRpbWVzdGFtcDtcbiAgICBpZiAoaXNCcm93c2VyKCkgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHRpbWVzdGFtcCA9IHdpbmRvdz8ucGVyZm9ybWFuY2U/Lm5vdz8uKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCdocnRpbWUnIGluIHByb2Nlc3MpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB0aW1lUGFydHMgPSBwcm9jZXNzPy5ocnRpbWU/LigpO1xuICAgICAgICB0aW1lc3RhbXAgPSB0aW1lUGFydHNbMF0gKiAxMDAwICsgdGltZVBhcnRzWzFdIC8gMWU2O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbWVzdGFtcDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhpLXJlcy10aW1lc3RhbXAuanMubWFwIiwiLy8gcHJvYmUuZ2wsIE1JVCBsaWNlbnNlXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlLHByZWZlci1yZXN0LXBhcmFtcyAqL1xuaW1wb3J0IHsgVkVSU0lPTiwgaXNCcm93c2VyIH0gZnJvbSAnQHByb2JlLmdsL2Vudic7XG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2UgfSBmcm9tIFwiLi91dGlscy9sb2NhbC1zdG9yYWdlLmpzXCI7XG5pbXBvcnQgeyBmb3JtYXRUaW1lLCBsZWZ0UGFkIH0gZnJvbSBcIi4vdXRpbHMvZm9ybWF0dGVycy5qc1wiO1xuaW1wb3J0IHsgYWRkQ29sb3IgfSBmcm9tIFwiLi91dGlscy9jb2xvci5qc1wiO1xuaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tIFwiLi91dGlscy9hdXRvYmluZC5qc1wiO1xuaW1wb3J0IGFzc2VydCBmcm9tIFwiLi91dGlscy9hc3NlcnQuanNcIjtcbmltcG9ydCB7IGdldEhpUmVzVGltZXN0YW1wIH0gZnJvbSBcIi4vdXRpbHMvaGktcmVzLXRpbWVzdGFtcC5qc1wiO1xuLy8gSW5zdHJ1bWVudGF0aW9uIGluIG90aGVyIHBhY2thZ2VzIG1heSBvdmVycmlkZSBjb25zb2xlIG1ldGhvZHMsIHNvIHByZXNlcnZlIHRoZW0gaGVyZVxuY29uc3Qgb3JpZ2luYWxDb25zb2xlID0ge1xuICAgIGRlYnVnOiBpc0Jyb3dzZXIoKSA/IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgOiBjb25zb2xlLmxvZyxcbiAgICBsb2c6IGNvbnNvbGUubG9nLFxuICAgIGluZm86IGNvbnNvbGUuaW5mbyxcbiAgICB3YXJuOiBjb25zb2xlLndhcm4sXG4gICAgZXJyb3I6IGNvbnNvbGUuZXJyb3Jcbn07XG5jb25zdCBERUZBVUxUX0xPR19DT05GSUdVUkFUSU9OID0ge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgbGV2ZWw6IDBcbn07XG5mdW5jdGlvbiBub29wKCkgeyB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG5jb25zdCBjYWNoZSA9IHt9O1xuY29uc3QgT05DRSA9IHsgb25jZTogdHJ1ZSB9O1xuLyoqIEEgY29uc29sZSB3cmFwcGVyICovXG5leHBvcnQgY2xhc3MgTG9nIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGlkIH0gPSB7IGlkOiAnJyB9KSB7XG4gICAgICAgIHRoaXMuVkVSU0lPTiA9IFZFUlNJT047XG4gICAgICAgIHRoaXMuX3N0YXJ0VHMgPSBnZXRIaVJlc1RpbWVzdGFtcCgpO1xuICAgICAgICB0aGlzLl9kZWx0YVRzID0gZ2V0SGlSZXNUaW1lc3RhbXAoKTtcbiAgICAgICAgdGhpcy51c2VyRGF0YSA9IHt9O1xuICAgICAgICAvLyBUT0RPIC0gZml4IHN1cHBvcnQgZnJvbSB0aHJvdHRsaW5nIGdyb3Vwc1xuICAgICAgICB0aGlzLkxPR19USFJPVFRMRV9USU1FT1VUID0gMDsgLy8gVGltZSBiZWZvcmUgdGhyb3R0bGVkIG1lc3NhZ2VzIGFyZSBsb2dnZWQgYWdhaW5cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVzZXJEYXRhID0ge307XG4gICAgICAgIHRoaXMuX3N0b3JhZ2UgPSBuZXcgTG9jYWxTdG9yYWdlKGBfX3Byb2JlLSR7dGhpcy5pZH1fX2AsIERFRkFVTFRfTE9HX0NPTkZJR1VSQVRJT04pO1xuICAgICAgICB0aGlzLnRpbWVTdGFtcChgJHt0aGlzLmlkfSBzdGFydGVkYCk7XG4gICAgICAgIGF1dG9iaW5kKHRoaXMpO1xuICAgICAgICBPYmplY3Quc2VhbCh0aGlzKTtcbiAgICB9XG4gICAgc2V0IGxldmVsKG5ld0xldmVsKSB7XG4gICAgICAgIHRoaXMuc2V0TGV2ZWwobmV3TGV2ZWwpO1xuICAgIH1cbiAgICBnZXQgbGV2ZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldExldmVsKCk7XG4gICAgfVxuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2UuY29uZmlnLmVuYWJsZWQ7XG4gICAgfVxuICAgIGdldExldmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmFnZS5jb25maWcubGV2ZWw7XG4gICAgfVxuICAgIC8qKiBAcmV0dXJuIG1pbGxpc2Vjb25kcywgd2l0aCBmcmFjdGlvbnMgKi9cbiAgICBnZXRUb3RhbCgpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcigoZ2V0SGlSZXNUaW1lc3RhbXAoKSAtIHRoaXMuX3N0YXJ0VHMpLnRvUHJlY2lzaW9uKDEwKSk7XG4gICAgfVxuICAgIC8qKiBAcmV0dXJuIG1pbGxpc2Vjb25kcywgd2l0aCBmcmFjdGlvbnMgKi9cbiAgICBnZXREZWx0YSgpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcigoZ2V0SGlSZXNUaW1lc3RhbXAoKSAtIHRoaXMuX2RlbHRhVHMpLnRvUHJlY2lzaW9uKDEwKSk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgbG9nTGV2ZWwgKi9cbiAgICBzZXQgcHJpb3JpdHkobmV3UHJpb3JpdHkpIHtcbiAgICAgICAgdGhpcy5sZXZlbCA9IG5ld1ByaW9yaXR5O1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIGxvZ0xldmVsICovXG4gICAgZ2V0IHByaW9yaXR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbDtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIHVzZSBsb2dMZXZlbCAqL1xuICAgIGdldFByaW9yaXR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbDtcbiAgICB9XG4gICAgLy8gQ29uZmlndXJlXG4gICAgZW5hYmxlKGVuYWJsZWQgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3N0b3JhZ2Uuc2V0Q29uZmlndXJhdGlvbih7IGVuYWJsZWQgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRMZXZlbChsZXZlbCkge1xuICAgICAgICB0aGlzLl9zdG9yYWdlLnNldENvbmZpZ3VyYXRpb24oeyBsZXZlbCB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBzZXR0aW5nICovXG4gICAgZ2V0KHNldHRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2UuY29uZmlnW3NldHRpbmddO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgdGhlIHN0YXR1cyBvZiB0aGUgc2V0dGluZ1xuICAgIHNldChzZXR0aW5nLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zdG9yYWdlLnNldENvbmZpZ3VyYXRpb24oeyBbc2V0dGluZ106IHZhbHVlIH0pO1xuICAgIH1cbiAgICAvKiogTG9ncyB0aGUgY3VycmVudCBzZXR0aW5ncyBhcyBhIHRhYmxlICovXG4gICAgc2V0dGluZ3MoKSB7XG4gICAgICAgIGlmIChjb25zb2xlLnRhYmxlKSB7XG4gICAgICAgICAgICBjb25zb2xlLnRhYmxlKHRoaXMuX3N0b3JhZ2UuY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX3N0b3JhZ2UuY29uZmlnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBVbmNvbmRpdGlvbmFsIGxvZ2dpbmdcbiAgICBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSB8fCAnQXNzZXJ0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdhcm4obWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24oMCwgbWVzc2FnZSwgb3JpZ2luYWxDb25zb2xlLndhcm4sIGFyZ3VtZW50cywgT05DRSk7XG4gICAgfVxuICAgIGVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKDAsIG1lc3NhZ2UsIG9yaWdpbmFsQ29uc29sZS5lcnJvciwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgLyoqIFByaW50IGEgZGVwcmVjYXRpb24gd2FybmluZyAqL1xuICAgIGRlcHJlY2F0ZWQob2xkVXNhZ2UsIG5ld1VzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndhcm4oYFxcYCR7b2xkVXNhZ2V9XFxgIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBcXFxuaW4gYSBsYXRlciB2ZXJzaW9uLiBVc2UgXFxgJHtuZXdVc2FnZX1cXGAgaW5zdGVhZGApO1xuICAgIH1cbiAgICAvKiogUHJpbnQgYSByZW1vdmFsIHdhcm5pbmcgKi9cbiAgICByZW1vdmVkKG9sZFVzYWdlLCBuZXdVc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihgXFxgJHtvbGRVc2FnZX1cXGAgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFxcYCR7bmV3VXNhZ2V9XFxgIGluc3RlYWRgKTtcbiAgICB9XG4gICAgcHJvYmUobG9nTGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKGxvZ0xldmVsLCBtZXNzYWdlLCBvcmlnaW5hbENvbnNvbGUubG9nLCBhcmd1bWVudHMsIHtcbiAgICAgICAgICAgIHRpbWU6IHRydWUsXG4gICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsb2cobG9nTGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKGxvZ0xldmVsLCBtZXNzYWdlLCBvcmlnaW5hbENvbnNvbGUuZGVidWcsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGluZm8obG9nTGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKGxvZ0xldmVsLCBtZXNzYWdlLCBjb25zb2xlLmluZm8sIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIG9uY2UobG9nTGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKGxvZ0xldmVsLCBtZXNzYWdlLCBvcmlnaW5hbENvbnNvbGUuZGVidWcgfHwgb3JpZ2luYWxDb25zb2xlLmluZm8sIGFyZ3VtZW50cywgT05DRSk7XG4gICAgfVxuICAgIC8qKiBMb2dzIGFuIG9iamVjdCBhcyBhIHRhYmxlICovXG4gICAgdGFibGUobG9nTGV2ZWwsIHRhYmxlLCBjb2x1bW5zKSB7XG4gICAgICAgIGlmICh0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKGxvZ0xldmVsLCB0YWJsZSwgY29uc29sZS50YWJsZSB8fCBub29wLCAoY29sdW1ucyAmJiBbY29sdW1uc10pLCB7XG4gICAgICAgICAgICAgICAgdGFnOiBnZXRUYWJsZUhlYWRlcih0YWJsZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICB0aW1lKGxvZ0xldmVsLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihsb2dMZXZlbCwgbWVzc2FnZSwgY29uc29sZS50aW1lID8gY29uc29sZS50aW1lIDogY29uc29sZS5pbmZvKTtcbiAgICB9XG4gICAgdGltZUVuZChsb2dMZXZlbCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24obG9nTGV2ZWwsIG1lc3NhZ2UsIGNvbnNvbGUudGltZUVuZCA/IGNvbnNvbGUudGltZUVuZCA6IGNvbnNvbGUuaW5mbyk7XG4gICAgfVxuICAgIHRpbWVTdGFtcChsb2dMZXZlbCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24obG9nTGV2ZWwsIG1lc3NhZ2UsIGNvbnNvbGUudGltZVN0YW1wIHx8IG5vb3ApO1xuICAgIH1cbiAgICBncm91cChsb2dMZXZlbCwgbWVzc2FnZSwgb3B0cyA9IHsgY29sbGFwc2VkOiBmYWxzZSB9KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBub3JtYWxpemVBcmd1bWVudHMoeyBsb2dMZXZlbCwgbWVzc2FnZSwgb3B0cyB9KTtcbiAgICAgICAgY29uc3QgeyBjb2xsYXBzZWQgfSA9IG9wdHM7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgb3B0aW9ucy5tZXRob2QgPSAoY29sbGFwc2VkID8gY29uc29sZS5ncm91cENvbGxhcHNlZCA6IGNvbnNvbGUuZ3JvdXApIHx8IGNvbnNvbGUuaW5mbztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKG9wdGlvbnMpO1xuICAgIH1cbiAgICBncm91cENvbGxhcHNlZChsb2dMZXZlbCwgbWVzc2FnZSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyb3VwKGxvZ0xldmVsLCBtZXNzYWdlLCBPYmplY3QuYXNzaWduKHt9LCBvcHRzLCB7IGNvbGxhcHNlZDogdHJ1ZSB9KSk7XG4gICAgfVxuICAgIGdyb3VwRW5kKGxvZ0xldmVsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihsb2dMZXZlbCwgJycsIGNvbnNvbGUuZ3JvdXBFbmQgfHwgbm9vcCk7XG4gICAgfVxuICAgIC8vIEVYUEVSSU1FTlRBTFxuICAgIHdpdGhHcm91cChsb2dMZXZlbCwgbWVzc2FnZSwgZnVuYykge1xuICAgICAgICB0aGlzLmdyb3VwKGxvZ0xldmVsLCBtZXNzYWdlKSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZnVuYygpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5ncm91cEVuZChsb2dMZXZlbCkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0cmFjZSgpIHtcbiAgICAgICAgaWYgKGNvbnNvbGUudHJhY2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBQUklWQVRFIE1FVEhPRFNcbiAgICAvKiogRGVkdWNlcyBsb2cgbGV2ZWwgZnJvbSBhIHZhcmlldHkgb2YgYXJndW1lbnRzICovXG4gICAgX3Nob3VsZExvZyhsb2dMZXZlbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSAmJiB0aGlzLmdldExldmVsKCkgPj0gbm9ybWFsaXplTG9nTGV2ZWwobG9nTGV2ZWwpO1xuICAgIH1cbiAgICBfZ2V0TG9nRnVuY3Rpb24obG9nTGV2ZWwsIG1lc3NhZ2UsIG1ldGhvZCwgYXJncywgb3B0cykge1xuICAgICAgICBpZiAodGhpcy5fc2hvdWxkTG9nKGxvZ0xldmVsKSkge1xuICAgICAgICAgICAgLy8gbm9ybWFsaXplZCBvcHRzICsgdGltaW5nc1xuICAgICAgICAgICAgb3B0cyA9IG5vcm1hbGl6ZUFyZ3VtZW50cyh7IGxvZ0xldmVsLCBtZXNzYWdlLCBhcmdzLCBvcHRzIH0pO1xuICAgICAgICAgICAgbWV0aG9kID0gbWV0aG9kIHx8IG9wdHMubWV0aG9kO1xuICAgICAgICAgICAgYXNzZXJ0KG1ldGhvZCk7XG4gICAgICAgICAgICBvcHRzLnRvdGFsID0gdGhpcy5nZXRUb3RhbCgpO1xuICAgICAgICAgICAgb3B0cy5kZWx0YSA9IHRoaXMuZ2V0RGVsdGEoKTtcbiAgICAgICAgICAgIC8vIHJlc2V0IGRlbHRhIHRpbWVyXG4gICAgICAgICAgICB0aGlzLl9kZWx0YVRzID0gZ2V0SGlSZXNUaW1lc3RhbXAoKTtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IG9wdHMudGFnIHx8IG9wdHMubWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChvcHRzLm9uY2UgJiYgdGFnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZVt0YWddKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlW3RhZ10gPSBnZXRIaVJlc1RpbWVzdGFtcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETyAtIE1ha2UgdGhyb3R0bGluZyB3b3JrIHdpdGggZ3JvdXBzXG4gICAgICAgICAgICAvLyBpZiAob3B0cy5ub3Rocm90dGxlIHx8ICF0aHJvdHRsZSh0YWcsIHRoaXMuTE9HX1RIUk9UVExFX1RJTUVPVVQpKSB7XG4gICAgICAgICAgICAvLyAgIHJldHVybiBub29wO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgbWVzc2FnZSA9IGRlY29yYXRlTWVzc2FnZSh0aGlzLmlkLCBvcHRzLm1lc3NhZ2UsIG9wdHMpO1xuICAgICAgICAgICAgLy8gQmluZCBjb25zb2xlIGZ1bmN0aW9uIHNvIHRoYXQgaXQgY2FuIGJlIGNhbGxlZCBhZnRlciBiZWluZyByZXR1cm5lZFxuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5iaW5kKGNvbnNvbGUsIG1lc3NhZ2UsIC4uLm9wdHMuYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgfVxufVxuTG9nLlZFUlNJT04gPSBWRVJTSU9OO1xuLyoqXG4gKiBHZXQgbG9nTGV2ZWwgZnJvbSBmaXJzdCBhcmd1bWVudDpcbiAqIC0gbG9nKGxvZ0xldmVsLCBtZXNzYWdlLCBhcmdzKSA9PiBsb2dMZXZlbFxuICogLSBsb2cobWVzc2FnZSwgYXJncykgPT4gMFxuICogLSBsb2coe2xvZ0xldmVsLCAuLi59LCBtZXNzYWdlLCBhcmdzKSA9PiBsb2dMZXZlbFxuICogLSBsb2coe2xvZ0xldmVsLCBtZXNzYWdlLCBhcmdzfSkgPT4gbG9nTGV2ZWxcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplTG9nTGV2ZWwobG9nTGV2ZWwpIHtcbiAgICBpZiAoIWxvZ0xldmVsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBsZXQgcmVzb2x2ZWRMZXZlbDtcbiAgICBzd2l0Y2ggKHR5cGVvZiBsb2dMZXZlbCkge1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgcmVzb2x2ZWRMZXZlbCA9IGxvZ0xldmVsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAvLyBUT0RPIC0gZGVwcmVjYXRlIGBwcmlvcml0eWBcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHJlc29sdmVkTGV2ZWwgPSBsb2dMZXZlbC5sb2dMZXZlbCB8fCBsb2dMZXZlbC5wcmlvcml0eSB8fCAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLy8gJ2xvZyBsZXZlbCBtdXN0IGJlIGEgbnVtYmVyJ1xuICAgIGFzc2VydChOdW1iZXIuaXNGaW5pdGUocmVzb2x2ZWRMZXZlbCkgJiYgcmVzb2x2ZWRMZXZlbCA+PSAwKTtcbiAgICByZXR1cm4gcmVzb2x2ZWRMZXZlbDtcbn1cbi8qKlxuICogXCJOb3JtYWxpemVzXCIgdGhlIHZhcmlvdXMgYXJndW1lbnQgcGF0dGVybnMgaW50byBhbiBvYmplY3Qgd2l0aCBrbm93biB0eXBlc1xuICogLSBsb2cobG9nTGV2ZWwsIG1lc3NhZ2UsIGFyZ3MpID0+IHtsb2dMZXZlbCwgbWVzc2FnZSwgYXJnc31cbiAqIC0gbG9nKG1lc3NhZ2UsIGFyZ3MpID0+IHtsb2dMZXZlbDogMCwgbWVzc2FnZSwgYXJnc31cbiAqIC0gbG9nKHtsb2dMZXZlbCwgLi4ufSwgbWVzc2FnZSwgYXJncykgPT4ge2xvZ0xldmVsLCBtZXNzYWdlLCBhcmdzfVxuICogLSBsb2coe2xvZ0xldmVsLCBtZXNzYWdlLCBhcmdzfSkgPT4ge2xvZ0xldmVsLCBtZXNzYWdlLCBhcmdzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplQXJndW1lbnRzKG9wdHMpIHtcbiAgICBjb25zdCB7IGxvZ0xldmVsLCBtZXNzYWdlIH0gPSBvcHRzO1xuICAgIG9wdHMubG9nTGV2ZWwgPSBub3JtYWxpemVMb2dMZXZlbChsb2dMZXZlbCk7XG4gICAgLy8gV2UgdXNlIGBhcmd1bWVudHNgIGluc3RlYWQgb2YgcmVzdCBwYXJhbWV0ZXJzICguLi5hcmdzKSBiZWNhdXNlIElFXG4gICAgLy8gZG9lcyBub3Qgc3VwcG9ydCB0aGUgc3ludGF4LiBSZXN0IHBhcmFtZXRlcnMgaXMgdHJhbnNwaWxlZCB0byBjb2RlIHdpdGhcbiAgICAvLyBwZXJmIGltcGFjdC4gRG9pbmcgaXQgaGVyZSBpbnN0ZWFkIGF2b2lkcyBjb25zdHJ1Y3RpbmcgYXJncyB3aGVuIGxvZ2dpbmcgaXNcbiAgICAvLyBkaXNhYmxlZC5cbiAgICAvLyBUT0RPIC0gcmVtb3ZlIHdoZW4vaWYgSUUgc3VwcG9ydCBpcyBkcm9wcGVkXG4gICAgY29uc3QgYXJncyA9IG9wdHMuYXJncyA/IEFycmF5LmZyb20ob3B0cy5hcmdzKSA6IFtdO1xuICAgIC8vIGFyZ3Mgc2hvdWxkIG9ubHkgY29udGFpbiBhcmd1bWVudHMgdGhhdCBhcHBlYXIgYWZ0ZXIgYG1lc3NhZ2VgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgd2hpbGUgKGFyZ3MubGVuZ3RoICYmIGFyZ3Muc2hpZnQoKSAhPT0gbWVzc2FnZSkgeyB9XG4gICAgc3dpdGNoICh0eXBlb2YgbG9nTGV2ZWwpIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFyZ3MudW5zaGlmdChtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdHMubWVzc2FnZSA9IGxvZ0xldmVsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKG9wdHMsIGxvZ0xldmVsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgIH1cbiAgICAvLyBSZXNvbHZlIGZ1bmN0aW9ucyBpbnRvIHN0cmluZ3MgYnkgY2FsbGluZyB0aGVtXG4gICAgaWYgKHR5cGVvZiBvcHRzLm1lc3NhZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0cy5tZXNzYWdlID0gb3B0cy5tZXNzYWdlKCk7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2VUeXBlID0gdHlwZW9mIG9wdHMubWVzc2FnZTtcbiAgICAvLyAnbG9nIG1lc3NhZ2UgbXVzdCBiZSBhIHN0cmluZycgb3Igb2JqZWN0XG4gICAgYXNzZXJ0KG1lc3NhZ2VUeXBlID09PSAnc3RyaW5nJyB8fCBtZXNzYWdlVHlwZSA9PT0gJ29iamVjdCcpO1xuICAgIC8vIG9yaWdpbmFsIG9wdHMgKyBub3JtYWxpemVkIG9wdHMgKyBvcHRzIGFyZyArIGZpeGVkIHVwIG1lc3NhZ2VcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvcHRzLCB7IGFyZ3MgfSwgb3B0cy5vcHRzKTtcbn1cbmZ1bmN0aW9uIGRlY29yYXRlTWVzc2FnZShpZCwgbWVzc2FnZSwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgdGltZSA9IG9wdHMudGltZSA/IGxlZnRQYWQoZm9ybWF0VGltZShvcHRzLnRvdGFsKSkgOiAnJztcbiAgICAgICAgbWVzc2FnZSA9IG9wdHMudGltZSA/IGAke2lkfTogJHt0aW1lfSAgJHttZXNzYWdlfWAgOiBgJHtpZH06ICR7bWVzc2FnZX1gO1xuICAgICAgICBtZXNzYWdlID0gYWRkQ29sb3IobWVzc2FnZSwgb3B0cy5jb2xvciwgb3B0cy5iYWNrZ3JvdW5kKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5mdW5jdGlvbiBnZXRUYWJsZUhlYWRlcih0YWJsZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRhYmxlKSB7XG4gICAgICAgIGZvciAoY29uc3QgdGl0bGUgaW4gdGFibGVba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIHRpdGxlIHx8ICd1bnRpdGxlZCc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICdlbXB0eSc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2cuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1IC0gMjAxNyBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4vLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4vLyBUSEUgU09GVFdBUkUuXG4vKipcbiAqIEJpbmRzIHRoZSBcInRoaXNcIiBhcmd1bWVudCBvZiBhbGwgZnVuY3Rpb25zIG9uIGEgY2xhc3MgaW5zdGFuY2UgdG8gdGhlIGluc3RhbmNlXG4gKiBAcGFyYW0gb2JqIC0gY2xhc3MgaW5zdGFuY2UgKHR5cGljYWxseSBhIHJlYWN0IGNvbXBvbmVudClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF1dG9iaW5kKG9iaiwgcHJlZGVmaW5lZCA9IFsnY29uc3RydWN0b3InXSkge1xuICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgY29uc3QgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pO1xuICAgIGNvbnN0IG9iamVjdCA9IG9iajtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBwcm9wTmFtZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKCFwcmVkZWZpbmVkLmZpbmQoKG5hbWUpID0+IGtleSA9PT0gbmFtZSkpIHtcbiAgICAgICAgICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlLmJpbmQob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dG9iaW5kLmpzLm1hcCIsIi8vIHByb2JlLmdsLCBNSVQgbGljZW5zZVxuLyoqXG4gKiBGb3JtYXQgdGltZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VGltZShtcykge1xuICAgIGxldCBmb3JtYXR0ZWQ7XG4gICAgaWYgKG1zIDwgMTApIHtcbiAgICAgICAgZm9ybWF0dGVkID0gYCR7bXMudG9GaXhlZCgyKX1tc2A7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zIDwgMTAwKSB7XG4gICAgICAgIGZvcm1hdHRlZCA9IGAke21zLnRvRml4ZWQoMSl9bXNgO1xuICAgIH1cbiAgICBlbHNlIGlmIChtcyA8IDEwMDApIHtcbiAgICAgICAgZm9ybWF0dGVkID0gYCR7bXMudG9GaXhlZCgwKX1tc2A7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3JtYXR0ZWQgPSBgJHsobXMgLyAxMDAwKS50b0ZpeGVkKDIpfXNgO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0dGVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxlZnRQYWQoc3RyaW5nLCBsZW5ndGggPSA4KSB7XG4gICAgY29uc3QgcGFkTGVuZ3RoID0gTWF0aC5tYXgobGVuZ3RoIC0gc3RyaW5nLmxlbmd0aCwgMCk7XG4gICAgcmV0dXJuIGAkeycgJy5yZXBlYXQocGFkTGVuZ3RoKX0ke3N0cmluZ31gO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJpZ2h0UGFkKHN0cmluZywgbGVuZ3RoID0gOCkge1xuICAgIGNvbnN0IHBhZExlbmd0aCA9IE1hdGgubWF4KGxlbmd0aCAtIHN0cmluZy5sZW5ndGgsIDApO1xuICAgIHJldHVybiBgJHtzdHJpbmd9JHsnICcucmVwZWF0KHBhZExlbmd0aCl9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBFUFNJTE9OID0gMWUtMTY7XG4gICAgY29uc3QgeyBpc0ludGVnZXIgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2KSB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcodikpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEFycmF5VmFsdWUodiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcodik7XG4gICAgfVxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBpZiAoTWF0aC5hYnModikgPCBFUFNJTE9OKSB7XG4gICAgICAgIHJldHVybiBpc0ludGVnZXIgPyAnMCcgOiAnMC4nO1xuICAgIH1cbiAgICBpZiAoaXNJbnRlZ2VyKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgcmV0dXJuIHYudG9GaXhlZCgwKTtcbiAgICB9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGlmIChNYXRoLmFicyh2KSA+IDEwMCAmJiBNYXRoLmFicyh2KSA8IDEwMDAwKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgcmV0dXJuIHYudG9GaXhlZCgwKTtcbiAgICB9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGNvbnN0IHN0cmluZyA9IHYudG9QcmVjaXNpb24oMik7XG4gICAgY29uc3QgZGVjaW1hbCA9IHN0cmluZy5pbmRleE9mKCcuMCcpO1xuICAgIHJldHVybiBkZWNpbWFsID09PSBzdHJpbmcubGVuZ3RoIC0gMiA/IHN0cmluZy5zbGljZSgwLCAtMSkgOiBzdHJpbmc7XG59XG4vKiogSGVscGVyIHRvIGZvcm1hdFZhbHVlICovXG5mdW5jdGlvbiBmb3JtYXRBcnJheVZhbHVlKHYsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IG1heEVsdHMgPSAxNiwgc2l6ZSA9IDEgfSA9IG9wdGlvbnM7XG4gICAgbGV0IHN0cmluZyA9ICdbJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHYubGVuZ3RoICYmIGkgPCBtYXhFbHRzOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBzdHJpbmcgKz0gYCwke2kgJSBzaXplID09PSAwID8gJyAnIDogJyd9YDtcbiAgICAgICAgfVxuICAgICAgICBzdHJpbmcgKz0gZm9ybWF0VmFsdWUodltpXSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGNvbnN0IHRlcm1pbmF0b3IgPSB2Lmxlbmd0aCA+IG1heEVsdHMgPyAnLi4uJyA6ICddJztcbiAgICByZXR1cm4gYCR7c3RyaW5nfSR7dGVybWluYXRvcn1gO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybWF0dGVycy5qcy5tYXAiLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbi8vIHByb2JlLmdsIExvZyBjb21wYXRpYmxlIGxvZ2dlcnNcbmltcG9ydCB7IExvZyB9IGZyb20gJ0Bwcm9iZS5nbC9sb2cnO1xuZXhwb3J0IGNvbnN0IHByb2JlTG9nID0gbmV3IExvZyh7IGlkOiAnbG9hZGVycy5nbCcgfSk7XG4vLyBMb2dzIG5vdGhpbmdcbmV4cG9ydCBjbGFzcyBOdWxsTG9nIHtcbiAgICBsb2coKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfVxuICAgIGluZm8oKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfVxuICAgIHdhcm4oKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfVxuICAgIGVycm9yKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH1cbn1cbi8vIExvZ3MgdG8gY29uc29sZVxuZXhwb3J0IGNsYXNzIENvbnNvbGVMb2cge1xuICAgIGNvbnNvbGU7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY29uc29sZSA9IGNvbnNvbGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICB9XG4gICAgbG9nKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc29sZS5sb2cuYmluZCh0aGlzLmNvbnNvbGUsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBpbmZvKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc29sZS5pbmZvLmJpbmQodGhpcy5jb25zb2xlLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgd2FybiguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnNvbGUud2Fybi5iaW5kKHRoaXMuY29uc29sZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIGVycm9yKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc29sZS5lcnJvci5iaW5kKHRoaXMuY29uc29sZSwgLi4uYXJncyk7XG4gICAgfVxufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuaW1wb3J0IHsgQ29uc29sZUxvZyB9IGZyb20gXCIuL2xvZ2dlcnMuanNcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0xPQURFUl9PUFRJT05TID0ge1xuICAgIC8vIGJhc2VVcmlcbiAgICBmZXRjaDogbnVsbCxcbiAgICBtaW1lVHlwZTogdW5kZWZpbmVkLFxuICAgIG5vdGhyb3c6IGZhbHNlLFxuICAgIGxvZzogbmV3IENvbnNvbGVMb2coKSwgLy8gQSBwcm9iZS5nbCBjb21wYXRpYmxlIChgbG9nLmxvZygpKClgIHN5bnRheCkgdGhhdCBqdXN0IGxvZ3MgdG8gY29uc29sZVxuICAgIHVzZUxvY2FsTGlicmFyaWVzOiBmYWxzZSxcbiAgICBDRE46ICdodHRwczovL3VucGtnLmNvbS9AbG9hZGVycy5nbCcsXG4gICAgd29ya2VyOiB0cnVlLCAvLyBCeSBkZWZhdWx0LCB1c2Ugd29ya2VyIGlmIHByb3ZpZGVkIGJ5IGxvYWRlci5cbiAgICBtYXhDb25jdXJyZW5jeTogMywgLy8gSG93IG1hbnkgd29ya2VyIGluc3RhbmNlcyBzaG91bGQgYmUgY3JlYXRlZCBmb3IgZWFjaCBsb2FkZXIuXG4gICAgbWF4TW9iaWxlQ29uY3VycmVuY3k6IDEsIC8vIEhvdyBtYW55IHdvcmtlciBpbnN0YW5jZXMgc2hvdWxkIGJlIGNyZWF0ZWQgZm9yIGVhY2ggbG9hZGVyIG9uIG1vYmlsZSBkZXZpY2VzLlxuICAgIHJldXNlV29ya2VyczogaXNCcm93c2VyLCAvLyBCeSBkZWZhdWx0IHJldXNlIHdvcmtlcnMgaW4gYnJvd3NlciAoTm9kZS5qcyByZWZ1c2VzIHRvIHRlcm1pbmF0ZSBpZiBicm93c2VycyBhcmUgcnVubmluZylcbiAgICBfbm9kZVdvcmtlcnM6IGZhbHNlLCAvLyBCeSBkZWZhdWx0IGRvIG5vdCBzdXBwb3J0IG5vZGUgd29ya2Vyc1xuICAgIF93b3JrZXJUeXBlOiAnJywgLy8gJ3Rlc3QnIHRvIHVzZSBsb2NhbGx5IGdlbmVyYXRlZCB3b3JrZXJzXG4gICAgbGltaXQ6IDAsXG4gICAgX2xpbWl0TUI6IDAsXG4gICAgYmF0Y2hTaXplOiAnYXV0bycsXG4gICAgYmF0Y2hEZWJvdW5jZU1zOiAwLFxuICAgIG1ldGFkYXRhOiBmYWxzZSwgLy8gVE9ETyAtIGN1cnJlbnRseSBvbmx5IGltcGxlbWVudGVkIGZvciBwYXJzZUluQmF0Y2hlcywgYWRkcyBpbml0aWFsIG1ldGFkYXRhIGJhdGNoLFxuICAgIHRyYW5zZm9ybXM6IFtdXG59O1xuZXhwb3J0IGNvbnN0IFJFTU9WRURfTE9BREVSX09QVElPTlMgPSB7XG4gICAgdGhyb3dzOiAnbm90aHJvdycsXG4gICAgZGF0YVR5cGU6ICcobm8gbG9uZ2VyIHVzZWQpJyxcbiAgICB1cmk6ICdiYXNlVXJpJyxcbiAgICAvLyBXYXJuIGlmIGZldGNoIG9wdGlvbnMgYXJlIHVzZWQgb24gdG9wLWxldmVsXG4gICAgbWV0aG9kOiAnZmV0Y2gubWV0aG9kJyxcbiAgICBoZWFkZXJzOiAnZmV0Y2guaGVhZGVycycsXG4gICAgYm9keTogJ2ZldGNoLmJvZHknLFxuICAgIG1vZGU6ICdmZXRjaC5tb2RlJyxcbiAgICBjcmVkZW50aWFsczogJ2ZldGNoLmNyZWRlbnRpYWxzJyxcbiAgICBjYWNoZTogJ2ZldGNoLmNhY2hlJyxcbiAgICByZWRpcmVjdDogJ2ZldGNoLnJlZGlyZWN0JyxcbiAgICByZWZlcnJlcjogJ2ZldGNoLnJlZmVycmVyJyxcbiAgICByZWZlcnJlclBvbGljeTogJ2ZldGNoLnJlZmVycmVyUG9saWN5JyxcbiAgICBpbnRlZ3JpdHk6ICdmZXRjaC5pbnRlZ3JpdHknLFxuICAgIGtlZXBhbGl2ZTogJ2ZldGNoLmtlZXBhbGl2ZScsXG4gICAgc2lnbmFsOiAnZmV0Y2guc2lnbmFsJ1xufTtcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgcmVnaXN0ZXJKU01vZHVsZXMgfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuaW1wb3J0IHsgaXNQdXJlT2JqZWN0LCBpc09iamVjdCB9IGZyb20gXCIuLi8uLi9qYXZhc2NyaXB0LXV0aWxzL2lzLXR5cGUuanNcIjtcbmltcG9ydCB7IHByb2JlTG9nLCBOdWxsTG9nIH0gZnJvbSBcIi4vbG9nZ2Vycy5qc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9MT0FERVJfT1BUSU9OUywgUkVNT1ZFRF9MT0FERVJfT1BUSU9OUyB9IGZyb20gXCIuL29wdGlvbi1kZWZhdWx0cy5qc1wiO1xuLyoqXG4gKiBIZWxwZXIgZm9yIHNhZmVseSBhY2Nlc3NpbmcgZ2xvYmFsIGxvYWRlcnMuZ2wgdmFyaWFibGVzXG4gKiBXcmFwcyBpbml0aWFsaXphdGlvbiBvZiBnbG9iYWwgdmFyaWFibGUgaW4gZnVuY3Rpb24gdG8gZGVmZWF0IG92ZXJseSBhZ2dyZXNzaXZlIHRyZWUtc2hha2Vyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsTG9hZGVyU3RhdGUoKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGdsb2JhbFRoaXMubG9hZGVycyA9IGdsb2JhbFRoaXMubG9hZGVycyB8fCB7fTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgeyBsb2FkZXJzIH0gPSBnbG9iYWxUaGlzO1xuICAgIC8vIEFkZCBfc3RhdGUgb2JqZWN0IHRvIGtlZXAgc2VwYXJhdGUgZnJvbSBtb2R1bGVzIGFkZGVkIHRvIGdsb2JhbFRoaXMubG9hZGVyc1xuICAgIGlmICghbG9hZGVycy5fc3RhdGUpIHtcbiAgICAgICAgbG9hZGVycy5fc3RhdGUgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGxvYWRlcnMuX3N0YXRlO1xufVxuLyoqXG4gKiBTdG9yZSBnbG9iYWwgbG9hZGVyIG9wdGlvbnMgb24gdGhlIGdsb2JhbCBvYmplY3QgdG8gaW5jcmVhc2UgY2hhbmNlcyBvZiBjcm9zcyBsb2FkZXJzLXZlcnNpb24gaW50ZXJvcGVyYWJpbGl0eVxuICogTk9URTogVGhpcyB1c2UgY2FzZSBpcyBub3QgcmVsaWFibGUgYnV0IGNhbiBoZWxwIHdoZW4gdGVzdGluZyBuZXcgdmVyc2lvbnMgb2YgbG9hZGVycy5nbCB3aXRoIGV4aXN0aW5nIGZyYW1ld29ya3NcbiAqIEByZXR1cm5zIGdsb2JhbCBsb2FkZXIgb3B0aW9ucyBtZXJnZWQgd2l0aCBkZWZhdWx0IGxvYWRlciBvcHRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRHbG9iYWxMb2FkZXJPcHRpb25zKCkge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0R2xvYmFsTG9hZGVyU3RhdGUoKTtcbiAgICAvLyBFbnN1cmUgYWxsIGRlZmF1bHQgbG9hZGVyIG9wdGlvbnMgZnJvbSB0aGlzIGxpYnJhcnkgYXJlIG1lbnRpb25lZFxuICAgIHN0YXRlLmdsb2JhbE9wdGlvbnMgPSBzdGF0ZS5nbG9iYWxPcHRpb25zIHx8IHsgLi4uREVGQVVMVF9MT0FERVJfT1BUSU9OUyB9O1xuICAgIHJldHVybiBzdGF0ZS5nbG9iYWxPcHRpb25zO1xufVxuLyoqXG4gKiBTZXQgZ2xvYmFsIGxvYWRlciBvcHRpb25zXG4gKiBAcGFyYW0gb3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0R2xvYmFsT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRHbG9iYWxMb2FkZXJTdGF0ZSgpO1xuICAgIGNvbnN0IGdsb2JhbE9wdGlvbnMgPSBnZXRHbG9iYWxMb2FkZXJPcHRpb25zKCk7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBGaXJzdCBwYXJhbSBsb29rcyBpbmNvcnJlY3RcbiAgICBzdGF0ZS5nbG9iYWxPcHRpb25zID0gbm9ybWFsaXplT3B0aW9uc0ludGVybmFsKGdsb2JhbE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIC8vIE1ha2Ugc3VyZSBhbnkgbmV3IG1vZHVsZXMgYXJlIHJlZ2lzdGVyZWRcbiAgICByZWdpc3RlckpTTW9kdWxlcyhvcHRpb25zLm1vZHVsZXMpO1xufVxuLyoqXG4gKiBNZXJnZXMgb3B0aW9ucyB3aXRoIGdsb2JhbCBvcHRzIGFuZCBsb2FkZXIgZGVmYXVsdHMsIGFsc28gaW5qZWN0cyBiYXNlVXJpXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGxvYWRlclxuICogQHBhcmFtIGxvYWRlcnNcbiAqIEBwYXJhbSB1cmxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucywgbG9hZGVyLCBsb2FkZXJzLCB1cmwpIHtcbiAgICBsb2FkZXJzID0gbG9hZGVycyB8fCBbXTtcbiAgICBsb2FkZXJzID0gQXJyYXkuaXNBcnJheShsb2FkZXJzKSA/IGxvYWRlcnMgOiBbbG9hZGVyc107XG4gICAgdmFsaWRhdGVPcHRpb25zKG9wdGlvbnMsIGxvYWRlcnMpO1xuICAgIHJldHVybiBub3JtYWxpemVPcHRpb25zSW50ZXJuYWwobG9hZGVyLCBvcHRpb25zLCB1cmwpO1xufVxuLy8gVkFMSURBVEUgT1BUSU9OU1xuLyoqXG4gKiBXYXJuIGZvciB1bnN1cHBvcnRlZCBvcHRpb25zXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGxvYWRlcnNcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25zKG9wdGlvbnMsIGxvYWRlcnMpIHtcbiAgICAvLyBDaGVjayB0b3AgbGV2ZWwgb3B0aW9uc1xuICAgIHZhbGlkYXRlT3B0aW9uc09iamVjdChvcHRpb25zLCBudWxsLCBERUZBVUxUX0xPQURFUl9PUFRJT05TLCBSRU1PVkVEX0xPQURFUl9PUFRJT05TLCBsb2FkZXJzKTtcbiAgICBmb3IgKGNvbnN0IGxvYWRlciBvZiBsb2FkZXJzKSB7XG4gICAgICAgIC8vIEdldCB0aGUgc2NvcGVkLCBsb2FkZXIgc3BlY2lmaWMgb3B0aW9ucyBmcm9tIHRoZSB1c2VyIHN1cHBsaWVkIG9wdGlvbnNcbiAgICAgICAgY29uc3QgaWRPcHRpb25zID0gKChvcHRpb25zICYmIG9wdGlvbnNbbG9hZGVyLmlkXSkgfHwge30pO1xuICAgICAgICAvLyBHZXQgc2NvcGVkLCBsb2FkZXIgc3BlY2lmaWMgZGVmYXVsdCBhbmQgZGVwcmVjYXRlZCBvcHRpb25zIGZyb20gdGhlIHNlbGVjdGVkIGxvYWRlclxuICAgICAgICBjb25zdCBsb2FkZXJPcHRpb25zID0gKGxvYWRlci5vcHRpb25zICYmIGxvYWRlci5vcHRpb25zW2xvYWRlci5pZF0pIHx8IHt9O1xuICAgICAgICBjb25zdCBkZXByZWNhdGVkT3B0aW9ucyA9IChsb2FkZXIuZGVwcmVjYXRlZE9wdGlvbnMgJiYgbG9hZGVyLmRlcHJlY2F0ZWRPcHRpb25zW2xvYWRlci5pZF0pIHx8IHt9O1xuICAgICAgICAvLyBWYWxpZGF0ZSBsb2FkZXIgc3BlY2lmaWMgb3B0aW9uc1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHZhbGlkYXRlT3B0aW9uc09iamVjdChpZE9wdGlvbnMsIGxvYWRlci5pZCwgbG9hZGVyT3B0aW9ucywgZGVwcmVjYXRlZE9wdGlvbnMsIGxvYWRlcnMpO1xuICAgIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtcGFyYW1zLCBjb21wbGV4aXR5XG5mdW5jdGlvbiB2YWxpZGF0ZU9wdGlvbnNPYmplY3Qob3B0aW9ucywgaWQsIGRlZmF1bHRPcHRpb25zLCBkZXByZWNhdGVkT3B0aW9ucywgbG9hZGVycykge1xuICAgIGNvbnN0IGxvYWRlck5hbWUgPSBpZCB8fCAnVG9wIGxldmVsJztcbiAgICBjb25zdCBwcmVmaXggPSBpZCA/IGAke2lkfS5gIDogJyc7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xuICAgICAgICAvLyBJZiB0b3AgbGV2ZWwgb3B0aW9uIHZhbHVlIGlzIGFuIG9iamVjdCBpdCBjb3VsZCBvcHRpb25zIGZvciBhIGxvYWRlciwgc28gaWdub3JlXG4gICAgICAgIGNvbnN0IGlzU3ViT3B0aW9ucyA9ICFpZCAmJiBpc09iamVjdChvcHRpb25zW2tleV0pO1xuICAgICAgICBjb25zdCBpc0Jhc2VVcmlPcHRpb24gPSBrZXkgPT09ICdiYXNlVXJpJyAmJiAhaWQ7XG4gICAgICAgIGNvbnN0IGlzV29ya2VyVXJsT3B0aW9uID0ga2V5ID09PSAnd29ya2VyVXJsJyAmJiBpZDtcbiAgICAgICAgLy8gPGxvYWRlcj4ud29ya2VyVXJsIHJlcXVpcmVzIHNwZWNpYWwgaGFuZGxpbmcgYXMgaXQgaXMgbm93IGF1dG8tZ2VuZXJhdGVkIGFuZCBubyBsb25nZXIgc3BlY2lmaWVkIGFzIGEgZGVmYXVsdCBvcHRpb24uXG4gICAgICAgIGlmICghKGtleSBpbiBkZWZhdWx0T3B0aW9ucykgJiYgIWlzQmFzZVVyaU9wdGlvbiAmJiAhaXNXb3JrZXJVcmxPcHRpb24pIHtcbiAgICAgICAgICAgIC8vIElzc3VlIGRlcHJlY2F0aW9uIHdhcm5pbmdzXG4gICAgICAgICAgICBpZiAoa2V5IGluIGRlcHJlY2F0ZWRPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcHJvYmVMb2cud2FybihgJHtsb2FkZXJOYW1lfSBsb2FkZXIgb3B0aW9uIFxcJyR7cHJlZml4fSR7a2V5fVxcJyBubyBsb25nZXIgc3VwcG9ydGVkLCB1c2UgXFwnJHtkZXByZWNhdGVkT3B0aW9uc1trZXldfVxcJ2ApKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghaXNTdWJPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbiA9IGZpbmRTaW1pbGFyT3B0aW9uKGtleSwgbG9hZGVycyk7XG4gICAgICAgICAgICAgICAgcHJvYmVMb2cud2FybihgJHtsb2FkZXJOYW1lfSBsb2FkZXIgb3B0aW9uIFxcJyR7cHJlZml4fSR7a2V5fVxcJyBub3QgcmVjb2duaXplZC4gJHtzdWdnZXN0aW9ufWApKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kU2ltaWxhck9wdGlvbihvcHRpb25LZXksIGxvYWRlcnMpIHtcbiAgICBjb25zdCBsb3dlckNhc2VPcHRpb25LZXkgPSBvcHRpb25LZXkudG9Mb3dlckNhc2UoKTtcbiAgICBsZXQgYmVzdFN1Z2dlc3Rpb24gPSAnJztcbiAgICBmb3IgKGNvbnN0IGxvYWRlciBvZiBsb2FkZXJzKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGxvYWRlci5vcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9uS2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYERpZCB5b3UgbWVhbiBcXCcke2xvYWRlci5pZH0uJHtrZXl9XFwnP2A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb3dlckNhc2VLZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGlzUGFydGlhbE1hdGNoID0gbG93ZXJDYXNlT3B0aW9uS2V5LnN0YXJ0c1dpdGgobG93ZXJDYXNlS2V5KSB8fCBsb3dlckNhc2VLZXkuc3RhcnRzV2l0aChsb3dlckNhc2VPcHRpb25LZXkpO1xuICAgICAgICAgICAgaWYgKGlzUGFydGlhbE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgYmVzdFN1Z2dlc3Rpb24gPSBiZXN0U3VnZ2VzdGlvbiB8fCBgRGlkIHlvdSBtZWFuIFxcJyR7bG9hZGVyLmlkfS4ke2tleX1cXCc/YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYmVzdFN1Z2dlc3Rpb247XG59XG5mdW5jdGlvbiBub3JtYWxpemVPcHRpb25zSW50ZXJuYWwobG9hZGVyLCBvcHRpb25zLCB1cmwpIHtcbiAgICBjb25zdCBsb2FkZXJEZWZhdWx0T3B0aW9ucyA9IGxvYWRlci5vcHRpb25zIHx8IHt9O1xuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IC4uLmxvYWRlckRlZmF1bHRPcHRpb25zIH07XG4gICAgYWRkVXJsT3B0aW9ucyhtZXJnZWRPcHRpb25zLCB1cmwpO1xuICAgIC8vIExPR0dJTkc6IG9wdGlvbnMubG9nIGNhbiBiZSBzZXQgdG8gYG51bGxgIHRvIGRlZmVhdCBsb2dnaW5nXG4gICAgaWYgKG1lcmdlZE9wdGlvbnMubG9nID09PSBudWxsKSB7XG4gICAgICAgIG1lcmdlZE9wdGlvbnMubG9nID0gbmV3IE51bGxMb2coKTtcbiAgICB9XG4gICAgbWVyZ2VOZXN0ZWRGaWVsZHMobWVyZ2VkT3B0aW9ucywgZ2V0R2xvYmFsTG9hZGVyT3B0aW9ucygpKTtcbiAgICBtZXJnZU5lc3RlZEZpZWxkcyhtZXJnZWRPcHRpb25zLCBvcHRpb25zKTtcbiAgICByZXR1cm4gbWVyZ2VkT3B0aW9ucztcbn1cbi8vIE1lcmdlIG5lc3RlZCBvcHRpb25zIG9iamVjdHNcbmZ1bmN0aW9uIG1lcmdlTmVzdGVkRmllbGRzKG1lcmdlZE9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBuZXN0ZWQgb3B0aW9uc1xuICAgICAgICAvLyBvYmplY3QgaW4gb3B0aW9ucyA9PiBlaXRoZXIgbm8ga2V5IGluIGRlZmF1bHRPcHRpb25zIG9yIG9iamVjdCBpbiBkZWZhdWx0T3B0aW9uc1xuICAgICAgICBpZiAoa2V5IGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgaWYgKGlzUHVyZU9iamVjdCh2YWx1ZSkgJiYgaXNQdXJlT2JqZWN0KG1lcmdlZE9wdGlvbnNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRPcHRpb25zW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1lcmdlZE9wdGlvbnNba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9uc1trZXldXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lcmdlZE9wdGlvbnNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBlbHNlOiBObyBuZWVkIHRvIG1lcmdlIG5lc3RlZCBvcHRzLCBhbmQgdGhlIGluaXRpYWwgbWVyZ2UgYWxyZWFkeSBjb3BpZWQgb3ZlciB0aGUgbmVzdGVkIG9wdGlvbnNcbiAgICB9XG59XG4vKipcbiAqIEhhcnZlc3QgaW5mb3JtYXRpb24gZnJvbSB0aGUgdXJsXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGlzIG1haW5seSB0aGVyZSB0byBzdXBwb3J0IGEgaGFjayBpbiB0aGUgR0xURkxvYWRlclxuICogVE9ETyAtIGJhc2VVcmkgc2hvdWxkIGJlIGEgZGlyZWN0b3J5LCBpLmUuIHJlbW92ZSBmaWxlIGNvbXBvbmVudCBmcm9tIGJhc2VVcmlcbiAqIFRPRE8gLSBleHRyYWN0IGV4dGVuc2lvbj9cbiAqIFRPRE8gLSBleHRyYWN0IHF1ZXJ5IHBhcmFtZXRlcnM/XG4gKiBUT0RPIC0gc2hvdWxkIHRoZXNlIGJlIGluamVjdGVkIG9uIGNvbnRleHQgaW5zdGVhZCBvZiBvcHRpb25zP1xuICovXG5mdW5jdGlvbiBhZGRVcmxPcHRpb25zKG9wdGlvbnMsIHVybCkge1xuICAgIGlmICh1cmwgJiYgISgnYmFzZVVyaScgaW4gb3B0aW9ucykpIHtcbiAgICAgICAgb3B0aW9ucy5iYXNlVXJpID0gdXJsO1xuICAgIH1cbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tIFwiLi4vLi4vamF2YXNjcmlwdC11dGlscy9pcy10eXBlLmpzXCI7XG5pbXBvcnQgeyBmZXRjaEZpbGUgfSBmcm9tIFwiLi4vZmV0Y2gvZmV0Y2gtZmlsZS5qc1wiO1xuaW1wb3J0IHsgZ2V0R2xvYmFsTG9hZGVyT3B0aW9ucyB9IGZyb20gXCIuL29wdGlvbi11dGlscy5qc1wiO1xuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IGZldGNoIGZ1bmN0aW9uIGZyb20gb3B0aW9ucyBhbmQgY29udGV4dFxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGZXRjaEZ1bmN0aW9uKG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICBjb25zdCBnbG9iYWxPcHRpb25zID0gZ2V0R2xvYmFsTG9hZGVyT3B0aW9ucygpO1xuICAgIGNvbnN0IGxvYWRlck9wdGlvbnMgPSBvcHRpb25zIHx8IGdsb2JhbE9wdGlvbnM7XG4gICAgLy8gb3B0aW9ucy5mZXRjaCBjYW4gYmUgYSBmdW5jdGlvblxuICAgIGlmICh0eXBlb2YgbG9hZGVyT3B0aW9ucy5mZXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbG9hZGVyT3B0aW9ucy5mZXRjaDtcbiAgICB9XG4gICAgLy8gb3B0aW9ucy5mZXRjaCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3RcbiAgICBpZiAoaXNPYmplY3QobG9hZGVyT3B0aW9ucy5mZXRjaCkpIHtcbiAgICAgICAgcmV0dXJuICh1cmwpID0+IGZldGNoRmlsZSh1cmwsIGxvYWRlck9wdGlvbnMuZmV0Y2gpO1xuICAgIH1cbiAgICAvLyBlbHNlIHJlZmVyIHRvIGNvbnRleHQgKGZyb20gcGFyZW50IGxvYWRlcikgaWYgYXZhaWxhYmxlXG4gICAgaWYgKGNvbnRleHQ/LmZldGNoKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0Py5mZXRjaDtcbiAgICB9XG4gICAgLy8gZWxzZSByZXR1cm4gdGhlIGRlZmF1bHQgZmV0Y2ggZnVuY3Rpb25cbiAgICByZXR1cm4gZmV0Y2hGaWxlO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vKipcbiAqXG4gKiBAcGFyYW0gYmFzZU9wdGlvbnMgQ2FuIGJlIHVuZGVmaW5lZCwgaW4gd2hpY2ggY2FzZSBhIGZyZXNoIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgbWludGVkXG4gKiBAcGFyYW0gbmV3T3B0aW9uc1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTG9hZGVyT3B0aW9ucyhiYXNlT3B0aW9ucywgbmV3T3B0aW9ucykge1xuICAgIHJldHVybiBtZXJnZU9wdGlvbnNSZWN1cnNpdmVseShiYXNlT3B0aW9ucyB8fCB7fSwgbmV3T3B0aW9ucyk7XG59XG5mdW5jdGlvbiBtZXJnZU9wdGlvbnNSZWN1cnNpdmVseShiYXNlT3B0aW9ucywgbmV3T3B0aW9ucywgbGV2ZWwgPSAwKSB7XG4gICAgLy8gU2FuaXR5IGNoZWNrIChqZXN0IHRlc3QgcnVubmVyIG92ZXJ3cml0ZXMgdGhlIGNvbnNvbGUgb2JqZWN0IHdoaWNoIGNhbiBsZWFkIHRvIGluZmluaXRlIHJlY3Vyc2lvbilcbiAgICBpZiAobGV2ZWwgPiAzKSB7XG4gICAgICAgIHJldHVybiBuZXdPcHRpb25zO1xuICAgIH1cbiAgICBjb25zdCBvcHRpb25zID0geyAuLi5iYXNlT3B0aW9ucyB9O1xuICAgIGZvciAoY29uc3QgW2tleSwgbmV3VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG5ld09wdGlvbnMpKSB7XG4gICAgICAgIGlmIChuZXdWYWx1ZSAmJiB0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgb3B0aW9uc1trZXldID0gbWVyZ2VPcHRpb25zUmVjdXJzaXZlbHkob3B0aW9uc1trZXldIHx8IHt9LCBuZXdPcHRpb25zW2tleV0sIGxldmVsICsgMSk7XG4gICAgICAgICAgICAvLyBPYmplY3QuYXNzaWduKG9wdGlvbnNba2V5XSBhcyBvYmplY3QsIG5ld09wdGlvbnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zW2tleV0gPSBuZXdPcHRpb25zW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbi8qKiBCcm93c2VyIHBvbHlmaWxsIGZvciBOb2RlLmpzIGJ1aWx0LWluIGB3b3JrZXJfdGhyZWFkc2AgbW9kdWxlLlxuICogVGhlc2UgZmlsbHMgYXJlIG5vbi1mdW5jdGlvbmFsLCBhbmQganVzdCBpbnRlbmRlZCB0byBlbnN1cmUgdGhhdFxuICogYGltcG9ydCAnd29ya2VyX3RocmVhZHNgIGRvZXNuJ3QgYnJlYWsgYnJvd3NlciBidWlsZHMuXG4gKiBUaGUgcmVwbGFjZW1lbnQgaXMgZG9uZSBpbiBwYWNrYWdlLmpzb24gYnJvd3NlciBmaWVsZFxuICovXG5leHBvcnQgY2xhc3MgTm9kZVdvcmtlciB7XG4gICAgdGVybWluYXRlKCkgeyB9XG59XG5leHBvcnQgY29uc3QgcGFyZW50UG9ydCA9IG51bGw7XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi9lbnYtdXRpbHMvYXNzZXJ0LmpzXCI7XG5jb25zdCB3b3JrZXJVUkxDYWNoZSA9IG5ldyBNYXAoKTtcbi8qKlxuICogQ3JlYXRlcyBhIGxvYWRhYmxlIFVSTCBmcm9tIHdvcmtlciBzb3VyY2Ugb3IgVVJMXG4gKiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBgV29ya2VyYCBpbnN0YW5jZXMuXG4gKiBEdWUgdG8gQ09SUyBpc3N1ZXMgaXQgbWF5IGJlIG5lY2Vzc2FyeSB0byB3cmFwIGEgVVJMIGluIGEgc21hbGwgaW1wb3J0U2NyaXB0c1xuICogQHBhcmFtIHByb3BzXG4gKiBAcGFyYW0gcHJvcHMuc291cmNlIFdvcmtlciBzb3VyY2VcbiAqIEBwYXJhbSBwcm9wcy51cmwgV29ya2VyIFVSTFxuICogQHJldHVybnMgbG9hZGFibGUgdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2FkYWJsZVdvcmtlclVSTChwcm9wcykge1xuICAgIGFzc2VydCgocHJvcHMuc291cmNlICYmICFwcm9wcy51cmwpIHx8ICghcHJvcHMuc291cmNlICYmIHByb3BzLnVybCkpOyAvLyBFaXRoZXIgc291cmNlIG9yIHVybCBtdXN0IGJlIGRlZmluZWRcbiAgICBsZXQgd29ya2VyVVJMID0gd29ya2VyVVJMQ2FjaGUuZ2V0KHByb3BzLnNvdXJjZSB8fCBwcm9wcy51cmwpO1xuICAgIGlmICghd29ya2VyVVJMKSB7XG4gICAgICAgIC8vIERpZmZlcmVudGlhdGUgd29ya2VyIHVybHMgZnJvbSB3b3JrZXIgc291cmNlIGNvZGVcbiAgICAgICAgaWYgKHByb3BzLnVybCkge1xuICAgICAgICAgICAgd29ya2VyVVJMID0gZ2V0TG9hZGFibGVXb3JrZXJVUkxGcm9tVVJMKHByb3BzLnVybCk7XG4gICAgICAgICAgICB3b3JrZXJVUkxDYWNoZS5zZXQocHJvcHMudXJsLCB3b3JrZXJVUkwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5zb3VyY2UpIHtcbiAgICAgICAgICAgIHdvcmtlclVSTCA9IGdldExvYWRhYmxlV29ya2VyVVJMRnJvbVNvdXJjZShwcm9wcy5zb3VyY2UpO1xuICAgICAgICAgICAgd29ya2VyVVJMQ2FjaGUuc2V0KHByb3BzLnNvdXJjZSwgd29ya2VyVVJMKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3NlcnQod29ya2VyVVJMKTtcbiAgICByZXR1cm4gd29ya2VyVVJMO1xufVxuLyoqXG4gKiBCdWlsZCBhIGxvYWRhYmxlIHdvcmtlciBVUkwgZnJvbSB3b3JrZXIgVVJMXG4gKiBAcGFyYW0gdXJsXG4gKiBAcmV0dXJucyBsb2FkYWJsZSBVUkxcbiAqL1xuZnVuY3Rpb24gZ2V0TG9hZGFibGVXb3JrZXJVUkxGcm9tVVJMKHVybCkge1xuICAgIC8vIEEgbG9jYWwgc2NyaXB0IHVybCwgd2UgY2FuIHVzZSBpdCB0byBpbml0aWFsaXplIGEgV29ya2VyIGRpcmVjdGx5XG4gICAgaWYgKCF1cmwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIC8vIEEgcmVtb3RlIHNjcmlwdCwgd2UgbmVlZCB0byB1c2UgYGltcG9ydFNjcmlwdHNgIHRvIGxvYWQgZnJvbSBkaWZmZXJlbnQgb3JpZ2luXG4gICAgY29uc3Qgd29ya2VyU291cmNlID0gYnVpbGRTY3JpcHRTb3VyY2UodXJsKTtcbiAgICByZXR1cm4gZ2V0TG9hZGFibGVXb3JrZXJVUkxGcm9tU291cmNlKHdvcmtlclNvdXJjZSk7XG59XG4vKipcbiAqIEJ1aWxkIGEgbG9hZGFibGUgd29ya2VyIFVSTCBmcm9tIHdvcmtlciBzb3VyY2VcbiAqIEBwYXJhbSB3b3JrZXJTb3VyY2VcbiAqIEByZXR1cm5zIGxvYWRhYmxlIHVybFxuICovXG5mdW5jdGlvbiBnZXRMb2FkYWJsZVdvcmtlclVSTEZyb21Tb3VyY2Uod29ya2VyU291cmNlKSB7XG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFt3b3JrZXJTb3VyY2VdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyB9KTtcbiAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbn1cbi8qKlxuICogUGVyIHNwZWMsIHdvcmtlciBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhIHNjcmlwdCBmcm9tIGEgZGlmZmVyZW50IG9yaWdpblxuICogSG93ZXZlciBhIGxvY2FsIHdvcmtlciBzY3JpcHQgY2FuIHN0aWxsIGltcG9ydCBzY3JpcHRzIGZyb20gb3RoZXIgb3JpZ2lucyxcbiAqIHNvIHdlIHNpbXBseSBidWlsZCBhIHdyYXBwZXIgc2NyaXB0LlxuICpcbiAqIEBwYXJhbSB3b3JrZXJVcmxcbiAqIEByZXR1cm5zIHNvdXJjZVxuICovXG5mdW5jdGlvbiBidWlsZFNjcmlwdFNvdXJjZSh3b3JrZXJVcmwpIHtcbiAgICByZXR1cm4gYFxcXG50cnkge1xuICBpbXBvcnRTY3JpcHRzKCcke3dvcmtlclVybH0nKTtcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB0aHJvdyBlcnJvcjtcbn1gO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vLyBOT1RFIC0gdGhlcmUgaXMgYSBjb3B5IG9mIHRoaXMgZnVuY3Rpb24gaXMgYm90aCBpbiBjb3JlIGFuZCBsb2FkZXItdXRpbHNcbi8vIGNvcmUgZG9lcyBub3QgbmVlZCBhbGwgdGhlIHV0aWxzIGluIGxvYWRlci11dGlscywganVzdCB0aGlzIG9uZS5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBUcmFuc2ZlcnJhYmxlIG9iamVjdHMgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIHBvc3RNZXNzYWdlXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV29ya2VyL3Bvc3RNZXNzYWdlXG4gKiBAcGFyYW0gb2JqZWN0IGRhdGEgdG8gYmUgc2VudCB2aWEgcG9zdE1lc3NhZ2VcbiAqIEBwYXJhbSByZWN1cnNpdmUgLSBub3QgZm9yIGFwcGxpY2F0aW9uIHVzZVxuICogQHBhcmFtIHRyYW5zZmVycyAtIG5vdCBmb3IgYXBwbGljYXRpb24gdXNlXG4gKiBAcmV0dXJucyBhIHRyYW5zZmVyIGxpc3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHBvc3RNZXNzYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zlckxpc3Qob2JqZWN0LCByZWN1cnNpdmUgPSB0cnVlLCB0cmFuc2ZlcnMpIHtcbiAgICAvLyBNYWtlIHN1cmUgdGhhdCBpdGVtcyBpbiB0aGUgdHJhbnNmZXIgbGlzdCBpcyB1bmlxdWVcbiAgICBjb25zdCB0cmFuc2ZlcnNTZXQgPSB0cmFuc2ZlcnMgfHwgbmV3IFNldCgpO1xuICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgIC8vIGlnbm9yZVxuICAgIH1cbiAgICBlbHNlIGlmIChpc1RyYW5zZmVyYWJsZShvYmplY3QpKSB7XG4gICAgICAgIHRyYW5zZmVyc1NldC5hZGQob2JqZWN0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNUcmFuc2ZlcmFibGUob2JqZWN0LmJ1ZmZlcikpIHtcbiAgICAgICAgLy8gVHlwZWQgYXJyYXlcbiAgICAgICAgdHJhbnNmZXJzU2V0LmFkZChvYmplY3QuYnVmZmVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KG9iamVjdCkpIHtcbiAgICAgICAgLy8gb2JqZWN0IGlzIGEgVHlwZUFycmF5IHZpZXdpbmcgaW50byBhIFNoYXJlZEFycmF5QnVmZmVyIChub3QgdHJhbnNmZXJhYmxlKVxuICAgICAgICAvLyBEbyBub3QgaXRlcmF0ZSB0aHJvdWdoIHRoZSBjb250ZW50IGluIHRoaXMgY2FzZVxuICAgIH1cbiAgICBlbHNlIGlmIChyZWN1cnNpdmUgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICAvLyBBdm9pZCBwZXJmIGhpdCAtIG9ubHkgZ28gb25lIGxldmVsIGRlZXBcbiAgICAgICAgICAgIGdldFRyYW5zZmVyTGlzdChvYmplY3Rba2V5XSwgcmVjdXJzaXZlLCB0cmFuc2ZlcnNTZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElmIHRyYW5zZmVycyBpcyBkZWZpbmVkLCBpcyBpbnRlcm5hbCByZWN1cnNpdmUgY2FsbFxuICAgIC8vIE90aGVyd2lzZSBpdCdzIGNhbGxlZCBieSB0aGUgdXNlclxuICAgIHJldHVybiB0cmFuc2ZlcnMgPT09IHVuZGVmaW5lZCA/IEFycmF5LmZyb20odHJhbnNmZXJzU2V0KSA6IFtdO1xufVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RyYW5zZmVyYWJsZVxuZnVuY3Rpb24gaXNUcmFuc2ZlcmFibGUob2JqZWN0KSB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgTWVzc2FnZVBvcnQgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdCBpbnN0YW5jZW9mIE1lc3NhZ2VQb3J0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIEltYWdlQml0bWFwICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmICh0eXBlb2YgT2Zmc2NyZWVuQ2FudmFzICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgZHJvcCBub24gc2VyaWFsaXphYmxlIHZhbHVlcyBsaWtlIGZ1bmN0aW9ucyBhbmQgcmVnZXhwcy5cbiAqIEBwYXJhbSBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZmVyTGlzdEZvcldyaXRlcihvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgY2xvbmUgPSBPYmplY3QuYXNzaWduKHt9LCBvYmplY3QpO1xuICAgIE9iamVjdC5rZXlzKGNsb25lKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgLy8gVHlwZWQgQXJyYXlzIGFuZCBBcnJheXMgYXJlIHBhc3NlZCB3aXRoIG5vIGNoYW5nZVxuICAgICAgICBpZiAodHlwZW9mIG9iamVjdFtrZXldID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgIUFycmF5QnVmZmVyLmlzVmlldyhvYmplY3Rba2V5XSkgJiZcbiAgICAgICAgICAgICEob2JqZWN0W2tleV0gaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIGNsb25lW2tleV0gPSBnZXRUcmFuc2Zlckxpc3RGb3JXcml0ZXIob2JqZWN0W2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjbG9uZVtrZXldID09PSAnZnVuY3Rpb24nIHx8IGNsb25lW2tleV0gaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIGNsb25lW2tleV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsb25lW2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgTm9kZVdvcmtlciB9IGZyb20gXCIuLi9ub2RlL3dvcmtlcl90aHJlYWRzLmpzXCI7XG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tIFwiLi4vZW52LXV0aWxzL2dsb2JhbHMuanNcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi9lbnYtdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBnZXRMb2FkYWJsZVdvcmtlclVSTCB9IGZyb20gXCIuLi93b3JrZXItdXRpbHMvZ2V0LWxvYWRhYmxlLXdvcmtlci11cmwuanNcIjtcbmltcG9ydCB7IGdldFRyYW5zZmVyTGlzdCB9IGZyb20gXCIuLi93b3JrZXItdXRpbHMvZ2V0LXRyYW5zZmVyLWxpc3QuanNcIjtcbmNvbnN0IE5PT1AgPSAoKSA9PiB7IH07XG4vKipcbiAqIFJlcHJlc2VudHMgb25lIHdvcmtlciB0aHJlYWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ya2VyVGhyZWFkIHtcbiAgICBuYW1lO1xuICAgIHNvdXJjZTtcbiAgICB1cmw7XG4gICAgdGVybWluYXRlZCA9IGZhbHNlO1xuICAgIHdvcmtlcjtcbiAgICBvbk1lc3NhZ2U7XG4gICAgb25FcnJvcjtcbiAgICBfbG9hZGFibGVVUkwgPSAnJztcbiAgICAvKiogQ2hlY2tzIGlmIHdvcmtlcnMgYXJlIHN1cHBvcnRlZCBvbiB0aGlzIHBsYXRmb3JtICovXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICByZXR1cm4gKCh0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJyAmJiBpc0Jyb3dzZXIpIHx8XG4gICAgICAgICAgICAodHlwZW9mIE5vZGVXb3JrZXIgIT09ICd1bmRlZmluZWQnICYmICFpc0Jyb3dzZXIpKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgY29uc3QgeyBuYW1lLCBzb3VyY2UsIHVybCB9ID0gcHJvcHM7XG4gICAgICAgIGFzc2VydChzb3VyY2UgfHwgdXJsKTsgLy8gRWl0aGVyIHNvdXJjZSBvciB1cmwgbXVzdCBiZSBkZWZpbmVkXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5vbk1lc3NhZ2UgPSBOT09QO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSAoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICB0aGlzLndvcmtlciA9IGlzQnJvd3NlciA/IHRoaXMuX2NyZWF0ZUJyb3dzZXJXb3JrZXIoKSA6IHRoaXMuX2NyZWF0ZU5vZGVXb3JrZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVybWluYXRlIHRoaXMgd29ya2VyIHRocmVhZFxuICAgICAqIEBub3RlIENhbiBmcmVlIHVwIHNpZ25pZmljYW50IG1lbW9yeVxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMub25NZXNzYWdlID0gTk9PUDtcbiAgICAgICAgdGhpcy5vbkVycm9yID0gTk9PUDtcbiAgICAgICAgdGhpcy53b3JrZXIudGVybWluYXRlKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgIHRoaXMudGVybWluYXRlZCA9IHRydWU7XG4gICAgfVxuICAgIGdldCBpc1J1bm5pbmcoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMub25NZXNzYWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UgdG8gdGhpcyB3b3JrZXIgdGhyZWFkXG4gICAgICogQHBhcmFtIGRhdGEgYW55IGRhdGEgc3RydWN0dXJlLCBpZGVhbGx5IGNvbnNpc3RpbmcgbW9zdGx5IG9mIHRyYW5zZmVycmFibGUgb2JqZWN0c1xuICAgICAqIEBwYXJhbSB0cmFuc2Zlckxpc3QgSWYgbm90IHN1cHBsaWVkLCBjYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYnkgdHJhdmVyc2luZyBkYXRhXG4gICAgICovXG4gICAgcG9zdE1lc3NhZ2UoZGF0YSwgdHJhbnNmZXJMaXN0KSB7XG4gICAgICAgIHRyYW5zZmVyTGlzdCA9IHRyYW5zZmVyTGlzdCB8fCBnZXRUcmFuc2Zlckxpc3QoZGF0YSk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UoZGF0YSwgdHJhbnNmZXJMaXN0KTtcbiAgICB9XG4gICAgLy8gUFJJVkFURVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgc3RhbmRhcmQgRXJyb3IgZnJvbSBhbiBFcnJvckV2ZW50XG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgX2dldEVycm9yRnJvbUVycm9yRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgLy8gTm90ZSBFcnJvciBvYmplY3QgZG9lcyBub3QgaGF2ZSB0aGUgZXhwZWN0ZWQgZmllbGRzIGlmIGxvYWRpbmcgZmFpbGVkIGNvbXBsZXRlbHlcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dvcmtlciNFdmVudF9oYW5kbGVyc1xuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRXJyb3JFdmVudFxuICAgICAgICBsZXQgbWVzc2FnZSA9ICdGYWlsZWQgdG8gbG9hZCAnO1xuICAgICAgICBtZXNzYWdlICs9IGB3b3JrZXIgJHt0aGlzLm5hbWV9IGZyb20gJHt0aGlzLnVybH0uIGA7XG4gICAgICAgIGlmIChldmVudC5tZXNzYWdlKSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9IGAke2V2ZW50Lm1lc3NhZ2V9IGluIGA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc3QgaGFzRmlsZW5hbWUgPSBldmVudC5maWxlbmFtZSAmJiAhZXZlbnQuZmlsZW5hbWUuc3RhcnRzV2l0aCgnYmxvYjonKTtcbiAgICAgICAgLy8gbWVzc2FnZSArPSBoYXNGaWxlbmFtZSA/IGV2ZW50LmZpbGVuYW1lIDogdGhpcy5zb3VyY2Uuc2xpY2UoMCwgMTAwKTtcbiAgICAgICAgaWYgKGV2ZW50LmxpbmVubykge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgOiR7ZXZlbnQubGluZW5vfToke2V2ZW50LmNvbG5vfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHdvcmtlciB0aHJlYWQgb24gdGhlIGJyb3dzZXJcbiAgICAgKi9cbiAgICBfY3JlYXRlQnJvd3NlcldvcmtlcigpIHtcbiAgICAgICAgdGhpcy5fbG9hZGFibGVVUkwgPSBnZXRMb2FkYWJsZVdvcmtlclVSTCh7IHNvdXJjZTogdGhpcy5zb3VyY2UsIHVybDogdGhpcy51cmwgfSk7XG4gICAgICAgIGNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIodGhpcy5fbG9hZGFibGVVUkwsIHsgbmFtZTogdGhpcy5uYW1lIH0pO1xuICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWV2ZW50LmRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IobmV3IEVycm9yKCdObyBkYXRhIHJlY2VpdmVkJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgcmVwcmVzZW50cyBhbiB1bmNhdWdodCBleGNlcHRpb24gaW4gdGhlIHdvcmtlciB0aHJlYWRcbiAgICAgICAgd29ya2VyLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcih0aGlzLl9nZXRFcnJvckZyb21FcnJvckV2ZW50KGVycm9yKSk7XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPIC0gbm90IGNsZWFyIHdoZW4gdGhpcyB3b3VsZCBiZSBjYWxsZWQsIGZvciBub3cganVzdCBsb2cgaW4gY2FzZSBpdCBoYXBwZW5zXG4gICAgICAgIHdvcmtlci5vbm1lc3NhZ2VlcnJvciA9IChldmVudCkgPT4gY29uc29sZS5lcnJvcihldmVudCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgcmV0dXJuIHdvcmtlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHdvcmtlciB0aHJlYWQgaW4gbm9kZS5qc1xuICAgICAqIEB0b2RvIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvYXN5bmNfaG9va3MuaHRtbCNhc3luYy1yZXNvdXJjZS13b3JrZXItcG9vbFxuICAgICAqL1xuICAgIF9jcmVhdGVOb2RlV29ya2VyKCkge1xuICAgICAgICBsZXQgd29ya2VyO1xuICAgICAgICBpZiAodGhpcy51cmwpIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSByZWxhdGl2ZSBVUkxzIHN0YXJ0IHdpdGggJy4vJ1xuICAgICAgICAgICAgY29uc3QgYWJzb2x1dGUgPSB0aGlzLnVybC5pbmNsdWRlcygnOi8nKSB8fCB0aGlzLnVybC5zdGFydHNXaXRoKCcvJyk7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBhYnNvbHV0ZSA/IHRoaXMudXJsIDogYC4vJHt0aGlzLnVybH1gO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1N0YXJ0aW5nIHdvcmsgZnJvbScsIHVybCk7XG4gICAgICAgICAgICB3b3JrZXIgPSBuZXcgTm9kZVdvcmtlcih1cmwsIHsgZXZhbDogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zb3VyY2UpIHtcbiAgICAgICAgICAgIHdvcmtlciA9IG5ldyBOb2RlV29ya2VyKHRoaXMuc291cmNlLCB7IGV2YWw6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIHdvcmtlcicpO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtlci5vbignbWVzc2FnZScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKCdtZXNzYWdlJywgZGF0YSk7XG4gICAgICAgICAgICB0aGlzLm9uTWVzc2FnZShkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdvcmtlci5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdvcmtlci5vbignZXhpdCcsIChjb2RlKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKCdleGl0JywgY29kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gd29ya2VyO1xuICAgIH1cbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL2Vudi11dGlscy9hc3NlcnQuanNcIjtcbi8qKlxuICogUmVwcmVzZW50cyBvbmUgSm9iIGhhbmRsZWQgYnkgYSBXb3JrZXJQb29sIG9yIFdvcmtlckZhcm1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ya2VySm9iIHtcbiAgICBuYW1lO1xuICAgIHdvcmtlclRocmVhZDtcbiAgICBpc1J1bm5pbmcgPSB0cnVlO1xuICAgIC8qKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBKb2IgaXMgZG9uZSAqL1xuICAgIHJlc3VsdDtcbiAgICBfcmVzb2x2ZSA9ICgpID0+IHsgfTtcbiAgICBfcmVqZWN0ID0gKCkgPT4geyB9O1xuICAgIGNvbnN0cnVjdG9yKGpvYk5hbWUsIHdvcmtlclRocmVhZCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBqb2JOYW1lO1xuICAgICAgICB0aGlzLndvcmtlclRocmVhZCA9IHdvcmtlclRocmVhZDtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdCA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBqb2IncyB3b3JrZXIgdGhyZWFkXG4gICAgICogQHBhcmFtIGRhdGEgYW55IGRhdGEgc3RydWN0dXJlLCBpZGVhbGx5IGNvbnNpc3RpbmcgbW9zdGx5IG9mIHRyYW5zZmVycmFibGUgb2JqZWN0c1xuICAgICAqL1xuICAgIHBvc3RNZXNzYWdlKHR5cGUsIHBheWxvYWQpIHtcbiAgICAgICAgdGhpcy53b3JrZXJUaHJlYWQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgc291cmNlOiAnbG9hZGVycy5nbCcsIC8vIExldHMgd29ya2VyIGlnbm9yZSB1bnJlbGF0ZWQgbWVzc2FnZXNcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBwYXlsb2FkXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHRvIHJlc29sdmUgdGhlIGByZXN1bHRgIFByb21pc2Ugd2l0aCB0aGUgc3VwcGxpZWQgdmFsdWVcbiAgICAgKi9cbiAgICBkb25lKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmlzUnVubmluZyk7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHRvIHJlamVjdCB0aGUgYHJlc3VsdGAgUHJvbWlzZSB3aXRoIHRoZSBzdXBwbGllZCBlcnJvclxuICAgICAqL1xuICAgIGVycm9yKGVycm9yKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmlzUnVubmluZyk7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlamVjdChlcnJvcik7XG4gICAgfVxufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBpc01vYmlsZSwgaXNCcm93c2VyIH0gZnJvbSBcIi4uL2Vudi11dGlscy9nbG9iYWxzLmpzXCI7XG5pbXBvcnQgV29ya2VyVGhyZWFkIGZyb20gXCIuL3dvcmtlci10aHJlYWQuanNcIjtcbmltcG9ydCBXb3JrZXJKb2IgZnJvbSBcIi4vd29ya2VyLWpvYi5qc1wiO1xuLyoqXG4gKiBQcm9jZXNzIG11bHRpcGxlIGRhdGEgbWVzc2FnZXMgd2l0aCBzbWFsbCBwb29sIG9mIGlkZW50aWNhbCB3b3JrZXJzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmtlclBvb2wge1xuICAgIG5hbWUgPSAndW5uYW1lZCc7XG4gICAgc291cmNlOyAvLyB8IEZ1bmN0aW9uO1xuICAgIHVybDtcbiAgICBtYXhDb25jdXJyZW5jeSA9IDE7XG4gICAgbWF4TW9iaWxlQ29uY3VycmVuY3kgPSAxO1xuICAgIG9uRGVidWcgPSAoKSA9PiB7IH07XG4gICAgcmV1c2VXb3JrZXJzID0gdHJ1ZTtcbiAgICBwcm9wcyA9IHt9O1xuICAgIGpvYlF1ZXVlID0gW107XG4gICAgaWRsZVF1ZXVlID0gW107XG4gICAgY291bnQgPSAwO1xuICAgIGlzRGVzdHJveWVkID0gZmFsc2U7XG4gICAgLyoqIENoZWNrcyBpZiB3b3JrZXJzIGFyZSBzdXBwb3J0ZWQgb24gdGhpcyBwbGF0Zm9ybSAqL1xuICAgIHN0YXRpYyBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIFdvcmtlclRocmVhZC5pc1N1cHBvcnRlZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcHJvY2Vzc29yIC0gd29ya2VyIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIG1heENvbmN1cnJlbmN5IC0gbWF4IGNvdW50IG9mIHdvcmtlcnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHByb3BzLnNvdXJjZTtcbiAgICAgICAgdGhpcy51cmwgPSBwcm9wcy51cmw7XG4gICAgICAgIHRoaXMuc2V0UHJvcHMocHJvcHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXJtaW5hdGVzIGFsbCB3b3JrZXJzIGluIHRoZSBwb29sXG4gICAgICogQG5vdGUgQ2FuIGZyZWUgdXAgc2lnbmlmaWNhbnQgbWVtb3J5XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgLy8gRGVzdHJveSBpZGxlIHdvcmtlcnMsIGFjdGl2ZSBXb3JrZXJzIHdpbGwgYmUgZGVzdHJveWVkIG9uIGNvbXBsZXRpb25cbiAgICAgICAgdGhpcy5pZGxlUXVldWUuZm9yRWFjaCgod29ya2VyKSA9PiB3b3JrZXIuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5pc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuICAgIHNldFByb3BzKHByb3BzKSB7XG4gICAgICAgIHRoaXMucHJvcHMgPSB7IC4uLnRoaXMucHJvcHMsIC4uLnByb3BzIH07XG4gICAgICAgIGlmIChwcm9wcy5uYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IHByb3BzLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLm1heENvbmN1cnJlbmN5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWF4Q29uY3VycmVuY3kgPSBwcm9wcy5tYXhDb25jdXJyZW5jeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMubWF4TW9iaWxlQ29uY3VycmVuY3kgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5tYXhNb2JpbGVDb25jdXJyZW5jeSA9IHByb3BzLm1heE1vYmlsZUNvbmN1cnJlbmN5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5yZXVzZVdvcmtlcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yZXVzZVdvcmtlcnMgPSBwcm9wcy5yZXVzZVdvcmtlcnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLm9uRGVidWcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5vbkRlYnVnID0gcHJvcHMub25EZWJ1ZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBzdGFydEpvYihuYW1lLCBvbk1lc3NhZ2UgPSAoam9iLCB0eXBlLCBkYXRhKSA9PiBqb2IuZG9uZShkYXRhKSwgb25FcnJvciA9IChqb2IsIGVycm9yKSA9PiBqb2IuZXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIC8vIFByb21pc2UgcmVzb2x2ZXMgd2hlbiB0aHJlYWQgc3RhcnRzIHdvcmtpbmcgb24gdGhpcyBqb2JcbiAgICAgICAgY29uc3Qgc3RhcnRQcm9taXNlID0gbmV3IFByb21pc2UoKG9uU3RhcnQpID0+IHtcbiAgICAgICAgICAgIC8vIFByb21pc2UgcmVzb2x2ZXMgd2hlbiB0aHJlYWQgY29tcGxldGVzIG9yIGZhaWxzIHdvcmtpbmcgb24gdGhpcyBqb2JcbiAgICAgICAgICAgIHRoaXMuam9iUXVldWUucHVzaCh7IG5hbWUsIG9uTWVzc2FnZSwgb25FcnJvciwgb25TdGFydCB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc3RhcnRRdWV1ZWRKb2IoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcbiAgICAgICAgcmV0dXJuIGF3YWl0IHN0YXJ0UHJvbWlzZTtcbiAgICB9XG4gICAgLy8gUFJJVkFURVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBmaXJzdCBxdWV1ZWQgam9iIGlmIHdvcmtlciBpcyBhdmFpbGFibGUgb3IgY2FuIGJlIGNyZWF0ZWRcbiAgICAgKiBDYWxsZWQgd2hlbiBqb2IgaXMgc3RhcnRlZCBhbmQgd2hlbmV2ZXIgYSB3b3JrZXIgcmV0dXJucyB0byB0aGUgaWRsZVF1ZXVlXG4gICAgICovXG4gICAgYXN5bmMgX3N0YXJ0UXVldWVkSm9iKCkge1xuICAgICAgICBpZiAoIXRoaXMuam9iUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd29ya2VyVGhyZWFkID0gdGhpcy5fZ2V0QXZhaWxhYmxlV29ya2VyKCk7XG4gICAgICAgIGlmICghd29ya2VyVGhyZWFkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgaGF2ZSBhIHdvcmtlciwgZGVxdWV1ZSBhbmQgc3RhcnQgdGhlIGpvYlxuICAgICAgICBjb25zdCBxdWV1ZWRKb2IgPSB0aGlzLmpvYlF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChxdWV1ZWRKb2IpIHtcbiAgICAgICAgICAgIC8vIEVtaXQgYSBkZWJ1ZyBldmVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy5vbkRlYnVnKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU3RhcnRpbmcgam9iJyxcbiAgICAgICAgICAgICAgICBuYW1lOiBxdWV1ZWRKb2IubmFtZSxcbiAgICAgICAgICAgICAgICB3b3JrZXJUaHJlYWQsXG4gICAgICAgICAgICAgICAgYmFja2xvZzogdGhpcy5qb2JRdWV1ZS5sZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgd29ya2VyIGpvYiB0byBsZXQgdGhlIGFwcCBhY2Nlc3MgdGhyZWFkIGFuZCBtYW5hZ2Ugam9iIGNvbXBsZXRpb25cbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBXb3JrZXJKb2IocXVldWVkSm9iLm5hbWUsIHdvcmtlclRocmVhZCk7XG4gICAgICAgICAgICAvLyBTZXQgdGhlIHdvcmtlciB0aHJlYWQncyBtZXNzYWdlIGhhbmRsZXJzXG4gICAgICAgICAgICB3b3JrZXJUaHJlYWQub25NZXNzYWdlID0gKGRhdGEpID0+IHF1ZXVlZEpvYi5vbk1lc3NhZ2Uoam9iLCBkYXRhLnR5cGUsIGRhdGEucGF5bG9hZCk7XG4gICAgICAgICAgICB3b3JrZXJUaHJlYWQub25FcnJvciA9IChlcnJvcikgPT4gcXVldWVkSm9iLm9uRXJyb3Ioam9iLCBlcnJvcik7XG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBzdGFydCBwcm9taXNlIHNvIHRoYXQgdGhlIGFwcCBjYW4gc3RhcnQgc2VuZGluZyBtZXNzYWdlcyB0byB3b3JrZXJcbiAgICAgICAgICAgIHF1ZXVlZEpvYi5vblN0YXJ0KGpvYik7XG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgYXBwIHRvIHNpZ25hbCB0aGF0IHRoZSBqb2IgaXMgY29tcGxldGUsIHRoZW4gcmV0dXJuIHdvcmtlciB0byBxdWV1ZVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBqb2IucmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBXb3JrZXIgZXhjZXB0aW9uOiAke2Vycm9yfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXR1cm5Xb3JrZXJUb1F1ZXVlKHdvcmtlclRocmVhZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHdvcmtlciB0byB0aGUgaWRsZSBxdWV1ZVxuICAgICAqIERlc3Ryb3lzIHRoZSB3b3JrZXIgaWZcbiAgICAgKiAgLSBwb29sIGlzIGRlc3Ryb3llZFxuICAgICAqICAtIGlmIHRoaXMgcG9vbCBkb2Vzbid0IHJldXNlIHdvcmtlcnNcbiAgICAgKiAgLSBpZiBtYXhDb25jdXJyZW5jeSBoYXMgYmVlbiBsb3dlcmVkXG4gICAgICogQHBhcmFtIHdvcmtlclxuICAgICAqL1xuICAgIHJldHVybldvcmtlclRvUXVldWUod29ya2VyKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZERlc3Ryb3lXb3JrZXIgPSBcbiAgICAgICAgLy8gV29ya2VycyBvbiBOb2RlLmpzIHByZXZlbnQgdGhlIHByb2Nlc3MgZnJvbSBleGl0aW5nLlxuICAgICAgICAvLyBVbnRpbCB3ZSBmaWd1cmUgb3V0IGhvdyB0byBjbG9zZSB0aGVtIGJlZm9yZSBleGl0LCB3ZSBhbHdheXMgZGVzdHJveSB0aGVtXG4gICAgICAgICFpc0Jyb3dzZXIgfHxcbiAgICAgICAgICAgIC8vIElmIHRoZSBwb29sIGlzIGRlc3Ryb3llZCwgdGhlcmUgaXMgbm8gcmVhc29uIHRvIGtlZXAgdGhlIHdvcmtlciBhcm91bmRcbiAgICAgICAgICAgIHRoaXMuaXNEZXN0cm95ZWQgfHxcbiAgICAgICAgICAgIC8vIElmIHRoZSBhcHAgaGFzIGRpc2FibGVkIHdvcmtlciByZXVzZSwgYW55IGNvbXBsZXRlZCB3b3JrZXJzIHNob3VsZCBiZSBkZXN0cm95ZWRcbiAgICAgICAgICAgICF0aGlzLnJldXNlV29ya2VycyB8fFxuICAgICAgICAgICAgLy8gSWYgY29uY3VycmVuY3kgaGFzIGJlZW4gbG93ZXJlZCwgdGhpcyB3b3JrZXIgbWlnaHQgYmUgc3VycGx1cyB0byByZXF1aXJlbWVudHNcbiAgICAgICAgICAgIHRoaXMuY291bnQgPiB0aGlzLl9nZXRNYXhDb25jdXJyZW5jeSgpO1xuICAgICAgICBpZiAoc2hvdWxkRGVzdHJveVdvcmtlcikge1xuICAgICAgICAgICAgd29ya2VyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY291bnQtLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaWRsZVF1ZXVlLnB1c2god29ya2VyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0UXVldWVkSm9iKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpZGxlIHdvcmtlciBvciBjcmVhdGVzIG5ldyB3b3JrZXIgaWYgbWF4Q29uY3VycmVuY3kgaGFzIG5vdCBiZWVuIHJlYWNoZWRcbiAgICAgKi9cbiAgICBfZ2V0QXZhaWxhYmxlV29ya2VyKCkge1xuICAgICAgICAvLyBJZiBhIHdvcmtlciBoYXMgY29tcGxldGVkIGFuZCByZXR1cm5lZCB0byB0aGUgcXVldWUsIGl0IGNhbiBiZSB1c2VkXG4gICAgICAgIGlmICh0aGlzLmlkbGVRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZGxlUXVldWUuc2hpZnQoKSB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZSBmcmVzaCB3b3JrZXIgaWYgd2UgaGF2ZW4ndCB5ZXQgY3JlYXRlZCB0aGUgbWF4IGFtb3VudCBvZiB3b3JrZXIgdGhyZWFkcyBmb3IgdGhpcyB3b3JrZXIgc291cmNlXG4gICAgICAgIGlmICh0aGlzLmNvdW50IDwgdGhpcy5fZ2V0TWF4Q29uY3VycmVuY3koKSkge1xuICAgICAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke3RoaXMubmFtZS50b0xvd2VyQ2FzZSgpfSAoIyR7dGhpcy5jb3VudH0gb2YgJHt0aGlzLm1heENvbmN1cnJlbmN5fSlgO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBXb3JrZXJUaHJlYWQoeyBuYW1lLCBzb3VyY2U6IHRoaXMuc291cmNlLCB1cmw6IHRoaXMudXJsIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vIHdvcmtlciBhdmFpbGFibGUsIGhhdmUgdG8gd2FpdFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgX2dldE1heENvbmN1cnJlbmN5KCkge1xuICAgICAgICByZXR1cm4gaXNNb2JpbGUgPyB0aGlzLm1heE1vYmlsZUNvbmN1cnJlbmN5IDogdGhpcy5tYXhDb25jdXJyZW5jeTtcbiAgICB9XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCBXb3JrZXJQb29sIGZyb20gXCIuL3dvcmtlci1wb29sLmpzXCI7XG5pbXBvcnQgV29ya2VyVGhyZWFkIGZyb20gXCIuL3dvcmtlci10aHJlYWQuanNcIjtcbmNvbnN0IERFRkFVTFRfUFJPUFMgPSB7XG4gICAgbWF4Q29uY3VycmVuY3k6IDMsXG4gICAgbWF4TW9iaWxlQ29uY3VycmVuY3k6IDEsXG4gICAgcmV1c2VXb3JrZXJzOiB0cnVlLFxuICAgIG9uRGVidWc6ICgpID0+IHsgfVxufTtcbi8qKlxuICogUHJvY2VzcyBtdWx0aXBsZSBqb2JzIHdpdGggYSBcImZhcm1cIiBvZiBkaWZmZXJlbnQgd29ya2VycyBpbiB3b3JrZXIgcG9vbHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmtlckZhcm0ge1xuICAgIHByb3BzO1xuICAgIHdvcmtlclBvb2xzID0gbmV3IE1hcCgpO1xuICAgIC8vIHNpbmdsZXRvblxuICAgIHN0YXRpYyBfd29ya2VyRmFybTtcbiAgICAvKiogQ2hlY2tzIGlmIHdvcmtlcnMgYXJlIHN1cHBvcnRlZCBvbiB0aGlzIHBsYXRmb3JtICovXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICByZXR1cm4gV29ya2VyVGhyZWFkLmlzU3VwcG9ydGVkKCk7XG4gICAgfVxuICAgIC8qKiBHZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUgZ2xvYmFsIHdvcmtlciBmYXJtICovXG4gICAgc3RhdGljIGdldFdvcmtlckZhcm0ocHJvcHMgPSB7fSkge1xuICAgICAgICBXb3JrZXJGYXJtLl93b3JrZXJGYXJtID0gV29ya2VyRmFybS5fd29ya2VyRmFybSB8fCBuZXcgV29ya2VyRmFybSh7fSk7XG4gICAgICAgIFdvcmtlckZhcm0uX3dvcmtlckZhcm0uc2V0UHJvcHMocHJvcHMpO1xuICAgICAgICByZXR1cm4gV29ya2VyRmFybS5fd29ya2VyRmFybTtcbiAgICB9XG4gICAgLyoqIGdldCBnbG9iYWwgaW5zdGFuY2Ugd2l0aCBXb3JrZXJGYXJtLmdldFdvcmtlckZhcm0oKSAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHRoaXMucHJvcHMgPSB7IC4uLkRFRkFVTFRfUFJPUFMgfTtcbiAgICAgICAgdGhpcy5zZXRQcm9wcyhwcm9wcyk7XG4gICAgICAgIC8qKiBAdHlwZSBNYXA8c3RyaW5nLCBXb3JrZXJQb29sPn0gKi9cbiAgICAgICAgdGhpcy53b3JrZXJQb29scyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVybWluYXRlIGFsbCB3b3JrZXJzIGluIHRoZSBmYXJtXG4gICAgICogQG5vdGUgQ2FuIGZyZWUgdXAgc2lnbmlmaWNhbnQgbWVtb3J5XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChjb25zdCB3b3JrZXJQb29sIG9mIHRoaXMud29ya2VyUG9vbHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHdvcmtlclBvb2wuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud29ya2VyUG9vbHMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBwcm9wcyB1c2VkIHdoZW4gaW5pdGlhbGl6aW5nIHdvcmtlciBwb29sc1xuICAgICAqIEBwYXJhbSBwcm9wc1xuICAgICAqL1xuICAgIHNldFByb3BzKHByb3BzKSB7XG4gICAgICAgIHRoaXMucHJvcHMgPSB7IC4uLnRoaXMucHJvcHMsIC4uLnByb3BzIH07XG4gICAgICAgIC8vIFVwZGF0ZSB3b3JrZXIgcG9vbCBwcm9wc1xuICAgICAgICBmb3IgKGNvbnN0IHdvcmtlclBvb2wgb2YgdGhpcy53b3JrZXJQb29scy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgd29ya2VyUG9vbC5zZXRQcm9wcyh0aGlzLl9nZXRXb3JrZXJQb29sUHJvcHMoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHdvcmtlciBwb29sIGZvciB0aGUgc3BlY2lmaWVkIHdvcmtlclxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gb25seSB1c2VkIGZpcnN0IHRpbWUgZm9yIGEgc3BlY2lmaWMgd29ya2VyIG5hbWVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5uYW1lIC0gdGhlIG5hbWUgb2YgdGhlIHdvcmtlciAtIHVzZWQgdG8gaWRlbnRpZnkgd29ya2VyIHBvb2xcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy51cmwgLVxuICAgICAqIEBwYXJhbSBvcHRpb25zLnNvdXJjZSAtXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIGNvbnN0IGpvYiA9IFdvcmtlckZhcm0uZ2V0V29ya2VyRmFybSgpLmdldFdvcmtlclBvb2woe25hbWUsIHVybH0pLnN0YXJ0Sm9iKC4uLik7XG4gICAgICovXG4gICAgZ2V0V29ya2VyUG9vbChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgc291cmNlLCB1cmwgfSA9IG9wdGlvbnM7XG4gICAgICAgIGxldCB3b3JrZXJQb29sID0gdGhpcy53b3JrZXJQb29scy5nZXQobmFtZSk7XG4gICAgICAgIGlmICghd29ya2VyUG9vbCkge1xuICAgICAgICAgICAgd29ya2VyUG9vbCA9IG5ldyBXb3JrZXJQb29sKHtcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd29ya2VyUG9vbC5zZXRQcm9wcyh0aGlzLl9nZXRXb3JrZXJQb29sUHJvcHMoKSk7XG4gICAgICAgICAgICB0aGlzLndvcmtlclBvb2xzLnNldChuYW1lLCB3b3JrZXJQb29sKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd29ya2VyUG9vbDtcbiAgICB9XG4gICAgX2dldFdvcmtlclBvb2xQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1heENvbmN1cnJlbmN5OiB0aGlzLnByb3BzLm1heENvbmN1cnJlbmN5LFxuICAgICAgICAgICAgbWF4TW9iaWxlQ29uY3VycmVuY3k6IHRoaXMucHJvcHMubWF4TW9iaWxlQ29uY3VycmVuY3ksXG4gICAgICAgICAgICByZXVzZVdvcmtlcnM6IHRoaXMucHJvcHMucmV1c2VXb3JrZXJzLFxuICAgICAgICAgICAgb25EZWJ1ZzogdGhpcy5wcm9wcy5vbkRlYnVnXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaXNCcm93c2VyLCBXb3JrZXJGYXJtLCBnZXRXb3JrZXJVUkwgfSBmcm9tICdAbG9hZGVycy5nbC93b3JrZXItdXRpbHMnO1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgbG9hZGVyIGNhbiBwYXJzZSB3aXRoIHdvcmtlclxuICogQHBhcmFtIGxvYWRlclxuICogQHBhcmFtIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhblBhcnNlV2l0aFdvcmtlcihsb2FkZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAoIVdvcmtlckZhcm0uaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIE5vZGUgd29ya2VycyBhcmUgc3RpbGwgZXhwZXJpbWVudGFsXG4gICAgaWYgKCFpc0Jyb3dzZXIgJiYgIW9wdGlvbnM/Ll9ub2RlV29ya2Vycykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBsb2FkZXIud29ya2VyICYmIG9wdGlvbnM/Lndvcmtlcjtcbn1cbi8qKlxuICogdGhpcyBmdW5jdGlvbiBleHBlY3RzIHRoYXQgdGhlIHdvcmtlciBmdW5jdGlvbiBzZW5kcyBjZXJ0YWluIG1lc3NhZ2VzLFxuICogdGhpcyBjYW4gYmUgYXV0b21hdGVkIGlmIHRoZSB3b3JrZXIgaXMgd3JhcHBlciBieSBhIGNhbGwgdG8gY3JlYXRlTG9hZGVyV29ya2VyIGluIEBsb2FkZXJzLmdsL2xvYWRlci11dGlscy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlV2l0aFdvcmtlcihsb2FkZXIsIGRhdGEsIG9wdGlvbnMsIGNvbnRleHQsIHBhcnNlT25NYWluVGhyZWFkKSB7XG4gICAgY29uc3QgbmFtZSA9IGxvYWRlci5pZDsgLy8gVE9ET1xuICAgIGNvbnN0IHVybCA9IGdldFdvcmtlclVSTChsb2FkZXIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHdvcmtlckZhcm0gPSBXb3JrZXJGYXJtLmdldFdvcmtlckZhcm0ob3B0aW9ucyk7XG4gICAgY29uc3Qgd29ya2VyUG9vbCA9IHdvcmtlckZhcm0uZ2V0V29ya2VyUG9vbCh7IG5hbWUsIHVybCB9KTtcbiAgICAvLyBvcHRpb25zLmxvZyBvYmplY3QgY29udGFpbnMgZnVuY3Rpb25zIHdoaWNoIGNhbm5vdCBiZSB0cmFuc2ZlcnJlZFxuICAgIC8vIGNvbnRleHQuZmV0Y2ggJiBjb250ZXh0LnBhcnNlIGZ1bmN0aW9ucyBjYW5ub3QgYmUgdHJhbnNmZXJyZWRcbiAgICAvLyBUT0RPIC0gZGVjaWRlIGhvdyB0byBoYW5kbGUgbG9nZ2luZyBvbiB3b3JrZXJzXG4gICAgb3B0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob3B0aW9ucykpO1xuICAgIGNvbnRleHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNvbnRleHQgfHwge30pKTtcbiAgICBjb25zdCBqb2IgPSBhd2FpdCB3b3JrZXJQb29sLnN0YXJ0Sm9iKCdwcm9jZXNzLW9uLXdvcmtlcicsIFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBvbk1lc3NhZ2UuYmluZChudWxsLCBwYXJzZU9uTWFpblRocmVhZCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbWlzdXNlZC1wcm9taXNlc1xuICAgICk7XG4gICAgam9iLnBvc3RNZXNzYWdlKCdwcm9jZXNzJywge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlucHV0OiBkYXRhLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBjb250ZXh0XG4gICAgfSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgam9iLnJlc3VsdDtcbiAgICAvLyBUT0RPIC0gd2hhdCBpcyBnb2luZyBvbiBoZXJlP1xuICAgIHJldHVybiBhd2FpdCByZXN1bHQucmVzdWx0O1xufVxuLyoqXG4gKiBIYW5kbGUgd29ya2VyJ3MgcmVzcG9uc2VzIHRvIHRoZSBtYWluIHRocmVhZFxuICogQHBhcmFtIGpvYlxuICogQHBhcmFtIHR5cGVcbiAqIEBwYXJhbSBwYXlsb2FkXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIG9uTWVzc2FnZShwYXJzZU9uTWFpblRocmVhZCwgam9iLCB0eXBlLCBwYXlsb2FkKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2RvbmUnOlxuICAgICAgICAgICAgam9iLmRvbmUocGF5bG9hZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgam9iLmVycm9yKG5ldyBFcnJvcihwYXlsb2FkLmVycm9yKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncHJvY2Vzcyc6XG4gICAgICAgICAgICAvLyBXb3JrZXIgaXMgYXNraW5nIGZvciBtYWluIHRocmVhZCB0byBwYXJzZU9cbiAgICAgICAgICAgIGNvbnN0IHsgaWQsIGlucHV0LCBvcHRpb25zIH0gPSBwYXlsb2FkO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXJzZU9uTWFpblRocmVhZChpbnB1dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgam9iLnBvc3RNZXNzYWdlKCdkb25lJywgeyBpZCwgcmVzdWx0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ3Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgICAgIGpvYi5wb3N0TWVzc2FnZSgnZXJyb3InLCB7IGlkLCBlcnJvcjogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHBhcnNlLXdpdGgtd29ya2VyIHVua25vd24gbWVzc2FnZSAke3R5cGV9YCk7XG4gICAgfVxufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vZW52LXV0aWxzL2Fzc2VydC5qc1wiO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSBcIi4uL2Vudi11dGlscy9nbG9iYWxzLmpzXCI7XG5pbXBvcnQgeyBWRVJTSU9OLCBOUE1fVEFHIH0gZnJvbSBcIi4uL2Vudi11dGlscy92ZXJzaW9uLmpzXCI7XG4vKipcbiAqIEdldHMgd29ya2VyIG9iamVjdCdzIG5hbWUgKGZvciBkZWJ1Z2dpbmcgaW4gQ2hyb21lIHRocmVhZCBpbnNwZWN0b3Igd2luZG93KVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V29ya2VyTmFtZSh3b3JrZXIpIHtcbiAgICBjb25zdCB3YXJuaW5nID0gd29ya2VyLnZlcnNpb24gIT09IFZFUlNJT04gPyBgICh3b3JrZXItdXRpbHNAJHtWRVJTSU9OfSlgIDogJyc7XG4gICAgcmV0dXJuIGAke3dvcmtlci5uYW1lfUAke3dvcmtlci52ZXJzaW9ufSR7d2FybmluZ31gO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIHdvcmtlciBVUkwgYmFzZWQgb24gd29ya2VyIG9iamVjdCBhbmQgb3B0aW9uc1xuICogQHJldHVybnMgQSBVUkwgdG8gb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gKiAtIGEgcHVibGlzaGVkIHdvcmtlciBvbiB1bnBrZyBDRE5cbiAqIC0gYSBsb2NhbCB0ZXN0IHdvcmtlclxuICogLSBhIFVSTCBwcm92aWRlZCBieSB0aGUgdXNlciBpbiBvcHRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3JrZXJVUkwod29ya2VyLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB3b3JrZXJPcHRpb25zID0gb3B0aW9uc1t3b3JrZXIuaWRdIHx8IHt9O1xuICAgIGNvbnN0IHdvcmtlckZpbGUgPSBpc0Jyb3dzZXIgPyBgJHt3b3JrZXIuaWR9LXdvcmtlci5qc2AgOiBgJHt3b3JrZXIuaWR9LXdvcmtlci1ub2RlLmpzYDtcbiAgICBsZXQgdXJsID0gd29ya2VyT3B0aW9ucy53b3JrZXJVcmw7XG4gICAgLy8gSEFDSzogQWxsb3cgZm9yIG5vbi1uZXN0ZWQgd29ya2VyVXJsIGZvciB0aGUgQ29tcHJlc3Npb25Xb3JrZXIuXG4gICAgLy8gRm9yIHRoZSBjb21wcmVzc2lvbiB3b3JrZXIsIHdvcmtlck9wdGlvbnMgaXMgY3VycmVudGx5IG5vdCBuZXN0ZWQgY29ycmVjdGx5LiBGb3IgbW9zdCBsb2FkZXJzLFxuICAgIC8vIHlvdSdkIGhhdmUgb3B0aW9ucyB3aXRoaW4gYW4gb2JqZWN0LCBpLmUuIGB7bXZ0OiB7Y29vcmRpbmF0ZXM6IC4uLn19YCBidXQgdGhlIENvbXByZXNzaW9uV29ya2VyXG4gICAgLy8gcHV0cyBvcHRpb25zIGF0IHRoZSB0b3AgbGV2ZWwsIG5vdCB3aXRoaW4gYSBgY29tcHJlc3Npb25gIGtleSAoaXRzIGBpZGApLiBGb3IgdGhpcyByZWFzb24sIHRoZVxuICAgIC8vIGFib3ZlIGB3b3JrZXJPcHRpb25zYCB3aWxsIGFsd2F5cyBiZSBhIHN0cmluZyAoaS5lLiBgJ2d6aXAnYCkgZm9yIHRoZSBDb21wcmVzc2lvbldvcmtlci4gVG8gbm90XG4gICAgLy8gYnJlYWsgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIHdlIGFsbG93IHRoZSBDb21wcmVzc2lvbldvcmtlciB0byBoYXZlIG9wdGlvbnMgYXQgdGhlIHRvcCBsZXZlbC5cbiAgICBpZiAoIXVybCAmJiB3b3JrZXIuaWQgPT09ICdjb21wcmVzc2lvbicpIHtcbiAgICAgICAgdXJsID0gb3B0aW9ucy53b3JrZXJVcmw7XG4gICAgfVxuICAgIC8vIElmIFVSTCBpcyB0ZXN0LCBnZW5lcmF0ZSBsb2NhbCBsb2FkZXJzLmdsIHVybFxuICAgIC8vIEB0cy1pZ25vcmUgX3dvcmtlclR5cGVcbiAgICBpZiAob3B0aW9ucy5fd29ya2VyVHlwZSA9PT0gJ3Rlc3QnKSB7XG4gICAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgIHVybCA9IGBtb2R1bGVzLyR7d29ya2VyLm1vZHVsZX0vZGlzdC8ke3dvcmtlckZpbGV9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEluIHRoZSB0ZXN0IGVudmlyb25tZW50IHRoZSB0cy1ub2RlIGxvYWRlciByZXF1aXJlcyBUeXBlU2NyaXB0IGNvZGVcbiAgICAgICAgICAgIHVybCA9IGBtb2R1bGVzLyR7d29ya2VyLm1vZHVsZX0vc3JjL3dvcmtlcnMvJHt3b3JrZXIuaWR9LXdvcmtlci1ub2RlLnRzYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiB1cmwgb3ZlcnJpZGUgaXMgbm90IHByb3ZpZGVkLCBnZW5lcmF0ZSBhIFVSTCB0byBwdWJsaXNoZWQgdmVyc2lvbiBvbiBucG0gQ0ROIHVucGtnLmNvbVxuICAgIGlmICghdXJsKSB7XG4gICAgICAgIC8vIEdFTkVSQVRFXG4gICAgICAgIGxldCB2ZXJzaW9uID0gd29ya2VyLnZlcnNpb247XG4gICAgICAgIC8vIE9uIG1hc3RlciB3ZSBuZWVkIHRvIGxvYWQgbnBtIGFscGhhIHJlbGVhc2VzIHB1Ymxpc2hlZCB3aXRoIHRoZSBgYmV0YWAgdGFnXG4gICAgICAgIGlmICh2ZXJzaW9uID09PSAnbGF0ZXN0Jykge1xuICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCdsYXRlc3Qgd29ya2VyIHZlcnNpb24gc3BlY2lmaWVkJyk7XG4gICAgICAgICAgICB2ZXJzaW9uID0gTlBNX1RBRztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZXJzaW9uVGFnID0gdmVyc2lvbiA/IGBAJHt2ZXJzaW9ufWAgOiAnJztcbiAgICAgICAgdXJsID0gYGh0dHBzOi8vdW5wa2cuY29tL0Bsb2FkZXJzLmdsLyR7d29ya2VyLm1vZHVsZX0ke3ZlcnNpb25UYWd9L2Rpc3QvJHt3b3JrZXJGaWxlfWA7XG4gICAgfVxuICAgIGFzc2VydCh1cmwpO1xuICAgIC8vIEFsbG93IHVzZXIgdG8gb3ZlcnJpZGUgbG9jYXRpb25cbiAgICByZXR1cm4gdXJsO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSAyNTYgKiAxMDI0O1xuLyoqXG4gKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIHRoYXQgYnJlYWtzIGEgYmlnIHN0cmluZyBpbnRvIGNodW5rcyBhbmQgeWllbGRzIHRoZW0gb25lLWJ5LW9uZSBhcyBBcnJheUJ1ZmZlcnNcbiAqIEBwYXJhbSBibG9iIHN0cmluZyB0byBpdGVyYXRlIG92ZXJcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gb3B0aW9ucy5jaHVua1NpemVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uKiBtYWtlU3RyaW5nSXRlcmF0b3Ioc3RyaW5nLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY2h1bmtTaXplID0gb3B0aW9ucz8uY2h1bmtTaXplIHx8IERFRkFVTFRfQ0hVTktfU0laRTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBjb25zdCB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIHdoaWxlIChvZmZzZXQgPCBzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIGNodW5rIG9mIHRoZSByaWdodCBzaXplXG4gICAgICAgIGNvbnN0IGNodW5rTGVuZ3RoID0gTWF0aC5taW4oc3RyaW5nLmxlbmd0aCAtIG9mZnNldCwgY2h1bmtTaXplKTtcbiAgICAgICAgY29uc3QgY2h1bmsgPSBzdHJpbmcuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBjaHVua0xlbmd0aCk7XG4gICAgICAgIG9mZnNldCArPSBjaHVua0xlbmd0aDtcbiAgICAgICAgLy8geWllbGQgYW4gQXJyYXlCdWZmZXIgY2h1bmtcbiAgICAgICAgeWllbGQgdGV4dEVuY29kZXIuZW5jb2RlKGNodW5rKTtcbiAgICB9XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmNvbnN0IERFRkFVTFRfQ0hVTktfU0laRSA9IDI1NiAqIDEwMjQ7XG4vKipcbiAqIFJldHVybnMgYW4gaXRlcmF0b3IgdGhhdCBicmVha3MgYSBiaWcgQXJyYXlCdWZmZXIgaW50byBjaHVua3MgYW5kIHlpZWxkcyB0aGVtIG9uZS1ieS1vbmVcbiAqIEBwYXJhbSBibG9iIEFycmF5QnVmZmVyIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBvcHRpb25zLmNodW5rU2l6ZVxuICovXG5leHBvcnQgZnVuY3Rpb24qIG1ha2VBcnJheUJ1ZmZlckl0ZXJhdG9yKGFycmF5QnVmZmVyLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IGNodW5rU2l6ZSA9IERFRkFVTFRfQ0hVTktfU0laRSB9ID0gb3B0aW9ucztcbiAgICBsZXQgYnl0ZU9mZnNldCA9IDA7XG4gICAgd2hpbGUgKGJ5dGVPZmZzZXQgPCBhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIGNodW5rIG9mIHRoZSByaWdodCBzaXplXG4gICAgICAgIGNvbnN0IGNodW5rQnl0ZUxlbmd0aCA9IE1hdGgubWluKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGggLSBieXRlT2Zmc2V0LCBjaHVua1NpemUpO1xuICAgICAgICBjb25zdCBjaHVuayA9IG5ldyBBcnJheUJ1ZmZlcihjaHVua0J5dGVMZW5ndGgpO1xuICAgICAgICAvLyBDb3B5IGRhdGEgZnJvbSB0aGUgYmlnIGNodW5rXG4gICAgICAgIGNvbnN0IHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGNodW5rQnl0ZUxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGNodW5rQXJyYXkgPSBuZXcgVWludDhBcnJheShjaHVuayk7XG4gICAgICAgIGNodW5rQXJyYXkuc2V0KHNvdXJjZUFycmF5KTtcbiAgICAgICAgLy8geWllbGQgdGhlIGNodW5rXG4gICAgICAgIGJ5dGVPZmZzZXQgKz0gY2h1bmtCeXRlTGVuZ3RoO1xuICAgICAgICB5aWVsZCBjaHVuaztcbiAgICB9XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmNvbnN0IERFRkFVTFRfQ0hVTktfU0laRSA9IDEwMjQgKiAxMDI0OyAvLyAxTUIg4oCUIGJpZ2dlc3QgdmFsdWUgdGhhdCBrZWVwcyBVSSByZXNwb25zaXZlXG4vKipcbiAqIFJldHVybnMgYW4gaXRlcmF0b3IgdGhhdCBicmVha3MgYSBiaWcgQmxvYiBpbnRvIGNodW5rcyBhbmQgeWllbGRzIHRoZW0gb25lLWJ5LW9uZVxuICogQHBhcmFtIGJsb2IgQmxvYiBvciBGaWxlIG9iamVjdFxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBvcHRpb25zLmNodW5rU2l6ZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24qIG1ha2VCbG9iSXRlcmF0b3IoYmxvYiwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNodW5rU2l6ZSA9IG9wdGlvbnM/LmNodW5rU2l6ZSB8fCBERUZBVUxUX0NIVU5LX1NJWkU7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKG9mZnNldCA8IGJsb2Iuc2l6ZSkge1xuICAgICAgICBjb25zdCBlbmQgPSBvZmZzZXQgKyBjaHVua1NpemU7XG4gICAgICAgIGNvbnN0IGNodW5rID0gYXdhaXQgYmxvYi5zbGljZShvZmZzZXQsIGVuZCkuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICB5aWVsZCBjaHVuaztcbiAgICB9XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCAqIGFzIG5vZGUgZnJvbSBcIi4uL25vZGUvYnVmZmVyLmpzXCI7XG4vKipcbiAqIENoZWNrIGZvciBOb2RlLmpzIGBCdWZmZXJgICh3aXRob3V0IHRyaWdnZXJpbmcgYnVuZGxlciB0byBpbmNsdWRlIEJ1ZmZlciBwb2x5ZmlsbCBvbiBicm93c2VyKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCdWZmZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5pc0J1ZmZlcjtcbn1cbi8qKlxuICogQ29udmVydHMgdG8gTm9kZS5qcyBgQnVmZmVyYCAod2l0aG91dCB0cmlnZ2VyaW5nIGJ1bmRsZXIgdG8gaW5jbHVkZSBCdWZmZXIgcG9seWZpbGwgb24gYnJvd3NlcilcbiAqIEB0b2RvIGJldHRlciBkYXRhIHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQnVmZmVyKGRhdGEpIHtcbiAgICByZXR1cm4gbm9kZS50b0J1ZmZlciA/IG5vZGUudG9CdWZmZXIoZGF0YSkgOiBkYXRhO1xufVxuLyoqXG4gKiBDb252ZXJ0IGFuIG9iamVjdCB0byBhbiBhcnJheSBidWZmZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXlCdWZmZXIoZGF0YSkge1xuICAgIC8vIE5vdGU6IFNob3VsZCBiZSBjYWxsZWQgZmlyc3QsIEJ1ZmZlcnMgY2FuIHRyaWdnZXIgb3RoZXIgZGV0ZWN0aW9ucyBiZWxvd1xuICAgIGlmIChpc0J1ZmZlcihkYXRhKSkge1xuICAgICAgICByZXR1cm4gbm9kZS50b0FycmF5QnVmZmVyKGRhdGEpO1xuICAgIH1cbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICAvLyBDYXJlZnVsIC0gTm9kZSBCdWZmZXJzIGxvb2sgbGlrZSBVaW50OEFycmF5cyAoa2VlcCBhZnRlciBpc0J1ZmZlcilcbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgIGlmIChkYXRhLmJ5dGVPZmZzZXQgPT09IDAgJiYgZGF0YS5ieXRlTGVuZ3RoID09PSBkYXRhLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyLnNsaWNlKGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlT2Zmc2V0ICsgZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YTtcbiAgICAgICAgY29uc3QgdWludDhBcnJheSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0ZXh0KTtcbiAgICAgICAgcmV0dXJuIHVpbnQ4QXJyYXkuYnVmZmVyO1xuICAgIH1cbiAgICAvLyBIQUNLIHRvIHN1cHBvcnQgQmxvYiBwb2x5ZmlsbFxuICAgIGlmIChkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiBkYXRhLl90b0FycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBkYXRhLl90b0FycmF5QnVmZmVyKCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcigndG9BcnJheUJ1ZmZlcicpO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBpc0Jyb3dzZXIsIHRvQXJyYXlCdWZmZXIgfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuLyoqXG4gKiBSZXR1cm5zIGFuIGFzeW5jIGl0ZXJhYmxlIHRoYXQgcmVhZHMgZnJvbSBhIHN0cmVhbSAod29ya3MgaW4gYm90aCBOb2RlLmpzIGFuZCBicm93c2VycylcbiAqIEBwYXJhbSBzdHJlYW0gc3RyZWFtIHRvIGl0ZXJhdG9yIG92ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTdHJlYW1JdGVyYXRvcihzdHJlYW0sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gaXNCcm93c2VyXG4gICAgICAgID8gbWFrZUJyb3dzZXJTdHJlYW1JdGVyYXRvcihzdHJlYW0sIG9wdGlvbnMpXG4gICAgICAgIDogbWFrZU5vZGVTdHJlYW1JdGVyYXRvcihzdHJlYW0sIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGFzeW5jIGl0ZXJhYmxlIHRoYXQgcmVhZHMgZnJvbSBhIERPTSAoYnJvd3Nlcikgc3RyZWFtXG4gKiBAcGFyYW0gc3RyZWFtIHN0cmVhbSB0byBpdGVyYXRlIGZyb21cbiAqIEBzZWUgaHR0cHM6Ly9qYWtlYXJjaGliYWxkLmNvbS8yMDE3L2FzeW5jLWl0ZXJhdG9ycy1hbmQtZ2VuZXJhdG9ycy8jbWFraW5nLXN0cmVhbXMtaXRlcmF0ZVxuICovXG5hc3luYyBmdW5jdGlvbiogbWFrZUJyb3dzZXJTdHJlYW1JdGVyYXRvcihzdHJlYW0sIG9wdGlvbnMpIHtcbiAgICAvLyBXaGF0V0c6IHN0cmVhbSBpcyBzdXBwb3NlZCB0byBoYXZlIGEgYGdldEl0ZXJhdG9yYCBtZXRob2RcbiAgICAvLyBpZiAodHlwZW9mIHN0cmVhbS5nZXRJdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vICAgcmV0dXJuIHN0cmVhbS5nZXRJdGVyYXRvcigpO1xuICAgIC8vIH1cbiAgICAvLyBpZiAodHlwZW9mIHN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyAgIHJldHVybiBtYWtlVG9BcnJheUJ1ZmZlckl0ZXJhdG9yKHN0cmVhbSk7XG4gICAgLy8gfVxuICAgIC8vIEluIHRoZSBicm93c2VyLCB3ZSBmaXJzdCBuZWVkIHRvIGdldCBhIGxvY2sgb24gdGhlIHN0cmVhbVxuICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICBsZXQgbmV4dEJhdGNoUHJvbWlzZTtcbiAgICB0cnkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QmF0Y2hQcm9taXNlID0gbmV4dEJhdGNoUHJvbWlzZSB8fCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgLy8gSXNzdWUgYSByZWFkIGZvciBhbiBhZGRpdGlvbmFsIGJhdGNoLCB3aGlsZSB3ZSBhd2FpdCB0aGUgbmV4dCBiYXRjaFxuICAgICAgICAgICAgLy8gSWRlYSBpcyB0byBtYWtlIGZldGNoaW5nIGhhcHBlbiBpbiBwYXJhbGxlbCB3aXRoIHByb2Nlc3NpbmcgLyBwYXJzaW5nXG4gICAgICAgICAgICBpZiAob3B0aW9ucz8uX3N0cmVhbVJlYWRBaGVhZCkge1xuICAgICAgICAgICAgICAgIG5leHRCYXRjaFByb21pc2UgPSByZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVhZCBmcm9tIHRoZSBzdHJlYW1cbiAgICAgICAgICAgIC8vIHZhbHVlIGlzIGEgVWludDhBcnJheVxuICAgICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgY3VycmVudEJhdGNoUHJvbWlzZTtcbiAgICAgICAgICAgIC8vIEV4aXQgaWYgd2UncmUgZG9uZVxuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFbHNlIHlpZWxkIHRoZSBjaHVua1xuICAgICAgICAgICAgeWllbGQgdG9BcnJheUJ1ZmZlcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRPRE8gLSBleGFtcGxlcyBtYWtlcyBpdCBsb29rIGxpa2UgdGhpcyBzaG91bGQgYWx3YXlzIGJlIGNhbGxlZCxcbiAgICAgICAgLy8gYnV0IHRoYXQgZ2VuZXJhdGVzIGV4Y2VwdGlvbnMgc28gb25seSBjYWxsIGl0IGlmIHdlIGRvIG5vdCByZWFjaCB0aGUgZW5kXG4gICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyBhbiBhc3luYyBpdGVyYWJsZSB0aGF0IHJlYWRzIGZyb20gYSBET00gKGJyb3dzZXIpIHN0cmVhbVxuICogQHBhcmFtIHN0cmVhbSBzdHJlYW0gdG8gaXRlcmF0ZSBmcm9tXG4gKiBAbm90ZSBSZXF1aXJlcyBOb2RlLmpzID49IDEwXG4gKi9cbmFzeW5jIGZ1bmN0aW9uKiBtYWtlTm9kZVN0cmVhbUl0ZXJhdG9yKHN0cmVhbSwgb3B0aW9ucykge1xuICAgIC8vIEhhY2t5IHRlc3QgZm9yIG5vZGUgdmVyc2lvbiB0byBlbnN1cmUgd2UgZG9uJ3QgY2FsbCBiYWQgcG9seWZpbGxzXG4gICAgLy8gTk9ERSAxMCs6IHN0cmVhbSBpcyBhbiBhc3luY0l0ZXJhdG9yXG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgeWllbGQgdG9BcnJheUJ1ZmZlcihjaHVuayk7IC8vIENvZXJjZSBlYWNoIGNodW5rIHRvIEFycmF5QnVmZmVyXG4gICAgfVxufVxuLyogVE9ETyAtIHJlbW92ZSBOT0RFIDwgMTBcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2J1c3RsZS9zdHJlYW1pbmctaXRlcmFibGVzLCBNSVQgbGljZW5zZVxuICpcbiAgaWYgKHR5cGVvZiBzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVE9ETyAtIGNoZWNrIGlmIGlzIHRoaXMgZXZlciB1c2VkIGluIE5vZGUgMTArP1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgZGF0YSA9IHN0cmVhbS5yZWFkKCk7XG4gICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgIHlpZWxkIHRvQXJyYXlCdWZmZXIoZGF0YSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoc3RyZWFtLl9yZWFkYWJsZVN0YXRlPy5lbmRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBvbmNlUmVhZGFibGUoc3RyZWFtKTtcbiAgfVxuXG5hc3luYyBmdW5jdGlvbiBvbmNlUmVhZGFibGUoc3RyZWFtOiBSZWFkYWJsZSk6IFByb21pc2U8YW55PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHN0cmVhbS5vbmNlKCdyZWFkYWJsZScsIHJlc29sdmUpO1xuICB9KTtcbn1cbiAgKi9cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgY29uY2F0ZW5hdGVBcnJheUJ1ZmZlcnNBc3luYyB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBpc1Jlc3BvbnNlLCBpc1JlYWRhYmxlU3RyZWFtLCBpc0FzeW5jSXRlcmFibGUsIGlzSXRlcmFibGUsIGlzSXRlcmF0b3IsIGlzQmxvYiwgaXNCdWZmZXIgfSBmcm9tIFwiLi4vLi4vamF2YXNjcmlwdC11dGlscy9pcy10eXBlLmpzXCI7XG5pbXBvcnQgeyBtYWtlSXRlcmF0b3IgfSBmcm9tIFwiLi4vLi4vaXRlcmF0b3JzL21ha2UtaXRlcmF0b3IvbWFrZS1pdGVyYXRvci5qc1wiO1xuaW1wb3J0IHsgY2hlY2tSZXNwb25zZSwgbWFrZVJlc3BvbnNlIH0gZnJvbSBcIi4uL3V0aWxzL3Jlc3BvbnNlLXV0aWxzLmpzXCI7XG5jb25zdCBFUlJfREFUQSA9ICdDYW5ub3QgY29udmVydCBzdXBwbGllZCBkYXRhIHR5cGUnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheUJ1ZmZlck9yU3RyaW5nRnJvbURhdGFTeW5jKGRhdGEsIGxvYWRlciwgb3B0aW9ucykge1xuICAgIGlmIChsb2FkZXIudGV4dCAmJiB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmIChpc0J1ZmZlcihkYXRhKSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGRhdGEgPSBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGRhdGE7XG4gICAgICAgIGlmIChsb2FkZXIudGV4dCAmJiAhbG9hZGVyLmJpbmFyeSkge1xuICAgICAgICAgICAgY29uc3QgdGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0RGVjb2Rlci5kZWNvZGUoYXJyYXlCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheUJ1ZmZlcjtcbiAgICB9XG4gICAgLy8gV2UgbWF5IG5lZWQgdG8gaGFuZGxlIG9mZnNldHNcbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgIC8vIFRleHREZWNvZGVyIGlzIGludm9rZWQgb24gdHlwZWQgYXJyYXlzIGFuZCB3aWxsIGhhbmRsZSBvZmZzZXRzXG4gICAgICAgIGlmIChsb2FkZXIudGV4dCAmJiAhbG9hZGVyLmJpbmFyeSkge1xuICAgICAgICAgICAgY29uc3QgdGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0RGVjb2Rlci5kZWNvZGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFycmF5QnVmZmVyID0gZGF0YS5idWZmZXI7XG4gICAgICAgIC8vIFNpbmNlIHdlIGFyZSByZXR1cm5pbmcgdGhlIHVuZGVybHlpbmcgYXJyYXlCdWZmZXIsIHdlIG11c3QgY3JlYXRlIGEgbmV3IGNvcHlcbiAgICAgICAgLy8gaWYgdGhpcyB0eXBlZCBhcnJheSAvIEJ1ZmZlciBpcyBhIHBhcnRpYWwgdmlldyBpbnRvIHRoZSBBcnJ5YXlCdWZmZXJcbiAgICAgICAgLy8gVE9ETyAtIHRoaXMgaXMgYSBwb3RlbnRpYWxseSB1bm5lY2Vzc2FyeSBjb3B5XG4gICAgICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBkYXRhLmJ5dGVMZW5ndGggfHwgZGF0YS5sZW5ndGg7XG4gICAgICAgIGlmIChkYXRhLmJ5dGVPZmZzZXQgIT09IDAgfHwgYnl0ZUxlbmd0aCAhPT0gYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGBsb2FkZXJzLmdsIGNvcHlpbmcgYXJyYXlidWZmZXIgb2YgbGVuZ3RoICR7Ynl0ZUxlbmd0aH1gKTtcbiAgICAgICAgICAgIGFycmF5QnVmZmVyID0gYXJyYXlCdWZmZXIuc2xpY2UoZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVPZmZzZXQgKyBieXRlTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXlCdWZmZXI7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihFUlJfREFUQSk7XG59XG4vLyBDb252ZXJ0IGFzeW5jIGl0ZXJhdG9yIHRvIGEgcHJvbWlzZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFycmF5QnVmZmVyT3JTdHJpbmdGcm9tRGF0YShkYXRhLCBsb2FkZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBpc0FycmF5QnVmZmVyID0gZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKTtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnIHx8IGlzQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIGdldEFycmF5QnVmZmVyT3JTdHJpbmdGcm9tRGF0YVN5bmMoZGF0YSwgbG9hZGVyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLy8gQmxvYnMgYW5kIGZpbGVzIGFyZSBGaWxlUmVhZGVyIGNvbXBhdGlibGVcbiAgICBpZiAoaXNCbG9iKGRhdGEpKSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBtYWtlUmVzcG9uc2UoZGF0YSk7XG4gICAgfVxuICAgIGlmIChpc1Jlc3BvbnNlKGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZGF0YTtcbiAgICAgICAgYXdhaXQgY2hlY2tSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIHJldHVybiBsb2FkZXIuYmluYXJ5ID8gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSA6IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICB9XG4gICAgaWYgKGlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUUzI1NTkgb3B0aW9ucyB0eXBlXG4gICAgICAgIGRhdGEgPSBtYWtlSXRlcmF0b3IoZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc0l0ZXJhYmxlKGRhdGEpIHx8IGlzQXN5bmNJdGVyYWJsZShkYXRhKSkge1xuICAgICAgICAvLyBBc3N1bWUgYXJyYXlCdWZmZXIgaXRlcmF0b3IgLSBhdHRlbXB0IHRvIGNvbmNhdGVuYXRlXG4gICAgICAgIHJldHVybiBjb25jYXRlbmF0ZUFycmF5QnVmZmVyc0FzeW5jKGRhdGEpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoRVJSX0RBVEEpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFzeW5jSXRlcmFibGVGcm9tRGF0YShkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKGlzSXRlcmF0b3IoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmIChpc1Jlc3BvbnNlKGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZGF0YTtcbiAgICAgICAgLy8gTm90ZSBTaW5jZSB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBhc3luYywgd2UgY3VycmVudGx5IGNhbid0IGxvYWQgZXJyb3IgbWVzc2FnZSwganVzdCBzdGF0dXNcbiAgICAgICAgYXdhaXQgY2hlY2tSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIC8vIFRPRE8gLSBidWcgaW4gcG9seWZpbGwsIGJvZHkgY2FuIGJlIGEgUHJvbWlzZSB1bmRlciBOb2RlLmpzXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYXdhaXQtdGhlbmFibGVcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlc3BvbnNlLmJvZHk7XG4gICAgICAgIC8vIFRPRE8gLSBib2R5IGNhbiBiZSBudWxsP1xuICAgICAgICByZXR1cm4gbWFrZUl0ZXJhdG9yKGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoaXNCbG9iKGRhdGEpIHx8IGlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VJdGVyYXRvcihkYXRhLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNJdGVyYWJsZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEl0ZXJhYmxlRnJvbURhdGEoZGF0YSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVhZGFibGVTdHJlYW0oZGF0YSkge1xuICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAoaXNSZXNwb25zZShkYXRhKSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBkYXRhLmJvZHk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWFrZVJlc3BvbnNlKGRhdGEpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gcmVzcG9uc2UuYm9keTtcbn1cbi8vIEhFTFBFUlNcbmZ1bmN0aW9uIGdldEl0ZXJhYmxlRnJvbURhdGEoZGF0YSkge1xuICAgIC8vIGdlbmVyYXRlIGFuIGl0ZXJhdG9yIHRoYXQgZW1pdHMgYSBzaW5nbGUgY2h1bmtcbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24qIG9uZUNodW5rKCkge1xuICAgICAgICAgICAgeWllbGQgZGF0YS5idWZmZXI7XG4gICAgICAgIH0pKCk7XG4gICAgfVxuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIChmdW5jdGlvbiogb25lQ2h1bmsoKSB7XG4gICAgICAgICAgICB5aWVsZCBkYXRhO1xuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICBpZiAoaXNJdGVyYXRvcihkYXRhKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKGlzSXRlcmFibGUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIGRhdGFbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoRVJSX0RBVEEpO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBtYWtlU3RyaW5nSXRlcmF0b3IgfSBmcm9tIFwiLi9tYWtlLXN0cmluZy1pdGVyYXRvci5qc1wiO1xuaW1wb3J0IHsgbWFrZUFycmF5QnVmZmVySXRlcmF0b3IgfSBmcm9tIFwiLi9tYWtlLWFycmF5LWJ1ZmZlci1pdGVyYXRvci5qc1wiO1xuaW1wb3J0IHsgbWFrZUJsb2JJdGVyYXRvciB9IGZyb20gXCIuL21ha2UtYmxvYi1pdGVyYXRvci5qc1wiO1xuaW1wb3J0IHsgbWFrZVN0cmVhbUl0ZXJhdG9yIH0gZnJvbSBcIi4vbWFrZS1zdHJlYW0taXRlcmF0b3IuanNcIjtcbmltcG9ydCB7IGlzQmxvYiwgaXNSZWFkYWJsZVN0cmVhbSwgaXNSZXNwb25zZSB9IGZyb20gXCIuLi8uLi9qYXZhc2NyaXB0LXV0aWxzL2lzLXR5cGUuanNcIjtcbi8qKlxuICogUmV0dXJucyBhbiBpdGVyYXRvciB0aGF0IGJyZWFrcyBpdHMgaW5wdXQgaW50byBjaHVua3MgYW5kIHlpZWxkcyB0aGVtIG9uZS1ieS1vbmUuXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiBlLmcuIGJlIHVzZWQgdG8gZW5hYmxlIGRhdGEgc291cmNlcyB0aGF0IGNhbiBvbmx5IGJlIHJlYWQgYXRvbWljYWxseVxuICogKHN1Y2ggYXMgYEJsb2JgIGFuZCBgRmlsZWAgdmlhIGBGaWxlUmVhZGVyYCkgdG8gc3RpbGwgYmUgcGFyc2VkIGluIGJhdGNoZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSXRlcmF0b3IoZGF0YSwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gTm90ZTogQ29udmVydHMgc3RyaW5nIGNodW5rcyB0byBiaW5hcnlcbiAgICAgICAgcmV0dXJuIG1ha2VTdHJpbmdJdGVyYXRvcihkYXRhLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gbWFrZUFycmF5QnVmZmVySXRlcmF0b3IoZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc0Jsb2IoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VCbG9iSXRlcmF0b3IoZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBtYWtlU3RyZWFtSXRlcmF0b3IoZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc1Jlc3BvbnNlKGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIG1ha2VTdHJlYW1JdGVyYXRvcihyZXNwb25zZS5ib2R5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtYWtlSXRlcmF0b3InKTtcbn1cbiIsImltcG9ydCB7IGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzIH0gZnJvbSBcIi4uL2JpbmFyeS11dGlscy9hcnJheS1idWZmZXItdXRpbHMuanNcIjtcbi8vIEdFTkVSQUwgVVRJTElUSUVTXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhc3luYyBpdGVyYXRvciwgd2l0aG91dCByZXNldHRpbmcgaXRlcmF0b3IgaWYgZW5kIGlzIG5vdCByZWFjaGVkXG4gKiAtIGZvckVhY2ggaW50ZW50aW9uYWxseSBkb2VzIG5vdCByZXNldCBpdGVyYXRvciBpZiBleGl0aW5nIGxvb3AgcHJlbWF0dXJlbHlcbiAqICAgc28gdGhhdCBpdGVyYXRpb24gY2FuIGNvbnRpbnVlIGluIGEgc2Vjb25kIGxvb3BcbiAqIC0gSXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIGEgc3RhbmRhcmQgZm9yLWF3YWl0IGFzIGxhc3QgbG9vcCB0byBlbnN1cmVcbiAqICAgaXRlcmF0b3IgZ2V0cyBwcm9wZXJseSByZXNldFxuICpcbiAqIFRPRE8gLSBvcHRpbWl6ZSB1c2luZyBzeW5jIGl0ZXJhdGlvbiBpZiBhcmd1bWVudCBpcyBhbiBJdGVyYWJsZT9cbiAqXG4gKiBAcGFyYW0gaXRlcmF0b3JcbiAqIEBwYXJhbSB2aXNpdG9yXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3JFYWNoKGl0ZXJhdG9yLCB2aXNpdG9yKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FuY2VsID0gdmlzaXRvcih2YWx1ZSk7XG4gICAgICAgIGlmIChjYW5jZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIEJyZWFraW5nIGJpZyBkYXRhIGludG8gaXRlcmFibGUgY2h1bmtzLCBjb25jYXRlbmF0aW5nIGl0ZXJhYmxlIGNodW5rcyBpbnRvIGJpZyBkYXRhIG9iamVjdHNcbi8qKlxuICogQ29uY2F0ZW5hdGVzIGFsbCBkYXRhIGNodW5rcyB5aWVsZGVkIGJ5IGFuIChhc3luYykgaXRlcmF0b3JcbiAqIFRoaXMgZnVuY3Rpb24gY2FuIGUuZy4gYmUgdXNlZCB0byBlbmFibGUgYXRvbWljIHBhcnNlcnMgdG8gd29yayBvbiAoYXN5bmMpIGl0ZXJhdG9yIGlucHV0c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29uY2F0ZW5hdGVBcnJheUJ1ZmZlcnNBc3luYyhhc3luY0l0ZXJhdG9yKSB7XG4gICAgY29uc3QgYXJyYXlCdWZmZXJzID0gW107XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBhc3luY0l0ZXJhdG9yKSB7XG4gICAgICAgIGFycmF5QnVmZmVycy5wdXNoKGNodW5rKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKC4uLmFycmF5QnVmZmVycyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29uY2F0ZW5hdGVTdHJpbmdzQXN5bmMoYXN5bmNJdGVyYXRvcikge1xuICAgIGNvbnN0IHN0cmluZ3MgPSBbXTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGFzeW5jSXRlcmF0b3IpIHtcbiAgICAgICAgc3RyaW5ncy5wdXNoKGNodW5rKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZ3Muam9pbignJyk7XG59XG4iLCIvLyBCZWdpbm5pbmcgb2YgYSBtaW5pbWFsIGltcGxlbWVudGF0aW9uIG9mIHRoZSBOb2RlLmpzIHBhdGggQVBJLCB0aGF0IGRvZXNuJ3QgcHVsbCBpbiBiaWcgcG9seWZpbGxzLlxuaW1wb3J0IHsgZ2V0Q1dEIH0gZnJvbSBcIi4vZ2V0LWN3ZC5qc1wiO1xuLyoqXG4gKiBSZXBsYWNlbWVudCBmb3IgTm9kZS5qcyBwYXRoLmZpbGVuYW1lXG4gKiBAcGFyYW0gdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWxlbmFtZSh1cmwpIHtcbiAgICBjb25zdCBzbGFzaEluZGV4ID0gdXJsID8gdXJsLmxhc3RJbmRleE9mKCcvJykgOiAtMTtcbiAgICByZXR1cm4gc2xhc2hJbmRleCA+PSAwID8gdXJsLnN1YnN0cihzbGFzaEluZGV4ICsgMSkgOiAnJztcbn1cbi8qKlxuICogUmVwbGFjZW1lbnQgZm9yIE5vZGUuanMgcGF0aC5kaXJuYW1lXG4gKiBAcGFyYW0gdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXJuYW1lKHVybCkge1xuICAgIGNvbnN0IHNsYXNoSW5kZXggPSB1cmwgPyB1cmwubGFzdEluZGV4T2YoJy8nKSA6IC0xO1xuICAgIHJldHVybiBzbGFzaEluZGV4ID49IDAgPyB1cmwuc3Vic3RyKDAsIHNsYXNoSW5kZXgpIDogJyc7XG59XG4vKipcbiAqIFJlcGxhY2VtZW50IGZvciBOb2RlLmpzIHBhdGguam9pblxuICogQHBhcmFtIHBhcnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqb2luKC4uLnBhcnRzKSB7XG4gICAgY29uc3Qgc2VwYXJhdG9yID0gJy8nO1xuICAgIHBhcnRzID0gcGFydHMubWFwKChwYXJ0LCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHBhcnQgPSBwYXJ0LnJlcGxhY2UobmV3IFJlZ0V4cChgXiR7c2VwYXJhdG9yfWApLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ICE9PSBwYXJ0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBwYXJ0ID0gcGFydC5yZXBsYWNlKG5ldyBSZWdFeHAoYCR7c2VwYXJhdG9yfSRgKSwgJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJ0O1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJ0cy5qb2luKHNlcGFyYXRvcik7XG59XG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb250aW51ZSAqL1xuLyoqXG4gKiBodHRwczovL25vZGVqcy5vcmcvYXBpL3BhdGguaHRtbCNwYXRoX3BhdGhfcmVzb2x2ZV9wYXRoc1xuICogQHBhcmFtIHBhdGhzIEEgc2VxdWVuY2Ugb2YgcGF0aHMgb3IgcGF0aCBzZWdtZW50cy5cbiAqIEByZXR1cm4gcmVzb2x2ZWQgcGF0aFxuICogRm9ya2VkIGZyb20gQlRPZGVsbC9wYXRoLXJlc29sdmUgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0JUT2RlbGwvcGF0aC1yZXNvbHZlL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmUoLi4uY29tcG9uZW50cykge1xuICAgIGNvbnN0IHBhdGhzID0gW107XG4gICAgZm9yIChsZXQgX2kgPSAwOyBfaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHBhdGhzW19pXSA9IGNvbXBvbmVudHNbX2ldO1xuICAgIH1cbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgbGV0IHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICBsZXQgY3dkO1xuICAgIGZvciAobGV0IGkgPSBwYXRocy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICAgICAgbGV0IHBhdGg7XG4gICAgICAgIGlmIChpID49IDApIHtcbiAgICAgICAgICAgIHBhdGggPSBwYXRoc1tpXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjd2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGN3ZCA9IGdldENXRCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0aCA9IGN3ZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTa2lwIGVtcHR5IGVudHJpZXNcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlZFBhdGggPSBgJHtwYXRofS8ke3Jlc29sdmVkUGF0aH1gO1xuICAgICAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSBTTEFTSDtcbiAgICB9XG4gICAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuICAgIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aCAocmVtb3ZlcyBsZWFkaW5nIHNsYXNoKVxuICAgIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHJlc29sdmVkUGF0aCwgIXJlc29sdmVkQWJzb2x1dGUpO1xuICAgIGlmIChyZXNvbHZlZEFic29sdXRlKSB7XG4gICAgICAgIHJldHVybiBgLyR7cmVzb2x2ZWRQYXRofWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc29sdmVkUGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlZFBhdGg7XG4gICAgfVxuICAgIHJldHVybiAnLic7XG59XG5jb25zdCBTTEFTSCA9IDQ3O1xuY29uc3QgRE9UID0gNDY7XG4vKipcbiAqIFJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCB3aXRoIGRpcmVjdG9yeSBuYW1lc1xuICogRm9ya2VkIGZyb20gQlRPZGVsbC9wYXRoLXJlc29sdmUgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0JUT2RlbGwvcGF0aC1yZXNvbHZlL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWRlcHRoICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eSwgbWF4LXN0YXRlbWVudHNcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsIGFsbG93QWJvdmVSb290KSB7XG4gICAgbGV0IHJlcyA9ICcnO1xuICAgIGxldCBsYXN0U2xhc2ggPSAtMTtcbiAgICBsZXQgZG90cyA9IDA7XG4gICAgbGV0IGNvZGU7XG4gICAgbGV0IGlzQWJvdmVSb290ID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcGF0aC5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoaSA8IHBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IFNMQVNIKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvZGUgPSBTTEFTSDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZSA9PT0gU0xBU0gpIHtcbiAgICAgICAgICAgIGlmIChsYXN0U2xhc2ggPT09IGkgLSAxIHx8IGRvdHMgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBOT09QXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0U2xhc2ggIT09IGkgLSAxICYmIGRvdHMgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIgfHxcbiAgICAgICAgICAgICAgICAgICAgIWlzQWJvdmVSb290IHx8XG4gICAgICAgICAgICAgICAgICAgIHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAxKSAhPT0gRE9UIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAyKSAhPT0gRE9UKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSByZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmNoYXJDb2RlQXQoaikgPT09IFNMQVNIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqICE9PSBzdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IGogPT09IC0xID8gJycgOiByZXMuc2xpY2UoMCwgaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Fib3ZlUm9vdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlcy5sZW5ndGggPT09IDIgfHwgcmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Fib3ZlUm9vdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzICs9ICcvLi4nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJy4uJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc0Fib3ZlUm9vdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xpY2UgPSBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXMgKz0gYC8ke3NsaWNlfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMgPSBzbGljZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXNBYm92ZVJvb3QgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2RlID09PSBET1QgJiYgZG90cyAhPT0gLTEpIHtcbiAgICAgICAgICAgICsrZG90cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvdHMgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBMb2cgfSBmcm9tICdAcHJvYmUuZ2wvbG9nJztcbi8vIFZlcnNpb24gY29uc3RhbnQgY2Fubm90IGJlIGltcG9ydGVkLCBpdCBuZWVkcyB0byBjb3JyZXNwb25kIHRvIHRoZSBidWlsZCB2ZXJzaW9uIG9mICoqdGhpcyoqIG1vZHVsZS5cbi8vIF9fVkVSU0lPTl9fIGlzIGluamVjdGVkIGJ5IGJhYmVsLXBsdWdpbi12ZXJzaW9uLWlubGluZVxuLy8gQHRzLWlnbm9yZSBUUzIzMDQ6IENhbm5vdCBmaW5kIG5hbWUgJ19fVkVSU0lPTl9fJy5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gdHlwZW9mIFwiNC4zLjNcIiAhPT0gJ3VuZGVmaW5lZCcgPyBcIjQuMy4zXCIgOiAnbGF0ZXN0JztcbmNvbnN0IHZlcnNpb24gPSBWRVJTSU9OWzBdID49ICcwJyAmJiBWRVJTSU9OWzBdIDw9ICc5JyA/IGB2JHtWRVJTSU9OfWAgOiAnJztcbi8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGdsb2JhbCB2YXJpYWJsZVxuZnVuY3Rpb24gY3JlYXRlTG9nKCkge1xuICAgIGNvbnN0IGxvZyA9IG5ldyBMb2coeyBpZDogJ2xvYWRlcnMuZ2wnIH0pO1xuICAgIGdsb2JhbFRoaXMubG9hZGVycyA9IGdsb2JhbFRoaXMubG9hZGVycyB8fCB7fTtcbiAgICBnbG9iYWxUaGlzLmxvYWRlcnMubG9nID0gbG9nO1xuICAgIGdsb2JhbFRoaXMubG9hZGVycy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICBnbG9iYWxUaGlzLnByb2JlID0gZ2xvYmFsVGhpcy5wcm9iZSB8fCB7fTtcbiAgICBnbG9iYWxUaGlzLnByb2JlLmxvYWRlcnMgPSBsb2c7XG4gICAgcmV0dXJuIGxvZztcbn1cbmV4cG9ydCBjb25zdCBsb2cgPSBjcmVhdGVMb2coKTtcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgbm9ybWFsaXplTG9hZGVyIH0gZnJvbSBcIi4uL2xvYWRlci11dGlscy9ub3JtYWxpemUtbG9hZGVyLmpzXCI7XG5pbXBvcnQgeyBnZXRHbG9iYWxMb2FkZXJTdGF0ZSB9IGZyb20gXCIuLi9sb2FkZXItdXRpbHMvb3B0aW9uLXV0aWxzLmpzXCI7XG4vKipcbiAqIFN0b3JlIGdsb2JhbCByZWdpc3RlcmVkIGxvYWRlcnMgb24gdGhlIGdsb2JhbCBvYmplY3QgdG8gaW5jcmVhc2UgY2hhbmNlcyBvZiBjcm9zcyBsb2FkZXJzLXZlcnNpb24gaW50ZXJvcGVyYWJpbGl0eVxuICogVGhpcyB1c2UgY2FzZSBpcyBub3QgcmVsaWFibGUgYnV0IGNhbiBoZWxwIHdoZW4gdGVzdGluZyBuZXcgdmVyc2lvbnMgb2YgbG9hZGVycy5nbCB3aXRoIGV4aXN0aW5nIGZyYW1ld29ya3NcbiAqL1xuY29uc3QgZ2V0R2xvYmFsTG9hZGVyUmVnaXN0cnkgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRHbG9iYWxMb2FkZXJTdGF0ZSgpO1xuICAgIHN0YXRlLmxvYWRlclJlZ2lzdHJ5ID0gc3RhdGUubG9hZGVyUmVnaXN0cnkgfHwgW107XG4gICAgcmV0dXJuIHN0YXRlLmxvYWRlclJlZ2lzdHJ5O1xufTtcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0IG9mIGdsb2JhbCBsb2FkZXJzXG4gKiBAbm90ZSBSZWdpc3RyYXRpb24gZXJhc2VzIGxvYWRlciB0eXBlIGluZm9ybWF0aW9uLlxuICogQGRlcHJlY2F0ZWQgSXQgaXMgcmVjb21tZW5kZWQgdGhhdCBhcHBsaWNhdGlvbnMgbWFuYWdlIGxvYWRlciByZWdpc3RyYXRpb24uIFRoaXMgZnVuY3Rpb24gd2lsbCBsaWtlbHkgYmUgcmVtb3ZlIGluIGxvYWRlcnMuZ2wgdjVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyTG9hZGVycyhsb2FkZXJzKSB7XG4gICAgY29uc3QgbG9hZGVyUmVnaXN0cnkgPSBnZXRHbG9iYWxMb2FkZXJSZWdpc3RyeSgpO1xuICAgIGxvYWRlcnMgPSBBcnJheS5pc0FycmF5KGxvYWRlcnMpID8gbG9hZGVycyA6IFtsb2FkZXJzXTtcbiAgICBmb3IgKGNvbnN0IGxvYWRlciBvZiBsb2FkZXJzKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRMb2FkZXIgPSBub3JtYWxpemVMb2FkZXIobG9hZGVyKTtcbiAgICAgICAgaWYgKCFsb2FkZXJSZWdpc3RyeS5maW5kKChyZWdpc3RlcmVkTG9hZGVyKSA9PiBub3JtYWxpemVkTG9hZGVyID09PSByZWdpc3RlcmVkTG9hZGVyKSkge1xuICAgICAgICAgICAgLy8gYWRkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxvYWRlclJlZ2lzdHJ5LCBzbyB0aGUgbGFzdCByZWdpc3RlcmVkTG9hZGVyIGdldCBwaWNrZWRcbiAgICAgICAgICAgIGxvYWRlclJlZ2lzdHJ5LnVuc2hpZnQobm9ybWFsaXplZExvYWRlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgYXBwbGljYXRpb25zIG1hbmFnZSBsb2FkZXIgcmVnaXN0cmF0aW9uLiBUaGlzIGZ1bmN0aW9uIHdpbGwgbGlrZWx5IGJlIHJlbW92ZSBpbiBsb2FkZXJzLmdsIHY1XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdpc3RlcmVkTG9hZGVycygpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsTG9hZGVyUmVnaXN0cnkoKTtcbn1cbi8qKiBAZGVwcmVjYXRlZCBGb3IgdGVzdGluZyBvbmx5ICAqL1xuZXhwb3J0IGZ1bmN0aW9uIF91bnJlZ2lzdGVyTG9hZGVycygpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldEdsb2JhbExvYWRlclN0YXRlKCk7XG4gICAgc3RhdGUubG9hZGVyUmVnaXN0cnkgPSBbXTtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgY29tcGFyZUFycmF5QnVmZmVycywgcGF0aCwgbG9nIH0gZnJvbSAnQGxvYWRlcnMuZ2wvbG9hZGVyLXV0aWxzJztcbmltcG9ydCB7IG5vcm1hbGl6ZUxvYWRlciB9IGZyb20gXCIuLi9sb2FkZXItdXRpbHMvbm9ybWFsaXplLWxvYWRlci5qc1wiO1xuaW1wb3J0IHsgZ2V0UmVzb3VyY2VVcmwsIGdldFJlc291cmNlTUlNRVR5cGUgfSBmcm9tIFwiLi4vdXRpbHMvcmVzb3VyY2UtdXRpbHMuanNcIjtcbmltcG9ydCB7IGNvbXBhcmVNSU1FVHlwZXMgfSBmcm9tIFwiLi4vdXRpbHMvbWltZS10eXBlLXV0aWxzLmpzXCI7XG5pbXBvcnQgeyBnZXRSZWdpc3RlcmVkTG9hZGVycyB9IGZyb20gXCIuL3JlZ2lzdGVyLWxvYWRlcnMuanNcIjtcbmltcG9ydCB7IGlzQmxvYiB9IGZyb20gXCIuLi8uLi9qYXZhc2NyaXB0LXV0aWxzL2lzLXR5cGUuanNcIjtcbmltcG9ydCB7IHN0cmlwUXVlcnlTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbHMvdXJsLXV0aWxzLmpzXCI7XG5jb25zdCBFWFRfUEFUVEVSTiA9IC9cXC4oW14uXSspJC87XG4vLyBUT0RPIC0gTmVlZCBhIHZhcmlhbnQgdGhhdCBwZWVrcyBhdCBzdHJlYW1zIGZvciBwYXJzZUluQmF0Y2hlc1xuLy8gVE9ETyAtIERldGVjdCBtdWx0aXBsZSBtYXRjaGluZyBsb2FkZXJzPyBVc2UgaGV1cmlzdGljcyB0byBncmFkZSBtYXRjaGVzP1xuLy8gVE9ETyAtIEFsbG93IGFwcHMgdG8gcGFzcyBjb250ZXh0IHRvIGRpc2FtYmlndWF0ZSBiZXR3ZWVuIG11bHRpcGxlIG1hdGNoZXMgKGUuZy4gbXVsdGlwbGUgLmpzb24gZm9ybWF0cyk/XG4vKipcbiAqIEZpbmQgYSBsb2FkZXIgdGhhdCBtYXRjaGVzIGZpbGUgZXh0ZW5zaW9uIGFuZC9vciBpbml0aWFsIGZpbGUgY29udGVudFxuICogU2VhcmNoIHRoZSBsb2FkZXJzIGFycmF5IGFyZ3VtZW50IGZvciBhIGxvYWRlciB0aGF0IG1hdGNoZXMgdXJsIGV4dGVuc2lvbiBvciBpbml0aWFsIGRhdGFcbiAqIFJldHVybnM6IGEgbm9ybWFsaXplZCBsb2FkZXJcbiAqIEBwYXJhbSBkYXRhIGRhdGEgdG8gYXNzaXN0XG4gKiBAcGFyYW0gbG9hZGVyc1xuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjb250ZXh0IHVzZWQgaW50ZXJuYWxseSwgYXBwbGljYXRpb25zIHNob3VsZCBub3QgcHJvdmlkZSB0aGlzIHBhcmFtZXRlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0TG9hZGVyKGRhdGEsIGxvYWRlcnMgPSBbXSwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGlmICghdmFsaWRIVFRQUmVzcG9uc2UoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEZpcnN0IG1ha2UgYSBzeW5jIGF0dGVtcHQsIGRpc2FibGluZyBleGNlcHRpb25zXG4gICAgbGV0IGxvYWRlciA9IHNlbGVjdExvYWRlclN5bmMoZGF0YSwgbG9hZGVycywgeyAuLi5vcHRpb25zLCBub3Rocm93OiB0cnVlIH0sIGNvbnRleHQpO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlcjtcbiAgICB9XG4gICAgLy8gRm9yIEJsb2JzIGFuZCBGaWxlcywgdHJ5IHRvIGFzeW5jaHJvbm91c2x5IHJlYWQgYSBzbWFsbCBpbml0aWFsIHNsaWNlIGFuZCB0ZXN0IGFnYWluIHdpdGggdGhhdFxuICAgIC8vIHRvIHNlZSBpZiB3ZSBjYW4gZGV0ZWN0IGJ5IGluaXRpYWwgY29udGVudFxuICAgIGlmIChpc0Jsb2IoZGF0YSkpIHtcbiAgICAgICAgZGF0YSA9IGF3YWl0IGRhdGEuc2xpY2UoMCwgMTApLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIGxvYWRlciA9IHNlbGVjdExvYWRlclN5bmMoZGF0YSwgbG9hZGVycywgb3B0aW9ucywgY29udGV4dCk7XG4gICAgfVxuICAgIC8vIG5vIGxvYWRlciBhdmFpbGFibGVcbiAgICBpZiAoIWxvYWRlciAmJiAhb3B0aW9ucz8ubm90aHJvdykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0Tm9WYWxpZExvYWRlck1lc3NhZ2UoZGF0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZGVyO1xufVxuLyoqXG4gKiBGaW5kIGEgbG9hZGVyIHRoYXQgbWF0Y2hlcyBmaWxlIGV4dGVuc2lvbiBhbmQvb3IgaW5pdGlhbCBmaWxlIGNvbnRlbnRcbiAqIFNlYXJjaCB0aGUgbG9hZGVycyBhcnJheSBhcmd1bWVudCBmb3IgYSBsb2FkZXIgdGhhdCBtYXRjaGVzIHVybCBleHRlbnNpb24gb3IgaW5pdGlhbCBkYXRhXG4gKiBSZXR1cm5zOiBhIG5vcm1hbGl6ZWQgbG9hZGVyXG4gKiBAcGFyYW0gZGF0YSBkYXRhIHRvIGFzc2lzdFxuICogQHBhcmFtIGxvYWRlcnNcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY29udGV4dCB1c2VkIGludGVybmFsbHksIGFwcGxpY2F0aW9ucyBzaG91bGQgbm90IHByb3ZpZGUgdGhpcyBwYXJhbWV0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdExvYWRlclN5bmMoZGF0YSwgbG9hZGVycyA9IFtdLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgaWYgKCF2YWxpZEhUVFBSZXNwb25zZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbiAgICAvLyBpZiBvbmx5IGEgc2luZ2xlIGxvYWRlciB3YXMgcHJvdmlkZWQgKG5vdCBhcyBhcnJheSksIGZvcmNlIGl0cyB1c2VcbiAgICAvLyBUT0RPIC0gU2hvdWxkIHRoaXMgYmVoYXZpb3IgYmUga2VwdCBhbmQgZG9jdW1lbnRlZD9cbiAgICBpZiAobG9hZGVycyAmJiAhQXJyYXkuaXNBcnJheShsb2FkZXJzKSkge1xuICAgICAgICAvLyBUT0RPIC0gcmVtb3ZlIHN1cHBvcnQgZm9yIGxlZ2FjeSBsb2FkZXJzXG4gICAgICAgIHJldHVybiBub3JtYWxpemVMb2FkZXIobG9hZGVycyk7XG4gICAgfVxuICAgIC8vIEJ1aWxkIGxpc3Qgb2YgY2FuZGlkYXRlIGxvYWRlcnMgdGhhdCB3aWxsIGJlIHNlYXJjaGVkIGluIG9yZGVyIGZvciBhIG1hdGNoXG4gICAgbGV0IGNhbmRpZGF0ZUxvYWRlcnMgPSBbXTtcbiAgICAvLyBGaXJzdCBzZWFyY2ggc3VwcGxpZWQgbG9hZGVyc1xuICAgIGlmIChsb2FkZXJzKSB7XG4gICAgICAgIGNhbmRpZGF0ZUxvYWRlcnMgPSBjYW5kaWRhdGVMb2FkZXJzLmNvbmNhdChsb2FkZXJzKTtcbiAgICB9XG4gICAgLy8gVGhlbiBmYWxsIGJhY2sgdG8gcmVnaXN0ZXJlZCBsb2FkZXJzXG4gICAgaWYgKCFvcHRpb25zPy5pZ25vcmVSZWdpc3RlcmVkTG9hZGVycykge1xuICAgICAgICBjYW5kaWRhdGVMb2FkZXJzLnB1c2goLi4uZ2V0UmVnaXN0ZXJlZExvYWRlcnMoKSk7XG4gICAgfVxuICAgIC8vIFRPRE8gLSByZW1vdmUgc3VwcG9ydCBmb3IgbGVnYWN5IGxvYWRlcnNcbiAgICBub3JtYWxpemVMb2FkZXJzKGNhbmRpZGF0ZUxvYWRlcnMpO1xuICAgIGNvbnN0IGxvYWRlciA9IHNlbGVjdExvYWRlckludGVybmFsKGRhdGEsIGNhbmRpZGF0ZUxvYWRlcnMsIG9wdGlvbnMsIGNvbnRleHQpO1xuICAgIC8vIG5vIGxvYWRlciBhdmFpbGFibGVcbiAgICBpZiAoIWxvYWRlciAmJiAhb3B0aW9ucz8ubm90aHJvdykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0Tm9WYWxpZExvYWRlck1lc3NhZ2UoZGF0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZGVyO1xufVxuLyoqIEltcGxlbWVudHMgbG9hZGVycyBzZWxlY3Rpb24gbG9naWMgKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBzZWxlY3RMb2FkZXJJbnRlcm5hbChkYXRhLCBsb2FkZXJzLCBvcHRpb25zLCBjb250ZXh0KSB7XG4gICAgY29uc3QgdXJsID0gZ2V0UmVzb3VyY2VVcmwoZGF0YSk7XG4gICAgY29uc3QgdHlwZSA9IGdldFJlc291cmNlTUlNRVR5cGUoZGF0YSk7XG4gICAgY29uc3QgdGVzdFVybCA9IHN0cmlwUXVlcnlTdHJpbmcodXJsKSB8fCBjb250ZXh0Py51cmw7XG4gICAgbGV0IGxvYWRlciA9IG51bGw7XG4gICAgbGV0IHJlYXNvbiA9ICcnO1xuICAgIC8vIGlmIG9wdGlvbnMubWltZVR5cGUgaXMgc3VwcGxpZWQsIGl0IHRha2VzIHByZWNlZGVuY2VcbiAgICBpZiAob3B0aW9ucz8ubWltZVR5cGUpIHtcbiAgICAgICAgbG9hZGVyID0gZmluZExvYWRlckJ5TUlNRVR5cGUobG9hZGVycywgb3B0aW9ucz8ubWltZVR5cGUpO1xuICAgICAgICByZWFzb24gPSBgbWF0Y2ggZm9yY2VkIGJ5IHN1cHBsaWVkIE1JTUUgdHlwZSAke29wdGlvbnM/Lm1pbWVUeXBlfWA7XG4gICAgfVxuICAgIC8vIExvb2sgdXAgbG9hZGVyIGJ5IHVybFxuICAgIGxvYWRlciA9IGxvYWRlciB8fCBmaW5kTG9hZGVyQnlVcmwobG9hZGVycywgdGVzdFVybCk7XG4gICAgcmVhc29uID0gcmVhc29uIHx8IChsb2FkZXIgPyBgbWF0Y2hlZCB1cmwgJHt0ZXN0VXJsfWAgOiAnJyk7XG4gICAgLy8gTG9vayB1cCBsb2FkZXIgYnkgbWltZSB0eXBlXG4gICAgbG9hZGVyID0gbG9hZGVyIHx8IGZpbmRMb2FkZXJCeU1JTUVUeXBlKGxvYWRlcnMsIHR5cGUpO1xuICAgIHJlYXNvbiA9IHJlYXNvbiB8fCAobG9hZGVyID8gYG1hdGNoZWQgTUlNRSB0eXBlICR7dHlwZX1gIDogJycpO1xuICAgIC8vIExvb2sgZm9yIGxvYWRlciB2aWEgaW5pdGlhbCBieXRlcyAoTm90ZTogbm90IGFsd2F5cyBhY2Nlc3NpYmxlIChlLmcuIFJlc3BvbnNlLCBzdHJlYW0sIGFzeW5jIGl0ZXJhdG9yKVxuICAgIC8vIEB0cy1pZ25vcmUgQmxvYiB8IFJlc3BvbnNlXG4gICAgbG9hZGVyID0gbG9hZGVyIHx8IGZpbmRMb2FkZXJCeUluaXRpYWxCeXRlcyhsb2FkZXJzLCBkYXRhKTtcbiAgICAvLyBAdHMtaWdub3JlIEJsb2IgfCBSZXNwb25zZVxuICAgIHJlYXNvbiA9IHJlYXNvbiB8fCAobG9hZGVyID8gYG1hdGNoZWQgaW5pdGlhbCBkYXRhICR7Z2V0Rmlyc3RDaGFyYWN0ZXJzKGRhdGEpfWAgOiAnJyk7XG4gICAgLy8gTG9vayB1cCBsb2FkZXIgYnkgZmFsbGJhY2sgbWltZSB0eXBlXG4gICAgaWYgKG9wdGlvbnM/LmZhbGxiYWNrTWltZVR5cGUpIHtcbiAgICAgICAgbG9hZGVyID0gbG9hZGVyIHx8IGZpbmRMb2FkZXJCeU1JTUVUeXBlKGxvYWRlcnMsIG9wdGlvbnM/LmZhbGxiYWNrTWltZVR5cGUpO1xuICAgICAgICByZWFzb24gPSByZWFzb24gfHwgKGxvYWRlciA/IGBtYXRjaGVkIGZhbGxiYWNrIE1JTUUgdHlwZSAke3R5cGV9YCA6ICcnKTtcbiAgICB9XG4gICAgaWYgKHJlYXNvbikge1xuICAgICAgICBsb2cubG9nKDEsIGBzZWxlY3RMb2FkZXIgc2VsZWN0ZWQgJHtsb2FkZXI/Lm5hbWV9OiAke3JlYXNvbn0uYCk7XG4gICAgfVxuICAgIHJldHVybiBsb2FkZXI7XG59XG4vKiogQ2hlY2sgSFRUUCBSZXNwb25zZSAqL1xuZnVuY3Rpb24gdmFsaWRIVFRQUmVzcG9uc2UoZGF0YSkge1xuICAgIC8vIEhBTkRMRSBIVFRQIHN0YXR1c1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICAgICAgLy8gMjA0IC0gTk8gQ09OVEVOVC4gVGhpcyBoYW5kbGVzIGNhc2VzIHdoZXJlIGUuZy4gYSB0aWxlIHNlcnZlciByZXNwb25kcyB3aXRoIDIwNCBmb3IgYSBtaXNzaW5nIHRpbGVcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKiBHZW5lcmF0ZSBhIGhlbHBmdWwgbWVzc2FnZSB0byBoZWxwIGV4cGxhaW4gd2h5IGxvYWRlciBzZWxlY3Rpb24gZmFpbGVkLiAqL1xuZnVuY3Rpb24gZ2V0Tm9WYWxpZExvYWRlck1lc3NhZ2UoZGF0YSkge1xuICAgIGNvbnN0IHVybCA9IGdldFJlc291cmNlVXJsKGRhdGEpO1xuICAgIGNvbnN0IHR5cGUgPSBnZXRSZXNvdXJjZU1JTUVUeXBlKGRhdGEpO1xuICAgIGxldCBtZXNzYWdlID0gJ05vIHZhbGlkIGxvYWRlciBmb3VuZCAoJztcbiAgICBtZXNzYWdlICs9IHVybCA/IGAke3BhdGguZmlsZW5hbWUodXJsKX0sIGAgOiAnbm8gdXJsIHByb3ZpZGVkLCAnO1xuICAgIG1lc3NhZ2UgKz0gYE1JTUUgdHlwZTogJHt0eXBlID8gYFwiJHt0eXBlfVwiYCA6ICdub3QgcHJvdmlkZWQnfSwgYDtcbiAgICAvLyBGaXJzdCBjaGFyYWN0ZXJzIGFyZSBvbmx5IGFjY2Vzc2libGUgd2hlbiBjYWxsZWQgb24gZGF0YSAoc3RyaW5nIG9yIGFycmF5QnVmZmVyKS5cbiAgICAvLyBAdHMtaWdub3JlIEJsb2IgfCBSZXNwb25zZVxuICAgIGNvbnN0IGZpcnN0Q2hhcmFjdGVycyA9IGRhdGEgPyBnZXRGaXJzdENoYXJhY3RlcnMoZGF0YSkgOiAnJztcbiAgICBtZXNzYWdlICs9IGZpcnN0Q2hhcmFjdGVycyA/IGAgZmlyc3QgYnl0ZXM6IFwiJHtmaXJzdENoYXJhY3RlcnN9XCJgIDogJ2ZpcnN0IGJ5dGVzOiBub3QgYXZhaWxhYmxlJztcbiAgICBtZXNzYWdlICs9ICcpJztcbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUxvYWRlcnMobG9hZGVycykge1xuICAgIGZvciAoY29uc3QgbG9hZGVyIG9mIGxvYWRlcnMpIHtcbiAgICAgICAgbm9ybWFsaXplTG9hZGVyKGxvYWRlcik7XG4gICAgfVxufVxuLy8gVE9ETyAtIFdvdWxkIGJlIG5pY2UgdG8gc3VwcG9ydCBodHRwOi8vZXhhbXBsZS5jb20vZmlsZS5nbGI/cGFyYW1ldGVyPTFcbi8vIEUuZzogeCA9IG5ldyBVUkwoJ2h0dHA6Ly9leGFtcGxlLmNvbS9maWxlLmdsYj9sb2FkPTEnOyB4LnBhdGhuYW1lXG5mdW5jdGlvbiBmaW5kTG9hZGVyQnlVcmwobG9hZGVycywgdXJsKSB7XG4gICAgLy8gR2V0IGV4dGVuc2lvblxuICAgIGNvbnN0IG1hdGNoID0gdXJsICYmIEVYVF9QQVRURVJOLmV4ZWModXJsKTtcbiAgICBjb25zdCBleHRlbnNpb24gPSBtYXRjaCAmJiBtYXRjaFsxXTtcbiAgICByZXR1cm4gZXh0ZW5zaW9uID8gZmluZExvYWRlckJ5RXh0ZW5zaW9uKGxvYWRlcnMsIGV4dGVuc2lvbikgOiBudWxsO1xufVxuZnVuY3Rpb24gZmluZExvYWRlckJ5RXh0ZW5zaW9uKGxvYWRlcnMsIGV4dGVuc2lvbikge1xuICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpO1xuICAgIGZvciAoY29uc3QgbG9hZGVyIG9mIGxvYWRlcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBsb2FkZXJFeHRlbnNpb24gb2YgbG9hZGVyLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIGlmIChsb2FkZXJFeHRlbnNpb24udG9Mb3dlckNhc2UoKSA9PT0gZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGZpbmRMb2FkZXJCeU1JTUVUeXBlKGxvYWRlcnMsIG1pbWVUeXBlKSB7XG4gICAgZm9yIChjb25zdCBsb2FkZXIgb2YgbG9hZGVycykge1xuICAgICAgICBpZiAobG9hZGVyLm1pbWVUeXBlcz8uc29tZSgobWltZVR5cGUxKSA9PiBjb21wYXJlTUlNRVR5cGVzKG1pbWVUeXBlLCBtaW1lVHlwZTEpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvYWRlcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdXBwb3J0IHJlZmVycmluZyB0byBsb2FkZXJzIHVzaW5nIHRoZSBcInVucmVnaXN0ZXJlZCB0cmVlXCJcbiAgICAgICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWVkaWFfdHlwZSNVbnJlZ2lzdGVyZWRfdHJlZVxuICAgICAgICBpZiAoY29tcGFyZU1JTUVUeXBlcyhtaW1lVHlwZSwgYGFwcGxpY2F0aW9uL3guJHtsb2FkZXIuaWR9YCkpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBmaW5kTG9hZGVyQnlJbml0aWFsQnl0ZXMobG9hZGVycywgZGF0YSkge1xuICAgIGlmICghZGF0YSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBsb2FkZXIgb2YgbG9hZGVycykge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAodGVzdERhdGFBZ2FpbnN0VGV4dChkYXRhLCBsb2FkZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcbiAgICAgICAgICAgIC8vIFR5cGVkIEFycmF5cyBjYW4gaGF2ZSBvZmZzZXRzIGludG8gdW5kZXJseWluZyBidWZmZXJcbiAgICAgICAgICAgIGlmICh0ZXN0RGF0YUFnYWluc3RCaW5hcnkoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgbG9hZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBjb25zdCBieXRlT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGlmICh0ZXN0RGF0YUFnYWluc3RCaW5hcnkoZGF0YSwgYnl0ZU9mZnNldCwgbG9hZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyBIYW5kbGUgc3RyZWFtaW5nIGNhc2UgKHJlcXVpcmVzIGNyZWF0aW5nIGEgbmV3IEFzeW5jSXRlcmF0b3IpXG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdGVzdERhdGFBZ2FpbnN0VGV4dChkYXRhLCBsb2FkZXIpIHtcbiAgICBpZiAobG9hZGVyLnRlc3RUZXh0KSB7XG4gICAgICAgIHJldHVybiBsb2FkZXIudGVzdFRleHQoZGF0YSk7XG4gICAgfVxuICAgIGNvbnN0IHRlc3RzID0gQXJyYXkuaXNBcnJheShsb2FkZXIudGVzdHMpID8gbG9hZGVyLnRlc3RzIDogW2xvYWRlci50ZXN0c107XG4gICAgcmV0dXJuIHRlc3RzLnNvbWUoKHRlc3QpID0+IGRhdGEuc3RhcnRzV2l0aCh0ZXN0KSk7XG59XG5mdW5jdGlvbiB0ZXN0RGF0YUFnYWluc3RCaW5hcnkoZGF0YSwgYnl0ZU9mZnNldCwgbG9hZGVyKSB7XG4gICAgY29uc3QgdGVzdHMgPSBBcnJheS5pc0FycmF5KGxvYWRlci50ZXN0cykgPyBsb2FkZXIudGVzdHMgOiBbbG9hZGVyLnRlc3RzXTtcbiAgICByZXR1cm4gdGVzdHMuc29tZSgodGVzdCkgPT4gdGVzdEJpbmFyeShkYXRhLCBieXRlT2Zmc2V0LCBsb2FkZXIsIHRlc3QpKTtcbn1cbmZ1bmN0aW9uIHRlc3RCaW5hcnkoZGF0YSwgYnl0ZU9mZnNldCwgbG9hZGVyLCB0ZXN0KSB7XG4gICAgaWYgKHRlc3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZUFycmF5QnVmZmVycyh0ZXN0LCBkYXRhLCB0ZXN0LmJ5dGVMZW5ndGgpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGVvZiB0ZXN0KSB7XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgIHJldHVybiB0ZXN0KGRhdGEpO1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgLy8gTWFnaWMgYnl0ZXMgY2hlY2s6IElmIGB0ZXN0YCBpcyBhIHN0cmluZywgY2hlY2sgaWYgYmluYXJ5IGRhdGEgc3RhcnRzIHdpdGggdGhhdCBzdHJpbmdzXG4gICAgICAgICAgICBjb25zdCBtYWdpYyA9IGdldE1hZ2ljU3RyaW5nKGRhdGEsIGJ5dGVPZmZzZXQsIHRlc3QubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0ID09PSBtYWdpYztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRGaXJzdENoYXJhY3RlcnMoZGF0YSwgbGVuZ3RoID0gNSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgIC8vIFR5cGVkIEFycmF5cyBjYW4gaGF2ZSBvZmZzZXRzIGludG8gdW5kZXJseWluZyBidWZmZXJcbiAgICAgICAgcmV0dXJuIGdldE1hZ2ljU3RyaW5nKGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBjb25zdCBieXRlT2Zmc2V0ID0gMDtcbiAgICAgICAgcmV0dXJuIGdldE1hZ2ljU3RyaW5nKGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cbmZ1bmN0aW9uIGdldE1hZ2ljU3RyaW5nKGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgICBpZiAoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgbGV0IG1hZ2ljID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBtYWdpYyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFWaWV3LmdldFVpbnQ4KGJ5dGVPZmZzZXQgKyBpKSk7XG4gICAgfVxuICAgIHJldHVybiBtYWdpYztcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgcGFyc2VXaXRoV29ya2VyLCBjYW5QYXJzZVdpdGhXb3JrZXIsIG1lcmdlTG9hZGVyT3B0aW9ucyB9IGZyb20gJ0Bsb2FkZXJzLmdsL2xvYWRlci11dGlscyc7XG5pbXBvcnQgeyBhc3NlcnQsIHZhbGlkYXRlV29ya2VyVmVyc2lvbiB9IGZyb20gJ0Bsb2FkZXJzLmdsL3dvcmtlci11dGlscyc7XG5pbXBvcnQgeyBpc0xvYWRlck9iamVjdCB9IGZyb20gXCIuLi9sb2FkZXItdXRpbHMvbm9ybWFsaXplLWxvYWRlci5qc1wiO1xuaW1wb3J0IHsgaXNSZXNwb25zZSB9IGZyb20gXCIuLi8uLi9qYXZhc2NyaXB0LXV0aWxzL2lzLXR5cGUuanNcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZU9wdGlvbnMgfSBmcm9tIFwiLi4vbG9hZGVyLXV0aWxzL29wdGlvbi11dGlscy5qc1wiO1xuaW1wb3J0IHsgZ2V0QXJyYXlCdWZmZXJPclN0cmluZ0Zyb21EYXRhIH0gZnJvbSBcIi4uL2xvYWRlci11dGlscy9nZXQtZGF0YS5qc1wiO1xuaW1wb3J0IHsgZ2V0TG9hZGVyQ29udGV4dCwgZ2V0TG9hZGVyc0Zyb21Db250ZXh0IH0gZnJvbSBcIi4uL2xvYWRlci11dGlscy9sb2FkZXItY29udGV4dC5qc1wiO1xuaW1wb3J0IHsgZ2V0UmVzb3VyY2VVcmwgfSBmcm9tIFwiLi4vdXRpbHMvcmVzb3VyY2UtdXRpbHMuanNcIjtcbmltcG9ydCB7IHNlbGVjdExvYWRlciB9IGZyb20gXCIuL3NlbGVjdC1sb2FkZXIuanNcIjtcbi8qKlxuICogUGFyc2VzIGBkYXRhYCB1c2luZyBhIHNwZWNpZmllZCBsb2FkZXJcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gbG9hZGVyc1xuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjb250ZXh0XG4gKi9cbi8vIGltcGxlbWVudGF0aW9uIHNpZ25hdHVyZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlKGRhdGEsIGxvYWRlcnMsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICAvLyBTaWduYXR1cmU6IHBhcnNlKGRhdGEsIG9wdGlvbnMsIGNvbnRleHQgfCB1cmwpXG4gICAgLy8gVXNlcyByZWdpc3RlcmVkIGxvYWRlcnNcbiAgICBpZiAobG9hZGVycyAmJiAhQXJyYXkuaXNBcnJheShsb2FkZXJzKSAmJiAhaXNMb2FkZXJPYmplY3QobG9hZGVycykpIHtcbiAgICAgICAgY29udGV4dCA9IHVuZGVmaW5lZDsgLy8gY29udGV4dCBub3Qgc3VwcG9ydGVkIGluIHNob3J0IHNpZ25hdHVyZVxuICAgICAgICBvcHRpb25zID0gbG9hZGVycztcbiAgICAgICAgbG9hZGVycyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZGF0YSA9IGF3YWl0IGRhdGE7IC8vIFJlc29sdmUgYW55IHByb21pc2VcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gQ291bGQgYmUgaW52YWxpZC4uLlxuICAgIC8vIEV4dHJhY3QgYSB1cmwgZm9yIGF1dG8gZGV0ZWN0aW9uXG4gICAgY29uc3QgdXJsID0gZ2V0UmVzb3VyY2VVcmwoZGF0YSk7XG4gICAgLy8gQ2hvb3NlcyBhIGxvYWRlciAoYW5kIG5vcm1hbGl6ZXMgaXQpXG4gICAgLy8gQWxzbyB1c2UgYW55IGxvYWRlcnMgaW4gdGhlIGNvbnRleHQsIG5ldyBsb2FkZXJzIHRha2UgcHJpb3JpdHlcbiAgICBjb25zdCB0eXBlZExvYWRlcnMgPSBsb2FkZXJzO1xuICAgIGNvbnN0IGNhbmRpZGF0ZUxvYWRlcnMgPSBnZXRMb2FkZXJzRnJvbUNvbnRleHQodHlwZWRMb2FkZXJzLCBjb250ZXh0KTtcbiAgICAvLyB0b2RvIGhhY2t5IHR5cGUgY2FzdFxuICAgIGNvbnN0IGxvYWRlciA9IGF3YWl0IHNlbGVjdExvYWRlcihkYXRhLCBjYW5kaWRhdGVMb2FkZXJzLCBvcHRpb25zKTtcbiAgICAvLyBOb3RlOiBpZiBubyBsb2FkZXIgd2FzIGZvdW5kLCBpZiBzbyBqdXN0IHJldHVybiBudWxsXG4gICAgaWYgKCFsb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIE5vcm1hbGl6ZSBvcHRpb25zXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIG9wdGlvbnMgPSBub3JtYWxpemVPcHRpb25zKG9wdGlvbnMsIGxvYWRlciwgY2FuZGlkYXRlTG9hZGVycywgdXJsKTsgLy8gQ291bGQgYmUgaW52YWxpZC4uLlxuICAgIC8vIEdldCBhIGNvbnRleHQgKGlmIGFscmVhZHkgcHJlc2VudCwgd2lsbCBiZSB1bmNoYW5nZWQpXG4gICAgY29udGV4dCA9IGdldExvYWRlckNvbnRleHQoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIHsgdXJsLCBfcGFyc2U6IHBhcnNlLCBsb2FkZXJzOiBjYW5kaWRhdGVMb2FkZXJzIH0sIG9wdGlvbnMsIGNvbnRleHQgfHwgbnVsbCk7XG4gICAgcmV0dXJuIGF3YWl0IHBhcnNlV2l0aExvYWRlcihsb2FkZXIsIGRhdGEsIG9wdGlvbnMsIGNvbnRleHQpO1xufVxuLy8gVE9ETzogc3VwcG9ydCBwcm9ncmVzcyBhbmQgYWJvcnRcbi8vIFRPRE8gLSBzaG91bGQgYWNjZXB0IGxvYWRlci5wYXJzZUFzeW5jSXRlcmF0b3IgYW5kIGNvbmNhdGVuYXRlLlxuYXN5bmMgZnVuY3Rpb24gcGFyc2VXaXRoTG9hZGVyKGxvYWRlciwgZGF0YSwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIHZhbGlkYXRlV29ya2VyVmVyc2lvbihsb2FkZXIpO1xuICAgIG9wdGlvbnMgPSBtZXJnZUxvYWRlck9wdGlvbnMobG9hZGVyLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIGlmIChpc1Jlc3BvbnNlKGRhdGEpKSB7XG4gICAgICAgIC8vIFNlcmlhbGl6ZSB0byBzdXBwb3J0IHBhc3NpbmcgdGhlIHJlc3BvbnNlIHRvIHdlYiB3b3JrZXJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkYXRhO1xuICAgICAgICBjb25zdCB7IG9rLCByZWRpcmVjdGVkLCBzdGF0dXMsIHN0YXR1c1RleHQsIHR5cGUsIHVybCB9ID0gcmVzcG9uc2U7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuZnJvbUVudHJpZXMocmVzcG9uc2UuaGVhZGVycy5lbnRyaWVzKCkpO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gLSBmaXggdGhpc1xuICAgICAgICBjb250ZXh0LnJlc3BvbnNlID0geyBoZWFkZXJzLCBvaywgcmVkaXJlY3RlZCwgc3RhdHVzLCBzdGF0dXNUZXh0LCB0eXBlLCB1cmwgfTtcbiAgICB9XG4gICAgZGF0YSA9IGF3YWl0IGdldEFycmF5QnVmZmVyT3JTdHJpbmdGcm9tRGF0YShkYXRhLCBsb2FkZXIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGxvYWRlcldpdGhQYXJzZXIgPSBsb2FkZXI7XG4gICAgLy8gRmlyc3QgY2hlY2sgZm9yIHN5bmNocm9ub3VzIHRleHQgcGFyc2VyLCB3cmFwIHJlc3VsdHMgaW4gcHJvbWlzZXNcbiAgICBpZiAobG9hZGVyV2l0aFBhcnNlci5wYXJzZVRleHRTeW5jICYmIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbG9hZGVyV2l0aFBhcnNlci5wYXJzZVRleHRTeW5jKGRhdGEsIG9wdGlvbnMsIGNvbnRleHQpO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBoYXZlIGEgd29ya2VyVXJsIGFuZCB0aGUgbG9hZGVyIGNhbiBwYXJzZSB0aGUgZ2l2ZW4gb3B0aW9ucyBlZmZpY2llbnRseSBpbiBhIHdvcmtlclxuICAgIGlmIChjYW5QYXJzZVdpdGhXb3JrZXIobG9hZGVyLCBvcHRpb25zKSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgcGFyc2VXaXRoV29ya2VyKGxvYWRlciwgZGF0YSwgb3B0aW9ucywgY29udGV4dCwgcGFyc2UpO1xuICAgIH1cbiAgICAvLyBDaGVjayBmb3IgYXN5bmNocm9ub3VzIHBhcnNlclxuICAgIGlmIChsb2FkZXJXaXRoUGFyc2VyLnBhcnNlVGV4dCAmJiB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGxvYWRlcldpdGhQYXJzZXIucGFyc2VUZXh0KGRhdGEsIG9wdGlvbnMsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAobG9hZGVyV2l0aFBhcnNlci5wYXJzZSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgbG9hZGVyV2l0aFBhcnNlci5wYXJzZShkYXRhLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICB9XG4gICAgLy8gVGhpcyBzaG91bGQgbm90IGhhcHBlbiwgYWxsIHN5bmMgbG9hZGVycyBzaG91bGQgYWxzbyBvZmZlciBgcGFyc2VgIGZ1bmN0aW9uXG4gICAgYXNzZXJ0KCFsb2FkZXJXaXRoUGFyc2VyLnBhcnNlU3luYyk7XG4gICAgLy8gVEJEIC0gSWYgYXN5bmNocm9ub3VzIHBhcnNlciBub3QgYXZhaWxhYmxlLCByZXR1cm4gbnVsbFxuICAgIHRocm93IG5ldyBFcnJvcihgJHtsb2FkZXIuaWR9IGxvYWRlciAtIG5vIHBhcnNlciBmb3VuZCBhbmQgd29ya2VyIGlzIGRpc2FibGVkYCk7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGdldEZldGNoRnVuY3Rpb24gfSBmcm9tIFwiLi9nZXQtZmV0Y2gtZnVuY3Rpb24uanNcIjtcbmltcG9ydCB7IGV4dHJhY3RRdWVyeVN0cmluZywgc3RyaXBRdWVyeVN0cmluZyB9IGZyb20gXCIuLi91dGlscy91cmwtdXRpbHMuanNcIjtcbmltcG9ydCB7IHBhdGggfSBmcm9tICdAbG9hZGVycy5nbC9sb2FkZXItdXRpbHMnO1xuLyoqXG4gKiBcInN1YlwiIGxvYWRlcnMgaW52b2tlZCBieSBvdGhlciBsb2FkZXJzIGdldCBhIFwiY29udGV4dFwiIGluamVjdGVkIG9uIGB0aGlzYFxuICogVGhlIGNvbnRleHQgd2lsbCBpbmplY3QgY29yZSBtZXRob2RzIGxpa2UgYHBhcnNlYCBhbmQgY29udGFpbiBpbmZvcm1hdGlvblxuICogYWJvdXQgbG9hZGVycyBhbmQgb3B0aW9ucyBwYXNzZWQgaW4gdG8gdGhlIHRvcC1sZXZlbCBgcGFyc2VgIGNhbGwuXG4gKlxuICogQHBhcmFtIGNvbnRleHRcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gcHJldmlvdXNDb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2FkZXJDb250ZXh0KGNvbnRleHQsIG9wdGlvbnMsIHBhcmVudENvbnRleHQpIHtcbiAgICAvLyBGb3IgcmVjdXJzaXZlIGNhbGxzLCB3ZSBhbHJlYWR5IGhhdmUgYSBjb250ZXh0XG4gICAgLy8gVE9ETyAtIGFkZCBhbnkgYWRkaXRpb25hbCBsb2FkZXJzIHRvIGNvbnRleHQ/XG4gICAgaWYgKHBhcmVudENvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudENvbnRleHQ7XG4gICAgfVxuICAgIGNvbnN0IG5ld0NvbnRleHQgPSB7XG4gICAgICAgIGZldGNoOiBnZXRGZXRjaEZ1bmN0aW9uKG9wdGlvbnMsIGNvbnRleHQpLFxuICAgICAgICAuLi5jb250ZXh0XG4gICAgfTtcbiAgICAvLyBQYXJzZSBVUkxzIHNvIHRoYXQgc3VibG9hZGVycyBjYW4gZWFzaWx5IGdlbmVyYXRlIGNvcnJlY3Qgc3RyaW5nc1xuICAgIGlmIChuZXdDb250ZXh0LnVybCkge1xuICAgICAgICBjb25zdCBiYXNlVXJsID0gc3RyaXBRdWVyeVN0cmluZyhuZXdDb250ZXh0LnVybCk7XG4gICAgICAgIG5ld0NvbnRleHQuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgICAgIG5ld0NvbnRleHQucXVlcnlTdHJpbmcgPSBleHRyYWN0UXVlcnlTdHJpbmcobmV3Q29udGV4dC51cmwpO1xuICAgICAgICBuZXdDb250ZXh0LmZpbGVuYW1lID0gcGF0aC5maWxlbmFtZShiYXNlVXJsKTtcbiAgICAgICAgbmV3Q29udGV4dC5iYXNlVXJsID0gcGF0aC5kaXJuYW1lKGJhc2VVcmwpO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmUgbG9hZGluZyBkb2VzIG5vdCB1c2Ugc2luZ2xlIGxvYWRlclxuICAgIGlmICghQXJyYXkuaXNBcnJheShuZXdDb250ZXh0LmxvYWRlcnMpKSB7XG4gICAgICAgIG5ld0NvbnRleHQubG9hZGVycyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXdDb250ZXh0O1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2FkZXJzRnJvbUNvbnRleHQobG9hZGVycywgY29udGV4dCkge1xuICAgIC8vIEEgc2luZ2xlIGxvYWRlciAobm9uLWFycmF5KSBpbmRpY2F0ZXMgbm8gc2VsZWN0aW9uIGRlc2lyZWQuIEZvcmNlIHNlbGVjdC5cbiAgICBpZiAobG9hZGVycyAmJiAhQXJyYXkuaXNBcnJheShsb2FkZXJzKSkge1xuICAgICAgICByZXR1cm4gbG9hZGVycztcbiAgICB9XG4gICAgLy8gQ3JlYXRlIGEgbWVyZ2VkIGxpc3RcbiAgICBsZXQgY2FuZGlkYXRlTG9hZGVycztcbiAgICBpZiAobG9hZGVycykge1xuICAgICAgICBjYW5kaWRhdGVMb2FkZXJzID0gQXJyYXkuaXNBcnJheShsb2FkZXJzKSA/IGxvYWRlcnMgOiBbbG9hZGVyc107XG4gICAgfVxuICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQubG9hZGVycykge1xuICAgICAgICBjb25zdCBjb250ZXh0TG9hZGVycyA9IEFycmF5LmlzQXJyYXkoY29udGV4dC5sb2FkZXJzKSA/IGNvbnRleHQubG9hZGVycyA6IFtjb250ZXh0LmxvYWRlcnNdO1xuICAgICAgICBjYW5kaWRhdGVMb2FkZXJzID0gY2FuZGlkYXRlTG9hZGVycyA/IFsuLi5jYW5kaWRhdGVMb2FkZXJzLCAuLi5jb250ZXh0TG9hZGVyc10gOiBjb250ZXh0TG9hZGVycztcbiAgICB9XG4gICAgLy8gSWYgbm8gbG9hZGVycywgcmV0dXJuIG51bGwgdG8gbG9vayBpbiBnbG9iYWxseSByZWdpc3RlcmVkIGxvYWRlcnNcbiAgICByZXR1cm4gY2FuZGlkYXRlTG9hZGVycyAmJiBjYW5kaWRhdGVMb2FkZXJzLmxlbmd0aCA/IGNhbmRpZGF0ZUxvYWRlcnMgOiB1bmRlZmluZWQ7XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi9lbnYtdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSBcIi4uL2Vudi11dGlscy92ZXJzaW9uLmpzXCI7XG4vKipcbiAqIENoZWNrIGlmIHdvcmtlciBpcyBjb21wYXRpYmxlIHdpdGggdGhpcyBsaWJyYXJ5IHZlcnNpb25cbiAqIEBwYXJhbSB3b3JrZXJcbiAqIEBwYXJhbSBsaWJWZXJzaW9uXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHR3byB2ZXJzaW9ucyBhcmUgY29tcGF0aWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVXb3JrZXJWZXJzaW9uKHdvcmtlciwgY29yZVZlcnNpb24gPSBWRVJTSU9OKSB7XG4gICAgYXNzZXJ0KHdvcmtlciwgJ25vIHdvcmtlciBwcm92aWRlZCcpO1xuICAgIGNvbnN0IHdvcmtlclZlcnNpb24gPSB3b3JrZXIudmVyc2lvbjtcbiAgICBpZiAoIWNvcmVWZXJzaW9uIHx8ICF3b3JrZXJWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gVE9ETyBlbmFibGUgd2hlbiBmaXggdGhlIF9fdmVyc2lvbl9fIGluamVjdGlvblxuICAgIC8vIGNvbnN0IGNvcmVWZXJzaW9ucyA9IHBhcnNlVmVyc2lvbihjb3JlVmVyc2lvbik7XG4gICAgLy8gY29uc3Qgd29ya2VyVmVyc2lvbnMgPSBwYXJzZVZlcnNpb24od29ya2VyVmVyc2lvbik7XG4gICAgLy8gYXNzZXJ0KFxuICAgIC8vICAgY29yZVZlcnNpb24ubWFqb3IgPT09IHdvcmtlclZlcnNpb24ubWFqb3IgJiYgY29yZVZlcnNpb24ubWlub3IgPD0gd29ya2VyVmVyc2lvbi5taW5vcixcbiAgICAvLyAgIGB3b3JrZXI6ICR7d29ya2VyLm5hbWV9IGlzIG5vdCBjb21wYXRpYmxlLiAke2NvcmVWZXJzaW9uLm1ham9yfS4ke1xuICAgIC8vICAgICBjb3JlVmVyc2lvbi5taW5vclxuICAgIC8vICAgfSsgaXMgcmVxdWlyZWQuYFxuICAgIC8vICk7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBAdHMtaWdub3JlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5mdW5jdGlvbiBwYXJzZVZlcnNpb24odmVyc2lvbikge1xuICAgIGNvbnN0IHBhcnRzID0gdmVyc2lvbi5zcGxpdCgnLicpLm1hcChOdW1iZXIpO1xuICAgIHJldHVybiB7IG1ham9yOiBwYXJ0c1swXSwgbWlub3I6IHBhcnRzWzFdIH07XG59XG4iLCIvLyBsb2FkZXJzLmdsXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgKGMpIHZpcy5nbCBjb250cmlidXRvcnNcbmltcG9ydCB7IGlzQmxvYiB9IGZyb20gXCIuLi8uLi9qYXZhc2NyaXB0LXV0aWxzL2lzLXR5cGUuanNcIjtcbmltcG9ydCB7IGlzTG9hZGVyT2JqZWN0IH0gZnJvbSBcIi4uL2xvYWRlci11dGlscy9ub3JtYWxpemUtbG9hZGVyLmpzXCI7XG5pbXBvcnQgeyBnZXRGZXRjaEZ1bmN0aW9uIH0gZnJvbSBcIi4uL2xvYWRlci11dGlscy9nZXQtZmV0Y2gtZnVuY3Rpb24uanNcIjtcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIi4vcGFyc2UuanNcIjtcbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKHVybDogc3RyaW5nIHwgRGF0YVR5cGUsIGxvYWRlcnM6IExvYWRlck9wdGlvbnMpOiBQcm9taXNlPGFueT47XG4vLyBpbXBsZW1lbnRhdGlvbiBzaWduYXR1cmVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKHVybCwgbG9hZGVycywgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGxldCByZXNvbHZlZExvYWRlcnM7XG4gICAgbGV0IHJlc29sdmVkT3B0aW9ucztcbiAgICAvLyBTaWduYXR1cmU6IGxvYWQodXJsLCBvcHRpb25zKVxuICAgIGlmICghQXJyYXkuaXNBcnJheShsb2FkZXJzKSAmJiAhaXNMb2FkZXJPYmplY3QobG9hZGVycykpIHtcbiAgICAgICAgcmVzb2x2ZWRMb2FkZXJzID0gW107XG4gICAgICAgIHJlc29sdmVkT3B0aW9ucyA9IGxvYWRlcnM7XG4gICAgICAgIGNvbnRleHQgPSB1bmRlZmluZWQ7IC8vIGNvbnRleHQgbm90IHN1cHBvcnRlZCBpbiBzaG9ydCBzaWduYXR1cmVcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc29sdmVkTG9hZGVycyA9IGxvYWRlcnM7XG4gICAgICAgIHJlc29sdmVkT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8vIFNlbGVjdCBmZXRjaCBmdW5jdGlvblxuICAgIGNvbnN0IGZldGNoID0gZ2V0RmV0Y2hGdW5jdGlvbihyZXNvbHZlZE9wdGlvbnMpO1xuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGB1cmxgIGNvdWxkIGJlIGFscmVhZHkgbG9hZGVkIGJpbmFyeSBkYXRhXG4gICAgbGV0IGRhdGEgPSB1cmw7XG4gICAgLy8gdXJsIGlzIGEgc3RyaW5nLCBmZXRjaCB0aGUgdXJsXG4gICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgICAvLyBVUkwgaXMgQmxvYiBvciBGaWxlLCBmZXRjaEZpbGUgaGFuZGxlcyBpdCAoYWx0OiB3ZSBjb3VsZCBnZW5lcmF0ZSBPYmplY3RVUkwgaGVyZSlcbiAgICB9XG4gICAgaWYgKGlzQmxvYih1cmwpKSB7XG4gICAgICAgIC8vIFRoZSBmZXRjaCByZXNwb25zZSBvYmplY3Qgd2lsbCBjb250YWluIGJsb2IubmFtZVxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gLSBUaGlzIG1heSBub3Qgd29yayBmb3Igb3ZlcnJpZGRlbiBmZXRjaCBmdW5jdGlvbnNcbiAgICAgICAgZGF0YSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgfVxuICAgIC8vIERhdGEgaXMgbG9hZGVkIChhdCBsZWFzdCB3ZSBoYXZlIGEgYFJlc3BvbnNlYCBvYmplY3QpIHNvIHRpbWUgdG8gaGFuZCBvdmVyIHRvIGBwYXJzZWBcbiAgICAvLyByZXR1cm4gYXdhaXQgcGFyc2UoZGF0YSwgbG9hZGVycyBhcyBMb2FkZXJbXSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocmVzb2x2ZWRMb2FkZXJzKVxuICAgICAgICA/IGF3YWl0IHBhcnNlKGRhdGEsIHJlc29sdmVkTG9hZGVycywgcmVzb2x2ZWRPcHRpb25zKSAvLyBsb2FkZXIgYXJyYXkgb3ZlcmxvYWRcbiAgICAgICAgOiBhd2FpdCBwYXJzZShkYXRhLCByZXNvbHZlZExvYWRlcnMsIHJlc29sdmVkT3B0aW9ucyk7IC8vIHNpbmdsZSBsb2FkZXIgb3ZlcmxvYWRcbn1cbiIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIDMgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcbiAqXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWRkcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIHN5bW1ldHJpYyByb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gZ2xNYXRyaXgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IGdsTWF0cml4LnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBnbE1hdHJpeC5yb3VuZChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMzIGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWRkcyB0d28gdmVjMydzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuXG4vKipcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBuZWdhdGVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuICBpZiAobGVuID4gMCkge1xuICAgIC8vVE9ETzogZXZhbHVhdGUgdXNlIG9mIGdsbV9pbnZzcXJ0IGhlcmU/XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG4gIG91dFswXSA9IGFbMF0gKiBsZW47XG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICBheSA9IGFbMV0sXG4gICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgIGJ5ID0gYlsxXSxcbiAgICBieiA9IGJbMl07XG4gIG91dFswXSA9IGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2xlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBhbmdsZSA9IE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChkb3QoYSwgYiksIC0xKSwgMSkpO1xuICB2YXIgc2luVG90YWwgPSBNYXRoLnNpbihhbmdsZSk7XG4gIHZhciByYXRpb0EgPSBNYXRoLnNpbigoMSAtIHQpICogYW5nbGUpIC8gc2luVG90YWw7XG4gIHZhciByYXRpb0IgPSBNYXRoLnNpbih0ICogYW5nbGUpIC8gc2luVG90YWw7XG4gIG91dFswXSA9IHJhdGlvQSAqIGFbMF0gKyByYXRpb0IgKiBiWzBdO1xuICBvdXRbMV0gPSByYXRpb0EgKiBhWzFdICsgcmF0aW9CICogYlsxXTtcbiAgb3V0WzJdID0gcmF0aW9BICogYVsyXSArIHJhdGlvQiAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBoZXJtaXRlIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgaW52ZXJzZUZhY3RvciA9IDEgLSB0O1xuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBpbnZlcnNlRmFjdG9yVGltZXNUd28gKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xuICB2YXIgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqIHQ7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSA9PT0gdW5kZWZpbmVkID8gMS4wIDogc2NhbGU7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgIHkgPSBhWzFdLFxuICAgIHogPSBhWzJdO1xuICB2YXIgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcbiAgdyA9IHcgfHwgMS4wO1xuICBvdXRbMF0gPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pIC8gdztcbiAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XG4gIG91dFsyXSA9IChtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0pIC8gdztcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gdGhlIDN4MyBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDMob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICB5ID0gYVsxXSxcbiAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzRdICsgeiAqIG1bN107XG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgbm9ybWFsaXplZCBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICAvLyBGYXN0IFZlY3RvciBSb3RhdGlvbiB1c2luZyBRdWF0ZXJuaW9ucyBieSBSb2JlcnQgRWlzZWxlXG4gIC8vIGh0dHBzOi8vcmF3Lm9yZy9wcm9vZi92ZWN0b3Itcm90YXRpb24tdXNpbmctcXVhdGVybmlvbnMvXG5cbiAgdmFyIHF4ID0gcVswXSxcbiAgICBxeSA9IHFbMV0sXG4gICAgcXogPSBxWzJdLFxuICAgIHF3ID0gcVszXTtcbiAgdmFyIHZ4ID0gYVswXSxcbiAgICB2eSA9IGFbMV0sXG4gICAgdnogPSBhWzJdO1xuXG4gIC8vIHQgPSBxIHggdlxuICB2YXIgdHggPSBxeSAqIHZ6IC0gcXogKiB2eTtcbiAgdmFyIHR5ID0gcXogKiB2eCAtIHF4ICogdno7XG4gIHZhciB0eiA9IHF4ICogdnkgLSBxeSAqIHZ4O1xuXG4gIC8vIHQgPSAydFxuICB0eCA9IHR4ICsgdHg7XG4gIHR5ID0gdHkgKyB0eTtcbiAgdHogPSB0eiArIHR6O1xuXG4gIC8vIHYgKyB3IHQgKyBxIHggdFxuICBvdXRbMF0gPSB2eCArIHF3ICogdHggKyBxeSAqIHR6IC0gcXogKiB0eTtcbiAgb3V0WzFdID0gdnkgKyBxdyAqIHR5ICsgcXogKiB0eCAtIHF4ICogdHo7XG4gIG91dFsyXSA9IHZ6ICsgcXcgKiB0eiArIHF4ICogdHkgLSBxeSAqIHR4O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgciA9IFtdO1xuICAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07XG5cbiAgLy9wZXJmb3JtIHJvdGF0aW9uXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7XG5cbiAgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgciA9IFtdO1xuICAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07XG5cbiAgLy9wZXJmb3JtIHJvdGF0aW9uXG4gIHJbMF0gPSBwWzJdICogTWF0aC5zaW4ocmFkKSArIHBbMF0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzFdID0gcFsxXTtcbiAgclsyXSA9IHBbMl0gKiBNYXRoLmNvcyhyYWQpIC0gcFswXSAqIE1hdGguc2luKHJhZCk7XG5cbiAgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgciA9IFtdO1xuICAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07XG5cbiAgLy9wZXJmb3JtIHJvdGF0aW9uXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07XG5cbiAgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICBheSA9IGFbMV0sXG4gICAgYXogPSBhWzJdLFxuICAgIGJ4ID0gYlswXSxcbiAgICBieSA9IGJbMV0sXG4gICAgYnogPSBiWzJdLFxuICAgIG1hZyA9IE1hdGguc3FydCgoYXggKiBheCArIGF5ICogYXkgKyBheiAqIGF6KSAqIChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopKSxcbiAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB6ZXJvXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIpXCI7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgYTEgPSBhWzFdLFxuICAgIGEyID0gYVsyXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICBiMSA9IGJbMV0sXG4gICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG5cbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsIi8qKlxuICogQ29tbW9uIHV0aWxpdGllc1xuICogQG1vZHVsZSBnbE1hdHJpeFxuICovXG5cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09IFwidW5kZWZpbmVkXCIgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcbmV4cG9ydCB2YXIgUkFORE9NID0gTWF0aC5yYW5kb207XG5leHBvcnQgdmFyIEFOR0xFX09SREVSID0gXCJ6eXhcIjtcblxuLyoqXG4gKiBTeW1tZXRyaWMgcm91bmRcbiAqIHNlZSBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yb3VuZC1oYWxmLXVwLXN5bW1ldHJpYyN1c2VyLWNvbnRlbnQtZGV0YWlsZWQtYmFja2dyb3VuZFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIHZhbHVlIHRvIHJvdW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChhKSB7XG4gIGlmIChhID49IDApIHJldHVybiBNYXRoLnJvdW5kKGEpO1xuICByZXR1cm4gYSAlIDAuNSA9PT0gMCA/IE1hdGguZmxvb3IoYSkgOiBNYXRoLnJvdW5kKGEpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5Q29uc3RydWN0b3IgfCBBcnJheUNvbnN0cnVjdG9yfSB0eXBlIEFycmF5IHR5cGUsIHN1Y2ggYXMgRmxvYXQzMkFycmF5IG9yIEFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRyaXhBcnJheVR5cGUodHlwZSkge1xuICBBUlJBWV9UWVBFID0gdHlwZTtcbn1cbnZhciBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xudmFyIHJhZGlhbiA9IDE4MCAvIE1hdGguUEk7XG5cbi8qKlxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgQW5nbGUgaW4gRGVncmVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW4oYSkge1xuICByZXR1cm4gYSAqIGRlZ3JlZTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IFJhZGlhbiBUbyBEZWdyZWVcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBSYWRpYW5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZShhKSB7XG4gIHJldHVybiBhICogcmFkaWFuO1xufVxuXG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSAgICAgICAgICBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcGFyYW0ge051bWJlcn0gYiAgICAgICAgICBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxuICogQHBhcmFtIHtOdW1iZXJ9IHRvbGVyYW5jZSAgQWJzb2x1dGUgb3IgcmVsYXRpdmUgdG9sZXJhbmNlIChkZWZhdWx0IGdsTWF0cml4LkVQU0lMT04pXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIHRvbGVyYW5jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogRVBTSUxPTjtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSB0b2xlcmFuY2UgKiBNYXRoLm1heCgxLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xufSIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIDQgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzRcbiAqXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHosIHcpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSB3O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWM0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6LCB3KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgb3V0WzNdID0gYVszXSAqIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAvIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5jZWlsKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIG91dFszXSA9IE1hdGguZmxvb3IoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5taW4oYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5tYXgoYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogc3ltbWV0cmljIHJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBnbE1hdHJpeC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gZ2xNYXRyaXgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IGdsTWF0cml4LnJvdW5kKGFbMl0pO1xuICBvdXRbM10gPSBnbE1hdHJpeC5yb3VuZChhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTY2FsZXMgYSB2ZWM0IGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIHZlYzQncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG5cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSAtYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICBvdXRbM10gPSAxLjAgLyBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cbiAgb3V0WzBdID0geCAqIGxlbjtcbiAgb3V0WzFdID0geSAqIGxlbjtcbiAgb3V0WzJdID0geiAqIGxlbjtcbiAgb3V0WzNdID0gdyAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXSArIGFbM10gKiBiWzNdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNyb3NzLXByb2R1Y3Qgb2YgdGhyZWUgdmVjdG9ycyBpbiBhIDQtZGltZW5zaW9uYWwgc3BhY2VcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gdSB0aGUgZmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gdiB0aGUgc2Vjb25kIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IHcgdGhlIHRoaXJkIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IHJlc3VsdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCB1LCB2LCB3KSB7XG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcbiAgICBCID0gdlswXSAqIHdbMl0gLSB2WzJdICogd1swXSxcbiAgICBDID0gdlswXSAqIHdbM10gLSB2WzNdICogd1swXSxcbiAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcbiAgICBFID0gdlsxXSAqIHdbM10gLSB2WzNdICogd1sxXSxcbiAgICBGID0gdlsyXSAqIHdbM10gLSB2WzNdICogd1syXTtcbiAgdmFyIEcgPSB1WzBdO1xuICB2YXIgSCA9IHVbMV07XG4gIHZhciBJID0gdVsyXTtcbiAgdmFyIEogPSB1WzNdO1xuICBvdXRbMF0gPSBIICogRiAtIEkgKiBFICsgSiAqIEQ7XG4gIG91dFsxXSA9IC0oRyAqIEYpICsgSSAqIEMgLSBKICogQjtcbiAgb3V0WzJdID0gRyAqIEUgLSBIICogQyArIEogKiBBO1xuICBvdXRbM10gPSAtKEcgKiBEKSArIEggKiBCIC0gSSAqIEE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgdmFyIGF3ID0gYVszXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgb3V0WzNdID0gYXcgKyB0ICogKGJbM10gLSBhdyk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSA9PT0gdW5kZWZpbmVkID8gMS4wIDogc2NhbGU7XG5cbiAgLy8gTWFyc2FnbGlhLCBHZW9yZ2UuIENob29zaW5nIGEgUG9pbnQgZnJvbSB0aGUgU3VyZmFjZSBvZiBhXG4gIC8vIFNwaGVyZS4gQW5uLiBNYXRoLiBTdGF0aXN0LiA0MyAoMTk3MiksIG5vLiAyLCA2NDUtLTY0Ni5cbiAgLy8gaHR0cDovL3Byb2plY3RldWNsaWQub3JnL2V1Y2xpZC5hb21zLzExNzc2OTI2NDQ7XG4gIHZhciB2MSwgdjIsIHYzLCB2NDtcbiAgdmFyIHMxLCBzMjtcbiAgdmFyIHJhbmQ7XG4gIHJhbmQgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdjEgPSByYW5kICogMiAtIDE7XG4gIHYyID0gKDQgKiBnbE1hdHJpeC5SQU5ET00oKSAtIDIpICogTWF0aC5zcXJ0KHJhbmQgKiAtcmFuZCArIHJhbmQpO1xuICBzMSA9IHYxICogdjEgKyB2MiAqIHYyO1xuICByYW5kID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHYzID0gcmFuZCAqIDIgLSAxO1xuICB2NCA9ICg0ICogZ2xNYXRyaXguUkFORE9NKCkgLSAyKSAqIE1hdGguc3FydChyYW5kICogLXJhbmQgKyByYW5kKTtcbiAgczIgPSB2MyAqIHYzICsgdjQgKiB2NDtcbiAgdmFyIGQgPSBNYXRoLnNxcnQoKDEgLSBzMSkgLyBzMik7XG4gIG91dFswXSA9IHNjYWxlICogdjE7XG4gIG91dFsxXSA9IHNjYWxlICogdjI7XG4gIG91dFsyXSA9IHNjYWxlICogdjMgKiBkO1xuICBvdXRbM10gPSBzY2FsZSAqIHY0ICogZDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBtYXQ0LlxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgeSA9IGFbMV0sXG4gICAgeiA9IGFbMl0sXG4gICAgdyA9IGFbM107XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdICogdztcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10gKiB3O1xuICBvdXRbMl0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0gKiB3O1xuICBvdXRbM10gPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV0gKiB3O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIG5vcm1hbGl6ZWQgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gRmFzdCBWZWN0b3IgUm90YXRpb24gdXNpbmcgUXVhdGVybmlvbnMgYnkgUm9iZXJ0IEVpc2VsZVxuICAvLyBodHRwczovL3Jhdy5vcmcvcHJvb2YvdmVjdG9yLXJvdGF0aW9uLXVzaW5nLXF1YXRlcm5pb25zL1xuXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgcXkgPSBxWzFdLFxuICAgIHF6ID0gcVsyXSxcbiAgICBxdyA9IHFbM107XG4gIHZhciB2eCA9IGFbMF0sXG4gICAgdnkgPSBhWzFdLFxuICAgIHZ6ID0gYVsyXTtcblxuICAvLyB0ID0gcSB4IHZcbiAgdmFyIHR4ID0gcXkgKiB2eiAtIHF6ICogdnk7XG4gIHZhciB0eSA9IHF6ICogdnggLSBxeCAqIHZ6O1xuICB2YXIgdHogPSBxeCAqIHZ5IC0gcXkgKiB2eDtcblxuICAvLyB0ID0gMnRcbiAgdHggPSB0eCArIHR4O1xuICB0eSA9IHR5ICsgdHk7XG4gIHR6ID0gdHogKyB0ejtcblxuICAvLyB2ICsgdyB0ICsgcSB4IHRcbiAgb3V0WzBdID0gdnggKyBxdyAqIHR4ICsgcXkgKiB0eiAtIHF6ICogdHk7XG4gIG91dFsxXSA9IHZ5ICsgcXcgKiB0eSArIHF6ICogdHggLSBxeCAqIHR6O1xuICBvdXRbMl0gPSB2eiArIHF3ICogdHogKyBxeCAqIHR5IC0gcXkgKiB0eDtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgb3V0WzNdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjNChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgIGExID0gYVsxXSxcbiAgICBhMiA9IGFbMl0sXG4gICAgYTMgPSBhWzNdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpO1xufVxuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuXG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWM0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWM0LiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjNHMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSA0O1xuICAgIH1cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICB2ZWNbM10gPSBhW2kgKyAzXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgICBhW2kgKyAzXSA9IHZlY1szXTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG5pbXBvcnQgKiBhcyBtYXQzIGZyb20gXCIuL21hdDMuanNcIjtcbmltcG9ydCAqIGFzIHZlYzMgZnJvbSBcIi4vdmVjMy5qc1wiO1xuaW1wb3J0ICogYXMgdmVjNCBmcm9tIFwiLi92ZWM0LmpzXCI7XG5cbi8qKlxuICogUXVhdGVybmlvbiBpbiB0aGUgZm9ybWF0IFhZWldcbiAqIEBtb2R1bGUgcXVhdFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBxdWF0XG4gKlxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuICBvdXRbM10gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCBhIHF1YXQgdG8gdGhlIGlkZW50aXR5IHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAwO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldHMgYSBxdWF0IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFuZCByb3RhdGlvbiBheGlzLFxuICogdGhlbiByZXR1cm5zIGl0LlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgYXJvdW5kIHdoaWNoIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybnMge3F1YXR9IG91dFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEF4aXNBbmdsZShvdXQsIGF4aXMsIHJhZCkge1xuICByYWQgPSByYWQgKiAwLjU7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgb3V0WzBdID0gcyAqIGF4aXNbMF07XG4gIG91dFsxXSA9IHMgKiBheGlzWzFdO1xuICBvdXRbMl0gPSBzICogYXhpc1syXTtcbiAgb3V0WzNdID0gTWF0aC5jb3MocmFkKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSByb3RhdGlvbiBheGlzIGFuZCBhbmdsZSBmb3IgYSBnaXZlblxuICogIHF1YXRlcm5pb24uIElmIGEgcXVhdGVybmlvbiBpcyBjcmVhdGVkIHdpdGhcbiAqICBzZXRBeGlzQW5nbGUsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzYW1lXG4gKiAgdmFsdWVzIGFzIHByb3ZpZGllZCBpbiB0aGUgb3JpZ2luYWwgcGFyYW1ldGVyIGxpc3RcbiAqICBPUiBmdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB2YWx1ZXMuXG4gKiBFeGFtcGxlOiBUaGUgcXVhdGVybmlvbiBmb3JtZWQgYnkgYXhpcyBbMCwgMCwgMV0gYW5kXG4gKiAgYW5nbGUgLTkwIGlzIHRoZSBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIGZvcm1lZCBieVxuICogIFswLCAwLCAxXSBhbmQgMjcwLiBUaGlzIG1ldGhvZCBmYXZvcnMgdGhlIGxhdHRlci5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dF9heGlzICBWZWN0b3IgcmVjZWl2aW5nIHRoZSBheGlzIG9mIHJvdGF0aW9uXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IHEgICAgIFF1YXRlcm5pb24gdG8gYmUgZGVjb21wb3NlZFxuICogQHJldHVybiB7TnVtYmVyfSAgICAgQW5nbGUsIGluIHJhZGlhbnMsIG9mIHRoZSByb3RhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXhpc0FuZ2xlKG91dF9heGlzLCBxKSB7XG4gIHZhciByYWQgPSBNYXRoLmFjb3MocVszXSkgKiAyLjA7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkIC8gMi4wKTtcbiAgaWYgKHMgPiBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgb3V0X2F4aXNbMF0gPSBxWzBdIC8gcztcbiAgICBvdXRfYXhpc1sxXSA9IHFbMV0gLyBzO1xuICAgIG91dF9heGlzWzJdID0gcVsyXSAvIHM7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgcyBpcyB6ZXJvLCByZXR1cm4gYW55IGF4aXMgKG5vIHJvdGF0aW9uIC0gYXhpcyBkb2VzIG5vdCBtYXR0ZXIpXG4gICAgb3V0X2F4aXNbMF0gPSAxO1xuICAgIG91dF9heGlzWzFdID0gMDtcbiAgICBvdXRfYXhpc1syXSA9IDA7XG4gIH1cbiAgcmV0dXJuIHJhZDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gdHdvIHVuaXQgcXVhdGVybmlvbnNcbiAqXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGEgICAgIE9yaWdpbiB1bml0IHF1YXRlcm5pb25cbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gYiAgICAgRGVzdGluYXRpb24gdW5pdCBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgYmV0d2VlbiB0aGUgdHdvIHF1YXRlcm5pb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmdsZShhLCBiKSB7XG4gIHZhciBkb3Rwcm9kdWN0ID0gZG90KGEsIGIpO1xuICByZXR1cm4gTWF0aC5hY29zKDIgKiBkb3Rwcm9kdWN0ICogZG90cHJvZHVjdCAtIDEpO1xufVxuXG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgYXkgPSBhWzFdLFxuICAgIGF6ID0gYVsyXSxcbiAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IGJbMF0sXG4gICAgYnkgPSBiWzFdLFxuICAgIGJ6ID0gYlsyXSxcbiAgICBidyA9IGJbM107XG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XG4gIHJhZCAqPSAwLjU7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgYXkgPSBhWzFdLFxuICAgIGF6ID0gYVsyXSxcbiAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IE1hdGguc2luKHJhZCksXG4gICAgYncgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXcgKiBieDtcbiAgb3V0WzFdID0gYXkgKiBidyArIGF6ICogYng7XG4gIG91dFsyXSA9IGF6ICogYncgLSBheSAqIGJ4O1xuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXggKiBieDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFkgYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICBheSA9IGFbMV0sXG4gICAgYXogPSBhWzJdLFxuICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ5ID0gTWF0aC5zaW4ocmFkKSxcbiAgICBidyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGF4ICogYncgLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXcgKiBieTtcbiAgb3V0WzJdID0gYXogKiBidyArIGF4ICogYnk7XG4gIG91dFszXSA9IGF3ICogYncgLSBheSAqIGJ5O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICByYWQgKj0gMC41O1xuICB2YXIgYXggPSBhWzBdLFxuICAgIGF5ID0gYVsxXSxcbiAgICBheiA9IGFbMl0sXG4gICAgYXcgPSBhWzNdO1xuICB2YXIgYnogPSBNYXRoLnNpbihyYWQpLFxuICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF5ICogYno7XG4gIG91dFsxXSA9IGF5ICogYncgLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBiejtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgVyBjb21wb25lbnQgb2YgYSBxdWF0IGZyb20gdGhlIFgsIFksIGFuZCBaIGNvbXBvbmVudHMuXG4gKiBBc3N1bWVzIHRoYXQgcXVhdGVybmlvbiBpcyAxIHVuaXQgaW4gbGVuZ3RoLlxuICogQW55IGV4aXN0aW5nIFcgY29tcG9uZW50IHdpbGwgYmUgaWdub3JlZC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIFcgY29tcG9uZW50IG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVXKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgeSA9IGFbMV0sXG4gICAgeiA9IGFbMl07XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IE1hdGguc3FydChNYXRoLmFicygxLjAgLSB4ICogeCAtIHkgKiB5IC0geiAqIHopKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHAob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICB5ID0gYVsxXSxcbiAgICB6ID0gYVsyXSxcbiAgICB3ID0gYVszXTtcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgdmFyIGV0ID0gTWF0aC5leHAodyk7XG4gIHZhciBzID0gciA+IDAgPyBldCAqIE1hdGguc2luKHIpIC8gciA6IDA7XG4gIG91dFswXSA9IHggKiBzO1xuICBvdXRbMV0gPSB5ICogcztcbiAgb3V0WzJdID0geiAqIHM7XG4gIG91dFszXSA9IGV0ICogTWF0aC5jb3Mocik7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIHVuaXQgcXVhdGVybmlvbi5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbG4ob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICB5ID0gYVsxXSxcbiAgICB6ID0gYVsyXSxcbiAgICB3ID0gYVszXTtcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgdmFyIHQgPSByID4gMCA/IE1hdGguYXRhbjIociwgdykgLyByIDogMDtcbiAgb3V0WzBdID0geCAqIHQ7XG4gIG91dFsxXSA9IHkgKiB0O1xuICBvdXRbMl0gPSB6ICogdDtcbiAgb3V0WzNdID0gMC41ICogTWF0aC5sb2coeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc2NhbGFyIHBvd2VyIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHF1YXRlcm5pb24gYnlcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvdyhvdXQsIGEsIGIpIHtcbiAgbG4ob3V0LCBhKTtcbiAgc2NhbGUob3V0LCBvdXQsIGIpO1xuICBleHAob3V0LCBvdXQpO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNsZXJwKG91dCwgYSwgYiwgdCkge1xuICAvLyBiZW5jaG1hcmtzOlxuICAvLyAgICBodHRwOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXNsZXJwLWltcGxlbWVudGF0aW9uc1xuICB2YXIgYXggPSBhWzBdLFxuICAgIGF5ID0gYVsxXSxcbiAgICBheiA9IGFbMl0sXG4gICAgYXcgPSBhWzNdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgIGJ5ID0gYlsxXSxcbiAgICBieiA9IGJbMl0sXG4gICAgYncgPSBiWzNdO1xuICB2YXIgb21lZ2EsIGNvc29tLCBzaW5vbSwgc2NhbGUwLCBzY2FsZTE7XG5cbiAgLy8gY2FsYyBjb3NpbmVcbiAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3O1xuICAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSlcbiAgaWYgKGNvc29tIDwgMC4wKSB7XG4gICAgY29zb20gPSAtY29zb207XG4gICAgYnggPSAtYng7XG4gICAgYnkgPSAtYnk7XG4gICAgYnogPSAtYno7XG4gICAgYncgPSAtYnc7XG4gIH1cbiAgLy8gY2FsY3VsYXRlIGNvZWZmaWNpZW50c1xuICBpZiAoMS4wIC0gY29zb20gPiBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgLy8gc3RhbmRhcmQgY2FzZSAoc2xlcnApXG4gICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pO1xuICAgIHNpbm9tID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgIHNjYWxlMCA9IE1hdGguc2luKCgxLjAgLSB0KSAqIG9tZWdhKSAvIHNpbm9tO1xuICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTtcbiAgfSBlbHNlIHtcbiAgICAvLyBcImZyb21cIiBhbmQgXCJ0b1wiIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlXG4gICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvblxuICAgIHNjYWxlMCA9IDEuMCAtIHQ7XG4gICAgc2NhbGUxID0gdDtcbiAgfVxuICAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzXG4gIG91dFswXSA9IHNjYWxlMCAqIGF4ICsgc2NhbGUxICogYng7XG4gIG91dFsxXSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7XG4gIG91dFsyXSA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7XG4gIG91dFszXSA9IHNjYWxlMCAqIGF3ICsgc2NhbGUxICogYnc7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHVuaXQgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCkge1xuICAvLyBJbXBsZW1lbnRhdGlvbiBvZiBodHRwOi8vcGxhbm5pbmcuY3MudWl1Yy5lZHUvbm9kZTE5OC5odG1sXG4gIC8vIFRPRE86IENhbGxpbmcgcmFuZG9tIDMgdGltZXMgaXMgcHJvYmFibHkgbm90IHRoZSBmYXN0ZXN0IHNvbHV0aW9uXG4gIHZhciB1MSA9IGdsTWF0cml4LlJBTkRPTSgpO1xuICB2YXIgdTIgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdmFyIHUzID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHZhciBzcXJ0MU1pbnVzVTEgPSBNYXRoLnNxcnQoMSAtIHUxKTtcbiAgdmFyIHNxcnRVMSA9IE1hdGguc3FydCh1MSk7XG4gIG91dFswXSA9IHNxcnQxTWludXNVMSAqIE1hdGguc2luKDIuMCAqIE1hdGguUEkgKiB1Mik7XG4gIG91dFsxXSA9IHNxcnQxTWludXNVMSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB1Mik7XG4gIG91dFsyXSA9IHNxcnRVMSAqIE1hdGguc2luKDIuMCAqIE1hdGguUEkgKiB1Myk7XG4gIG91dFszXSA9IHNxcnRVMSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB1Myk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgaW52ZXJzZSBvZiBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGludmVyc2Ugb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICBhMSA9IGFbMV0sXG4gICAgYTIgPSBhWzJdLFxuICAgIGEzID0gYVszXTtcbiAgdmFyIGRvdCA9IGEwICogYTAgKyBhMSAqIGExICsgYTIgKiBhMiArIGEzICogYTM7XG4gIHZhciBpbnZEb3QgPSBkb3QgPyAxLjAgLyBkb3QgOiAwO1xuXG4gIC8vIFRPRE86IFdvdWxkIGJlIGZhc3RlciB0byByZXR1cm4gWzAsMCwwLDBdIGltbWVkaWF0ZWx5IGlmIGRvdCA9PSAwXG5cbiAgb3V0WzBdID0gLWEwICogaW52RG90O1xuICBvdXRbMV0gPSAtYTEgKiBpbnZEb3Q7XG4gIG91dFsyXSA9IC1hMiAqIGludkRvdDtcbiAgb3V0WzNdID0gYTMgKiBpbnZEb3Q7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgY29uanVnYXRlIG9mIGEgcXVhdFxuICogSWYgdGhlIHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBmdW5jdGlvbiBpcyBmYXN0ZXIgdGhhbiBxdWF0LmludmVyc2UgYW5kIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGNvbmp1Z2F0ZSBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uanVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIDN4MyByb3RhdGlvbiBtYXRyaXguXG4gKlxuICogTk9URTogVGhlIHJlc3VsdGFudCBxdWF0ZXJuaW9uIGlzIG5vdCBub3JtYWxpemVkLCBzbyB5b3Ugc2hvdWxkIGJlIHN1cmVcbiAqIHRvIHJlbm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uIHlvdXJzZWxmIHdoZXJlIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHJvdGF0aW9uIG1hdHJpeFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MyhvdXQsIG0pIHtcbiAgLy8gQWxnb3JpdGhtIGluIEtlbiBTaG9lbWFrZSdzIGFydGljbGUgaW4gMTk4NyBTSUdHUkFQSCBjb3Vyc2Ugbm90ZXNcbiAgLy8gYXJ0aWNsZSBcIlF1YXRlcm5pb24gQ2FsY3VsdXMgYW5kIEZhc3QgQW5pbWF0aW9uXCIuXG4gIHZhciBmVHJhY2UgPSBtWzBdICsgbVs0XSArIG1bOF07XG4gIHZhciBmUm9vdDtcbiAgaWYgKGZUcmFjZSA+IDAuMCkge1xuICAgIC8vIHx3fCA+IDEvMiwgbWF5IGFzIHdlbGwgY2hvb3NlIHcgPiAxLzJcbiAgICBmUm9vdCA9IE1hdGguc3FydChmVHJhY2UgKyAxLjApOyAvLyAyd1xuICAgIG91dFszXSA9IDAuNSAqIGZSb290O1xuICAgIGZSb290ID0gMC41IC8gZlJvb3Q7IC8vIDEvKDR3KVxuICAgIG91dFswXSA9IChtWzVdIC0gbVs3XSkgKiBmUm9vdDtcbiAgICBvdXRbMV0gPSAobVs2XSAtIG1bMl0pICogZlJvb3Q7XG4gICAgb3V0WzJdID0gKG1bMV0gLSBtWzNdKSAqIGZSb290O1xuICB9IGVsc2Uge1xuICAgIC8vIHx3fCA8PSAxLzJcbiAgICB2YXIgaSA9IDA7XG4gICAgaWYgKG1bNF0gPiBtWzBdKSBpID0gMTtcbiAgICBpZiAobVs4XSA+IG1baSAqIDMgKyBpXSkgaSA9IDI7XG4gICAgdmFyIGogPSAoaSArIDEpICUgMztcbiAgICB2YXIgayA9IChpICsgMikgJSAzO1xuICAgIGZSb290ID0gTWF0aC5zcXJ0KG1baSAqIDMgKyBpXSAtIG1baiAqIDMgKyBqXSAtIG1bayAqIDMgKyBrXSArIDEuMCk7XG4gICAgb3V0W2ldID0gMC41ICogZlJvb3Q7XG4gICAgZlJvb3QgPSAwLjUgLyBmUm9vdDtcbiAgICBvdXRbM10gPSAobVtqICogMyArIGtdIC0gbVtrICogMyArIGpdKSAqIGZSb290O1xuICAgIG91dFtqXSA9IChtW2ogKiAzICsgaV0gKyBtW2kgKiAzICsgal0pICogZlJvb3Q7XG4gICAgb3V0W2tdID0gKG1bayAqIDMgKyBpXSArIG1baSAqIDMgKyBrXSkgKiBmUm9vdDtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIGV1bGVyIGFuZ2xlIHgsIHksIHogdXNpbmcgdGhlIHByb3ZpZGVkIGludHJpbnNpYyBvcmRlciBmb3IgdGhlIGNvbnZlcnNpb24uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge051bWJlcn0geCBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFggYXhpcyBpbiBkZWdyZWVzLlxuICogQHBhcmFtIHtOdW1iZXJ9IHkgQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBZIGF4aXMgaW4gZGVncmVlcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSB6IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWiBheGlzIGluIGRlZ3JlZXMuXG4gKiBAcGFyYW0geyd4eXonfCd4enknfCd5eHonfCd5engnfCd6eHknfCd6eXgnfSBvcmRlciBJbnRyaW5zaWMgb3JkZXIgZm9yIGNvbnZlcnNpb24sIGRlZmF1bHQgaXMgenl4LlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXVsZXIob3V0LCB4LCB5LCB6KSB7XG4gIHZhciBvcmRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogZ2xNYXRyaXguQU5HTEVfT1JERVI7XG4gIHZhciBoYWxmVG9SYWQgPSBNYXRoLlBJIC8gMzYwO1xuICB4ICo9IGhhbGZUb1JhZDtcbiAgeiAqPSBoYWxmVG9SYWQ7XG4gIHkgKj0gaGFsZlRvUmFkO1xuICB2YXIgc3ggPSBNYXRoLnNpbih4KTtcbiAgdmFyIGN4ID0gTWF0aC5jb3MoeCk7XG4gIHZhciBzeSA9IE1hdGguc2luKHkpO1xuICB2YXIgY3kgPSBNYXRoLmNvcyh5KTtcbiAgdmFyIHN6ID0gTWF0aC5zaW4oeik7XG4gIHZhciBjeiA9IE1hdGguY29zKHopO1xuICBzd2l0Y2ggKG9yZGVyKSB7XG4gICAgY2FzZSBcInh5elwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6ICsgY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6IC0gc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6ICsgc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6IC0gc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInh6eVwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6IC0gY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6IC0gc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6ICsgc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6ICsgc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInl4elwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6ICsgY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6IC0gc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6ICsgc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInl6eFwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6ICsgY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6IC0gc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInp4eVwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6IC0gY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6ICsgc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6IC0gc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInp5eFwiOlxuICAgICAgb3V0WzBdID0gc3ggKiBjeSAqIGN6IC0gY3ggKiBzeSAqIHN6O1xuICAgICAgb3V0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xuICAgICAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICAgICAgb3V0WzNdID0gY3ggKiBjeSAqIGN6ICsgc3ggKiBzeSAqIHN6O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBhbmdsZSBvcmRlciAnICsgb3JkZXIpO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwicXVhdChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdGVybmlvbiB0byBjbG9uZVxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGNsb25lID0gdmVjNC5jbG9uZTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBmcm9tVmFsdWVzID0gdmVjNC5mcm9tVmFsdWVzO1xuXG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBxdWF0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBzb3VyY2UgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgY29weSA9IHZlYzQuY29weTtcblxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBxdWF0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzZXQgPSB2ZWM0LnNldDtcblxuLyoqXG4gKiBBZGRzIHR3byBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGFkZCA9IHZlYzQuYWRkO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuXG4vKipcbiAqIFNjYWxlcyBhIHF1YXQgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzY2FsZSA9IHZlYzQuc2NhbGU7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGRvdCA9IHZlYzQuZG90O1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBsZXJwID0gdmVjNC5sZXJwO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuZXhwb3J0IHZhciBsZW5ndGggPSB2ZWM0Lmxlbmd0aDtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHNxdWFyZWRMZW5ndGggPSB2ZWM0LnNxdWFyZWRMZW5ndGg7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBub3JtYWxpemUgPSB2ZWM0Lm5vcm1hbGl6ZTtcblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHF1YXRlcm5pb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiBUaGUgc2Vjb25kIHF1YXRlcm5pb24uXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IHZhciBleGFjdEVxdWFscyA9IHZlYzQuZXhhY3RFcXVhbHM7XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcXVhdGVybmlvbnMgcG9pbnQgYXBwcm94aW1hdGVseSB0byB0aGUgc2FtZSBkaXJlY3Rpb24uXG4gKlxuICogQm90aCBxdWF0ZXJuaW9ucyBhcmUgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aC5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBUaGUgZmlyc3QgdW5pdCBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgVGhlIHNlY29uZCB1bml0IHF1YXRlcm5pb24uXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcXVhdGVybmlvbnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnModmVjNC5kb3QoYSwgYikpID49IDEgLSBnbE1hdHJpeC5FUFNJTE9OO1xufVxuXG4vKipcbiAqIFNldHMgYSBxdWF0ZXJuaW9uIHRvIHJlcHJlc2VudCB0aGUgc2hvcnRlc3Qgcm90YXRpb24gZnJvbSBvbmVcbiAqIHZlY3RvciB0byBhbm90aGVyLlxuICpcbiAqIEJvdGggdmVjdG9ycyBhcmUgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgaW5pdGlhbCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBkZXN0aW5hdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IHZhciByb3RhdGlvblRvID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdG1wdmVjMyA9IHZlYzMuY3JlYXRlKCk7XG4gIHZhciB4VW5pdFZlYzMgPSB2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCk7XG4gIHZhciB5VW5pdFZlYzMgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCBhLCBiKSB7XG4gICAgdmFyIGRvdCA9IHZlYzMuZG90KGEsIGIpO1xuICAgIGlmIChkb3QgPCAtMC45OTk5OTkpIHtcbiAgICAgIHZlYzMuY3Jvc3ModG1wdmVjMywgeFVuaXRWZWMzLCBhKTtcbiAgICAgIGlmICh2ZWMzLmxlbih0bXB2ZWMzKSA8IDAuMDAwMDAxKSB2ZWMzLmNyb3NzKHRtcHZlYzMsIHlVbml0VmVjMywgYSk7XG4gICAgICB2ZWMzLm5vcm1hbGl6ZSh0bXB2ZWMzLCB0bXB2ZWMzKTtcbiAgICAgIHNldEF4aXNBbmdsZShvdXQsIHRtcHZlYzMsIE1hdGguUEkpO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2UgaWYgKGRvdCA+IDAuOTk5OTk5KSB7XG4gICAgICBvdXRbMF0gPSAwO1xuICAgICAgb3V0WzFdID0gMDtcbiAgICAgIG91dFsyXSA9IDA7XG4gICAgICBvdXRbM10gPSAxO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmVjMy5jcm9zcyh0bXB2ZWMzLCBhLCBiKTtcbiAgICAgIG91dFswXSA9IHRtcHZlYzNbMF07XG4gICAgICBvdXRbMV0gPSB0bXB2ZWMzWzFdO1xuICAgICAgb3V0WzJdID0gdG1wdmVjM1syXTtcbiAgICAgIG91dFszXSA9IDEgKyBkb3Q7XG4gICAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgb3V0KTtcbiAgICB9XG4gIH07XG59KCk7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IHZhciBzcWxlcnAgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZW1wMSA9IGNyZWF0ZSgpO1xuICB2YXIgdGVtcDIgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgICBzbGVycCh0ZW1wMSwgYSwgZCwgdCk7XG4gICAgc2xlcnAodGVtcDIsIGIsIGMsIHQpO1xuICAgIHNsZXJwKG91dCwgdGVtcDEsIHRlbXAyLCAyICogdCAqICgxIC0gdCkpO1xuICAgIHJldHVybiBvdXQ7XG4gIH07XG59KCk7XG5cbi8qKlxuICogU2V0cyB0aGUgc3BlY2lmaWVkIHF1YXRlcm5pb24gd2l0aCB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW5cbiAqIGF4ZXMuIEVhY2ggYXhpcyBpcyBhIHZlYzMgYW5kIGlzIGV4cGVjdGVkIHRvIGJlIHVuaXQgbGVuZ3RoIGFuZFxuICogcGVycGVuZGljdWxhciB0byBhbGwgb3RoZXIgc3BlY2lmaWVkIGF4ZXMuXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHZpZXcgIHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSB2aWV3aW5nIGRpcmVjdGlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHJpZ2h0IHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBsb2NhbCBcInJpZ2h0XCIgZGlyZWN0aW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgICAgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGxvY2FsIFwidXBcIiBkaXJlY3Rpb25cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IHZhciBzZXRBeGVzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbWF0ciA9IG1hdDMuY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCB2aWV3LCByaWdodCwgdXApIHtcbiAgICBtYXRyWzBdID0gcmlnaHRbMF07XG4gICAgbWF0clszXSA9IHJpZ2h0WzFdO1xuICAgIG1hdHJbNl0gPSByaWdodFsyXTtcbiAgICBtYXRyWzFdID0gdXBbMF07XG4gICAgbWF0cls0XSA9IHVwWzFdO1xuICAgIG1hdHJbN10gPSB1cFsyXTtcbiAgICBtYXRyWzJdID0gLXZpZXdbMF07XG4gICAgbWF0cls1XSA9IC12aWV3WzFdO1xuICAgIG1hdHJbOF0gPSAtdmlld1syXTtcbiAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgZnJvbU1hdDMob3V0LCBtYXRyKSk7XG4gIH07XG59KCk7IiwiLy8gUHVycG9zZTogaW5jbHVkZSB0aGlzIGluIHlvdXIgbW9kdWxlIHRvIGF2b2lkXG4vLyBkZXBlbmRlbmNpZXMgb24gbWljcm8gbW9kdWxlcyBsaWtlICdnbG9iYWwnIGFuZCAnaXMtYnJvd3Nlcic7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbmNvbnN0IGdsb2JhbHMgPSB7XG4gICAgc2VsZjogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYsXG4gICAgd2luZG93OiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3csXG4gICAgZ2xvYmFsOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwsXG4gICAgZG9jdW1lbnQ6IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnRcbn07XG5jb25zdCBzZWxmXyA9IGdsb2JhbHMuc2VsZiB8fCBnbG9iYWxzLndpbmRvdyB8fCBnbG9iYWxzLmdsb2JhbCB8fCB7fTtcbmNvbnN0IHdpbmRvd18gPSBnbG9iYWxzLndpbmRvdyB8fCBnbG9iYWxzLnNlbGYgfHwgZ2xvYmFscy5nbG9iYWwgfHwge307XG5jb25zdCBnbG9iYWxfID0gZ2xvYmFscy5nbG9iYWwgfHwgZ2xvYmFscy5zZWxmIHx8IGdsb2JhbHMud2luZG93IHx8IHt9O1xuY29uc3QgZG9jdW1lbnRfID0gZ2xvYmFscy5kb2N1bWVudCB8fCB7fTtcbmV4cG9ydCB7IHNlbGZfIGFzIHNlbGYsIHdpbmRvd18gYXMgd2luZG93LCBnbG9iYWxfIGFzIGdsb2JhbCwgZG9jdW1lbnRfIGFzIGRvY3VtZW50IH07XG4vKiogdHJ1ZSBpZiBydW5uaW5nIGluIGEgYnJvd3NlciAqL1xuZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9IFxuLy8gQHRzLWlnbm9yZSBwcm9jZXNzIGRvZXMgbm90IGV4aXN0IG9uIGJyb3dzZXJcbkJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09ICdvYmplY3QnIHx8IFN0cmluZyhwcm9jZXNzKSAhPT0gJ1tvYmplY3QgcHJvY2Vzc10nIHx8IHByb2Nlc3MuYnJvd3Nlcik7XG4vKiogdHJ1ZSBpZiBydW5uaW5nIGluIGEgd29ya2VyIHRocmVhZCAqL1xuZXhwb3J0IGNvbnN0IGlzV29ya2VyID0gdHlwZW9mIGltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbic7XG4vLyBFeHRyYWN0IG5vZGUgbWFqb3IgdmVyc2lvblxuY29uc3QgbWF0Y2hlcyA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb24gJiYgL3YoWzAtOV0qKS8uZXhlYyhwcm9jZXNzLnZlcnNpb24pO1xuLyoqIE1ham9yIE5vZGUgdmVyc2lvbiAoYXMgYSBudW1iZXIpICovXG5leHBvcnQgY29uc3Qgbm9kZVZlcnNpb24gPSAobWF0Y2hlcyAmJiBwYXJzZUZsb2F0KG1hdGNoZXNbMV0pKSB8fCAwO1xuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG4vKiBnbG9iYWwgaW1wb3J0U2NyaXB0cyAqL1xuaW1wb3J0IHsgaXNCcm93c2VyLCBpc1dvcmtlciB9IGZyb20gXCIuLi9lbnYtdXRpbHMvZ2xvYmFscy5qc1wiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL2Vudi11dGlscy9hc3NlcnQuanNcIjtcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi4vZW52LXV0aWxzL3ZlcnNpb24uanNcIjtcbmNvbnN0IGxvYWRMaWJyYXJ5UHJvbWlzZXMgPSB7fTsgLy8gcHJvbWlzZXNcbi8qKlxuICogRHluYW1pY2FsbHkgbG9hZHMgYSBsaWJyYXJ5IChcIm1vZHVsZVwiKVxuICpcbiAqIC0gd2FzbSBsaWJyYXJ5OiBBcnJheSBidWZmZXIgaXMgcmV0dXJuZWRcbiAqIC0ganMgbGlicmFyeTogUGFyc2UgSlMgaXMgcmV0dXJuZWRcbiAqXG4gKiBNZXRob2QgZGVwZW5kcyBvbiBlbnZpcm9ubWVudFxuICogLSBicm93c2VyIC0gc2NyaXB0IGVsZW1lbnQgaXMgY3JlYXRlZCBhbmQgaW5zdGFsbGVkIG9uIGRvY3VtZW50XG4gKiAtIHdvcmtlciAtIGV2YWwgaXMgY2FsbGVkIG9uIGdsb2JhbCBjb250ZXh0XG4gKiAtIG5vZGUgLSBmaWxlIGlzIHJlcXVpcmVkXG4gKlxuICogQHBhcmFtIGxpYnJhcnlVcmxcbiAqIEBwYXJhbSBtb2R1bGVOYW1lXG4gKiBAcGFyYW0gb3B0aW9uc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZExpYnJhcnkobGlicmFyeVVybCwgbW9kdWxlTmFtZSA9IG51bGwsIG9wdGlvbnMgPSB7fSwgbGlicmFyeU5hbWUgPSBudWxsKSB7XG4gICAgaWYgKG1vZHVsZU5hbWUpIHtcbiAgICAgICAgbGlicmFyeVVybCA9IGdldExpYnJhcnlVcmwobGlicmFyeVVybCwgbW9kdWxlTmFtZSwgb3B0aW9ucywgbGlicmFyeU5hbWUpO1xuICAgIH1cbiAgICAvLyBFbnN1cmUgbGlicmFyaWVzIGFyZSBvbmx5IGxvYWRlZCBvbmNlXG4gICAgbG9hZExpYnJhcnlQcm9taXNlc1tsaWJyYXJ5VXJsXSA9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbWlzdXNlZC1wcm9taXNlc1xuICAgICAgICBsb2FkTGlicmFyeVByb21pc2VzW2xpYnJhcnlVcmxdIHx8IGxvYWRMaWJyYXJ5RnJvbUZpbGUobGlicmFyeVVybCk7XG4gICAgcmV0dXJuIGF3YWl0IGxvYWRMaWJyYXJ5UHJvbWlzZXNbbGlicmFyeVVybF07XG59XG4vLyBUT0RPIC0gc29ydCBvdXQgaG93IHRvIHJlc29sdmUgcGF0aHMgZm9yIG1haW4vd29ya2VyIGFuZCBkZXYvcHJvZFxuZXhwb3J0IGZ1bmN0aW9uIGdldExpYnJhcnlVcmwobGlicmFyeSwgbW9kdWxlTmFtZSwgb3B0aW9ucyA9IHt9LCBsaWJyYXJ5TmFtZSA9IG51bGwpIHtcbiAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGEgVVJMXG4gICAgaWYgKCFvcHRpb25zLnVzZUxvY2FsTGlicmFyaWVzICYmIGxpYnJhcnkuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgIHJldHVybiBsaWJyYXJ5O1xuICAgIH1cbiAgICBsaWJyYXJ5TmFtZSA9IGxpYnJhcnlOYW1lIHx8IGxpYnJhcnk7XG4gICAgLy8gQWxsb3cgYXBwbGljYXRpb24gdG8gaW1wb3J0IGFuZCBzdXBwbHkgbGlicmFyaWVzIHRocm91Z2ggYG9wdGlvbnMubW9kdWxlc2BcbiAgICAvLyBUT0RPIC0gU2VlIGpzLW1vZHVsZS11dGlscyBpbiBsb2FkZXItdXRpbHNcbiAgICBjb25zdCBtb2R1bGVzID0gb3B0aW9ucy5tb2R1bGVzIHx8IHt9O1xuICAgIGlmIChtb2R1bGVzW2xpYnJhcnlOYW1lXSkge1xuICAgICAgICByZXR1cm4gbW9kdWxlc1tsaWJyYXJ5TmFtZV07XG4gICAgfVxuICAgIC8vIExvYWQgZnJvbSBsb2NhbCBmaWxlcywgbm90IGZyb20gQ0ROIHNjcmlwdHMgaW4gTm9kZS5qc1xuICAgIC8vIFRPRE8gLSBuZWVkcyB0byBsb2NhdGUgdGhlIG1vZHVsZXMgZGlyZWN0b3J5IHdoZW4gaW5zdGFsbGVkIVxuICAgIGlmICghaXNCcm93c2VyKSB7XG4gICAgICAgIHJldHVybiBgbW9kdWxlcy8ke21vZHVsZU5hbWV9L2Rpc3QvbGlicy8ke2xpYnJhcnlOYW1lfWA7XG4gICAgfVxuICAgIC8vIEluIGJyb3dzZXIsIGxvYWQgZnJvbSBleHRlcm5hbCBzY3JpcHRzXG4gICAgaWYgKG9wdGlvbnMuQ0ROKSB7XG4gICAgICAgIGFzc2VydChvcHRpb25zLkNETi5zdGFydHNXaXRoKCdodHRwJykpO1xuICAgICAgICByZXR1cm4gYCR7b3B0aW9ucy5DRE59LyR7bW9kdWxlTmFtZX1AJHtWRVJTSU9OfS9kaXN0L2xpYnMvJHtsaWJyYXJ5TmFtZX1gO1xuICAgIH1cbiAgICAvLyBUT0RPIC0gbG9hZGluZyBpbnNpZGUgd29ya2VycyByZXF1aXJlcyBwYXRocyByZWxhdGl2ZSB0byB3b3JrZXIgc2NyaXB0IGxvY2F0aW9uLi4uXG4gICAgaWYgKGlzV29ya2VyKSB7XG4gICAgICAgIHJldHVybiBgLi4vc3JjL2xpYnMvJHtsaWJyYXJ5TmFtZX1gO1xuICAgIH1cbiAgICByZXR1cm4gYG1vZHVsZXMvJHttb2R1bGVOYW1lfS9zcmMvbGlicy8ke2xpYnJhcnlOYW1lfWA7XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkTGlicmFyeUZyb21GaWxlKGxpYnJhcnlVcmwpIHtcbiAgICBpZiAobGlicmFyeVVybC5lbmRzV2l0aCgnd2FzbScpKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBsb2FkQXNBcnJheUJ1ZmZlcihsaWJyYXJ5VXJsKTtcbiAgICB9XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICAgICAgLy8gVE9ETyAtIE5vZGUgZG9lc24ndCB5ZXQgc3VwcG9ydCBkeW5hbWljIGltcG9ydCBmcm9tIGh0dHBzIFVSTHNcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgLy8gICByZXR1cm4gYXdhaXQgaW1wb3J0KGxpYnJhcnlVcmwpO1xuICAgICAgICAvLyB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAvLyB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IHJlcXVpcmVGcm9tRmlsZSB9ID0gZ2xvYmFsVGhpcy5sb2FkZXJzIHx8IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlcXVpcmVGcm9tRmlsZT8uKGxpYnJhcnlVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzV29ya2VyKSB7XG4gICAgICAgIHJldHVybiBpbXBvcnRTY3JpcHRzKGxpYnJhcnlVcmwpO1xuICAgIH1cbiAgICAvLyBUT0RPIC0gZml4IC0gc2hvdWxkIGJlIG1vcmUgc2VjdXJlIHRoYW4gc3RyaW5nIHBhcnNpbmcgc2luY2Ugb2JzZXJ2ZXMgQ09SU1xuICAgIC8vIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAvLyAgIHJldHVybiBhd2FpdCBsb2FkU2NyaXB0RnJvbUZpbGUobGlicmFyeVVybCk7XG4gICAgLy8gfVxuICAgIGNvbnN0IHNjcmlwdFNvdXJjZSA9IGF3YWl0IGxvYWRBc1RleHQobGlicmFyeVVybCk7XG4gICAgcmV0dXJuIGxvYWRMaWJyYXJ5RnJvbVN0cmluZyhzY3JpcHRTb3VyY2UsIGxpYnJhcnlVcmwpO1xufVxuLypcbmFzeW5jIGZ1bmN0aW9uIGxvYWRTY3JpcHRGcm9tRmlsZShsaWJyYXJ5VXJsKSB7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc3JjID0gbGlicmFyeVVybDtcbiAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBzY3JpcHQub25sb2FkID0gZGF0YSA9PiB7XG4gICAgICByZXNvbHZlKGRhdGEpO1xuICAgIH07XG4gICAgc2NyaXB0Lm9uZXJyb3IgPSByZWplY3Q7XG4gIH0pO1xufVxuKi9cbi8vIFRPRE8gLSBOZWVkcyBzZWN1cml0eSBhdWRpdC4uLlxuLy8gIC0gUmF3IGV2YWwgY2FsbFxuLy8gIC0gUG90ZW50aWFsbHkgYnlwYXNzZXMgQ09SU1xuLy8gVXBzaWRlIGlzIHRoYXQgdGhpcyBzZXBhcmF0ZXMgZmV0Y2hpbmcgYW5kIHBhcnNpbmdcbi8vIHdlIGNvdWxkIGNyZWF0ZSBhYExpYnJhcnlMb2FkZXJgIG9yYE1vZHVsZUxvYWRlcmBcbmZ1bmN0aW9uIGxvYWRMaWJyYXJ5RnJvbVN0cmluZyhzY3JpcHRTb3VyY2UsIGlkKSB7XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICAgICAgY29uc3QgeyByZXF1aXJlRnJvbVN0cmluZyB9ID0gZ2xvYmFsVGhpcy5sb2FkZXJzIHx8IHt9O1xuICAgICAgICByZXR1cm4gcmVxdWlyZUZyb21TdHJpbmc/LihzY3JpcHRTb3VyY2UsIGlkKTtcbiAgICB9XG4gICAgaWYgKGlzV29ya2VyKSB7XG4gICAgICAgIC8vIFVzZSBsdmFsdWUgdHJpY2sgdG8gbWFrZSBldmFsIHJ1biBpbiBnbG9iYWwgc2NvcGVcbiAgICAgICAgZXZhbC5jYWxsKGdsb2JhbFRoaXMsIHNjcmlwdFNvdXJjZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXZhbFxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85MTA3MjQwLzEtZXZhbHRoaXMtdnMtZXZhbHRoaXMtaW4tamF2YXNjcmlwdFxuICAgICAgICAvLyBodHRwOi8vcGVyZmVjdGlvbmtpbGxzLmNvbS9nbG9iYWwtZXZhbC13aGF0LWFyZS10aGUtb3B0aW9ucy9cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdC5pZCA9IGlkO1xuICAgIC8vIG1vc3QgYnJvd3NlcnMgbGlrZSBhIHNlcGFyYXRlIHRleHQgbm9kZSBidXQgc29tZSB0aHJvdyBhbiBlcnJvci4gVGhlIHNlY29uZCBtZXRob2QgY292ZXJzIHRob3NlLlxuICAgIHRyeSB7XG4gICAgICAgIHNjcmlwdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzY3JpcHRTb3VyY2UpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgc2NyaXB0LnRleHQgPSBzY3JpcHRTb3VyY2U7XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIFRPRE8gLSB0ZWNobmlxdWUgZm9yIG1vZHVsZSBpbmplY3Rpb24gaW50byB3b3JrZXIsIGZyb20gVEhSRUUuRHJhY29Mb2FkZXIuLi5cbi8qXG5mdW5jdGlvbiBjb21iaW5lV29ya2VyV2l0aExpYnJhcnkod29ya2VyLCBqc0NvbnRlbnQpIHtcbiAgdmFyIGZuID0gd1dvcmtlci50b1N0cmluZygpO1xuICB2YXIgYm9keSA9IFtcbiAgICAnLy8gaW5qZWN0ZWQnLFxuICAgIGpzQ29udGVudCxcbiAgICAnJyxcbiAgICAnLy8gd29ya2VyJyxcbiAgICBmbi5zdWJzdHJpbmcoZm4uaW5kZXhPZigneycpICsgMSwgZm4ubGFzdEluZGV4T2YoJ30nKSlcbiAgXS5qb2luKCdcXG4nKTtcbiAgdGhpcy53b3JrZXJTb3VyY2VVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtib2R5XSkpO1xufVxuKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRBc0FycmF5QnVmZmVyKHVybCkge1xuICAgIGNvbnN0IHsgcmVhZEZpbGVBc0FycmF5QnVmZmVyIH0gPSBnbG9iYWxUaGlzLmxvYWRlcnMgfHwge307XG4gICAgaWYgKGlzQnJvd3NlciB8fCAhcmVhZEZpbGVBc0FycmF5QnVmZmVyIHx8IHVybC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHJlYWRGaWxlQXNBcnJheUJ1ZmZlcih1cmwpO1xufVxuLyoqXG4gKiBMb2FkIGEgZmlsZSBmcm9tIGxvY2FsIGZpbGUgc3lzdGVtXG4gKiBAcGFyYW0gZmlsZW5hbWVcbiAqIEByZXR1cm5zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRBc1RleHQodXJsKSB7XG4gICAgY29uc3QgeyByZWFkRmlsZUFzVGV4dCB9ID0gZ2xvYmFsVGhpcy5sb2FkZXJzIHx8IHt9O1xuICAgIGlmIChpc0Jyb3dzZXIgfHwgIXJlYWRGaWxlQXNUZXh0IHx8IHVybC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgcmVhZEZpbGVBc1RleHQodXJsKTtcbn1cbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCwgSXRlcmF0b3IgKi9cblxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICB9XG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICB9XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XG4gIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcbiAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XG4gICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgfVxuICB9XG4gIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgZG9uZSA9IHRydWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgfVxuICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xuICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgcmV0dXJuIGcubmV4dCA9IHZlcmIoMCksIGdbXCJ0aHJvd1wiXSA9IHZlcmIoMSksIGdbXCJyZXR1cm5cIl0gPSB2ZXJiKDIpLCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gQXN5bmNJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG52YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcbiAgb3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgdmFyIGFyID0gW107XG4gICAgZm9yICh2YXIgayBpbiBvKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIGspKSBhclthci5sZW5ndGhdID0gaztcbiAgICByZXR1cm4gYXI7XG4gIH07XG4gIHJldHVybiBvd25LZXlzKG8pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgPSBvd25LZXlzKG1vZCksIGkgPSAwOyBpIDwgay5sZW5ndGg7IGkrKykgaWYgKGtbaV0gIT09IFwiZGVmYXVsdFwiKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGtbaV0pO1xuICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xuICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XG4gIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52LCB2YWx1ZSwgYXN5bmMpIHtcbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcbiAgICB2YXIgZGlzcG9zZSwgaW5uZXI7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xuICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgICBpZiAoYXN5bmMpIGlubmVyID0gZGlzcG9zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGlmIChpbm5lcikgZGlzcG9zZSA9IGZ1bmN0aW9uKCkgeyB0cnkgeyBpbm5lci5jYWxsKHRoaXMpOyB9IGNhdGNoIChlKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChlKTsgfSB9O1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICB2YXIgciwgcyA9IDA7XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgd2hpbGUgKHIgPSBlbnYuc3RhY2sucG9wKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghci5hc3luYyAmJiBzID09PSAxKSByZXR1cm4gcyA9IDAsIGVudi5zdGFjay5wdXNoKHIpLCBQcm9taXNlLnJlc29sdmUoKS50aGVuKG5leHQpO1xuICAgICAgICBpZiAoci5kaXNwb3NlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHIuZGlzcG9zZS5jYWxsKHIudmFsdWUpO1xuICAgICAgICAgIGlmIChyLmFzeW5jKSByZXR1cm4gcyB8PSAyLCBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBzIHw9IDE7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBmYWlsKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocyA9PT0gMSkgcmV0dXJuIGVudi5oYXNFcnJvciA/IFByb21pc2UucmVqZWN0KGVudi5lcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uKHBhdGgsIHByZXNlcnZlSnN4KSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcLlxcLj9cXC8vLnRlc3QocGF0aCkpIHtcbiAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLih0c3gpJHwoKD86XFwuZCk/KSgoPzpcXC5bXi4vXSs/KT8pXFwuKFtjbV0/KXRzJC9pLCBmdW5jdGlvbiAobSwgdHN4LCBkLCBleHQsIGNtKSB7XG4gICAgICAgICAgcmV0dXJuIHRzeCA/IHByZXNlcnZlSnN4ID8gXCIuanN4XCIgOiBcIi5qc1wiIDogZCAmJiAoIWV4dCB8fCAhY20pID8gbSA6IChkICsgZXh0ICsgXCIuXCIgKyBjbS50b0xvd2VyQ2FzZSgpICsgXCJqc1wiKTtcbiAgICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19lc0RlY29yYXRlLFxuICBfX3J1bkluaXRpYWxpemVycyxcbiAgX19wcm9wS2V5LFxuICBfX3NldEZ1bmN0aW9uTmFtZSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG4gIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uLFxufTtcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLy8gVmVyc2lvbiBjb25zdGFudCBjYW5ub3QgYmUgaW1wb3J0ZWQsIGl0IG5lZWRzIHRvIGNvcnJlc3BvbmQgdG8gdGhlIGJ1aWxkIHZlcnNpb24gb2YgKip0aGlzKiogbW9kdWxlLlxuLyoqXG4gKiBUT0RPIC0gdW5wa2cuY29tIGRvZXNuJ3Qgc2VlbSB0byBoYXZlIGEgYGxhdGVzdGAgc3BlY2lmaWVyIGZvciBhbHBoYSByZWxlYXNlcy4uLlxuICogJ2JldGEnIG9uIGJldGEgYnJhbmNoLCAnbGF0ZXN0JyBvbiBwcm9kIGJyYW5jaFxuICovXG5leHBvcnQgY29uc3QgTlBNX1RBRyA9ICdsYXRlc3QnO1xuZnVuY3Rpb24gZ2V0VmVyc2lvbigpIHtcbiAgICBpZiAoIWdsb2JhbFRoaXMuX2xvYWRlcnNnbF8/LnZlcnNpb24pIHtcbiAgICAgICAgZ2xvYmFsVGhpcy5fbG9hZGVyc2dsXyA9IGdsb2JhbFRoaXMuX2xvYWRlcnNnbF8gfHwge307XG4gICAgICAgIC8vIF9fVkVSU0lPTl9fIGlzIGluamVjdGVkIGJ5IGJhYmVsLXBsdWdpbi12ZXJzaW9uLWlubGluZVxuICAgICAgICBpZiAodHlwZW9mIFwiNC4zLjNcIiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdsb2FkZXJzLmdsOiBUaGUgX19WRVJTSU9OX18gdmFyaWFibGUgaXMgbm90IGluamVjdGVkIHVzaW5nIGJhYmVsIHBsdWdpbi4gTGF0ZXN0IHVuc3RhYmxlIHdvcmtlcnMgd291bGQgYmUgZmV0Y2hlZCBmcm9tIHRoZSBDRE4uJyk7XG4gICAgICAgICAgICBnbG9iYWxUaGlzLl9sb2FkZXJzZ2xfLnZlcnNpb24gPSBOUE1fVEFHO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5fbG9hZGVyc2dsXy52ZXJzaW9uID0gXCI0LjMuM1wiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxUaGlzLl9sb2FkZXJzZ2xfLnZlcnNpb247XG59XG5leHBvcnQgY29uc3QgVkVSU0lPTiA9IGdldFZlcnNpb24oKTtcbiIsIi8vIFZlcnNpb24gY29uc3RhbnQgY2Fubm90IGJlIGltcG9ydGVkLCBpdCBuZWVkcyB0byBjb3JyZXNwb25kIHRvIHRoZSBidWlsZCB2ZXJzaW9uIG9mICoqdGhpcyoqIG1vZHVsZS5cbi8vIF9fVkVSU0lPTl9fIGlzIGluamVjdGVkIGJ5IGJhYmVsLXBsdWdpbi12ZXJzaW9uLWlubGluZVxuLy8gQHRzLWlnbm9yZSBUUzIzMDQ6IENhbm5vdCBmaW5kIG5hbWUgJ19fVkVSU0lPTl9fJy5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gdHlwZW9mIFwiNC4zLjNcIiAhPT0gJ3VuZGVmaW5lZCcgPyBcIjQuMy4zXCIgOiAnbGF0ZXN0JztcbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuL2xpYi91dGlscy92ZXJzaW9uLmpzXCI7XG4vKipcbiAqIFdvcmtlciBsb2FkZXIgZm9yIERyYWNvM0QgY29tcHJlc3NlZCBnZW9tZXRyaWVzXG4gKi9cbmV4cG9ydCBjb25zdCBEcmFjb0xvYWRlciA9IHtcbiAgICBkYXRhVHlwZTogbnVsbCxcbiAgICBiYXRjaFR5cGU6IG51bGwsXG4gICAgbmFtZTogJ0RyYWNvJyxcbiAgICBpZDogJ2RyYWNvJyxcbiAgICBtb2R1bGU6ICdkcmFjbycsXG4gICAgLy8gc2hhcGVzOiBbJ21lc2gnXSxcbiAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgIHdvcmtlcjogdHJ1ZSxcbiAgICBleHRlbnNpb25zOiBbJ2RyYyddLFxuICAgIG1pbWVUeXBlczogWydhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nXSxcbiAgICBiaW5hcnk6IHRydWUsXG4gICAgdGVzdHM6IFsnRFJBQ08nXSxcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIGRyYWNvOiB7XG4gICAgICAgICAgICBkZWNvZGVyVHlwZTogdHlwZW9mIFdlYkFzc2VtYmx5ID09PSAnb2JqZWN0JyA/ICd3YXNtJyA6ICdqcycsIC8vICdqcycgZm9yIElFMTFcbiAgICAgICAgICAgIGxpYnJhcnlQYXRoOiAnbGlicy8nLFxuICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzOiB7fSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWVFbnRyeTogdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiLy8gbG9hZGVycy5nbFxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IChjKSB2aXMuZ2wgY29udHJpYnV0b3JzXG5pbXBvcnQgeyBnZXREYXRhVHlwZUZyb21UeXBlZEFycmF5IH0gZnJvbSBcIi4uL3RhYmxlL3NpbXBsZS10YWJsZS9kYXRhLXR5cGUuanNcIjtcbi8qKlxuICogQ3JlYXRlIGEgc2NoZW1hIGZvciBtZXNoIGF0dHJpYnV0ZXMgZGF0YVxuICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSBtZXRhZGF0YVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZHVjZU1lc2hTY2hlbWEoYXR0cmlidXRlcywgbWV0YWRhdGEgPSB7fSkge1xuICAgIGNvbnN0IGZpZWxkcyA9IGRlZHVjZU1lc2hGaWVsZHMoYXR0cmlidXRlcyk7XG4gICAgcmV0dXJuIHsgZmllbGRzLCBtZXRhZGF0YSB9O1xufVxuLyoqXG4gKiBDcmVhdGUgYXJyb3ctbGlrZSBzY2hlbWEgZmllbGQgZm9yIG1lc2ggYXR0cmlidXRlXG4gKiBAcGFyYW0gYXR0cmlidXRlTmFtZVxuICogQHBhcmFtIGF0dHJpYnV0ZVxuICogQHBhcmFtIG9wdGlvbmFsTWV0YWRhdGFcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWR1Y2VNZXNoRmllbGQobmFtZSwgYXR0cmlidXRlLCBvcHRpb25hbE1ldGFkYXRhKSB7XG4gICAgY29uc3QgdHlwZSA9IGdldERhdGFUeXBlRnJvbVR5cGVkQXJyYXkoYXR0cmlidXRlLnZhbHVlKTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IG9wdGlvbmFsTWV0YWRhdGEgPyBvcHRpb25hbE1ldGFkYXRhIDogbWFrZU1lc2hBdHRyaWJ1dGVNZXRhZGF0YShhdHRyaWJ1dGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHR5cGU6IHsgdHlwZTogJ2ZpeGVkLXNpemUtbGlzdCcsIGxpc3RTaXplOiBhdHRyaWJ1dGUuc2l6ZSwgY2hpbGRyZW46IFt7IG5hbWU6ICd2YWx1ZScsIHR5cGUgfV0gfSxcbiAgICAgICAgbnVsbGFibGU6IGZhbHNlLFxuICAgICAgICBtZXRhZGF0YVxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBmaWVsZHMgYXJyYXkgZm9yIG1lc2ggYXR0cmlidXRlc1xuICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGRlZHVjZU1lc2hGaWVsZHMoYXR0cmlidXRlcykge1xuICAgIGNvbnN0IGZpZWxkcyA9IFtdO1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgICAgIGZpZWxkcy5wdXNoKGRlZHVjZU1lc2hGaWVsZChhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpZWxkcztcbn1cbi8qKlxuICogTWFrZSBtZXRhZGF0YSBieSBtZXNoIGF0dHJpYnV0ZSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gYXR0cmlidXRlXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZU1lc2hBdHRyaWJ1dGVNZXRhZGF0YShhdHRyaWJ1dGUpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBpZiAoJ2J5dGVPZmZzZXQnIGluIGF0dHJpYnV0ZSkge1xuICAgICAgICByZXN1bHQuYnl0ZU9mZnNldCA9IGF0dHJpYnV0ZS5ieXRlT2Zmc2V0LnRvU3RyaW5nKDEwKTtcbiAgICB9XG4gICAgaWYgKCdieXRlU3RyaWRlJyBpbiBhdHRyaWJ1dGUpIHtcbiAgICAgICAgcmVzdWx0LmJ5dGVTdHJpZGUgPSBhdHRyaWJ1dGUuYnl0ZVN0cmlkZS50b1N0cmluZygxMCk7XG4gICAgfVxuICAgIGlmICgnbm9ybWFsaXplZCcgaW4gYXR0cmlidXRlKSB7XG4gICAgICAgIHJlc3VsdC5ub3JtYWxpemVkID0gYXR0cmlidXRlLm5vcm1hbGl6ZWQudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsIi8vIGxvYWRlcnMuZ2xcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCAoYykgdmlzLmdsIGNvbnRyaWJ1dG9yc1xuLyoqIERlZHVjZSBjb2x1bW4gdHlwZXMgZnJvbSB2YWx1ZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhVHlwZUZyb21WYWx1ZSh2YWx1ZSwgZGVmYXVsdE51bWJlclR5cGUgPSAnZmxvYXQzMicpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZS1taWxsaXNlY29uZCc7XG4gICAgfVxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE51bWJlcikge1xuICAgICAgICByZXR1cm4gZGVmYXVsdE51bWJlclR5cGU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiAndXRmOCc7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgcmV0dXJuICdudWxsJztcbn1cbi8qKlxuICogRGVkdWNlcyBhIHNpbXBsZSBkYXRhIHR5cGUgXCJkZXNjcmlwdG9yIGZyb20gYSB0eXBlZCBhcnJheSBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YVR5cGVGcm9tQXJyYXkoYXJyYXkpIHtcbiAgICBsZXQgdHlwZSA9IGdldERhdGFUeXBlRnJvbVR5cGVkQXJyYXkoYXJyYXkpO1xuICAgIGlmICh0eXBlICE9PSAnbnVsbCcpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZSwgbnVsbGFibGU6IGZhbHNlIH07XG4gICAgfVxuICAgIGlmIChhcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHR5cGUgPSBnZXREYXRhVHlwZUZyb21WYWx1ZShhcnJheVswXSk7XG4gICAgICAgIHJldHVybiB7IHR5cGUsIG51bGxhYmxlOiB0cnVlIH07XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6ICdudWxsJywgbnVsbGFibGU6IHRydWUgfTtcbn1cbi8qKlxuICogRGVkdWNlcyBhIHNpbXBsZSBkYXRhIHR5cGUgXCJkZXNjcmlwdG9yIGZyb20gYSB0eXBlZCBhcnJheSBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YVR5cGVGcm9tVHlwZWRBcnJheShhcnJheSkge1xuICAgIHN3aXRjaCAoYXJyYXkuY29uc3RydWN0b3IpIHtcbiAgICAgICAgY2FzZSBJbnQ4QXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gJ2ludDgnO1xuICAgICAgICBjYXNlIFVpbnQ4QXJyYXk6XG4gICAgICAgIGNhc2UgVWludDhDbGFtcGVkQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gJ3VpbnQ4JztcbiAgICAgICAgY2FzZSBJbnQxNkFycmF5OlxuICAgICAgICAgICAgcmV0dXJuICdpbnQxNic7XG4gICAgICAgIGNhc2UgVWludDE2QXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gJ3VpbnQxNic7XG4gICAgICAgIGNhc2UgSW50MzJBcnJheTpcbiAgICAgICAgICAgIHJldHVybiAnaW50MzInO1xuICAgICAgICBjYXNlIFVpbnQzMkFycmF5OlxuICAgICAgICAgICAgcmV0dXJuICd1aW50MzInO1xuICAgICAgICBjYXNlIEZsb2F0MzJBcnJheTpcbiAgICAgICAgICAgIHJldHVybiAnZmxvYXQzMic7XG4gICAgICAgIGNhc2UgRmxvYXQ2NEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuICdmbG9hdDY0JztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFycmF5VHlwZUZyb21EYXRhVHlwZSh0eXBlLCBudWxsYWJsZSkge1xuICAgIGlmICghbnVsbGFibGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdpbnQ4JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gSW50OEFycmF5O1xuICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgIHJldHVybiBVaW50OEFycmF5O1xuICAgICAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICAgICAgICAgIHJldHVybiBJbnQxNkFycmF5O1xuICAgICAgICAgICAgY2FzZSAndWludDE2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVWludDE2QXJyYXk7XG4gICAgICAgICAgICBjYXNlICdpbnQzMic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEludDMyQXJyYXk7XG4gICAgICAgICAgICBjYXNlICd1aW50MzInOlxuICAgICAgICAgICAgICAgIHJldHVybiBVaW50MzJBcnJheTtcbiAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MzInOlxuICAgICAgICAgICAgICAgIHJldHVybiBGbG9hdDMyQXJyYXk7XG4gICAgICAgICAgICBjYXNlICdmbG9hdDY0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRmxvYXQ2NEFycmF5O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiAodHlwZW9mIEJpZ0ludDY0QXJyYXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gICBUWVBFRF9BUlJBWV9UT19UWVBFLkJpZ0ludDY0QXJyYXkgPSBuZXcgSW50NjQoKTtcbiAgICAvLyAgIFRZUEVEX0FSUkFZX1RPX1RZUEUuQmlnVWludDY0QXJyYXkgPSBuZXcgVWludDY0KCk7XG4gICAgLy8gfVxuICAgIHJldHVybiBBcnJheTtcbn1cbiIsImltcG9ydCB7IGRlZHVjZU1lc2hGaWVsZCB9IGZyb20gJ0Bsb2FkZXJzLmdsL3NjaGVtYSc7XG4vKiogRXh0cmFjdCBhbiBhcnJvdy1saWtlIHNjaGVtYSBmcm9tIGEgRHJhY28gbWVzaCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERyYWNvU2NoZW1hKGF0dHJpYnV0ZXMsIGxvYWRlckRhdGEsIGluZGljZXMpIHtcbiAgICBjb25zdCBtZXRhZGF0YSA9IG1ha2VNZXRhZGF0YShsb2FkZXJEYXRhLm1ldGFkYXRhKTtcbiAgICBjb25zdCBmaWVsZHMgPSBbXTtcbiAgICBjb25zdCBuYW1lZExvYWRlckRhdGFBdHRyaWJ1dGVzID0gdHJhbnNmb3JtQXR0cmlidXRlc0xvYWRlckRhdGEobG9hZGVyRGF0YS5hdHRyaWJ1dGVzKTtcbiAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgICBjb25zdCBmaWVsZCA9IGdldEFycm93RmllbGRGcm9tQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZSwgbmFtZWRMb2FkZXJEYXRhQXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSk7XG4gICAgICAgIGZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICB9XG4gICAgaWYgKGluZGljZXMpIHtcbiAgICAgICAgY29uc3QgaW5kaWNlc0ZpZWxkID0gZ2V0QXJyb3dGaWVsZEZyb21BdHRyaWJ1dGUoJ2luZGljZXMnLCBpbmRpY2VzKTtcbiAgICAgICAgZmllbGRzLnB1c2goaW5kaWNlc0ZpZWxkKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZmllbGRzLCBtZXRhZGF0YSB9O1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtQXR0cmlidXRlc0xvYWRlckRhdGEobG9hZGVyRGF0YSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGxvYWRlckRhdGEpIHtcbiAgICAgICAgY29uc3QgZHJhY29BdHRyaWJ1dGUgPSBsb2FkZXJEYXRhW2tleV07XG4gICAgICAgIHJlc3VsdFtkcmFjb0F0dHJpYnV0ZS5uYW1lIHx8ICd1bmRlZmluZWQnXSA9IGRyYWNvQXR0cmlidXRlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0QXJyb3dGaWVsZEZyb21BdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlLCBsb2FkZXJEYXRhKSB7XG4gICAgY29uc3QgbWV0YWRhdGFNYXAgPSBsb2FkZXJEYXRhID8gbWFrZU1ldGFkYXRhKGxvYWRlckRhdGEubWV0YWRhdGEpIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGZpZWxkID0gZGVkdWNlTWVzaEZpZWxkKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZSwgbWV0YWRhdGFNYXApO1xuICAgIHJldHVybiBmaWVsZDtcbn1cbmZ1bmN0aW9uIG1ha2VNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgIE9iamVjdC5lbnRyaWVzKG1ldGFkYXRhKTtcbiAgICBjb25zdCBzZXJpYWxpemVkTWV0YWRhdGEgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRhZGF0YSkge1xuICAgICAgICBzZXJpYWxpemVkTWV0YWRhdGFbYCR7a2V5fS5zdHJpbmdgXSA9IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VyaWFsaXplZE1ldGFkYXRhO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG5pbXBvcnQgeyBnZXRNZXNoQm91bmRpbmdCb3ggfSBmcm9tICdAbG9hZGVycy5nbC9zY2hlbWEnO1xuaW1wb3J0IHsgZ2V0RHJhY29TY2hlbWEgfSBmcm9tIFwiLi91dGlscy9nZXQtZHJhY28tc2NoZW1hLmpzXCI7XG4vLyBAdHMtaWdub3JlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5jb25zdCBHRU9NRVRSWV9UWVBFID0ge1xuICAgIFRSSUFOR1VMQVJfTUVTSDogMCxcbiAgICBQT0lOVF9DTE9VRDogMVxufTtcbi8vIE5hdGl2ZSBEcmFjbyBhdHRyaWJ1dGUgbmFtZXMgdG8gR0xURiBhdHRyaWJ1dGUgbmFtZXMuXG5jb25zdCBEUkFDT19UT19HTFRGX0FUVFJJQlVURV9OQU1FX01BUCA9IHtcbiAgICBQT1NJVElPTjogJ1BPU0lUSU9OJyxcbiAgICBOT1JNQUw6ICdOT1JNQUwnLFxuICAgIENPTE9SOiAnQ09MT1JfMCcsXG4gICAgVEVYX0NPT1JEOiAnVEVYQ09PUkRfMCdcbn07XG5jb25zdCBEUkFDT19EQVRBX1RZUEVfVE9fVFlQRURfQVJSQVlfTUFQID0ge1xuICAgIDE6IEludDhBcnJheSxcbiAgICAyOiBVaW50OEFycmF5LFxuICAgIDM6IEludDE2QXJyYXksXG4gICAgNDogVWludDE2QXJyYXksXG4gICAgNTogSW50MzJBcnJheSxcbiAgICA2OiBVaW50MzJBcnJheSxcbiAgICAvLyA3OiBCaWdJbnQ2NEFycmF5LFxuICAgIC8vIDg6IEJpZ1VpbnQ2NEFycmF5LFxuICAgIDk6IEZsb2F0MzJBcnJheVxuICAgIC8vIDEwOiBGbG9hdDY0QXJyYXlcbiAgICAvLyAxMTogQk9PTCAtIFdoYXQgYXJyYXkgdHlwZSBkbyB3ZSB1c2UgZm9yIHRoaXM/XG59O1xuY29uc3QgSU5ERVhfSVRFTV9TSVpFID0gNDtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWNvUGFyc2VyIHtcbiAgICBkcmFjbztcbiAgICBkZWNvZGVyO1xuICAgIG1ldGFkYXRhUXVlcmllcjtcbiAgICAvLyBkcmFjbyAtIHRoZSBkcmFjbyBkZWNvZGVyLCBlaXRoZXIgaW1wb3J0IGBkcmFjbzNkYCBvciBsb2FkIGR5bmFtaWNhbGx5XG4gICAgY29uc3RydWN0b3IoZHJhY28pIHtcbiAgICAgICAgdGhpcy5kcmFjbyA9IGRyYWNvO1xuICAgICAgICB0aGlzLmRlY29kZXIgPSBuZXcgdGhpcy5kcmFjby5EZWNvZGVyKCk7XG4gICAgICAgIHRoaXMubWV0YWRhdGFRdWVyaWVyID0gbmV3IHRoaXMuZHJhY28uTWV0YWRhdGFRdWVyaWVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgZHJhY28gcmVzb3VyY2VzXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5kcmFjby5kZXN0cm95KHRoaXMuZGVjb2Rlcik7XG4gICAgICAgIHRoaXMuZHJhY28uZGVzdHJveSh0aGlzLm1ldGFkYXRhUXVlcmllcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5PVEU6IGNhbGxlciBtdXN0IGNhbGwgYGRlc3Ryb3lHZW9tZXRyeWAgb24gdGhlIHJldHVybiB2YWx1ZSBhZnRlciB1c2luZyBpdFxuICAgICAqIEBwYXJhbSBhcnJheUJ1ZmZlclxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgcGFyc2VTeW5jKGFycmF5QnVmZmVyLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IHRoaXMuZHJhY28uRGVjb2RlckJ1ZmZlcigpO1xuICAgICAgICBidWZmZXIuSW5pdChuZXcgSW50OEFycmF5KGFycmF5QnVmZmVyKSwgYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVBdHRyaWJ1dGVUcmFuc2Zvcm1zKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBnZW9tZXRyeV90eXBlID0gdGhpcy5kZWNvZGVyLkdldEVuY29kZWRHZW9tZXRyeVR5cGUoYnVmZmVyKTtcbiAgICAgICAgY29uc3QgZHJhY29HZW9tZXRyeSA9IGdlb21ldHJ5X3R5cGUgPT09IHRoaXMuZHJhY28uVFJJQU5HVUxBUl9NRVNIXG4gICAgICAgICAgICA/IG5ldyB0aGlzLmRyYWNvLk1lc2goKVxuICAgICAgICAgICAgOiBuZXcgdGhpcy5kcmFjby5Qb2ludENsb3VkKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZHJhY29TdGF0dXM7XG4gICAgICAgICAgICBzd2l0Y2ggKGdlb21ldHJ5X3R5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuZHJhY28uVFJJQU5HVUxBUl9NRVNIOlxuICAgICAgICAgICAgICAgICAgICBkcmFjb1N0YXR1cyA9IHRoaXMuZGVjb2Rlci5EZWNvZGVCdWZmZXJUb01lc2goYnVmZmVyLCBkcmFjb0dlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLmRyYWNvLlBPSU5UX0NMT1VEOlxuICAgICAgICAgICAgICAgICAgICBkcmFjb1N0YXR1cyA9IHRoaXMuZGVjb2Rlci5EZWNvZGVCdWZmZXJUb1BvaW50Q2xvdWQoYnVmZmVyLCBkcmFjb0dlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEUkFDTzogVW5rbm93biBnZW9tZXRyeSB0eXBlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkcmFjb1N0YXR1cy5vaygpIHx8ICFkcmFjb0dlb21ldHJ5LnB0cikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgRFJBQ08gZGVjb21wcmVzc2lvbiBmYWlsZWQ6ICR7ZHJhY29TdGF0dXMuZXJyb3JfbXNnKCl9YDtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvYWRlckRhdGEgPSB0aGlzLl9nZXREcmFjb0xvYWRlckRhdGEoZHJhY29HZW9tZXRyeSwgZ2VvbWV0cnlfdHlwZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuX2dldE1lc2hEYXRhKGRyYWNvR2VvbWV0cnksIGxvYWRlckRhdGEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgYm91bmRpbmdCb3ggPSBnZXRNZXNoQm91bmRpbmdCb3goZ2VvbWV0cnkuYXR0cmlidXRlcyk7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBnZXREcmFjb1NjaGVtYShnZW9tZXRyeS5hdHRyaWJ1dGVzLCBsb2FkZXJEYXRhLCBnZW9tZXRyeS5pbmRpY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgbG9hZGVyOiAnZHJhY28nLFxuICAgICAgICAgICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRleENvdW50OiBkcmFjb0dlb21ldHJ5Lm51bV9wb2ludHMoKSxcbiAgICAgICAgICAgICAgICAgICAgYm91bmRpbmdCb3hcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC4uLmdlb21ldHJ5LFxuICAgICAgICAgICAgICAgIHNjaGVtYVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5kcmFjby5kZXN0cm95KGJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAoZHJhY29HZW9tZXRyeSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhY28uZGVzdHJveShkcmFjb0dlb21ldHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBEcmFjbyBzcGVjaWZpYyBcImxvYWRlciBkYXRhXCJcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0XG4gICAgICogQHBhcmFtIGRyYWNvR2VvbWV0cnlcbiAgICAgKiBAcGFyYW0gZ2VvbWV0cnlfdHlwZVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBfZ2V0RHJhY29Mb2FkZXJEYXRhKGRyYWNvR2VvbWV0cnksIGdlb21ldHJ5X3R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLl9nZXRUb3BMZXZlbE1ldGFkYXRhKGRyYWNvR2VvbWV0cnkpO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gdGhpcy5fZ2V0RHJhY29BdHRyaWJ1dGVzKGRyYWNvR2VvbWV0cnksIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2VvbWV0cnlfdHlwZSxcbiAgICAgICAgICAgIG51bV9hdHRyaWJ1dGVzOiBkcmFjb0dlb21ldHJ5Lm51bV9hdHRyaWJ1dGVzKCksXG4gICAgICAgICAgICBudW1fcG9pbnRzOiBkcmFjb0dlb21ldHJ5Lm51bV9wb2ludHMoKSxcbiAgICAgICAgICAgIG51bV9mYWNlczogZHJhY29HZW9tZXRyeSBpbnN0YW5jZW9mIHRoaXMuZHJhY28uTWVzaCA/IGRyYWNvR2VvbWV0cnkubnVtX2ZhY2VzKCkgOiAwLFxuICAgICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgYWxsIGRyYWNvIHByb3ZpZGVkIGluZm9ybWF0aW9uIGFuZCBtZXRhZGF0YSBmb3IgZWFjaCBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0gZHJhY29HZW9tZXRyeVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBfZ2V0RHJhY29BdHRyaWJ1dGVzKGRyYWNvR2VvbWV0cnksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZHJhY29BdHRyaWJ1dGVzID0ge307XG4gICAgICAgIGZvciAobGV0IGF0dHJpYnV0ZUlkID0gMDsgYXR0cmlidXRlSWQgPCBkcmFjb0dlb21ldHJ5Lm51bV9hdHRyaWJ1dGVzKCk7IGF0dHJpYnV0ZUlkKyspIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IERyYWNvIGRvY3MgZG8gbm90IHNlZW0gY2xlYXIgb24gYEdldEF0dHJpYnV0ZWAgaWRzIGp1c3QgYmVpbmcgYSB6ZXJvLWJhc2VkIGluZGV4LFxuICAgICAgICAgICAgLy8gYnV0IGl0IGRvZXMgc2VlbXMgdG8gd29yayB0aGlzIHdheVxuICAgICAgICAgICAgY29uc3QgZHJhY29BdHRyaWJ1dGUgPSB0aGlzLmRlY29kZXIuR2V0QXR0cmlidXRlKGRyYWNvR2VvbWV0cnksIGF0dHJpYnV0ZUlkKTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5fZ2V0QXR0cmlidXRlTWV0YWRhdGEoZHJhY29HZW9tZXRyeSwgYXR0cmlidXRlSWQpO1xuICAgICAgICAgICAgZHJhY29BdHRyaWJ1dGVzW2RyYWNvQXR0cmlidXRlLnVuaXF1ZV9pZCgpXSA9IHtcbiAgICAgICAgICAgICAgICB1bmlxdWVfaWQ6IGRyYWNvQXR0cmlidXRlLnVuaXF1ZV9pZCgpLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZV90eXBlOiBkcmFjb0F0dHJpYnV0ZS5hdHRyaWJ1dGVfdHlwZSgpLFxuICAgICAgICAgICAgICAgIGRhdGFfdHlwZTogZHJhY29BdHRyaWJ1dGUuZGF0YV90eXBlKCksXG4gICAgICAgICAgICAgICAgbnVtX2NvbXBvbmVudHM6IGRyYWNvQXR0cmlidXRlLm51bV9jb21wb25lbnRzKCksXG4gICAgICAgICAgICAgICAgYnl0ZV9vZmZzZXQ6IGRyYWNvQXR0cmlidXRlLmJ5dGVfb2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgYnl0ZV9zdHJpZGU6IGRyYWNvQXR0cmlidXRlLmJ5dGVfc3RyaWRlKCksXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZDogZHJhY29BdHRyaWJ1dGUubm9ybWFsaXplZCgpLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZV9pbmRleDogYXR0cmlidXRlSWQsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBBZGQgdHJhbnNmb3JtYXRpb24gcGFyYW1ldGVycyBmb3IgYW55IGF0dHJpYnV0ZXMgYXBwIHdhbnRzIHVudHJhbnNmb3JtZWRcbiAgICAgICAgICAgIGNvbnN0IHF1YW50aXphdGlvbiA9IHRoaXMuX2dldFF1YW50aXphdGlvblRyYW5zZm9ybShkcmFjb0F0dHJpYnV0ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAocXVhbnRpemF0aW9uKSB7XG4gICAgICAgICAgICAgICAgZHJhY29BdHRyaWJ1dGVzW2RyYWNvQXR0cmlidXRlLnVuaXF1ZV9pZCgpXS5xdWFudGl6YXRpb25fdHJhbnNmb3JtID0gcXVhbnRpemF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2N0YWhlZHJvbiA9IHRoaXMuX2dldE9jdGFoZWRyb25UcmFuc2Zvcm0oZHJhY29BdHRyaWJ1dGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG9jdGFoZWRyb24pIHtcbiAgICAgICAgICAgICAgICBkcmFjb0F0dHJpYnV0ZXNbZHJhY29BdHRyaWJ1dGUudW5pcXVlX2lkKCldLm9jdGFoZWRyb25fdHJhbnNmb3JtID0gb2N0YWhlZHJvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZHJhY29BdHRyaWJ1dGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgc3RhbmRhcmQgbG9hZGVycy5nbCBtZXNoIGNhdGVnb3J5IGRhdGFcbiAgICAgKiBFeHRyYWN0cyB0aGUgZ2VvbWV0cnkgZnJvbSBkcmFjb1xuICAgICAqIEBwYXJhbSBkcmFjb0dlb21ldHJ5XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBfZ2V0TWVzaERhdGEoZHJhY29HZW9tZXRyeSwgbG9hZGVyRGF0YSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gdGhpcy5fZ2V0TWVzaEF0dHJpYnV0ZXMobG9hZGVyRGF0YSwgZHJhY29HZW9tZXRyeSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQXR0cmlidXRlID0gYXR0cmlidXRlcy5QT1NJVElPTjtcbiAgICAgICAgaWYgKCFwb3NpdGlvbkF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEUkFDTzogTm8gcG9zaXRpb24gYXR0cmlidXRlIGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBtZXNoZXMsIHdlIG5lZWQgaW5kaWNlcyB0byBkZWZpbmUgdGhlIGZhY2VzLlxuICAgICAgICBpZiAoZHJhY29HZW9tZXRyeSBpbnN0YW5jZW9mIHRoaXMuZHJhY28uTWVzaCkge1xuICAgICAgICAgICAgc3dpdGNoIChvcHRpb25zLnRvcG9sb2d5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndHJpYW5nbGUtc3RyaXAnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wb2xvZ3k6ICd0cmlhbmdsZS1zdHJpcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiA0LCAvLyBHTC5UUklBTkdMRVNcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuX2dldFRyaWFuZ2xlU3RyaXBJbmRpY2VzKGRyYWNvR2VvbWV0cnkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYXNlICd0cmlhbmdsZS1saXN0JzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wb2xvZ3k6ICd0cmlhbmdsZS1saXN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IDUsIC8vIEdMLlRSSUFOR0xFX1NUUklQXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9nZXRUcmlhbmdsZUxpc3RJbmRpY2VzKGRyYWNvR2VvbWV0cnkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQb2ludENsb3VkIC0gbXVzdCBjb21lIGxhc3QgYXMgTWVzaCBpbmhlcml0cyBmcm9tIFBvaW50Q2xvdWRcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcG9sb2d5OiAncG9pbnQtbGlzdCcsXG4gICAgICAgICAgICBtb2RlOiAwLCAvLyBHTC5QT0lOVFNcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2dldE1lc2hBdHRyaWJ1dGVzKGxvYWRlckRhdGEsIGRyYWNvR2VvbWV0cnksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGxvYWRlckF0dHJpYnV0ZSBvZiBPYmplY3QudmFsdWVzKGxvYWRlckRhdGEuYXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLl9kZWR1Y2VBdHRyaWJ1dGVOYW1lKGxvYWRlckF0dHJpYnV0ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBsb2FkZXJBdHRyaWJ1dGUubmFtZSA9IGF0dHJpYnV0ZU5hbWU7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLl9nZXRBdHRyaWJ1dGVWYWx1ZXMoZHJhY29HZW9tZXRyeSwgbG9hZGVyQXR0cmlidXRlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBzaXplIH0gPSB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXQ6IGxvYWRlckF0dHJpYnV0ZS5ieXRlX29mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgYnl0ZVN0cmlkZTogbG9hZGVyQXR0cmlidXRlLmJ5dGVfc3RyaWRlLFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkOiBsb2FkZXJBdHRyaWJ1dGUubm9ybWFsaXplZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIC8vIE1FU0ggSU5ESUNFUyBFWFRSQUNUSU9OXG4gICAgLyoqXG4gICAgICogRm9yIG1lc2hlcywgd2UgbmVlZCBpbmRpY2VzIHRvIGRlZmluZSB0aGUgZmFjZXMuXG4gICAgICogQHBhcmFtIGRyYWNvR2VvbWV0cnlcbiAgICAgKi9cbiAgICBfZ2V0VHJpYW5nbGVMaXN0SW5kaWNlcyhkcmFjb0dlb21ldHJ5KSB7XG4gICAgICAgIC8vIEV4YW1wbGUgb24gaG93IHRvIHJldHJpZXZlIG1lc2ggYW5kIGF0dHJpYnV0ZXMuXG4gICAgICAgIGNvbnN0IG51bUZhY2VzID0gZHJhY29HZW9tZXRyeS5udW1fZmFjZXMoKTtcbiAgICAgICAgY29uc3QgbnVtSW5kaWNlcyA9IG51bUZhY2VzICogMztcbiAgICAgICAgY29uc3QgYnl0ZUxlbmd0aCA9IG51bUluZGljZXMgKiBJTkRFWF9JVEVNX1NJWkU7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuZHJhY28uX21hbGxvYyhieXRlTGVuZ3RoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5HZXRUcmlhbmdsZXNVSW50MzJBcnJheShkcmFjb0dlb21ldHJ5LCBieXRlTGVuZ3RoLCBwdHIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheSh0aGlzLmRyYWNvLkhFQVBGMzIuYnVmZmVyLCBwdHIsIG51bUluZGljZXMpLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmRyYWNvLl9mcmVlKHB0cik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yIG1lc2hlcywgd2UgbmVlZCBpbmRpY2VzIHRvIGRlZmluZSB0aGUgZmFjZXMuXG4gICAgICogQHBhcmFtIGRyYWNvR2VvbWV0cnlcbiAgICAgKi9cbiAgICBfZ2V0VHJpYW5nbGVTdHJpcEluZGljZXMoZHJhY29HZW9tZXRyeSkge1xuICAgICAgICBjb25zdCBkcmFjb0FycmF5ID0gbmV3IHRoaXMuZHJhY28uRHJhY29JbnQzMkFycmF5KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvKiBjb25zdCBudW1TdHJpcHMgPSAqLyB0aGlzLmRlY29kZXIuR2V0VHJpYW5nbGVTdHJpcHNGcm9tTWVzaChkcmFjb0dlb21ldHJ5LCBkcmFjb0FycmF5KTtcbiAgICAgICAgICAgIHJldHVybiBnZXRVaW50MzJBcnJheShkcmFjb0FycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuZHJhY28uZGVzdHJveShkcmFjb0FycmF5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkcmFjb0dlb21ldHJ5XG4gICAgICogQHBhcmFtIGRyYWNvQXR0cmlidXRlXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZU5hbWVcbiAgICAgKi9cbiAgICBfZ2V0QXR0cmlidXRlVmFsdWVzKGRyYWNvR2VvbWV0cnksIGF0dHJpYnV0ZSkge1xuICAgICAgICBjb25zdCBUeXBlZEFycmF5Q3RvciA9IERSQUNPX0RBVEFfVFlQRV9UT19UWVBFRF9BUlJBWV9NQVBbYXR0cmlidXRlLmRhdGFfdHlwZV07XG4gICAgICAgIGlmICghVHlwZWRBcnJheUN0b3IpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYERSQUNPOiBVbnN1cHBvcnRlZCBhdHRyaWJ1dGUgdHlwZSAke2F0dHJpYnV0ZS5kYXRhX3R5cGV9YCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBudW1Db21wb25lbnRzID0gYXR0cmlidXRlLm51bV9jb21wb25lbnRzO1xuICAgICAgICBjb25zdCBudW1Qb2ludHMgPSBkcmFjb0dlb21ldHJ5Lm51bV9wb2ludHMoKTtcbiAgICAgICAgY29uc3QgbnVtVmFsdWVzID0gbnVtUG9pbnRzICogbnVtQ29tcG9uZW50cztcbiAgICAgICAgY29uc3QgYnl0ZUxlbmd0aCA9IG51bVZhbHVlcyAqIFR5cGVkQXJyYXlDdG9yLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICBjb25zdCBkYXRhVHlwZSA9IGdldERyYWNvRGF0YVR5cGUodGhpcy5kcmFjbywgVHlwZWRBcnJheUN0b3IpO1xuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuZHJhY28uX21hbGxvYyhieXRlTGVuZ3RoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRyYWNvQXR0cmlidXRlID0gdGhpcy5kZWNvZGVyLkdldEF0dHJpYnV0ZShkcmFjb0dlb21ldHJ5LCBhdHRyaWJ1dGUuYXR0cmlidXRlX2luZGV4KTtcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5HZXRBdHRyaWJ1dGVEYXRhQXJyYXlGb3JBbGxQb2ludHMoZHJhY29HZW9tZXRyeSwgZHJhY29BdHRyaWJ1dGUsIGRhdGFUeXBlLCBieXRlTGVuZ3RoLCBwdHIpO1xuICAgICAgICAgICAgdmFsdWUgPSBuZXcgVHlwZWRBcnJheUN0b3IodGhpcy5kcmFjby5IRUFQRjMyLmJ1ZmZlciwgcHRyLCBudW1WYWx1ZXMpLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmRyYWNvLl9mcmVlKHB0cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsdWUsIHNpemU6IG51bUNvbXBvbmVudHMgfTtcbiAgICB9XG4gICAgLy8gQXR0cmlidXRlIG5hbWVzXG4gICAgLyoqXG4gICAgICogRFJBQ08gZG9lcyBub3Qgc3RvcmUgYXR0cmlidXRlIG5hbWVzIC0gV2UgbmVlZCB0byBkZWR1Y2UgYW4gYXR0cmlidXRlIG5hbWVcbiAgICAgKiBmb3IgZWFjaCBhdHRyaWJ1dGVcbiAgICBfZ2V0QXR0cmlidXRlTmFtZXMoXG4gICAgICBkcmFjb0dlb21ldHJ5OiBNZXNoIHwgUG9pbnRDbG91ZCxcbiAgICAgIG9wdGlvbnM6IERyYWNvUGFyc2VPcHRpb25zXG4gICAgKToge1t1bmlxdWVfaWQ6IG51bWJlcl06IHN0cmluZ30ge1xuICAgICAgY29uc3QgYXR0cmlidXRlTmFtZXM6IHtbdW5pcXVlX2lkOiBudW1iZXJdOiBzdHJpbmd9ID0ge307XG4gICAgICBmb3IgKGxldCBhdHRyaWJ1dGVJZCA9IDA7IGF0dHJpYnV0ZUlkIDwgZHJhY29HZW9tZXRyeS5udW1fYXR0cmlidXRlcygpOyBhdHRyaWJ1dGVJZCsrKSB7XG4gICAgICAgIGNvbnN0IGRyYWNvQXR0cmlidXRlID0gdGhpcy5kZWNvZGVyLkdldEF0dHJpYnV0ZShkcmFjb0dlb21ldHJ5LCBhdHRyaWJ1dGVJZCk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLl9kZWR1Y2VBdHRyaWJ1dGVOYW1lKGRyYWNvQXR0cmlidXRlLCBvcHRpb25zKTtcbiAgICAgICAgYXR0cmlidXRlTmFtZXNbYXR0cmlidXRlTmFtZV0gPSBhdHRyaWJ1dGVOYW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF0dHJpYnV0ZU5hbWVzO1xuICAgIH1cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBEZWR1Y2UgYW4gYXR0cmlidXRlIG5hbWUuXG4gICAgICogQG5vdGUgRFJBQ08gZG9lcyBub3Qgc2F2ZSBhdHRyaWJ1dGUgbmFtZXMsIGp1c3QgZ2VuZXJhbCB0eXBlIChQT1NJVElPTiwgQ09MT1IpXG4gICAgICogdG8gaGVscCBvcHRpbWl6ZSBjb21wcmVzc2lvbi4gV2UgZ2VuZXJhdGUgR0xURiBjb21wYXRpYmxlIG5hbWVzIGZvciB0aGUgRHJhY28tcmVjb2duaXplZFxuICAgICAqIHR5cGVzXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZURhdGFcbiAgICAgKi9cbiAgICBfZGVkdWNlQXR0cmlidXRlTmFtZShhdHRyaWJ1dGUsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gRGVkdWNlIG5hbWUgYmFzZWQgb24gYXBwbGljYXRpb24gcHJvdmlkZWQgbWFwXG4gICAgICAgIGNvbnN0IHVuaXF1ZUlkID0gYXR0cmlidXRlLnVuaXF1ZV9pZDtcbiAgICAgICAgZm9yIChjb25zdCBbYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVW5pcXVlSWRdIG9mIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuZXh0cmFBdHRyaWJ1dGVzIHx8IHt9KSkge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZVVuaXF1ZUlkID09PSB1bmlxdWVJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIERlZHVjZSBuYW1lIGJhc2VkIG9uIGF0dHJpYnV0ZSB0eXBlXG4gICAgICAgIGNvbnN0IHRoaXNBdHRyaWJ1dGVUeXBlID0gYXR0cmlidXRlLmF0dHJpYnV0ZV90eXBlO1xuICAgICAgICBmb3IgKGNvbnN0IGRyYWNvQXR0cmlidXRlQ29uc3RhbnQgaW4gRFJBQ09fVE9fR0xURl9BVFRSSUJVVEVfTkFNRV9NQVApIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZVR5cGUgPSB0aGlzLmRyYWNvW2RyYWNvQXR0cmlidXRlQ29uc3RhbnRdO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZVR5cGUgPT09IHRoaXNBdHRyaWJ1dGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIFJldHVybiB1bmlxdWUgbmFtZXMgaWYgdGhlcmUgbXVsdGlwbGUgYXR0cmlidXRlcyBwZXIgdHlwZVxuICAgICAgICAgICAgICAgIC8vIChlLmcuIG11bHRpcGxlIFRFWF9DT09SRFMgb3IgQ09MT1JTKVxuICAgICAgICAgICAgICAgIHJldHVybiBEUkFDT19UT19HTFRGX0FUVFJJQlVURV9OQU1FX01BUFtkcmFjb0F0dHJpYnV0ZUNvbnN0YW50XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBMb29rIHVwIGluIG1ldGFkYXRhXG4gICAgICAgIC8vIFRPRE8gLSBzaG91bGRuJ3QgdGhpcyBoYXZlIHByaW9yaXR5P1xuICAgICAgICBjb25zdCBlbnRyeU5hbWUgPSBvcHRpb25zLmF0dHJpYnV0ZU5hbWVFbnRyeSB8fCAnbmFtZSc7XG4gICAgICAgIGlmIChhdHRyaWJ1dGUubWV0YWRhdGFbZW50cnlOYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZS5tZXRhZGF0YVtlbnRyeU5hbWVdLnN0cmluZztcbiAgICAgICAgfVxuICAgICAgICAvLyBBdHRyaWJ1dGUgb2YgXCJHRU5FUklDXCIgdHlwZSwgd2UgbmVlZCB0byBhc3NpZ24gc29tZSBuYW1lXG4gICAgICAgIHJldHVybiBgQ1VTVE9NX0FUVFJJQlVURV8ke3VuaXF1ZUlkfWA7XG4gICAgfVxuICAgIC8vIE1FVEFEQVRBIEVYVFJBQ1RJT05cbiAgICAvKiogR2V0IHRvcCBsZXZlbCBtZXRhZGF0YSAqL1xuICAgIF9nZXRUb3BMZXZlbE1ldGFkYXRhKGRyYWNvR2VvbWV0cnkpIHtcbiAgICAgICAgY29uc3QgZHJhY29NZXRhZGF0YSA9IHRoaXMuZGVjb2Rlci5HZXRNZXRhZGF0YShkcmFjb0dlb21ldHJ5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldERyYWNvTWV0YWRhdGEoZHJhY29NZXRhZGF0YSk7XG4gICAgfVxuICAgIC8qKiBHZXQgcGVyIGF0dHJpYnV0ZSBtZXRhZGF0YSAqL1xuICAgIF9nZXRBdHRyaWJ1dGVNZXRhZGF0YShkcmFjb0dlb21ldHJ5LCBhdHRyaWJ1dGVJZCkge1xuICAgICAgICBjb25zdCBkcmFjb01ldGFkYXRhID0gdGhpcy5kZWNvZGVyLkdldEF0dHJpYnV0ZU1ldGFkYXRhKGRyYWNvR2VvbWV0cnksIGF0dHJpYnV0ZUlkKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldERyYWNvTWV0YWRhdGEoZHJhY29NZXRhZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgbWV0YWRhdGEgZmllbGQgdmFsdWVzXG4gICAgICogQHBhcmFtIGRyYWNvTWV0YWRhdGFcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIF9nZXREcmFjb01ldGFkYXRhKGRyYWNvTWV0YWRhdGEpIHtcbiAgICAgICAgLy8gVGhlIG5vdCBzbyB3b25kZXJmdWwgd29ybGQgb2YgdW5kb2N1bWVudGVkIERyYWNvIEFQSXMgOihcbiAgICAgICAgaWYgKCFkcmFjb01ldGFkYXRhIHx8ICFkcmFjb01ldGFkYXRhLnB0cikge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBjb25zdCBudW1FbnRyaWVzID0gdGhpcy5tZXRhZGF0YVF1ZXJpZXIuTnVtRW50cmllcyhkcmFjb01ldGFkYXRhKTtcbiAgICAgICAgZm9yIChsZXQgZW50cnlJbmRleCA9IDA7IGVudHJ5SW5kZXggPCBudW1FbnRyaWVzOyBlbnRyeUluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5TmFtZSA9IHRoaXMubWV0YWRhdGFRdWVyaWVyLkdldEVudHJ5TmFtZShkcmFjb01ldGFkYXRhLCBlbnRyeUluZGV4KTtcbiAgICAgICAgICAgIHJlc3VsdFtlbnRyeU5hbWVdID0gdGhpcy5fZ2V0RHJhY29NZXRhZGF0YUZpZWxkKGRyYWNvTWV0YWRhdGEsIGVudHJ5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgcG9zc2libGUgdmFsdWVzIGZvciBvbmUgbWV0YWRhdGEgZW50cnkgYnkgbmFtZVxuICAgICAqIEBwYXJhbSBkcmFjb01ldGFkYXRhXG4gICAgICogQHBhcmFtIGVudHJ5TmFtZVxuICAgICAqL1xuICAgIF9nZXREcmFjb01ldGFkYXRhRmllbGQoZHJhY29NZXRhZGF0YSwgZW50cnlOYW1lKSB7XG4gICAgICAgIGNvbnN0IGRyYWNvQXJyYXkgPSBuZXcgdGhpcy5kcmFjby5EcmFjb0ludDMyQXJyYXkoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIERyYWNvIG1ldGFkYXRhIGZpZWxkcyBjYW4gaG9sZCBpbnQzMiBhcnJheXNcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGFRdWVyaWVyLkdldEludEVudHJ5QXJyYXkoZHJhY29NZXRhZGF0YSwgZW50cnlOYW1lLCBkcmFjb0FycmF5KTtcbiAgICAgICAgICAgIGNvbnN0IGludEFycmF5ID0gZ2V0SW50MzJBcnJheShkcmFjb0FycmF5KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW50OiB0aGlzLm1ldGFkYXRhUXVlcmllci5HZXRJbnRFbnRyeShkcmFjb01ldGFkYXRhLCBlbnRyeU5hbWUpLFxuICAgICAgICAgICAgICAgIHN0cmluZzogdGhpcy5tZXRhZGF0YVF1ZXJpZXIuR2V0U3RyaW5nRW50cnkoZHJhY29NZXRhZGF0YSwgZW50cnlOYW1lKSxcbiAgICAgICAgICAgICAgICBkb3VibGU6IHRoaXMubWV0YWRhdGFRdWVyaWVyLkdldERvdWJsZUVudHJ5KGRyYWNvTWV0YWRhdGEsIGVudHJ5TmFtZSksXG4gICAgICAgICAgICAgICAgaW50QXJyYXlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmRyYWNvLmRlc3Ryb3koZHJhY29BcnJheSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUVVBTlRJWkVEIEFUVFJJQlVURSBTVVBQT1JUIChOTyBERUNPTVBSRVNTSU9OKVxuICAgIC8qKiBTa2lwIHRyYW5zZm9ybXMgZm9yIHNwZWNpZmljIGF0dHJpYnV0ZSB0eXBlcyAqL1xuICAgIF9kaXNhYmxlQXR0cmlidXRlVHJhbnNmb3JtcyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcXVhbnRpemVkQXR0cmlidXRlcyA9IFtdLCBvY3RhaGVkcm9uQXR0cmlidXRlcyA9IFtdIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBza2lwQXR0cmlidXRlcyA9IFsuLi5xdWFudGl6ZWRBdHRyaWJ1dGVzLCAuLi5vY3RhaGVkcm9uQXR0cmlidXRlc107XG4gICAgICAgIGZvciAoY29uc3QgZHJhY29BdHRyaWJ1dGVOYW1lIG9mIHNraXBBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB0aGlzLmRlY29kZXIuU2tpcEF0dHJpYnV0ZVRyYW5zZm9ybSh0aGlzLmRyYWNvW2RyYWNvQXR0cmlidXRlTmFtZV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgKGFuZCBhcHBseT8pIFBvc2l0aW9uIFRyYW5zZm9ybVxuICAgICAqIEB0b2RvIG5vdCB1c2VkXG4gICAgICovXG4gICAgX2dldFF1YW50aXphdGlvblRyYW5zZm9ybShkcmFjb0F0dHJpYnV0ZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHF1YW50aXplZEF0dHJpYnV0ZXMgPSBbXSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgYXR0cmlidXRlX3R5cGUgPSBkcmFjb0F0dHJpYnV0ZS5hdHRyaWJ1dGVfdHlwZSgpO1xuICAgICAgICBjb25zdCBza2lwID0gcXVhbnRpemVkQXR0cmlidXRlcy5tYXAoKHR5cGUpID0+IHRoaXMuZGVjb2Rlclt0eXBlXSkuaW5jbHVkZXMoYXR0cmlidXRlX3R5cGUpO1xuICAgICAgICBpZiAoc2tpcCkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gbmV3IHRoaXMuZHJhY28uQXR0cmlidXRlUXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0uSW5pdEZyb21BdHRyaWJ1dGUoZHJhY29BdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl6YXRpb25fYml0czogdHJhbnNmb3JtLnF1YW50aXphdGlvbl9iaXRzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogdHJhbnNmb3JtLnJhbmdlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5fdmFsdWVzOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAyLCAzXSkubWFwKChpKSA9PiB0cmFuc2Zvcm0ubWluX3ZhbHVlKGkpKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhY28uZGVzdHJveSh0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfZ2V0T2N0YWhlZHJvblRyYW5zZm9ybShkcmFjb0F0dHJpYnV0ZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IG9jdGFoZWRyb25BdHRyaWJ1dGVzID0gW10gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZV90eXBlID0gZHJhY29BdHRyaWJ1dGUuYXR0cmlidXRlX3R5cGUoKTtcbiAgICAgICAgY29uc3Qgb2N0YWhlZHJvbiA9IG9jdGFoZWRyb25BdHRyaWJ1dGVzXG4gICAgICAgICAgICAubWFwKCh0eXBlKSA9PiB0aGlzLmRlY29kZXJbdHlwZV0pXG4gICAgICAgICAgICAuaW5jbHVkZXMoYXR0cmlidXRlX3R5cGUpO1xuICAgICAgICBpZiAob2N0YWhlZHJvbikge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gbmV3IHRoaXMuZHJhY28uQXR0cmlidXRlUXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0uSW5pdEZyb21BdHRyaWJ1dGUoZHJhY29BdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl6YXRpb25fYml0czogdHJhbnNmb3JtLnF1YW50aXphdGlvbl9iaXRzKClcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWNvLmRlc3Ryb3kodHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIEdldCBkcmFjbyBzcGVjaWZpYyBkYXRhIHR5cGUgYnkgVHlwZWRBcnJheSBjb25zdHJ1Y3RvciB0eXBlXG4gKiBAcGFyYW0gYXR0cmlidXRlVHlwZVxuICogQHJldHVybnMgZHJhY28gc3BlY2lmaWMgZGF0YSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGdldERyYWNvRGF0YVR5cGUoZHJhY28sIGF0dHJpYnV0ZVR5cGUpIHtcbiAgICBzd2l0Y2ggKGF0dHJpYnV0ZVR5cGUpIHtcbiAgICAgICAgY2FzZSBGbG9hdDMyQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gZHJhY28uRFRfRkxPQVQzMjtcbiAgICAgICAgY2FzZSBJbnQ4QXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gZHJhY28uRFRfSU5UODtcbiAgICAgICAgY2FzZSBJbnQxNkFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIGRyYWNvLkRUX0lOVDE2O1xuICAgICAgICBjYXNlIEludDMyQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gZHJhY28uRFRfSU5UMzI7XG4gICAgICAgIGNhc2UgVWludDhBcnJheTpcbiAgICAgICAgICAgIHJldHVybiBkcmFjby5EVF9VSU5UODtcbiAgICAgICAgY2FzZSBVaW50MTZBcnJheTpcbiAgICAgICAgICAgIHJldHVybiBkcmFjby5EVF9VSU5UMTY7XG4gICAgICAgIGNhc2UgVWludDMyQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gZHJhY28uRFRfVUlOVDMyO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGRyYWNvLkRUX0lOVkFMSUQ7XG4gICAgfVxufVxuLyoqXG4gKiBDb3B5IGEgRHJhY28gaW50MzIgYXJyYXkgaW50byBhIEpTIHR5cGVkIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGdldEludDMyQXJyYXkoZHJhY29BcnJheSkge1xuICAgIGNvbnN0IG51bVZhbHVlcyA9IGRyYWNvQXJyYXkuc2l6ZSgpO1xuICAgIGNvbnN0IGludEFycmF5ID0gbmV3IEludDMyQXJyYXkobnVtVmFsdWVzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZhbHVlczsgaSsrKSB7XG4gICAgICAgIGludEFycmF5W2ldID0gZHJhY29BcnJheS5HZXRWYWx1ZShpKTtcbiAgICB9XG4gICAgcmV0dXJuIGludEFycmF5O1xufVxuLyoqXG4gKiBDb3B5IGEgRHJhY28gaW50MzIgYXJyYXkgaW50byBhIEpTIHR5cGVkIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGdldFVpbnQzMkFycmF5KGRyYWNvQXJyYXkpIHtcbiAgICBjb25zdCBudW1WYWx1ZXMgPSBkcmFjb0FycmF5LnNpemUoKTtcbiAgICBjb25zdCBpbnRBcnJheSA9IG5ldyBJbnQzMkFycmF5KG51bVZhbHVlcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkrKykge1xuICAgICAgICBpbnRBcnJheVtpXSA9IGRyYWNvQXJyYXkuR2V0VmFsdWUoaSk7XG4gICAgfVxuICAgIHJldHVybiBpbnRBcnJheTtcbn1cbiIsIi8qKlxuICogR2V0IG51bWJlciBvZiB2ZXJ0aWNlcyBpbiBtZXNoXG4gKiBAcGFyYW0gYXR0cmlidXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWVzaFNpemUoYXR0cmlidXRlcykge1xuICAgIGxldCBzaXplID0gMDtcbiAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgRGF0YVZpZXcgZG9lc24ndCBoYXZlIEJZVEVTX1BFUl9FTEVNRU5UXG4gICAgICAgICAgICBzaXplICs9IGF0dHJpYnV0ZS5ieXRlTGVuZ3RoICogYXR0cmlidXRlLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaXplO1xufVxuLyoqXG4gKiBHZXQgdGhlIChheGlzIGFsaWduZWQpIGJvdW5kaW5nIGJveCBvZiBhIG1lc2hcbiAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyBhcnJheSBvZiB0d28gdmVjdG9ycyByZXByZXNlbnRpbmcgdGhlIGF4aXMgYWxpZ25lZCBib3VuZGluZyBib3hcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXNoQm91bmRpbmdCb3goYXR0cmlidXRlcykge1xuICAgIGxldCBtaW5YID0gSW5maW5pdHk7XG4gICAgbGV0IG1pblkgPSBJbmZpbml0eTtcbiAgICBsZXQgbWluWiA9IEluZmluaXR5O1xuICAgIGxldCBtYXhYID0gLUluZmluaXR5O1xuICAgIGxldCBtYXhZID0gLUluZmluaXR5O1xuICAgIGxldCBtYXhaID0gLUluZmluaXR5O1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IGF0dHJpYnV0ZXMuUE9TSVRJT04gPyBhdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlIDogW107XG4gICAgY29uc3QgbGVuID0gcG9zaXRpb25zICYmIHBvc2l0aW9ucy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMykge1xuICAgICAgICBjb25zdCB4ID0gcG9zaXRpb25zW2ldO1xuICAgICAgICBjb25zdCB5ID0gcG9zaXRpb25zW2kgKyAxXTtcbiAgICAgICAgY29uc3QgeiA9IHBvc2l0aW9uc1tpICsgMl07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWluWiA9IHogPCBtaW5aID8geiA6IG1pblo7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgbWF4WiA9IHogPiBtYXhaID8geiA6IG1heFo7XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAgIFttaW5YLCBtaW5ZLCBtaW5aXSxcbiAgICAgICAgW21heFgsIG1heFksIG1heFpdXG4gICAgXTtcbn1cbiIsIi8vIER5bmFtaWMgRFJBQ08gbW9kdWxlIGxvYWRpbmcgaW5zcGlyZWQgYnkgVEhSRUUuRFJBQ09Mb2FkZXJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi8zOThjNGYzOWViZGI4YjIzZWVmZDRhN2E1ZWM0OWVjMGM5NmM3NDYyL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0RSQUNPTG9hZGVyLmpzXG4vLyBieSBEb24gTWNDdXJkeSAvIGh0dHBzOi8vd3d3LmRvbm1jY3VyZHkuY29tIC8gTUlUIGxpY2Vuc2VcbmltcG9ydCB7IGxvYWRMaWJyYXJ5IH0gZnJvbSAnQGxvYWRlcnMuZ2wvd29ya2VyLXV0aWxzJztcbmNvbnN0IERSQUNPX0RFQ09ERVJfVkVSU0lPTiA9ICcxLjUuNic7XG5jb25zdCBEUkFDT19FTkNPREVSX1ZFUlNJT04gPSAnMS40LjEnO1xuY29uc3QgU1RBVElDX0RFQ09ERVJfVVJMID0gYGh0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2RyYWNvL3ZlcnNpb25lZC9kZWNvZGVycy8ke0RSQUNPX0RFQ09ERVJfVkVSU0lPTn1gO1xuZXhwb3J0IGNvbnN0IERSQUNPX0VYVEVSTkFMX0xJQlJBUklFUyA9IHtcbiAgICAvKiogVGhlIHByaW1hcnkgRHJhY28zRCBlbmNvZGVyLCBqYXZhc2NyaXB0IHdyYXBwZXIgcGFydCAqL1xuICAgIERFQ09ERVI6ICdkcmFjb193YXNtX3dyYXBwZXIuanMnLFxuICAgIC8qKiBUaGUgcHJpbWFyeSBkcmFjbyBkZWNvZGVyLCBjb21waWxlZCB3ZWIgYXNzZW1ibHkgcGFydCAqL1xuICAgIERFQ09ERVJfV0FTTTogJ2RyYWNvX2RlY29kZXIud2FzbScsXG4gICAgLyoqIEZhbGxiYWNrIGRlY29kZXIgZm9yIG5vbi13ZWJhc3NlYmx5IGVudmlyb25tZW50cy4gVmVyeSBiaWcgYnVuZGxlLCBsb3dlciBwZXJmb3JtYW5jZSAqL1xuICAgIEZBTExCQUNLX0RFQ09ERVI6ICdkcmFjb19kZWNvZGVyLmpzJyxcbiAgICAvKiogRHJhY28gZW5jb2RlciAqL1xuICAgIEVOQ09ERVI6ICdkcmFjb19lbmNvZGVyLmpzJ1xufTtcbmV4cG9ydCBjb25zdCBEUkFDT19FWFRFUk5BTF9MSUJSQVJZX1VSTFMgPSB7XG4gICAgW0RSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5ERUNPREVSXTogYCR7U1RBVElDX0RFQ09ERVJfVVJMfS8ke0RSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5ERUNPREVSfWAsXG4gICAgW0RSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5ERUNPREVSX1dBU01dOiBgJHtTVEFUSUNfREVDT0RFUl9VUkx9LyR7RFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLkRFQ09ERVJfV0FTTX1gLFxuICAgIFtEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuRkFMTEJBQ0tfREVDT0RFUl06IGAke1NUQVRJQ19ERUNPREVSX1VSTH0vJHtEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuRkFMTEJBQ0tfREVDT0RFUn1gLFxuICAgIFtEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuRU5DT0RFUl06IGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZ29vZ2xlL2RyYWNvLyR7RFJBQ09fRU5DT0RFUl9WRVJTSU9OfS9qYXZhc2NyaXB0LyR7RFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLkVOQ09ERVJ9YFxufTtcbmxldCBsb2FkRGVjb2RlclByb21pc2U7XG5sZXQgbG9hZEVuY29kZXJQcm9taXNlO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWREcmFjb0RlY29kZXJNb2R1bGUob3B0aW9ucykge1xuICAgIGNvbnN0IG1vZHVsZXMgPSBvcHRpb25zLm1vZHVsZXMgfHwge307XG4gICAgLy8gQ2hlY2sgaWYgYSBidW5kbGVkIGRyYWNvM2QgbGlicmFyeSBoYXMgYmVlbiBzdXBwbGllZCBieSBhcHBsaWNhdGlvblxuICAgIGlmIChtb2R1bGVzLmRyYWNvM2QpIHtcbiAgICAgICAgbG9hZERlY29kZXJQcm9taXNlIHx8PSBtb2R1bGVzLmRyYWNvM2QuY3JlYXRlRGVjb2Rlck1vZHVsZSh7fSkudGhlbigoZHJhY28pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IGRyYWNvIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gSWYgbm90LCBkeW5hbWljYWxseSBsb2FkIHRoZSBXQVNNIHNjcmlwdCBmcm9tIG91ciBDRE5cbiAgICAgICAgbG9hZERlY29kZXJQcm9taXNlIHx8PSBsb2FkRHJhY29EZWNvZGVyKG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgbG9hZERlY29kZXJQcm9taXNlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWREcmFjb0VuY29kZXJNb2R1bGUob3B0aW9ucykge1xuICAgIGNvbnN0IG1vZHVsZXMgPSBvcHRpb25zLm1vZHVsZXMgfHwge307XG4gICAgLy8gQ2hlY2sgaWYgYSBidW5kbGVkIGRyYWNvM2QgbGlicmFyeSBoYXMgYmVlbiBzdXBwbGllZCBieSBhcHBsaWNhdGlvblxuICAgIGlmIChtb2R1bGVzLmRyYWNvM2QpIHtcbiAgICAgICAgbG9hZEVuY29kZXJQcm9taXNlIHx8PSBtb2R1bGVzLmRyYWNvM2QuY3JlYXRlRW5jb2Rlck1vZHVsZSh7fSkudGhlbigoZHJhY28pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IGRyYWNvIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gSWYgbm90LCBkeW5hbWljYWxseSBsb2FkIHRoZSBXQVNNIHNjcmlwdCBmcm9tIG91ciBDRE5cbiAgICAgICAgbG9hZEVuY29kZXJQcm9taXNlIHx8PSBsb2FkRHJhY29FbmNvZGVyKG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgbG9hZEVuY29kZXJQcm9taXNlO1xufVxuLy8gRFJBQ08gREVDT0RFUiBMT0FESU5HXG5hc3luYyBmdW5jdGlvbiBsb2FkRHJhY29EZWNvZGVyKG9wdGlvbnMpIHtcbiAgICBsZXQgRHJhY29EZWNvZGVyTW9kdWxlO1xuICAgIGxldCB3YXNtQmluYXJ5O1xuICAgIHN3aXRjaCAob3B0aW9ucy5kcmFjbyAmJiBvcHRpb25zLmRyYWNvLmRlY29kZXJUeXBlKSB7XG4gICAgICAgIGNhc2UgJ2pzJzpcbiAgICAgICAgICAgIERyYWNvRGVjb2Rlck1vZHVsZSA9IGF3YWl0IGxvYWRMaWJyYXJ5KERSQUNPX0VYVEVSTkFMX0xJQlJBUllfVVJMU1tEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuRkFMTEJBQ0tfREVDT0RFUl0sICdkcmFjbycsIG9wdGlvbnMsIERSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5GQUxMQkFDS19ERUNPREVSKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd3YXNtJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIFtEcmFjb0RlY29kZXJNb2R1bGUsIHdhc21CaW5hcnldID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRMaWJyYXJ5KERSQUNPX0VYVEVSTkFMX0xJQlJBUllfVVJMU1tEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuREVDT0RFUl0sICdkcmFjbycsIG9wdGlvbnMsIERSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5ERUNPREVSKSxcbiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkTGlicmFyeShEUkFDT19FWFRFUk5BTF9MSUJSQVJZX1VSTFNbRFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLkRFQ09ERVJfV0FTTV0sICdkcmFjbycsIG9wdGlvbnMsIERSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5ERUNPREVSX1dBU00pXG4gICAgICAgICAgICBdKTtcbiAgICB9XG4gICAgLy8gRGVwZW5kcyBvbiBob3cgaW1wb3J0IGhhcHBlbmVkLi4uXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIERyYWNvRGVjb2Rlck1vZHVsZSA9IERyYWNvRGVjb2Rlck1vZHVsZSB8fCBnbG9iYWxUaGlzLkRyYWNvRGVjb2Rlck1vZHVsZTtcbiAgICByZXR1cm4gYXdhaXQgaW5pdGlhbGl6ZURyYWNvRGVjb2RlcihEcmFjb0RlY29kZXJNb2R1bGUsIHdhc21CaW5hcnkpO1xufVxuZnVuY3Rpb24gaW5pdGlhbGl6ZURyYWNvRGVjb2RlcihEcmFjb0RlY29kZXJNb2R1bGUsIHdhc21CaW5hcnkpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgaWYgKHdhc21CaW5hcnkpIHtcbiAgICAgICAgb3B0aW9ucy53YXNtQmluYXJ5ID0gd2FzbUJpbmFyeTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIERyYWNvRGVjb2Rlck1vZHVsZSh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgb25Nb2R1bGVMb2FkZWQ6IChkcmFjbykgPT4gcmVzb2x2ZSh7IGRyYWNvIH0pIC8vIE1vZHVsZSBpcyBQcm9taXNlLWxpa2UuIFdyYXAgaW4gb2JqZWN0IHRvIGF2b2lkIGxvb3AuXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8gRU5DT0RFUlxuYXN5bmMgZnVuY3Rpb24gbG9hZERyYWNvRW5jb2RlcihvcHRpb25zKSB7XG4gICAgbGV0IERyYWNvRW5jb2Rlck1vZHVsZSA9IGF3YWl0IGxvYWRMaWJyYXJ5KERSQUNPX0VYVEVSTkFMX0xJQlJBUllfVVJMU1tEUkFDT19FWFRFUk5BTF9MSUJSQVJJRVMuRU5DT0RFUl0sICdkcmFjbycsIG9wdGlvbnMsIERSQUNPX0VYVEVSTkFMX0xJQlJBUklFUy5FTkNPREVSKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgRHJhY29FbmNvZGVyTW9kdWxlID0gRHJhY29FbmNvZGVyTW9kdWxlIHx8IGdsb2JhbFRoaXMuRHJhY29FbmNvZGVyTW9kdWxlO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBEcmFjb0VuY29kZXJNb2R1bGUoe1xuICAgICAgICAgICAgb25Nb2R1bGVMb2FkZWQ6IChkcmFjbykgPT4gcmVzb2x2ZSh7IGRyYWNvIH0pIC8vIE1vZHVsZSBpcyBQcm9taXNlLWxpa2UuIFdyYXAgaW4gb2JqZWN0IHRvIGF2b2lkIGxvb3AuXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgRHJhY29Mb2FkZXIgYXMgRHJhY29Xb3JrZXJMb2FkZXIgfSBmcm9tIFwiLi9kcmFjby1sb2FkZXIuanNcIjtcbmltcG9ydCBEcmFjb1BhcnNlciBmcm9tIFwiLi9saWIvZHJhY28tcGFyc2VyLmpzXCI7XG5pbXBvcnQgeyBsb2FkRHJhY29EZWNvZGVyTW9kdWxlIH0gZnJvbSBcIi4vbGliL2RyYWNvLW1vZHVsZS1sb2FkZXIuanNcIjtcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi9saWIvdXRpbHMvdmVyc2lvbi5qc1wiO1xuLy8gTW9kdWxlIGNvbnN0YW50c1xuZXhwb3J0IHsgRFJBQ09fRVhURVJOQUxfTElCUkFSSUVTLCBEUkFDT19FWFRFUk5BTF9MSUJSQVJZX1VSTFMgfSBmcm9tIFwiLi9saWIvZHJhY28tbW9kdWxlLWxvYWRlci5qc1wiO1xuZXhwb3J0IHsgRHJhY29Xcml0ZXIgfSBmcm9tIFwiLi9kcmFjby13cml0ZXIuanNcIjtcbi8qKlxuICogQnJvd3NlciB3b3JrZXIgZG9lc24ndCB3b3JrIGJlY2F1c2Ugb2YgaXNzdWUgZHVyaW5nIFwiZHJhY29fZW5jb2Rlci5qc1wiIGxvYWRpbmcuXG4gKiBSZWZ1c2VkIHRvIGV4ZWN1dGUgc2NyaXB0IGZyb20gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9nb29nbGUvZHJhY28vMS40LjEvamF2YXNjcmlwdC9kcmFjb19lbmNvZGVyLmpzJyBiZWNhdXNlIGl0cyBNSU1FIHR5cGUgKCcnKSBpcyBub3QgZXhlY3V0YWJsZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERyYWNvV3JpdGVyV29ya2VyID0ge1xuICAgIGlkOiAnZHJhY28td3JpdGVyJyxcbiAgICBuYW1lOiAnRHJhY28gY29tcHJlc3NlZCBnZW9tZXRyeSB3cml0ZXInLFxuICAgIG1vZHVsZTogJ2RyYWNvJyxcbiAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgIHdvcmtlcjogdHJ1ZSxcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIGRyYWNvOiB7fSxcbiAgICAgICAgc291cmNlOiBudWxsXG4gICAgfVxufTtcbmV4cG9ydCB7IERyYWNvV29ya2VyTG9hZGVyIH07XG4vKipcbiAqIExvYWRlciBmb3IgRHJhY28zRCBjb21wcmVzc2VkIGdlb21ldHJpZXNcbiAqL1xuZXhwb3J0IGNvbnN0IERyYWNvTG9hZGVyID0ge1xuICAgIC4uLkRyYWNvV29ya2VyTG9hZGVyLFxuICAgIHBhcnNlXG59O1xuYXN5bmMgZnVuY3Rpb24gcGFyc2UoYXJyYXlCdWZmZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGRyYWNvIH0gPSBhd2FpdCBsb2FkRHJhY29EZWNvZGVyTW9kdWxlKG9wdGlvbnMpO1xuICAgIGNvbnN0IGRyYWNvUGFyc2VyID0gbmV3IERyYWNvUGFyc2VyKGRyYWNvKTtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZHJhY29QYXJzZXIucGFyc2VTeW5jKGFycmF5QnVmZmVyLCBvcHRpb25zPy5kcmFjbyk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBkcmFjb1BhcnNlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImNvbXBhcmVBcnJheUJ1ZmZlcnMiLCJhcnJheUJ1ZmZlcjEiLCJhcnJheUJ1ZmZlcjIiLCJieXRlTGVuZ3RoIiwiYXJyYXkxIiwiVWludDhBcnJheSIsImFycmF5MiIsImkiLCJsZW5ndGgiLCJjb25jYXRlbmF0ZUFycmF5QnVmZmVycyIsInNvdXJjZXMiLCJzb3VyY2VBcnJheXMiLCJtYXAiLCJzb3VyY2UyIiwiQXJyYXlCdWZmZXIiLCJyZWR1Y2UiLCJ0eXBlZEFycmF5IiwicmVzdWx0Iiwib2Zmc2V0Iiwic291cmNlQXJyYXkiLCJzZXQiLCJidWZmZXIiLCJjb25jYXRlbmF0ZUFycmF5QnVmZmVyc0Zyb21BcnJheSIsInNsaWNlQXJyYXlCdWZmZXIiLCJhcnJheUJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJzdWJBcnJheSIsInVuZGVmaW5lZCIsInN1YmFycmF5IiwiZ2V0TWFnaWNTdHJpbmciLCJkYXRhVmlldyIsIkRhdGFWaWV3IiwibWFnaWMiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJnZXRVaW50OCIsImFzeW5jIiwicGFyc2VGcm9tQ29udGV4dCIsImRhdGEiLCJsb2FkZXJzIiwib3B0aW9ucyIsImNvbnRleHQiLCJfcGFyc2UiLCJwYXJzZUltYWdlTm9kZSIsImdsb2JhbFRoaXMiLCJJTUFHRV9TVVBQT1JURUQiLCJJbWFnZSIsIklNQUdFX0JJVE1BUF9TVVBQT1JURUQiLCJJbWFnZUJpdG1hcCIsIk5PREVfSU1BR0VfU1VQUE9SVEVEIiwiQm9vbGVhbiIsIkRBVEFfU1VQUE9SVEVEIiwiZ2V0SW1hZ2VUeXBlIiwiaW1hZ2UiLCJmb3JtYXQiLCJ3aWR0aCIsImhlaWdodCIsImdldEltYWdlVHlwZU9yTnVsbCIsIkVycm9yIiwiZ2V0SW1hZ2VEYXRhIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsIlNWR19EQVRBX1VSTF9QQVRURVJOIiwiU1ZHX1VSTF9QQVRURVJOIiwiaXNTVkciLCJ1cmwiLCJ0ZXN0IiwiZ2V0QmxvYiIsIkJsb2IiLCJwYXJzZVRvSW1hZ2UiLCJibG9iT3JEYXRhVXJsIiwieG1sVGV4dCIsIlRleHREZWNvZGVyIiwiZGVjb2RlIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJlcnJvciIsIm1lc3NhZ2UiLCJidG9hIiwiZ2V0QmxvYk9yU1ZHRGF0YVVybCIsIlVSTCIsInNlbGYiLCJ3ZWJraXRVUkwiLCJvYmplY3RVcmwiLCJjcmVhdGVPYmplY3RVUkwiLCJzcmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJsb2FkVG9JbWFnZSIsInJldm9rZU9iamVjdFVSTCIsIkVNUFRZX09CSkVDVCIsImltYWdlYml0bWFwT3B0aW9uc1N1cHBvcnRlZCIsIkJJR19FTkRJQU4iLCJMSVRUTEVfRU5ESUFOIiwiZ2V0QmluYXJ5SW1hZ2VNZXRhZGF0YSIsImJpbmFyeURhdGEiLCJ0b0RhdGFWaWV3IiwiZ2V0VWludDMyIiwibWltZVR5cGUiLCJnZXRQbmdNZXRhZGF0YSIsImdldFVpbnQxNiIsInRhYmxlTWFya2VycyIsInNvZk1hcmtlcnMiLCJTZXQiLCJhZGQiLCJnZXRKcGVnTWFya2VycyIsIm1hcmtlciIsImhhcyIsImdldEpwZWdNZXRhZGF0YSIsImdldEdpZk1ldGFkYXRhIiwiZ2V0Qm1wTWV0YWRhdGEiLCJtZWRpYVR5cGUiLCJoZWFkZXIiLCJoZWFkZXJCeXRlcyIsInN0cmluZyIsImNoYXJhY3RlciIsImNoYXJDb2RlQXQiLCJjaGVja1N0cmluZyIsImFycmF5Iiwic2xpY2UiLCJyZXBsYWNlIiwidHJpbSIsImV4dGVuc2lvbiIsImRlY29kZU1ham9yQnJhbmQiLCJnZXRJU09CTUZGTWVkaWFUeXBlIiwiZ2V0SVNPQk1GRk1ldGFkYXRhIiwiaXNWaWV3IiwiSW1hZ2VMb2FkZXIiLCJkYXRhVHlwZSIsImJhdGNoVHlwZSIsImlkIiwibW9kdWxlIiwibmFtZSIsInZlcnNpb24iLCJtaW1lVHlwZXMiLCJleHRlbnNpb25zIiwicGFyc2UiLCJpbWFnZVR5cGUiLCJ0eXBlIiwiZ2V0RGVmYXVsdEltYWdlVHlwZSIsImlzSW1hZ2VUeXBlU3VwcG9ydGVkIiwiZ2V0TG9hZGFibGVJbWFnZVR5cGUiLCJibG9iIiwiaW1hZ2ViaXRtYXBPcHRpb25zIiwiaW1hZ2ViaXRtYXAiLCJvYmplY3QiLCJrZXkiLCJpc0VtcHR5T2JqZWN0IiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJjb25zb2xlIiwid2FybiIsInNhZmVDcmVhdGVJbWFnZUJpdG1hcCIsInBhcnNlVG9JbWFnZUJpdG1hcCIsImFzc2VydCIsInBhcnNlVG9Ob2RlSW1hZ2UiLCJ0ZXN0cyIsImxvYWRCYXNpc1RyYW5zY29kZXJQcm9taXNlIiwibG9hZEJhc2lzRW5jb2RlclByb21pc2UiLCJsb2FkQmFzaXNUcmFuc2NvZGVyTW9kdWxlIiwibW9kdWxlcyIsIk9iamVjdCIsImFzc2lnbiIsImdldEpTTW9kdWxlT3JOdWxsIiwiQkFTSVMiLCJ3YXNtQmluYXJ5IiwiYWxsIiwiQmFzaXNNb2R1bGUiLCJ0aGVuIiwiQmFzaXNGaWxlIiwiaW5pdGlhbGl6ZUJhc2lzIiwiaW5pdGlhbGl6ZUJhc2lzVHJhbnNjb2Rlck1vZHVsZSIsImxvYWRCYXNpc1RyYW5zY29kZXIiLCJsb2FkQmFzaXNFbmNvZGVyTW9kdWxlIiwiYmFzaXNFbmNvZGVyIiwiQkFTSVNfRU5DT0RFUiIsIkJhc2lzRW5jb2Rlck1vZHVsZSIsIktUWDJGaWxlIiwiQmFzaXNFbmNvZGVyIiwiaW5pdGlhbGl6ZUJhc2lzRW5jb2Rlck1vZHVsZSIsImxvYWRCYXNpc0VuY29kZXIiLCJCUk9XU0VSX1BSRUZJWEVTIiwiV0VCR0xfRVhURU5TSU9OUyIsIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIiwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIsIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIiwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyIsIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIsIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hdGMiLCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YyIsIkVYVF90ZXh0dXJlX2NvbXByZXNzaW9uX3JndGMiLCJmb3JtYXRzIiwiS1RYMl9JRCIsIk91dHB1dEZvcm1hdCIsImV0YzEiLCJiYXNpc0Zvcm1hdCIsImNvbXByZXNzZWQiLCJldGMyIiwiYmMxIiwiYmMzIiwiYmM0IiwiYmM1IiwicmdiYTMyIiwicmdiNTY1IiwiYmdyNTY1IiwicmdiYTQ0NDQiLCJwYXJzZUJhc2lzRmlsZSIsImJhc2lzRmlsZSIsInN0YXJ0VHJhbnNjb2RpbmciLCJpbWFnZUNvdW50IiwiZ2V0TnVtSW1hZ2VzIiwiaW1hZ2VzIiwiaW1hZ2VJbmRleCIsImxldmVsc0NvdW50IiwiZ2V0TnVtTGV2ZWxzIiwibGV2ZWxzIiwibGV2ZWxJbmRleCIsInB1c2giLCJ0cmFuc2NvZGVJbWFnZSIsImNsb3NlIiwiZGVsZXRlIiwiZ2V0SW1hZ2VXaWR0aCIsImdldEltYWdlSGVpZ2h0IiwiaGFzQWxwaGEiLCJnZXRIYXNBbHBoYSIsImdldEJhc2lzT3B0aW9ucyIsImRlY29kZWRTaXplIiwiZ2V0SW1hZ2VUcmFuc2NvZGVkU2l6ZUluQnl0ZXMiLCJkZWNvZGVkRGF0YSIsInBhcnNlS1RYMkZpbGUiLCJrdHgyRmlsZSIsImdldExldmVscyIsInRyYW5zY29kZUtUWDJJbWFnZSIsImFscGhhRmxhZyIsImdldEltYWdlTGV2ZWxJbmZvIiwibGV2ZWxTaXplIiwiYmFzaXMiLCJzZWxlY3RTdXBwb3J0ZWRCYXNpc0Zvcm1hdCIsImFscGhhIiwibm9BbHBoYSIsInRvTG93ZXJDYXNlIiwic3VwcG9ydGVkRm9ybWF0cyIsImdsIiwiZ2V0V2ViR0xDb250ZXh0IiwicHJlZml4IiwiZ2V0RXh0ZW5zaW9uIiwiZ3B1VGV4dHVyZUZvcm1hdCIsImdldFN1cHBvcnRlZEdQVVRleHR1cmVGb3JtYXRzIiwiQmFzaXNMb2FkZXIiLCJ3b3JrZXIiLCJiaW5hcnkiLCJsaWJyYXJ5UGF0aCIsImNvbnRhaW5lckZvcm1hdCIsImlzS1RYIiwiZmlsZUNvbnN0cnVjdG9ycyIsImNvbmRpdGlvbiIsInBhZFRvTkJ5dGVzIiwicGFkZGluZyIsImNvcHlUb0FycmF5Iiwic291cmNlIiwidGFyZ2V0IiwidGFyZ2V0T2Zmc2V0Iiwic3JjQnl0ZU9mZnNldCIsInNyY0J5dGVMZW5ndGgiLCJNQUdJQ19nbFRGIiwicGFyc2VKU09OQ2h1bmsiLCJnbGIiLCJjaHVua0xlbmd0aCIsImpzb25DaHVuayIsImpzb25UZXh0IiwianNvbiIsIkpTT04iLCJwYXJzZUJJTkNodW5rIiwiaGFzQmluQ2h1bmsiLCJiaW5DaHVua3MiLCJyZXNvbHZlVXJsIiwic3RhcnRzV2l0aCIsImJhc2VVcmwiLCJiYXNlVXJpIiwidXJpIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJDT01QT05FTlRTIiwiU0NBTEFSIiwiVkVDMiIsIlZFQzMiLCJWRUM0IiwiTUFUMiIsIk1BVDMiLCJNQVQ0IiwiQllURVMiLCJUWVBFUyIsIkFSUkFZX0NPTlNUUlVDVE9SX1RPX1dFQkdMX0NPTlNUQU5UIiwiSW50OEFycmF5IiwiSW50MTZBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDMyQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJGbG9hdDY0QXJyYXkiLCJBUlJBWV9UT19DT01QT05FTlRfVFlQRSIsIk1hcCIsIkFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFMiLCJBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFIiwiQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0FSUkFZIiwiZ2V0QWNjZXNzb3JUeXBlRnJvbVNpemUiLCJzaXplIiwiZ2V0Q29tcG9uZW50VHlwZUZyb21BcnJheSIsImNvbXBvbmVudFR5cGUiLCJnZXQiLCJjb25zdHJ1Y3RvciIsImdldEFjY2Vzc29yQXJyYXlUeXBlQW5kTGVuZ3RoIiwiYWNjZXNzb3IiLCJidWZmZXJWaWV3IiwiQXJyYXlUeXBlIiwiY29tcG9uZW50cyIsImJ5dGVzUGVyQ29tcG9uZW50IiwiY291bnQiLCJjb21wb25lbnRCeXRlU2l6ZSIsIm51bWJlck9mQ29tcG9uZW50c0luRWxlbWVudCIsIkdMVEZTY2VuZWdyYXBoIiwiZ2x0ZiIsInNvdXJjZUJ1ZmZlcnMiLCJ0aGlzIiwiYXNzZXQiLCJnZW5lcmF0b3IiLCJidWZmZXJzIiwiZXh0ZW5zaW9uc1JlcXVpcmVkIiwiZXh0ZW5zaW9uc1VzZWQiLCJnZXRBcHBsaWNhdGlvbkRhdGEiLCJnZXRFeHRyYURhdGEiLCJleHRyYXMiLCJoYXNFeHRlbnNpb24iLCJleHRlbnNpb25OYW1lIiwiaXNVc2VkRXh0ZW5zaW9uIiwiZ2V0VXNlZEV4dGVuc2lvbnMiLCJmaW5kIiwiaXNSZXF1aXJlZEV4dGVuc2lvbiIsImdldFJlcXVpcmVkRXh0ZW5zaW9ucyIsImlzRXh0ZW5zaW9uIiwiZ2V0UmVxdWlyZWRFeHRlbnNpb24iLCJnZXRSZW1vdmVkRXh0ZW5zaW9ucyIsImV4dGVuc2lvbnNSZW1vdmVkIiwiZ2V0T2JqZWN0RXh0ZW5zaW9uIiwiZ2V0U2NlbmUiLCJpbmRleCIsImdldE9iamVjdCIsImdldE5vZGUiLCJnZXRTa2luIiwiZ2V0TWVzaCIsImdldE1hdGVyaWFsIiwiZ2V0QWNjZXNzb3IiLCJnZXRUZXh0dXJlIiwiZ2V0U2FtcGxlciIsImdldEltYWdlIiwiZ2V0QnVmZmVyVmlldyIsImdldEJ1ZmZlciIsImdldFR5cGVkQXJyYXlGb3JCdWZmZXJWaWV3IiwiYnVmZmVySW5kZXgiLCJiaW5DaHVuayIsImdldFR5cGVkQXJyYXlGb3JBY2Nlc3NvciIsImdsdGZBY2Nlc3NvciIsImFjY2Vzc29ycyIsInN0cmluZ2lmeSIsImJ1ZmZlclZpZXdzIiwiYnVmZmVyQnl0ZU9mZnNldCIsImVsZW1lbnRCeXRlU2l6ZSIsImVsZW1lbnRBZGRyZXNzU2NhbGUiLCJieXRlU3RyaWRlIiwidmFsdWVzIiwiZ2V0VHlwZWRBcnJheUZvckltYWdlRGF0YSIsImFkZEFwcGxpY2F0aW9uRGF0YSIsImFkZEV4dHJhRGF0YSIsImFkZE9iamVjdEV4dGVuc2lvbiIsInJlZ2lzdGVyVXNlZEV4dGVuc2lvbiIsInNldE9iamVjdEV4dGVuc2lvbiIsInJlbW92ZU9iamVjdEV4dGVuc2lvbiIsImluY2x1ZGVzIiwiYWRkRXh0ZW5zaW9uIiwiZXh0ZW5zaW9uRGF0YSIsImFkZFJlcXVpcmVkRXh0ZW5zaW9uIiwicmVnaXN0ZXJSZXF1aXJlZEV4dGVuc2lvbiIsImV4dCIsInJlbW92ZUV4dGVuc2lvbiIsIl9yZW1vdmVTdHJpbmdGcm9tQXJyYXkiLCJzZXREZWZhdWx0U2NlbmUiLCJzY2VuZUluZGV4Iiwic2NlbmUiLCJhZGRTY2VuZSIsIm5vZGVJbmRpY2VzIiwic2NlbmVzIiwibm9kZXMiLCJhZGROb2RlIiwibm9kZSIsIm1lc2hJbmRleCIsIm1hdHJpeCIsIm5vZGVEYXRhIiwibWVzaCIsImFkZE1lc2giLCJhdHRyaWJ1dGVzIiwiaW5kaWNlcyIsIm1hdGVyaWFsIiwibW9kZSIsImdsVEZNZXNoIiwicHJpbWl0aXZlcyIsIl9hZGRBdHRyaWJ1dGVzIiwiaW5kaWNlc0FjY2Vzc29yIiwiX2FkZEluZGljZXMiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIm1lc2hlcyIsImFkZFBvaW50Q2xvdWQiLCJhZGRJbWFnZSIsImltYWdlRGF0YSIsIm1pbWVUeXBlT3B0IiwibWV0YWRhdGEiLCJnbFRGSW1hZ2UiLCJhZGRCdWZmZXJWaWV3IiwiZ2xURkJ1ZmZlclZpZXciLCJhZGRBY2Nlc3NvciIsImJ1ZmZlclZpZXdJbmRleCIsImdsVEZBY2Nlc3NvciIsIm1heCIsIm1pbiIsImFkZEJpbmFyeUJ1ZmZlciIsInNvdXJjZUJ1ZmZlciIsIm1pbk1heCIsIl9nZXRBY2Nlc3Nvck1pbk1heCIsImFjY2Vzc29yRGVmYXVsdHMiLCJNYXRoIiwicm91bmQiLCJhZGRUZXh0dXJlIiwidGV4dHVyZSIsImdsVEZUZXh0dXJlIiwidGV4dHVyZXMiLCJhZGRNYXRlcmlhbCIsInBick1hdGVyaWFsSW5mbyIsIm1hdGVyaWFscyIsImNyZWF0ZUJpbmFyeUNodW5rIiwidG90YWxCeXRlTGVuZ3RoIiwidGFyZ2V0QXJyYXkiLCJkc3RCeXRlT2Zmc2V0IiwiZm91bmQiLCJpbmRleE9mIiwic3BsaWNlIiwiYXR0cmlidXRlS2V5IiwiYXR0cmlidXRlRGF0YSIsImF0dHJOYW1lIiwiX2dldEdsdGZBdHRyaWJ1dGVOYW1lIiwidmFsdWUiLCJhdHRyaWJ1dGVOYW1lIiwiaW5pdFZhbHVlcyIsImNvbXBvbmVudEluZGV4IiwiZW1vZCIsIm4iLCJCT09MRUFOIiwiU1RSSU5HIiwiRU5VTSIsIklOVDgiLCJVSU5UOCIsIklOVDE2IiwiVUlOVDE2IiwiSU5UMzIiLCJJbnQzMkFycmF5IiwiVUlOVDMyIiwiSU5UNjQiLCJCaWdJbnQ2NEFycmF5IiwiVUlOVDY0IiwiQmlnVWludDY0QXJyYXkiLCJGTE9BVDMyIiwiRkxPQVQ2NCIsImdldEFycmF5RWxlbWVudEJ5dGVTaXplIiwiYXR0cmlidXRlVHlwZSIsImdldE9mZnNldHNGb3JQcm9wZXJ0eSIsInNjZW5lZ3JhcGgiLCJvZmZzZXRUeXBlIiwibnVtYmVyT2ZFbGVtZW50cyIsImFycmF5T2Zmc2V0cyIsImNvbnZlcnRSYXdCdWZmZXJUb01ldGFkYXRhQXJyYXkiLCJlbGVtZW50Q291bnQiLCJudW1iZXJPZkNvbXBvbmVudHMiLCJnZXRQcmltaXRpdmVUZXh0dXJlRGF0YSIsInRleHR1cmVJbmZvIiwicHJpbWl0aXZlIiwidGV4Q29vcmRBY2Nlc3NvcktleSIsInRleENvb3JkIiwidGV4Q29vcmRBY2Nlc3NvckluZGV4IiwidGV4dHVyZUNvb3JkaW5hdGVzIiwidGV4dHVyZUluZGV4IiwicGFyc2VkSW1hZ2UiLCJ0ZXh0dXJlRGF0YSIsImdldEltYWdlVmFsdWVCeUNvb3JkaW5hdGVzIiwiY2hhbm5lbHMiLCJwcmltaXRpdmVQcm9wZXJ0eURhdGFUb0F0dHJpYnV0ZXMiLCJwcm9wZXJ0eURhdGEiLCJmZWF0dXJlVGFibGUiLCJmZWF0dXJlSW5kaWNlcyIsInRleGVsRGF0YSIsImZpbmRJbmRleCIsIml0ZW0iLCJhY2Nlc3NvckluZGV4IiwiQ0hBTk5FTFNfTUFQIiwiciIsInNoaWZ0IiwiZyIsImIiLCJhIiwidSIsInYiLCJjb21wb25lbnRzQ291bnQiLCJ3IiwiaVgiLCJpbmRYIiwiaCIsImlZIiwiY29vcmRpbmF0ZXNUb09mZnNldCIsImMiLCJpbWFnZU9mZnNldCIsInBhcnNlVmFyaWFibGVMZW5ndGhBcnJheU51bWVyaWMiLCJ2YWx1ZXNEYXRhIiwidmFsdWVzRGF0YUJ5dGVzTGVuZ3RoIiwidmFsdWVTaXplIiwiYXR0cmlidXRlVmFsdWVBcnJheSIsImFycmF5T2Zmc2V0IiwiYXJyYXlCeXRlU2l6ZSIsInR5cGVkQXJyYXlPZmZzZXQiLCJwYXJzZUZpeGVkTGVuZ3RoQXJyYXlOdW1lcmljIiwiYXJyYXlDb3VudCIsImVsZW1lbnRPZmZzZXQiLCJnZXRQcm9wZXJ0eURhdGFTdHJpbmciLCJ2YWx1ZXNEYXRhQnl0ZXMiLCJzdHJpbmdPZmZzZXRzIiwic3RyaW5nc0FycmF5IiwidGV4dERlY29kZXIiLCJzdHJpbmdPZmZzZXQiLCJzdHJpbmdCeXRlU2l6ZSIsInN0cmluZ0RhdGEiLCJzdHJpbmdBdHRyaWJ1dGUiLCJFWFRfTUVTSF9GRUFUVVJFU19OQU1FIiwiZ2x0ZkRhdGEiLCJwcm9jZXNzTWVzaFByaW1pdGl2ZUZlYXR1cmVzIiwiZGVjb2RlRXh0TWVzaEZlYXR1cmVzIiwiZW5jb2RlIiwiZW5jb2RlRXh0TWVzaEZlYXR1cmVzRm9yUHJpbWl0aXZlIiwiZW5jb2RlRXh0TWVzaEZlYXR1cmVzIiwibG9hZEJ1ZmZlcnMiLCJmZWF0dXJlSWRzIiwiZmVhdHVyZUlkIiwiZmVhdHVyZUlkRGF0YSIsImF0dHJpYnV0ZSIsImFjY2Vzc29yS2V5IiwibG9hZEltYWdlcyIsImNyZWF0ZUV4dE1lc2hGZWF0dXJlcyIsImZlYXR1cmVJZEFycmF5IiwicHJvcGVydHlUYWJsZUluZGV4IiwiZmVhdHVyZUNvdW50IiwicHJvcGVydHlUYWJsZSIsImZvckVhY2giLCJlbGVtZW50SW5kZXgiLCJhdHRycyIsImtleXMiLCJmaWx0ZXIiLCJzdWJzdHJpbmciLCJjcmVhdGVBY2Nlc3NvcktleSIsIkVYVF9TVFJVQ1RVUkFMX01FVEFEQVRBX05BTUUiLCJwcm9wZXJ0eVRleHR1cmVzIiwicHJvY2Vzc1ByaW1pdGl2ZVByb3BlcnR5VGV4dHVyZXMiLCJkZWNvZGVQcm9wZXJ0eVRleHR1cmVzIiwic2NoZW1hIiwic2NoZW1hQ2xhc3NlcyIsImNsYXNzZXMiLCJwcm9wZXJ0eVRhYmxlcyIsInNjaGVtYU5hbWUiLCJmaW5kUHJvcGVydHlUYWJsZUJ5Q2xhc3MiLCJwcm9jZXNzUHJvcGVydHlUYWJsZSIsImRlY29kZVByb3BlcnR5VGFibGVzIiwiZGVjb2RlRXh0U3RydWN0dXJhbE1ldGFkYXRhIiwidGFibGUiLCJjbGFzc0lkIiwiY2xhc3MiLCJzY2hlbWFDbGFzcyIsInByb3BlcnRpZXMiLCJlbmNvZGVQcm9wZXJ0aWVzIiwiZW5jb2RlRXh0U3RydWN0dXJhbE1ldGFkYXRhIiwic2NoZW1hQ2xhc3NOYW1lIiwicHJpbWl0aXZlRXh0ZW5zaW9uIiwicHJpbWl0aXZlUHJvcGVydHlUZXh0dXJlSW5kaWNlcyIsInByaW1pdGl2ZVByb3BlcnR5VGV4dHVyZUluZGV4IiwicHJvY2Vzc1ByaW1pdGl2ZVByb3BlcnR5VGV4dHVyZSIsInByb3BlcnR5VGV4dHVyZSIsImRhdGFBdHRyaWJ1dGVOYW1lcyIsImNsYXNzTmFtZSIsInByb3BlcnR5TmFtZSIsInRleHR1cmVJbmZvVG9wTGV2ZWwiLCJmZWF0dXJlVGV4dHVyZVRhYmxlIiwiY2xhc3NQcm9wZXJ0eSIsInByb3BlcnR5VGFibGVQcm9wZXJ0eSIsImdldFByb3BlcnR5RGF0YUZyb21CaW5hcnlTb3VyY2UiLCJ2YWx1ZXNCdWZmZXJWaWV3IiwiYXJyYXlPZmZzZXRUeXBlIiwiZ2V0QXJyYXlPZmZzZXRzRm9yUHJvcGVydHkiLCJzdHJpbmdPZmZzZXRUeXBlIiwiZ2V0U3RyaW5nT2Zmc2V0c0ZvclByb3BlcnR5IiwiaXNBcnJheSIsImVsZW1lbnRTaXplIiwiZ2V0UHJvcGVydHlEYXRhTnVtZXJpYyIsImVudW1UeXBlIiwiZW51bUVudHJ5IiwiZW51bXMiLCJlbnVtVmFsdWVUeXBlIiwidmFsdWVUeXBlIiwicGFyYW1zIiwiZ2V0RW51bXNBcnJheSIsInBhcnNlVmFyaWFibGVMZW5ndGhBcnJheUVOVU0iLCJwYXJzZUZpeGVkTGVuZ3RoQXJyYXlFTlVNIiwiZ2V0UHJvcGVydHlEYXRhRU5VTSIsImVudW1PYmplY3QiLCJnZXRFbnVtQnlWYWx1ZSIsImVudW1WYWx1ZSIsIlNDSEVNQV9DTEFTU19JRF9ERUZBVUxUIiwidGFibGVQcm9wZXJ0eSIsImNyZWF0ZVByb3BlcnR5VGFibGVQcm9wZXJ0eSIsImNyZWF0ZUV4dFN0cnVjdHVyYWxNZXRhZGF0YSIsInByb3BlcnR5QXR0cmlidXRlcyIsInNjaGVtYVRvVXBkYXRlIiwiZWxlbWVudFR5cGUiLCJjcmVhdGVTY2hlbWEiLCJjcmVhdGVQcm9wZXJ0eVRhYmxlIiwicHJvcCIsInN0cmluZ3MiLCJ1dGY4RW5jb2RlIiwiVGV4dEVuY29kZXIiLCJhcnIiLCJsZW4iLCJzdHIiLCJ1aW50OEFycmF5Iiwic3RyQXJyYXkiLCJzdHJPZmZzZXRzIiwiY3JlYXRlUHJvcGVydHlEYXRhU3RyaW5nIiwiY3JlYXRlQnVmZmVyVmlldyIsIm51bWJlckFycmF5IiwiQ29uc3RydWN0IiwiQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVlfQ09OU1RSVUNUT1IiLCJjcmVhdGVQcm9wZXJ0eURhdGFTY2FsYXIiLCJ3YXNtX2Jhc2UiLCJ3YXNtX3NpbWQiLCJkZXRlY3RvciIsIndhc21wYWNrIiwiRklMVEVSUyIsIk5PTkUiLCJPQ1RBSEVEUkFMIiwiUVVBVEVSTklPTiIsIkVYUE9ORU5USUFMIiwiREVDT0RFUlMiLCJBVFRSSUJVVEVTIiwiVFJJQU5HTEVTIiwiSU5ESUNFUyIsIndhc21Qcm9taXNlIiwiRVhUX01FU0hPUFRfQ09NUFJFU1NJT04iLCJkZWNvbXByZXNzTWVzaGVzIiwicHJvbWlzZXMiLCJkZWNvZGVNZXNob3B0QnVmZmVyVmlldyIsIm1lc2hvcHRFeHRlbnNpb24iLCJpbnN0YW5jZSIsIndhc20iLCJXZWJBc3NlbWJseSIsInZhbGlkYXRlIiwibG9nIiwiaW5zdGFudGlhdGUiLCJjaCIsIndyaXRlIiwidW5wYWNrIiwiZXhwb3J0cyIsIl9fd2FzbV9jYWxsX2N0b3JzIiwibG9hZFdhc21Nb2R1bGUiLCJsb2FkV2FzbUluc3RhbmNlIiwiZnVuIiwic2JyayIsImNvdW50NCIsInRwIiwic3AiLCJoZWFwIiwibWVtb3J5IiwicmVzIiwibWVzaG9wdERlY29kZUdsdGZCdWZmZXIiLCJtaW1lVHlwZVN1cHBvcnRlZFN5bmMiLCJpc0ltYWdlRm9ybWF0U3VwcG9ydGVkIiwic3VwcG9ydGVkIiwidG9EYXRhVVJMIiwidGVzdEJyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQiLCJjaGVja0Jyb3dzZXJJbWFnZUZvcm1hdFN1cHBvcnQiLCJpbWFnZUZvcm1hdHNOb2RlIiwiY2hlY2tOb2RlSW1hZ2VGb3JtYXRTdXBwb3J0IiwiRVhUX1RFWFRVUkVfV0VCUCIsInByZXByb2Nlc3MiLCJLSFJfVEVYVFVSRV9CQVNJU1UiLCJnZXRHTFRGQWNjZXNzb3IiLCJjb252ZXJ0VHlwZWRBcnJheXMiLCJBcnJheSIsInRvVHlwZWRBcnJheSIsImdldEFjY2Vzc29yRGF0YSIsIktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIiwibWFrZU1lc2hQcmltaXRpdmVJdGVyYXRvciIsImRlY29tcHJlc3NQcmltaXRpdmUiLCJjb21wcmVzc01lc2giLCJkcmFjb0V4dGVuc2lvbiIsImJ1ZmZlckNvcHkiLCJkcmFjb09wdGlvbnMiLCJkZWNvZGVkQXR0cmlidXRlcyIsImdldEdMVEZBY2Nlc3NvcnMiLCJkZWNvZGVkQXR0cmlidXRlIiwiZW50cmllcyIsImNoZWNrUHJpbWl0aXZlIiwiRHJhY29Xcml0ZXIiLCJjb21wcmVzc2VkRGF0YSIsImVuY29kZVN5bmMiLCJwYXJzZVN5bmMiLCJmYXV4QWNjZXNzb3JzIiwiX2FkZEZhdXhBdHRyaWJ1dGVzIiwiUEkiLCJtYXRoZ2wiLCJjb25maWciLCJFUFNJTE9OIiwiZGVidWciLCJwcmVjaXNpb24iLCJwcmludFR5cGVzIiwicHJpbnREZWdyZWVzIiwicHJpbnRSb3dNYWpvciIsIl9jYXJ0b2dyYXBoaWNSYWRpYW5zIiwiZm9ybWF0VmFsdWUiLCJwYXJzZUZsb2F0IiwidG9QcmVjaXNpb24iLCJlcXVhbHMiLCJlcHNpbG9uIiwib2xkRXBzaWxvbiIsImFicyIsIk1hdGhBcnJheSIsImNsb25lIiwiY29weSIsImZyb21BcnJheSIsIkVMRU1FTlRTIiwiY2hlY2siLCJ0b0FycmF5IiwidG9PYmplY3QiLCJ0YXJnZXRPYmplY3QiLCJmcm9tIiwiYXJyYXlPck9iamVjdCIsImZyb21PYmplY3QiLCJ0byIsInRvVGFyZ2V0IiwidG9GbG9hdDMyQXJyYXkiLCJ0b1N0cmluZyIsImZvcm1hdFN0cmluZyIsIm9wdHMiLCJleGFjdEVxdWFscyIsIm5lZ2F0ZSIsImxlcnAiLCJ0IiwiYWkiLCJlbmRWYWx1ZSIsInZlY3RvciIsImNsYW1wIiwibWluVmVjdG9yIiwibWF4VmVjdG9yIiwidmVjdG9ycyIsInN1YnRyYWN0Iiwic2NhbGUiLCJtdWx0aXBseUJ5U2NhbGFyIiwic2NhbGFyIiwidmFsaWQiLCJzdWIiLCJzZXRTY2FsYXIiLCJhZGRTY2FsYXIiLCJzdWJTY2FsYXIiLCJtdWx0aXBseVNjYWxhciIsImRpdmlkZVNjYWxhciIsImNsYW1wU2NhbGFyIiwiZWxlbWVudHMiLCJjaGVja051bWJlciIsIlZlY3RvciIsIngiLCJ5Iiwic3FydCIsImxlbmd0aFNxdWFyZWQiLCJtYWduaXR1ZGUiLCJtYWduaXR1ZGVTcXVhcmVkIiwiZGlzdGFuY2UiLCJtYXRoQXJyYXkiLCJkaXN0YW5jZVNxdWFyZWQiLCJkaXN0IiwiZG90IiwicHJvZHVjdCIsIm5vcm1hbGl6ZSIsIm11bHRpcGx5IiwiZGl2aWRlIiwibGVuZ3RoU3EiLCJkaXN0YW5jZVRvIiwiZGlzdGFuY2VUb1NxdWFyZWQiLCJnZXRDb21wb25lbnQiLCJzZXRDb21wb25lbnQiLCJhZGRWZWN0b3JzIiwic3ViVmVjdG9ycyIsIm11bHRpcGx5VmVjdG9ycyIsImFkZFNjYWxlZFZlY3RvciIsIkFSUkFZX1RZUEUiLCJ0cmFuc2Zvcm1NYXQzIiwib3V0IiwibSIsInoiLCJyYW5kb20iLCJjcmVhdGUiLCJPUklHSU4iLCJaRVJPIiwiVmVjdG9yMyIsImZyZWV6ZSIsInN1cGVyIiwiYXJndW1lbnRzIiwiYW5nbGUiLCJheCIsImF5IiwiYXoiLCJieCIsImJ5IiwiYnoiLCJtYWciLCJjb3NpbmUiLCJhY29zIiwiY3Jvc3MiLCJyb3RhdGVYIiwicmFkaWFucyIsIm9yaWdpbiIsInJhZCIsInAiLCJjb3MiLCJzaW4iLCJyb3RhdGVZIiwicm90YXRlWiIsInRyYW5zZm9ybSIsIm1hdHJpeDQiLCJ0cmFuc2Zvcm1Bc1BvaW50IiwidHJhbnNmb3JtQXNWZWN0b3IiLCJ2ZWMzX3RyYW5zZm9ybU1hdDRBc1ZlY3RvciIsInRyYW5zZm9ybUJ5TWF0cml4MyIsIm1hdHJpeDMiLCJ0cmFuc2Zvcm1CeU1hdHJpeDIiLCJtYXRyaXgyIiwidmVjM190cmFuc2Zvcm1NYXQyIiwidHJhbnNmb3JtQnlRdWF0ZXJuaW9uIiwicXVhdGVybmlvbiIsInEiLCJxeCIsInF5IiwicXoiLCJxdyIsInV2eCIsInV2eSIsInV2eiIsInV1dngiLCJ1dXZ5IiwidXV2eiIsIncyIiwiTWF0cml4Iiwicm93IiwiUkFOSyIsImNvbCIsImdldEVsZW1lbnRJbmRleCIsImdldEVsZW1lbnQiLCJzZXRFbGVtZW50IiwiZ2V0Q29sdW1uIiwiY29sdW1uSW5kZXgiLCJmaWxsIiwiZmlyc3RJbmRleCIsInNldENvbHVtbiIsImNvbHVtblZlY3RvciIsImEwMCIsImEwMSIsImEwMiIsImExMCIsImExMSIsImExMiIsImEyMCIsImEyMSIsImEyMiIsImIwMCIsImIwMSIsImIwMiIsImIxMCIsImIxMSIsImIxMiIsImIyMCIsImIyMSIsImIyMiIsIklERU5USVRZX01BVFJJWCIsIk1hdHJpeDMiLCJJREVOVElUWSIsIklERU5USVRZX01BVFJJWDMiLCJaRVJPX01BVFJJWDMiLCJhcmdzIiwiaWRlbnRpdHkiLCJmcm9tUXVhdGVybmlvbiIsIngyIiwieTIiLCJ6MiIsInh4IiwieXgiLCJ5eSIsInp4IiwienkiLCJ6eiIsInd4Iiwid3kiLCJ3eiIsIm0wMCIsIm0xMCIsIm0yMCIsIm0wMSIsIm0xMSIsIm0yMSIsIm0wMiIsIm0xMiIsIm0yMiIsInNldFJvd01ham9yIiwiZGV0ZXJtaW5hbnQiLCJ0cmFuc3Bvc2UiLCJpbnZlcnQiLCJkZXQiLCJtdWx0aXBseUxlZnQiLCJtYXQzX211bHRpcGx5IiwibXVsdGlwbHlSaWdodCIsInJvdGF0ZSIsInMiLCJmYWN0b3IiLCJtYXQzX3NjYWxlIiwidHJhbnNsYXRlIiwidmVjIiwidmVjMl90cmFuc2Zvcm1NYXQzIiwidmVjNF90cmFuc2Zvcm1NYXQzIiwiY2FsbGVyTmFtZSIsInZhbGlkYXRlVmVjdG9yIiwiY2hlY2tWZWN0b3IiLCJ0cmFuc2Zvcm1WZWN0b3IiLCJ0cmFuc2Zvcm1WZWN0b3IyIiwidHJhbnNmb3JtVmVjdG9yMyIsIktIUl9URVhUVVJFX1RSQU5TRk9STSIsInNjcmF0Y2hWZWN0b3IiLCJzY3JhdGNoUm90YXRpb25NYXRyaXgiLCJzY3JhdGNoU2NhbGVNYXRyaXgiLCJ0cmFuc2Zvcm1UZXhDb29yZHMiLCJtYXRlcmlhbEluZGV4IiwibWF0ZXJpYWxUZXh0dXJlcyIsInBick1ldGFsbGljUm91Z2huZXNzIiwiYmFzZUNvbG9yVGV4dHVyZSIsImVtaXNzaXZlVGV4dHVyZSIsIm5vcm1hbFRleHR1cmUiLCJvY2NsdXNpb25UZXh0dXJlIiwibWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlIiwicHJvY2Vzc2VkVGV4Q29vcmRzIiwidHJhbnNmb3JtUHJpbWl0aXZlcyIsInRyYW5zZm9ybVBhcmFtZXRlcnMiLCJvcmlnaW5hbFRleENvb3JkIiwib3JpZ2luYWwiLCJuZXdUZXhDb29yZCIsInJvdGF0aW9uIiwidHJhbnNsYXRpb25NYXRyaXgiLCJyb3RhdGlvbk1hdHJpeCIsInNjYWxlTWF0cml4IiwibWFrZVRyYW5zZm9ybWF0aW9uTWF0cml4IiwiZ2V0VHJhbnNmb3JtUGFyYW1ldGVycyIsInRyYW5zZm9ybVByaW1pdGl2ZSIsInRleENvb3JkQWNjZXNzb3IiLCJieXRlcyIsInV2IiwibmV3VGV4Q29vcmRBcnJheSIsInVwZGF0ZUdsdGYiLCJvcmlnaW5hbEFjY2Vzc29yIiwiY3JlYXRlQXR0cmlidXRlIiwiS0hSX0xJR0hUU19QVU5DVFVBTCIsImdsdGZTY2VuZWdyYXBoIiwibGlnaHRzIiwibm9kZUV4dGVuc2lvbiIsImxpZ2h0IiwiS0hSX01BVEVSSUFMU19VTkxJVCIsIktIUl9tYXRlcmlhbHNfdW5saXQiLCJ1bmxpdCIsIktIUl9URUNITklRVUVTX1dFQkdMIiwidGVjaG5pcXVlcyIsInRlY2huaXF1ZXNFeHRlbnNpb24iLCJwcm9ncmFtcyIsInNoYWRlcnMiLCJzaGFkZXIiLCJjb2RlIiwicHJvZ3JhbSIsImZyYWdtZW50U2hhZGVyIiwidmVydGV4U2hhZGVyIiwidGVjaG5pcXVlIiwicmVzb2x2ZVRlY2huaXF1ZXMiLCJtYXRlcmlhbEV4dGVuc2lvbiIsInJlc29sdmVWYWx1ZXMiLCJ1bmlmb3JtcyIsInVuaWZvcm0iLCJFWFRfRkVBVFVSRV9NRVRBREFUQV9OQU1FIiwiZmVhdHVyZVRleHR1cmVzIiwiZmVhdHVyZVRleHR1cmUiLCJmaW5kRmVhdHVyZVRleHR1cmVCeUNsYXNzIiwiaGFuZGxlRmVhdHVyZVRleHR1cmVQcm9wZXJ0aWVzIiwiZmVhdHVyZVRhYmxlcyIsImRlY29kZUV4dEZlYXR1cmVNZXRhZGF0YSIsInByb3BlcnR5VGFibGVOYW1lIiwiZmVhdHVyZVRleHR1cmVzTmFtZSIsImZlYXR1cmVUZXh0dXJlUHJvcGVydHkiLCJnZXRQcm9wZXJ0eURhdGFGcm9tVGV4dHVyZSIsIm51bWJlck9mRmVhdHVyZXMiLCJmZWF0dXJlVGFibGVQcm9wZXJ0eSIsImRhdGFBcnJheSIsImNvbXBvbmVudENvdW50IiwiYXJyYXlPZmZzZXRCdWZmZXJWaWV3Iiwic3RyaW5nT2Zmc2V0QnVmZmVyVmlldyIsInNjaGVtYVByb3BlcnR5IiwidHlwZXMiLCJpc051bWVyaWNQcm9wZXJ0eSIsInByb2Nlc3NQcmltaXRpdmVUZXh0dXJlcyIsInVzZUV4dGVuc2lvbiIsImV4Y2x1ZGVzIiwiZXhjbHVkZUV4dGVuc2lvbnMiLCJLSFJfQklOQVJZX0dMVEYiLCJHTFRGX0FSUkFZUyIsImFuaW1hdGlvbnMiLCJzYW1wbGVycyIsInNraW5zIiwiR0xURl9LRVlTIiwic2FtcGxlciIsInNraW4iLCJHTFRGVjFOb3JtYWxpemVyIiwiaWRUb0luZGV4TWFwIiwiX2FkZEFzc2V0IiwiX2NvbnZlcnRUb3BMZXZlbE9iamVjdHNUb0FycmF5cyIsIl9jb252ZXJ0T2JqZWN0SWRzVG9BcnJheUluZGljZXMiLCJfdXBkYXRlT2JqZWN0cyIsIl91cGRhdGVNYXRlcmlhbCIsImFycmF5TmFtZSIsIl9jb252ZXJ0VG9wTGV2ZWxPYmplY3RUb0FycmF5IiwibWFwTmFtZSIsIm9iamVjdE1hcCIsIl9jb252ZXJ0SWRzVG9JbmRpY2VzIiwiX2NvbnZlcnRJZFRvSW5kZXgiLCJfY29udmVydFRleHR1cmVJZHMiLCJfY29udmVydE1lc2hJZHMiLCJfY29udmVydE5vZGVJZHMiLCJfY29udmVydFNjZW5lSWRzIiwiY2hpbGRyZW4iLCJjaGlsZCIsInRvcExldmVsQXJyYXlOYW1lIiwiYmFzZUNvbG9yRmFjdG9yIiwibWV0YWxsaWNGYWN0b3IiLCJyb3VnaG5lc3NGYWN0b3IiLCJ0ZXh0dXJlSWQiLCJ0ZXgiLCJ0ZXh0dXJlMmRfMCIsImRpZmZ1c2VUZXgiLCJwYXJzZUdMVEYiLCJhcnJheUJ1ZmZlck9yU3RyaW5nIiwibWFnaWMxIiwiXyIsImdldEZpcnN0Q2hhcmFjdGVycyIsInBhcnNlSlNPTiIsIkdMQl9GSUxFX0hFQURFUl9TSVpFIiwiY29udGVudExlbmd0aCIsImNvbnRlbnRGb3JtYXQiLCJwYXJzZUdMQlYxIiwiY2h1bmtGb3JtYXQiLCJzdHJpY3QiLCJwYXJzZUdMQkNodW5rc1N5bmMiLCJwYXJzZUdMQlYyIiwicGFyc2VHTEJTeW5jIiwiX2dsYiIsInBhcnNlR0xURkNvbnRhaW5lclN5bmMiLCJub3JtYWxpemVHTFRGVjEiLCJwcmVwcm9jZXNzRXh0ZW5zaW9ucyIsImZldGNoIiwicmVzcG9uc2UiLCJpbWFnZUluZGljZXMiLCJzb3J0IiwiZ2V0UmVmZXJlbmNlc0ltYWdlSW5kaWNlcyIsImxvYWRJbWFnZSIsImRlY29kZUV4dGVuc2lvbnMiLCJoYXNPd25Qcm9wZXJ0eSIsIm1pcG1hcHMiLCJHTFRGTG9hZGVyIiwidGV4dCIsImZyb21RdWF0IiwiYTAiLCJhMSIsImEyIiwiYTMiLCJiMCIsImIxIiwiYjIiLCJiMyIsImEwMyIsImExMyIsImEyMyIsImEzMCIsImEzMSIsImEzMiIsImEzMyIsImIwMyIsImIwNCIsImIwNSIsImIwNiIsImIwNyIsImIwOCIsImIwOSIsImZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUiLCJ4eSIsInh6IiwieXoiLCJzeCIsInN5Iiwic3oiLCJwZXJzcGVjdGl2ZSIsImZvdnkiLCJhc3BlY3QiLCJuZWFyIiwiZmFyIiwiZiIsInRhbiIsIkluZmluaXR5IiwibmYiLCJ3aW5kb3ciLCJnbG9iYWwiLCJpc0Jyb3dzZXIiLCJwcm9jZXNzIiwiYnJvd3NlciIsImlzV29ya2VyIiwiaW1wb3J0U2NyaXB0cyIsImlzTW9iaWxlIiwib3JpZW50YXRpb24iLCJtYXRjaGVzIiwiZXhlYyIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsImlzUHVyZU9iamVjdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiYXN5bmNJdGVyYXRvciIsIlJlc3BvbnNlIiwiaXNCdWZmZXIiLCJSZWFkYWJsZVN0cmVhbSIsInRlZSIsImNhbmNlbCIsImdldFJlYWRlciIsImlzUmVhZGFibGVET01TdHJlYW0iLCJyZWFkIiwicGlwZSIsImlzQm9vbGVhbiIsInJlYWRhYmxlIiwiaXNSZWFkYWJsZU5vZGVTdHJlYW0iLCJpc0xvYWRlck9iamVjdCIsImxvYWRlciIsInBhcnNlVGV4dFN5bmMiLCJwYXJzZVRleHQiLCJwYXRoUHJlZml4IiwiZmlsZUFsaWFzZXMiLCJGZXRjaEVycm9yIiwiaW5mbyIsInJlYXNvbiIsIkRBVEFfVVJMX1BBVFRFUk4iLCJNSU1FX1RZUEVfUEFUVEVSTiIsImNvbXBhcmVNSU1FVHlwZXMiLCJtaW1lVHlwZTEiLCJtaW1lVHlwZTIiLCJwYXJzZU1JTUVUeXBlRnJvbVVSTCIsIlFVRVJZX1NUUklOR19QQVRURVJOIiwic3RyaXBRdWVyeVN0cmluZyIsImdldFJlc291cmNlVXJsIiwicmVzb3VyY2UiLCJnZXRSZXNvdXJjZU1JTUVUeXBlIiwiY29udGVudFR5cGVIZWFkZXIiLCJoZWFkZXJzIiwibm9RdWVyeVVybCIsIm1pbWVTdHJpbmciLCJwYXJzZU1JTUVUeXBlIiwiZ2V0UmVzb3VyY2VDb250ZW50TGVuZ3RoIiwiaW5pdGlhbERhdGFVcmwiLCJibG9iU2xpY2UiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiZXZlbnQiLCJyZWFkQXNEYXRhVVJMIiwiYXJyYXlCdWZmZXJUb0Jhc2U2NCIsImdldEluaXRpYWxEYXRhVXJsIiwiZGVmaW5lUHJvcGVydHkiLCJmZXRjaEZpbGUiLCJ1cmxPckRhdGEiLCJmZXRjaE9wdGlvbnMiLCJmaWxlbmFtZSIsImFsaWFzIiwicmVwbGFjZW1lbnQiLCJyZXNvbHZlUGF0aCIsImlzUmVxdWVzdFVSTCIsImlzRGF0YVVSTCIsImlzTm9kZVBhdGgiLCJmZXRjaE5vZGUiLCJ2ZXJzaW9ucyIsInJlYWxVc2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpc0VsZWN0cm9uIiwiTG9jYWxTdG9yYWdlIiwiZGVmYXVsdENvbmZpZyIsInN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImUiLCJnZXRTdG9yYWdlIiwiX2xvYWRDb25maWd1cmF0aW9uIiwiZ2V0Q29uZmlndXJhdGlvbiIsInNldENvbmZpZ3VyYXRpb24iLCJjb25maWd1cmF0aW9uIiwic2VyaWFsaXplZCIsInNlcmlhbGl6ZWRDb25maWd1cmF0aW9uIiwiZ2V0SXRlbSIsIkNPTE9SIiwiZ2V0Q29sb3IiLCJjb2xvciIsInRvVXBwZXJDYXNlIiwiV0hJVEUiLCJ3aW5kb3dfIiwicHJvY2Vzc18iLCJnZXRIaVJlc1RpbWVzdGFtcCIsInRpbWVzdGFtcCIsInBlcmZvcm1hbmNlIiwibm93IiwidGltZVBhcnRzIiwiaHJ0aW1lIiwiRGF0ZSIsIm9yaWdpbmFsQ29uc29sZSIsIkRFRkFVTFRfTE9HX0NPTkZJR1VSQVRJT04iLCJlbmFibGVkIiwibGV2ZWwiLCJub29wIiwiY2FjaGUiLCJPTkNFIiwib25jZSIsIkxvZyIsIlZFUlNJT04iLCJfc3RhcnRUcyIsIl9kZWx0YVRzIiwidXNlckRhdGEiLCJMT0dfVEhST1RUTEVfVElNRU9VVCIsIl9zdG9yYWdlIiwidGltZVN0YW1wIiwib2JqIiwicHJlZGVmaW5lZCIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJwcm9wTmFtZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiYmluZCIsImF1dG9iaW5kIiwic2VhbCIsIm5ld0xldmVsIiwic2V0TGV2ZWwiLCJnZXRMZXZlbCIsImlzRW5hYmxlZCIsImdldFRvdGFsIiwiZ2V0RGVsdGEiLCJwcmlvcml0eSIsIm5ld1ByaW9yaXR5IiwiZ2V0UHJpb3JpdHkiLCJlbmFibGUiLCJzZXR0aW5nIiwic2V0dGluZ3MiLCJfZ2V0TG9nRnVuY3Rpb24iLCJkZXByZWNhdGVkIiwib2xkVXNhZ2UiLCJuZXdVc2FnZSIsInJlbW92ZWQiLCJwcm9iZSIsImxvZ0xldmVsIiwidGltZSIsImNvbHVtbnMiLCJ0YWciLCJnZXRUYWJsZUhlYWRlciIsInRpbWVFbmQiLCJncm91cCIsImNvbGxhcHNlZCIsIm5vcm1hbGl6ZUFyZ3VtZW50cyIsIm1ldGhvZCIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJ3aXRoR3JvdXAiLCJmdW5jIiwidHJhY2UiLCJfc2hvdWxkTG9nIiwibm9ybWFsaXplTG9nTGV2ZWwiLCJ0b3RhbCIsImRlbHRhIiwicGFkTGVuZ3RoIiwicmVwZWF0IiwibGVmdFBhZCIsIm1zIiwiZm9ybWF0dGVkIiwidG9GaXhlZCIsImZvcm1hdFRpbWUiLCJiYWNrZ3JvdW5kIiwiZGVjb3JhdGVNZXNzYWdlIiwicmVzb2x2ZWRMZXZlbCIsInVuc2hpZnQiLCJtZXNzYWdlVHlwZSIsInRpdGxlIiwicHJvYmVMb2ciLCJOdWxsTG9nIiwiREVGQVVMVF9MT0FERVJfT1BUSU9OUyIsIm5vdGhyb3ciLCJ1c2VMb2NhbExpYnJhcmllcyIsIkNETiIsIm1heENvbmN1cnJlbmN5IiwibWF4TW9iaWxlQ29uY3VycmVuY3kiLCJyZXVzZVdvcmtlcnMiLCJfbm9kZVdvcmtlcnMiLCJfd29ya2VyVHlwZSIsImxpbWl0IiwiX2xpbWl0TUIiLCJiYXRjaFNpemUiLCJiYXRjaERlYm91bmNlTXMiLCJ0cmFuc2Zvcm1zIiwiUkVNT1ZFRF9MT0FERVJfT1BUSU9OUyIsInRocm93cyIsImJvZHkiLCJjcmVkZW50aWFscyIsInJlZGlyZWN0IiwicmVmZXJyZXIiLCJyZWZlcnJlclBvbGljeSIsImludGVncml0eSIsImtlZXBhbGl2ZSIsInNpZ25hbCIsIl9zdGF0ZSIsImdldEdsb2JhbExvYWRlck9wdGlvbnMiLCJzdGF0ZSIsImdsb2JhbE9wdGlvbnMiLCJub3JtYWxpemVPcHRpb25zIiwidmFsaWRhdGVPcHRpb25zT2JqZWN0IiwiaWRPcHRpb25zIiwibG9hZGVyT3B0aW9ucyIsImRlcHJlY2F0ZWRPcHRpb25zIiwidmFsaWRhdGVPcHRpb25zIiwibWVyZ2VkT3B0aW9ucyIsImFkZFVybE9wdGlvbnMiLCJtZXJnZU5lc3RlZEZpZWxkcyIsIm5vcm1hbGl6ZU9wdGlvbnNJbnRlcm5hbCIsImRlZmF1bHRPcHRpb25zIiwibG9hZGVyTmFtZSIsImlzU3ViT3B0aW9ucyIsInN1Z2dlc3Rpb24iLCJmaW5kU2ltaWxhck9wdGlvbiIsIm9wdGlvbktleSIsImxvd2VyQ2FzZU9wdGlvbktleSIsImJlc3RTdWdnZXN0aW9uIiwibG93ZXJDYXNlS2V5IiwiZ2V0RmV0Y2hGdW5jdGlvbiIsIm1lcmdlTG9hZGVyT3B0aW9ucyIsImJhc2VPcHRpb25zIiwibmV3T3B0aW9ucyIsIm1lcmdlT3B0aW9uc1JlY3Vyc2l2ZWx5IiwibmV3VmFsdWUiLCJOb2RlV29ya2VyIiwidGVybWluYXRlIiwid29ya2VyVVJMQ2FjaGUiLCJnZXRMb2FkYWJsZVdvcmtlclVSTEZyb21Tb3VyY2UiLCJ3b3JrZXJTb3VyY2UiLCJnZXRUcmFuc2Zlckxpc3QiLCJyZWN1cnNpdmUiLCJ0cmFuc2ZlcnMiLCJ0cmFuc2ZlcnNTZXQiLCJpc1RyYW5zZmVyYWJsZSIsIk1lc3NhZ2VQb3J0IiwiT2Zmc2NyZWVuQ2FudmFzIiwiTk9PUCIsIldvcmtlclRocmVhZCIsInRlcm1pbmF0ZWQiLCJvbk1lc3NhZ2UiLCJvbkVycm9yIiwiX2xvYWRhYmxlVVJMIiwiaXNTdXBwb3J0ZWQiLCJXb3JrZXIiLCJwcm9wcyIsIl9jcmVhdGVCcm93c2VyV29ya2VyIiwiX2NyZWF0ZU5vZGVXb3JrZXIiLCJkZXN0cm95IiwiaXNSdW5uaW5nIiwicG9zdE1lc3NhZ2UiLCJ0cmFuc2Zlckxpc3QiLCJfZ2V0RXJyb3JGcm9tRXJyb3JFdmVudCIsImxpbmVubyIsImNvbG5vIiwid29ya2VyVVJMIiwiZ2V0TG9hZGFibGVXb3JrZXJVUkwiLCJvbm1lc3NhZ2UiLCJvbm1lc3NhZ2VlcnJvciIsImV2YWwiLCJvbiIsIldvcmtlckpvYiIsIndvcmtlclRocmVhZCIsIl9yZXNvbHZlIiwiX3JlamVjdCIsImpvYk5hbWUiLCJwYXlsb2FkIiwiZG9uZSIsIldvcmtlclBvb2wiLCJvbkRlYnVnIiwiam9iUXVldWUiLCJpZGxlUXVldWUiLCJpc0Rlc3Ryb3llZCIsInNldFByb3BzIiwic3RhcnRKb2IiLCJqb2IiLCJzdGFydFByb21pc2UiLCJvblN0YXJ0IiwiX3N0YXJ0UXVldWVkSm9iIiwiX2dldEF2YWlsYWJsZVdvcmtlciIsInF1ZXVlZEpvYiIsImJhY2tsb2ciLCJyZXR1cm5Xb3JrZXJUb1F1ZXVlIiwiX2dldE1heENvbmN1cnJlbmN5IiwiREVGQVVMVF9QUk9QUyIsIldvcmtlckZhcm0iLCJ3b3JrZXJQb29scyIsInN0YXRpYyIsImdldFdvcmtlckZhcm0iLCJfd29ya2VyRmFybSIsIndvcmtlclBvb2wiLCJfZ2V0V29ya2VyUG9vbFByb3BzIiwiZ2V0V29ya2VyUG9vbCIsInBhcnNlV2l0aFdvcmtlciIsInBhcnNlT25NYWluVGhyZWFkIiwid29ya2VyT3B0aW9ucyIsIndvcmtlckZpbGUiLCJ3b3JrZXJVcmwiLCJ2ZXJzaW9uVGFnIiwiZ2V0V29ya2VyVVJMIiwiaW5wdXQiLCJERUZBVUxUX0NIVU5LX1NJWkUiLCJfdG9BcnJheUJ1ZmZlciIsIm1ha2VTdHJlYW1JdGVyYXRvciIsInN0cmVhbSIsIm5leHRCYXRjaFByb21pc2UiLCJjdXJyZW50QmF0Y2hQcm9taXNlIiwiX3N0cmVhbVJlYWRBaGVhZCIsInJlbGVhc2VMb2NrIiwibWFrZUJyb3dzZXJTdHJlYW1JdGVyYXRvciIsImNodW5rIiwibWFrZU5vZGVTdHJlYW1JdGVyYXRvciIsIkVSUl9EQVRBIiwiZ2V0QXJyYXlCdWZmZXJPclN0cmluZ0Zyb21EYXRhIiwiaXNBcnJheUJ1ZmZlciIsImdldEFycmF5QnVmZmVyT3JTdHJpbmdGcm9tRGF0YVN5bmMiLCJvayIsInNob3J0VXJsIiwidXJsRW5kIiwic2hvcnRlblVybEZvckRpc3BsYXkiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiY29udGVudFR5cGUiLCJib2R5VXNlZCIsImdldFJlc3BvbnNlRXJyb3IiLCJjaHVua1NpemUiLCJ0ZXh0RW5jb2RlciIsIm1ha2VTdHJpbmdJdGVyYXRvciIsImNodW5rQnl0ZUxlbmd0aCIsIm1ha2VBcnJheUJ1ZmZlckl0ZXJhdG9yIiwiZW5kIiwibWFrZUJsb2JJdGVyYXRvciIsImFycmF5QnVmZmVycyIsImNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzQXN5bmMiLCJzbGFzaEluZGV4IiwiY3JlYXRlTG9nIiwiZ2V0R2xvYmFsTG9hZGVyUmVnaXN0cnkiLCJsb2FkZXJSZWdpc3RyeSIsIkVYVF9QQVRURVJOIiwic2VsZWN0TG9hZGVyU3luYyIsInZhbGlkSFRUUFJlc3BvbnNlIiwiY2FuZGlkYXRlTG9hZGVycyIsImNvbmNhdCIsImlnbm9yZVJlZ2lzdGVyZWRMb2FkZXJzIiwibm9ybWFsaXplTG9hZGVycyIsInRlc3RVcmwiLCJmaW5kTG9hZGVyQnlNSU1FVHlwZSIsIm1hdGNoIiwibG9hZGVyRXh0ZW5zaW9uIiwiZmluZExvYWRlckJ5RXh0ZW5zaW9uIiwiZmluZExvYWRlckJ5VXJsIiwidGVzdERhdGFBZ2FpbnN0VGV4dCIsInRlc3REYXRhQWdhaW5zdEJpbmFyeSIsImZpbmRMb2FkZXJCeUluaXRpYWxCeXRlcyIsImZhbGxiYWNrTWltZVR5cGUiLCJzZWxlY3RMb2FkZXJJbnRlcm5hbCIsImdldE5vVmFsaWRMb2FkZXJNZXNzYWdlIiwiZmlyc3RDaGFyYWN0ZXJzIiwic29tZSIsInRlc3RUZXh0IiwidGVzdEJpbmFyeSIsImNvbnRleHRMb2FkZXJzIiwiZ2V0TG9hZGVyc0Zyb21Db250ZXh0Iiwic2VsZWN0TG9hZGVyIiwicGFyZW50Q29udGV4dCIsIm5ld0NvbnRleHQiLCJxdWVyeVN0cmluZyIsImV4dHJhY3RRdWVyeVN0cmluZyIsImdldExvYWRlckNvbnRleHQiLCJ2YWxpZGF0ZVdvcmtlclZlcnNpb24iLCJyZWRpcmVjdGVkIiwiZnJvbUVudHJpZXMiLCJsb2FkZXJXaXRoUGFyc2VyIiwiY2FuUGFyc2VXaXRoV29ya2VyIiwicGFyc2VXaXRoTG9hZGVyIiwibG9hZCIsInJlc29sdmVkTG9hZGVycyIsInJlc29sdmVkT3B0aW9ucyIsImZyb21WYWx1ZXMiLCJ0cmFuc2Zvcm1RdWF0IiwidngiLCJ2eSIsInZ6IiwidHgiLCJ0eSIsInR6IiwiQU5HTEVfT1JERVIiLCJhdyIsImJ3IiwiaW52RG90IiwiZnJvbU1hdDMiLCJmUm9vdCIsImZUcmFjZSIsImoiLCJrIiwiZnJvbUV1bGVyIiwib3JkZXIiLCJoYWxmVG9SYWQiLCJjeCIsImN5IiwiY3oiLCJ2ZWMzIiwibWF0ciIsInNldEF4ZXMiLCJtYXQzIiwidmlldyIsInJpZ2h0IiwidXAiLCJsb2FkTGlicmFyeVByb21pc2VzIiwibG9hZExpYnJhcnkiLCJsaWJyYXJ5VXJsIiwibW9kdWxlTmFtZSIsImxpYnJhcnlOYW1lIiwibGlicmFyeSIsImdldExpYnJhcnlVcmwiLCJlbmRzV2l0aCIsInJlYWRGaWxlQXNBcnJheUJ1ZmZlciIsImxvYWRBc0FycmF5QnVmZmVyIiwicmVxdWlyZUZyb21GaWxlIiwic2NyaXB0U291cmNlIiwicmVxdWlyZUZyb21TdHJpbmciLCJjYWxsIiwic2NyaXB0IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImxvYWRMaWJyYXJ5RnJvbVN0cmluZyIsInJlYWRGaWxlQXNUZXh0IiwibG9hZEFzVGV4dCIsImxvYWRMaWJyYXJ5RnJvbUZpbGUiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwiYXBwbHkiLCJTdXBwcmVzc2VkRXJyb3IiLCJOUE1fVEFHIiwiX2xvYWRlcnNnbF8iLCJEcmFjb0xvYWRlciIsImRyYWNvIiwiZGVjb2RlclR5cGUiLCJleHRyYUF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVOYW1lRW50cnkiLCJkZWR1Y2VNZXNoRmllbGQiLCJvcHRpb25hbE1ldGFkYXRhIiwiVWludDhDbGFtcGVkQXJyYXkiLCJnZXREYXRhVHlwZUZyb21UeXBlZEFycmF5Iiwibm9ybWFsaXplZCIsIm1ha2VNZXNoQXR0cmlidXRlTWV0YWRhdGEiLCJsaXN0U2l6ZSIsIm51bGxhYmxlIiwiZ2V0QXJyb3dGaWVsZEZyb21BdHRyaWJ1dGUiLCJsb2FkZXJEYXRhIiwibWFrZU1ldGFkYXRhIiwic2VyaWFsaXplZE1ldGFkYXRhIiwiRFJBQ09fVE9fR0xURl9BVFRSSUJVVEVfTkFNRV9NQVAiLCJQT1NJVElPTiIsIk5PUk1BTCIsIlRFWF9DT09SRCIsIkRSQUNPX0RBVEFfVFlQRV9UT19UWVBFRF9BUlJBWV9NQVAiLCJEcmFjb1BhcnNlciIsImRlY29kZXIiLCJtZXRhZGF0YVF1ZXJpZXIiLCJEZWNvZGVyIiwiTWV0YWRhdGFRdWVyaWVyIiwiRGVjb2RlckJ1ZmZlciIsIkluaXQiLCJfZGlzYWJsZUF0dHJpYnV0ZVRyYW5zZm9ybXMiLCJnZW9tZXRyeV90eXBlIiwiR2V0RW5jb2RlZEdlb21ldHJ5VHlwZSIsImRyYWNvR2VvbWV0cnkiLCJUUklBTkdVTEFSX01FU0giLCJNZXNoIiwiUG9pbnRDbG91ZCIsImRyYWNvU3RhdHVzIiwiRGVjb2RlQnVmZmVyVG9NZXNoIiwiUE9JTlRfQ0xPVUQiLCJEZWNvZGVCdWZmZXJUb1BvaW50Q2xvdWQiLCJwdHIiLCJlcnJvcl9tc2ciLCJfZ2V0RHJhY29Mb2FkZXJEYXRhIiwiZ2VvbWV0cnkiLCJfZ2V0TWVzaERhdGEiLCJib3VuZGluZ0JveCIsIm1pblgiLCJtaW5ZIiwibWluWiIsIm1heFgiLCJtYXhZIiwibWF4WiIsInBvc2l0aW9ucyIsImdldE1lc2hCb3VuZGluZ0JveCIsImZpZWxkcyIsIm5hbWVkTG9hZGVyRGF0YUF0dHJpYnV0ZXMiLCJkcmFjb0F0dHJpYnV0ZSIsInRyYW5zZm9ybUF0dHJpYnV0ZXNMb2FkZXJEYXRhIiwiZmllbGQiLCJpbmRpY2VzRmllbGQiLCJnZXREcmFjb1NjaGVtYSIsInZlcnRleENvdW50IiwibnVtX3BvaW50cyIsIl9nZXRUb3BMZXZlbE1ldGFkYXRhIiwiX2dldERyYWNvQXR0cmlidXRlcyIsIm51bV9hdHRyaWJ1dGVzIiwibnVtX2ZhY2VzIiwiZHJhY29BdHRyaWJ1dGVzIiwiYXR0cmlidXRlSWQiLCJHZXRBdHRyaWJ1dGUiLCJfZ2V0QXR0cmlidXRlTWV0YWRhdGEiLCJ1bmlxdWVfaWQiLCJhdHRyaWJ1dGVfdHlwZSIsImRhdGFfdHlwZSIsIm51bV9jb21wb25lbnRzIiwiYnl0ZV9vZmZzZXQiLCJieXRlX3N0cmlkZSIsImF0dHJpYnV0ZV9pbmRleCIsInF1YW50aXphdGlvbiIsIl9nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0iLCJxdWFudGl6YXRpb25fdHJhbnNmb3JtIiwib2N0YWhlZHJvbiIsIl9nZXRPY3RhaGVkcm9uVHJhbnNmb3JtIiwib2N0YWhlZHJvbl90cmFuc2Zvcm0iLCJfZ2V0TWVzaEF0dHJpYnV0ZXMiLCJ0b3BvbG9neSIsIl9nZXRUcmlhbmdsZVN0cmlwSW5kaWNlcyIsIl9nZXRUcmlhbmdsZUxpc3RJbmRpY2VzIiwibG9hZGVyQXR0cmlidXRlIiwiX2RlZHVjZUF0dHJpYnV0ZU5hbWUiLCJfZ2V0QXR0cmlidXRlVmFsdWVzIiwibnVtSW5kaWNlcyIsIl9tYWxsb2MiLCJHZXRUcmlhbmdsZXNVSW50MzJBcnJheSIsIkhFQVBGMzIiLCJfZnJlZSIsImRyYWNvQXJyYXkiLCJEcmFjb0ludDMyQXJyYXkiLCJHZXRUcmlhbmdsZVN0cmlwc0Zyb21NZXNoIiwibnVtVmFsdWVzIiwiaW50QXJyYXkiLCJHZXRWYWx1ZSIsImdldFVpbnQzMkFycmF5IiwiVHlwZWRBcnJheUN0b3IiLCJudW1Db21wb25lbnRzIiwiQllURVNfUEVSX0VMRU1FTlQiLCJEVF9GTE9BVDMyIiwiRFRfSU5UOCIsIkRUX0lOVDE2IiwiRFRfSU5UMzIiLCJEVF9VSU5UOCIsIkRUX1VJTlQxNiIsIkRUX1VJTlQzMiIsIkRUX0lOVkFMSUQiLCJnZXREcmFjb0RhdGFUeXBlIiwiR2V0QXR0cmlidXRlRGF0YUFycmF5Rm9yQWxsUG9pbnRzIiwidW5pcXVlSWQiLCJhdHRyaWJ1dGVVbmlxdWVJZCIsInRoaXNBdHRyaWJ1dGVUeXBlIiwiZHJhY29BdHRyaWJ1dGVDb25zdGFudCIsImVudHJ5TmFtZSIsImRyYWNvTWV0YWRhdGEiLCJHZXRNZXRhZGF0YSIsIl9nZXREcmFjb01ldGFkYXRhIiwiR2V0QXR0cmlidXRlTWV0YWRhdGEiLCJudW1FbnRyaWVzIiwiTnVtRW50cmllcyIsImVudHJ5SW5kZXgiLCJHZXRFbnRyeU5hbWUiLCJfZ2V0RHJhY29NZXRhZGF0YUZpZWxkIiwiR2V0SW50RW50cnlBcnJheSIsImdldEludDMyQXJyYXkiLCJpbnQiLCJHZXRJbnRFbnRyeSIsIkdldFN0cmluZ0VudHJ5IiwiZG91YmxlIiwiR2V0RG91YmxlRW50cnkiLCJxdWFudGl6ZWRBdHRyaWJ1dGVzIiwib2N0YWhlZHJvbkF0dHJpYnV0ZXMiLCJza2lwQXR0cmlidXRlcyIsImRyYWNvQXR0cmlidXRlTmFtZSIsIlNraXBBdHRyaWJ1dGVUcmFuc2Zvcm0iLCJBdHRyaWJ1dGVRdWFudGl6YXRpb25UcmFuc2Zvcm0iLCJJbml0RnJvbUF0dHJpYnV0ZSIsInF1YW50aXphdGlvbl9iaXRzIiwicmFuZ2UiLCJtaW5fdmFsdWVzIiwibWluX3ZhbHVlIiwiU1RBVElDX0RFQ09ERVJfVVJMIiwiRFJBQ09fRVhURVJOQUxfTElCUkFSSUVTIiwiRFJBQ09fRVhURVJOQUxfTElCUkFSWV9VUkxTIiwibG9hZERlY29kZXJQcm9taXNlIiwiZHJhY28zZCIsImNyZWF0ZURlY29kZXJNb2R1bGUiLCJEcmFjb0RlY29kZXJNb2R1bGUiLCJvbk1vZHVsZUxvYWRlZCIsImluaXRpYWxpemVEcmFjb0RlY29kZXIiLCJsb2FkRHJhY29EZWNvZGVyIiwibG9hZERyYWNvRGVjb2Rlck1vZHVsZSIsImRyYWNvUGFyc2VyIl0sInNvdXJjZVJvb3QiOiIifQ==